const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/three-globe-CMlIz74R.js","assets/three.module-CoRxeNK3.js","assets/TrackballControls-DDCcbc-h.js","assets/index-D25j6Rf9.js","assets/defineChain-B0Tnjtyc.js","assets/index-BXoX4cjz.js"])))=>i.map(i=>d[i]);
var eR=Object.defineProperty;var tR=(e,t,n)=>t in e?eR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var re=(e,t,n)=>tR(e,typeof t!="symbol"?t+"":t,n);function nR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function ym(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var v3={exports:{}},bm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR=Symbol.for("react.transitional.element"),sR=Symbol.for("react.fragment");function x3(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:iR,type:e,key:r,ref:t!==void 0?t:null,props:n}}bm.Fragment=sR;bm.jsx=x3;bm.jsxs=x3;v3.exports=bm;var f=v3.exports,w3={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=Symbol.for("react.transitional.element"),oR=Symbol.for("react.portal"),aR=Symbol.for("react.fragment"),lR=Symbol.for("react.strict_mode"),cR=Symbol.for("react.profiler"),uR=Symbol.for("react.consumer"),dR=Symbol.for("react.context"),fR=Symbol.for("react.forward_ref"),hR=Symbol.for("react.suspense"),mR=Symbol.for("react.memo"),S3=Symbol.for("react.lazy"),T_=Symbol.iterator;function pR(e){return e===null||typeof e!="object"?null:(e=T_&&e[T_]||e["@@iterator"],typeof e=="function"?e:null)}var _3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C3=Object.assign,E3={};function Xl(e,t,n){this.props=e,this.context=t,this.refs=E3,this.updater=n||_3}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A3(){}A3.prototype=Xl.prototype;function bx(e,t,n){this.props=e,this.context=t,this.refs=E3,this.updater=n||_3}var vx=bx.prototype=new A3;vx.constructor=bx;C3(vx,Xl.prototype);vx.isPureReactComponent=!0;var k_=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},T3=Object.prototype.hasOwnProperty;function xx(e,t,n,r,i,s){return n=s.ref,{$$typeof:yx,type:e,key:t,ref:n!==void 0?n:null,props:s}}function gR(e,t){return xx(e.type,t,void 0,void 0,void 0,e.props)}function wx(e){return typeof e=="object"&&e!==null&&e.$$typeof===yx}function yR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var I_=/\/+/g;function tg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yR(""+e.key):t.toString(36)}function B_(){}function bR(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(B_,B_):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ma(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yx:case oR:o=!0;break;case S3:return o=e._init,Ma(o(e._payload),t,n,r,i)}}if(o)return i=i(e),o=r===""?"."+tg(e,0):r,k_(i)?(n="",o!=null&&(n=o.replace(I_,"$&/")+"/"),Ma(i,t,n,"",function(c){return c})):i!=null&&(wx(i)&&(i=gR(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(I_,"$&/")+"/")+o)),t.push(i)),1;o=0;var a=r===""?".":r+":";if(k_(e))for(var l=0;l<e.length;l++)r=e[l],s=a+tg(r,l),o+=Ma(r,t,n,s,i);else if(l=pR(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,s=a+tg(r,l++),o+=Ma(r,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return Ma(bR(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Ed(e,t,n){if(e==null)return e;var r=[],i=0;return Ma(e,r,"","",function(s){return t.call(n,s,i++)}),r}function vR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var N_=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xR(){}be.Children={map:Ed,forEach:function(e,t,n){Ed(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ed(e,function(){t++}),t},toArray:function(e){return Ed(e,function(t){return t})||[]},only:function(e){if(!wx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Xl;be.Fragment=aR;be.Profiler=cR;be.PureComponent=bx;be.StrictMode=lR;be.Suspense=hR;be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it;be.__COMPILER_RUNTIME={__proto__:null,c:function(e){return it.H.useMemoCache(e)}};be.cache=function(e){return function(){return e.apply(null,arguments)}};be.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=C3({},e.props),i=e.key,s=void 0;if(t!=null)for(o in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(i=""+t.key),t)!T3.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(r[o]=t[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}return xx(e.type,i,void 0,void 0,s,r)};be.createContext=function(e){return e={$$typeof:dR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:uR,_context:e},e};be.createElement=function(e,t,n){var r,i={},s=null;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)T3.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return xx(e,s,void 0,void 0,null,i)};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:fR,render:e}};be.isValidElement=wx;be.lazy=function(e){return{$$typeof:S3,_payload:{_status:-1,_result:e},_init:vR}};be.memo=function(e,t){return{$$typeof:mR,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=it.T,n={};it.T=n;try{var r=e(),i=it.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(xR,N_)}catch(s){N_(s)}finally{it.T=t}};be.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()};be.use=function(e){return it.H.use(e)};be.useActionState=function(e,t,n){return it.H.useActionState(e,t,n)};be.useCallback=function(e,t){return it.H.useCallback(e,t)};be.useContext=function(e){return it.H.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e,t){return it.H.useDeferredValue(e,t)};be.useEffect=function(e,t,n){var r=it.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};be.useId=function(){return it.H.useId()};be.useImperativeHandle=function(e,t,n){return it.H.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return it.H.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return it.H.useLayoutEffect(e,t)};be.useMemo=function(e,t){return it.H.useMemo(e,t)};be.useOptimistic=function(e,t){return it.H.useOptimistic(e,t)};be.useReducer=function(e,t,n){return it.H.useReducer(e,t,n)};be.useRef=function(e){return it.H.useRef(e)};be.useState=function(e){return it.H.useState(e)};be.useSyncExternalStore=function(e,t,n){return it.H.useSyncExternalStore(e,t,n)};be.useTransition=function(){return it.H.useTransition()};be.version="19.1.0";w3.exports=be;var S=w3.exports;const mi=ym(S),Sx=nR({__proto__:null,default:mi},[S]);var k3={exports:{}},vm={},I3={exports:{}},B3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,U){var O=B.length;B.push(U);e:for(;0<O;){var V=O-1>>>1,Z=B[V];if(0<i(Z,U))B[V]=U,B[O]=Z,O=V;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var U=B[0],O=B.pop();if(O!==U){B[0]=O;e:for(var V=0,Z=B.length,ee=Z>>>1;V<ee;){var ue=2*(V+1)-1,de=B[ue],fe=ue+1,Fe=B[fe];if(0>i(de,O))fe<Z&&0>i(Fe,de)?(B[V]=Fe,B[fe]=O,V=fe):(B[V]=de,B[ue]=O,V=ue);else if(fe<Z&&0>i(Fe,O))B[V]=Fe,B[fe]=O,V=fe;else break e}}return U}function i(B,U){var O=B.sortIndex-U.sortIndex;return O!==0?O:B.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,x=!1,y=!1,_=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=B)r(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(c)}}function E(B){if(y=!1,C(B),!x)if(n(l)!==null)x=!0,N||(N=!0,Q());else{var U=n(c);U!==null&&z(E,U.startTime-B)}}var N=!1,k=-1,j=5,D=-1;function M(){return _?!0:!(e.unstable_now()-D<j)}function H(){if(_=!1,N){var B=e.unstable_now();D=B;var U=!0;try{e:{x=!1,y&&(y=!1,b(k),k=-1),m=!0;var O=h;try{t:{for(C(B),d=n(l);d!==null&&!(d.expirationTime>B&&M());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var Z=V(d.expirationTime<=B);if(B=e.unstable_now(),typeof Z=="function"){d.callback=Z,C(B),U=!0;break t}d===n(l)&&r(l),C(B)}else r(l);d=n(l)}if(d!==null)U=!0;else{var ee=n(c);ee!==null&&z(E,ee.startTime-B),U=!1}}break e}finally{d=null,h=O,m=!1}U=void 0}}finally{U?Q():N=!1}}}var Q;if(typeof p=="function")Q=function(){p(H)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,F=G.port2;G.port1.onmessage=H,Q=function(){F.postMessage(null)}}else Q=function(){g(H,0)};function z(B,U){k=g(function(){B(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var O=h;h=U;try{return B()}finally{h=O}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var O=h;h=B;try{return U()}finally{h=O}},e.unstable_scheduleCallback=function(B,U,O){var V=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?V+O:V):O=V,B){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=O+Z,B={id:u++,callback:U,priorityLevel:B,startTime:O,expirationTime:Z,sortIndex:-1},O>V?(B.sortIndex=O,t(c,B),n(l)===null&&B===n(c)&&(y?(b(k),k=-1):y=!0,z(E,O-V))):(B.sortIndex=Z,t(l,B),x||m||(x=!0,N||(N=!0,Q()))),B},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(B){var U=h;return function(){var O=h;h=U;try{return B.apply(this,arguments)}finally{h=O}}}})(B3);I3.exports=B3;var wR=I3.exports,N3={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR=S;function j3(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qi(){}var en={d:{f:Qi,r:function(){throw Error(j3(522))},D:Qi,C:Qi,L:Qi,m:Qi,X:Qi,S:Qi,M:Qi},p:0,findDOMNode:null},_R=Symbol.for("react.portal");function CR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_R,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var tu=SR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function xm(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=en;rn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(j3(299));return CR(e,t,null,n)};rn.flushSync=function(e){var t=tu.T,n=en.p;try{if(tu.T=null,en.p=2,e)return e()}finally{tu.T=t,en.p=n,en.d.f()}};rn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,en.d.C(e,t))};rn.prefetchDNS=function(e){typeof e=="string"&&en.d.D(e)};rn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=xm(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?en.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&en.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};rn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=xm(t.as,t.crossOrigin);en.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&en.d.M(e)};rn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=xm(n,t.crossOrigin);en.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};rn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=xm(t.as,t.crossOrigin);en.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else en.d.m(e)};rn.requestFormReset=function(e){en.d.r(e)};rn.unstable_batchedUpdates=function(e,t){return e(t)};rn.useFormState=function(e,t,n){return tu.H.useFormState(e,t,n)};rn.useFormStatus=function(){return tu.H.useHostTransitionStatus()};rn.version="19.1.0";function R3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R3)}catch(e){console.error(e)}}R3(),N3.exports=rn;var Jl=N3.exports;const ER=ym(Jl);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tt=wR,O3=S,AR=Jl;function Y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function D3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function A0(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function M3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j_(e){if(A0(e)!==e)throw Error(Y(188))}function TR(e){var t=e.alternate;if(!t){if(t=A0(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return j_(i),e;if(s===r)return j_(i),t;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function U3(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=U3(e),t!==null)return t;e=e.sibling}return null}var Je=Object.assign,kR=Symbol.for("react.element"),Ad=Symbol.for("react.transitional.element"),Hc=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),L3=Symbol.for("react.strict_mode"),ob=Symbol.for("react.profiler"),IR=Symbol.for("react.provider"),P3=Symbol.for("react.consumer"),xi=Symbol.for("react.context"),_x=Symbol.for("react.forward_ref"),ab=Symbol.for("react.suspense"),lb=Symbol.for("react.suspense_list"),Cx=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),cb=Symbol.for("react.activity"),BR=Symbol.for("react.memo_cache_sentinel"),R_=Symbol.iterator;function kc(e){return e===null||typeof e!="object"?null:(e=R_&&e[R_]||e["@@iterator"],typeof e=="function"?e:null)}var NR=Symbol.for("react.client.reference");function ub(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===NR?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Va:return"Fragment";case ob:return"Profiler";case L3:return"StrictMode";case ab:return"Suspense";case lb:return"SuspenseList";case cb:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Hc:return"Portal";case xi:return(e.displayName||"Context")+".Provider";case P3:return(e._context.displayName||"Context")+".Consumer";case _x:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cx:return t=e.displayName||null,t!==null?t:ub(e.type)||"Memo";case ds:t=e._payload,e=e._init;try{return ub(e(t))}catch{}}return null}var Gc=Array.isArray,me=O3.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe=AR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jo={pending:!1,data:null,method:null,action:null},db=[],za=-1;function Zr(e){return{current:e}}function Mt(e){0>za||(e.current=db[za],db[za]=null,za--)}function st(e,t){za++,db[za]=e.current,e.current=t}var Lr=Zr(null),Ou=Zr(null),Ts=Zr(null),Kf=Zr(null);function Yf(e,t){switch(st(Ts,t),st(Ou,e),st(Lr,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?LC(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=LC(t),e=n4(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Mt(Lr),st(Lr,e)}function vl(){Mt(Lr),Mt(Ou),Mt(Ts)}function fb(e){e.memoizedState!==null&&st(Kf,e);var t=Lr.current,n=n4(t,e.type);t!==n&&(st(Ou,e),st(Lr,n))}function Wf(e){Ou.current===e&&(Mt(Lr),Mt(Ou)),Kf.current===e&&(Mt(Kf),Hu._currentValue=jo)}var hb=Object.prototype.hasOwnProperty,Ex=Tt.unstable_scheduleCallback,ng=Tt.unstable_cancelCallback,jR=Tt.unstable_shouldYield,RR=Tt.unstable_requestPaint,Pr=Tt.unstable_now,OR=Tt.unstable_getCurrentPriorityLevel,F3=Tt.unstable_ImmediatePriority,V3=Tt.unstable_UserBlockingPriority,Zf=Tt.unstable_NormalPriority,DR=Tt.unstable_LowPriority,z3=Tt.unstable_IdlePriority,MR=Tt.log,UR=Tt.unstable_setDisableYieldValue,T0=null,An=null;function xs(e){if(typeof MR=="function"&&UR(e),An&&typeof An.setStrictMode=="function")try{An.setStrictMode(T0,e)}catch{}}var Tn=Math.clz32?Math.clz32:FR,LR=Math.log,PR=Math.LN2;function FR(e){return e>>>=0,e===0?32:31-(LR(e)/PR|0)|0}var Td=256,kd=4194304;function yo(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wm(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=r&134217727;return a!==0?(r=a&~s,r!==0?i=yo(r):(o&=a,o!==0?i=yo(o):n||(n=a&~e,n!==0&&(i=yo(n))))):(a=r&~s,a!==0?i=yo(a):o!==0?i=yo(o):n||(n=r&~e,n!==0&&(i=yo(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function k0(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function VR(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $3(){var e=Td;return Td<<=1,!(Td&4194048)&&(Td=256),e}function H3(){var e=kd;return kd<<=1,!(kd&62914560)&&(kd=4194304),e}function rg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function I0(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zR(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Tn(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];m!==null&&(m.lane&=-536870913)}n&=~d}r!==0&&G3(e,r,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(o&~t))}function G3(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Tn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function q3(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ax(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tx(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function K3(){var e=Oe.p;return e!==0?e:(e=window.event,e===void 0?32:f4(e.type))}function $R(e,t){var n=Oe.p;try{return Oe.p=e,t()}finally{Oe.p=n}}var Zs=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Zs,pn="__reactProps$"+Zs,Ql="__reactContainer$"+Zs,mb="__reactEvents$"+Zs,HR="__reactListeners$"+Zs,GR="__reactHandles$"+Zs,O_="__reactResources$"+Zs,B0="__reactMarker$"+Zs;function kx(e){delete e[Gt],delete e[pn],delete e[mb],delete e[HR],delete e[GR]}function $a(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ql]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=VC(e);e!==null;){if(n=e[Gt])return n;e=VC(e)}return t}e=n,n=e.parentNode}return null}function ec(e){if(e=e[Gt]||e[Ql]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function qc(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Y(33))}function sl(e){var t=e[O_];return t||(t=e[O_]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Rt(e){e[B0]=!0}var Y3=new Set,W3={};function aa(e,t){xl(e,t),xl(e+"Capture",t)}function xl(e,t){for(W3[e]=t,e=0;e<t.length;e++)Y3.add(t[e])}var qR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),D_={},M_={};function KR(e){return hb.call(M_,e)?!0:hb.call(D_,e)?!1:qR.test(e)?M_[e]=!0:(D_[e]=!0,!1)}function Cf(e,t,n){if(KR(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Id(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ri(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var ig,U_;function Ua(e){if(ig===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ig=t&&t[1]||"",U_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ig+e+U_}var sg=!1;function og(e,t){if(!e||sg)return"";sg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var h=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){h=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){h=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split(`
`),c=a.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var u=`
`+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=r&&0<=i);break}}}finally{sg=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ua(n):""}function YR(e){switch(e.tag){case 26:case 27:case 5:return Ua(e.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 15:return og(e.type,!1);case 11:return og(e.type.render,!1);case 1:return og(e.type,!0);case 31:return Ua("Activity");default:return""}}function L_(e){try{var t="";do t+=YR(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WR(e){var t=Z3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xf(e){e._valueTracker||(e._valueTracker=WR(e))}function X3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ZR=/[\n"\\]/g;function $n(e){return e.replace(ZR,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function pb(e,t,n,r,i,s,o,a){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Fn(t)):e.value!==""+Fn(t)&&(e.value=""+Fn(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?gb(e,o,Fn(t)):n!=null?gb(e,o,Fn(n)):r!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.name=""+Fn(a):e.removeAttribute("name")}function J3(e,t,n,r,i,s,o,a){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+Fn(n):"",t=t!=null?""+Fn(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function gb(e,t,n){t==="number"&&Jf(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ol(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Q3(e,t,n){if(t!=null&&(t=""+Fn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Fn(n):""}function eT(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(Y(92));if(Gc(r)){if(1<r.length)throw Error(Y(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Fn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function wl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var XR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function P_(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||XR.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function tT(e,t,n){if(t!=null&&typeof t!="object")throw Error(Y(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&P_(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&P_(e,s,t[s])}function Ix(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),QR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ef(e){return QR.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var yb=null;function Bx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ha=null,al=null;function F_(e){var t=ec(e);if(t&&(e=t.stateNode)){var n=e[pn]||null;e:switch(e=t.stateNode,t.type){case"input":if(pb(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[pn]||null;if(!i)throw Error(Y(90));pb(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&X3(r)}break e;case"textarea":Q3(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ol(e,!!n.multiple,t,!1)}}}var ag=!1;function nT(e,t,n){if(ag)return e(t,n);ag=!0;try{var r=e(t);return r}finally{if(ag=!1,(Ha!==null||al!==null)&&(Nm(),Ha&&(t=Ha,e=al,al=Ha=null,F_(t),e)))for(t=0;t<e.length;t++)F_(e[t])}}function Du(e,t){var n=e.stateNode;if(n===null)return null;var r=n[pn]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bb=!1;if(Ni)try{var Ic={};Object.defineProperty(Ic,"passive",{get:function(){bb=!0}}),window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{bb=!1}var ws=null,Nx=null,Af=null;function rT(){if(Af)return Af;var e,t=Nx,n=t.length,r,i="value"in ws?ws.value:ws.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Af=i.slice(e,1<r?1-r:void 0)}function Tf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bd(){return!0}function V_(){return!1}function gn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bd:V_,this.isPropagationStopped=V_,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bd)},persist:function(){},isPersistent:Bd}),t}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sm=gn(la),N0=Je({},la,{view:0,detail:0}),eO=gn(N0),lg,cg,Bc,_m=Je({},N0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bc&&(Bc&&e.type==="mousemove"?(lg=e.screenX-Bc.screenX,cg=e.screenY-Bc.screenY):cg=lg=0,Bc=e),lg)},movementY:function(e){return"movementY"in e?e.movementY:cg}}),z_=gn(_m),tO=Je({},_m,{dataTransfer:0}),nO=gn(tO),rO=Je({},N0,{relatedTarget:0}),ug=gn(rO),iO=Je({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),sO=gn(iO),oO=Je({},la,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aO=gn(oO),lO=Je({},la,{data:0}),$_=gn(lO),cO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dO[e])?!!t[e]:!1}function jx(){return fO}var hO=Je({},N0,{key:function(e){if(e.key){var t=cO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jx,charCode:function(e){return e.type==="keypress"?Tf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mO=gn(hO),pO=Je({},_m,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H_=gn(pO),gO=Je({},N0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jx}),yO=gn(gO),bO=Je({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),vO=gn(bO),xO=Je({},_m,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wO=gn(xO),SO=Je({},la,{newState:0,oldState:0}),_O=gn(SO),CO=[9,13,27,32],Rx=Ni&&"CompositionEvent"in window,nu=null;Ni&&"documentMode"in document&&(nu=document.documentMode);var EO=Ni&&"TextEvent"in window&&!nu,iT=Ni&&(!Rx||nu&&8<nu&&11>=nu),G_=" ",q_=!1;function sT(e,t){switch(e){case"keyup":return CO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ga=!1;function AO(e,t){switch(e){case"compositionend":return oT(t);case"keypress":return t.which!==32?null:(q_=!0,G_);case"textInput":return e=t.data,e===G_&&q_?null:e;default:return null}}function TO(e,t){if(Ga)return e==="compositionend"||!Rx&&sT(e,t)?(e=rT(),Af=Nx=ws=null,Ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iT&&t.locale!=="ko"?null:t.data;default:return null}}var kO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kO[e.type]:t==="textarea"}function aT(e,t,n,r){Ha?al?al.push(r):al=[r]:Ha=r,t=gh(t,"onChange"),0<t.length&&(n=new Sm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ru=null,Mu=null;function IO(e){Qk(e,0)}function Cm(e){var t=qc(e);if(X3(t))return e}function Y_(e,t){if(e==="change")return t}var lT=!1;if(Ni){var dg;if(Ni){var fg="oninput"in document;if(!fg){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),fg=typeof W_.oninput=="function"}dg=fg}else dg=!1;lT=dg&&(!document.documentMode||9<document.documentMode)}function Z_(){ru&&(ru.detachEvent("onpropertychange",cT),Mu=ru=null)}function cT(e){if(e.propertyName==="value"&&Cm(Mu)){var t=[];aT(t,Mu,e,Bx(e)),nT(IO,t)}}function BO(e,t,n){e==="focusin"?(Z_(),ru=t,Mu=n,ru.attachEvent("onpropertychange",cT)):e==="focusout"&&Z_()}function NO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cm(Mu)}function jO(e,t){if(e==="click")return Cm(t)}function RO(e,t){if(e==="input"||e==="change")return Cm(t)}function OO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:OO;function Uu(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hb.call(t,i)||!jn(e[i],t[i]))return!1}return!0}function X_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function J_(e,t){var n=X_(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=X_(n)}}function uT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dT(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Jf(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jf(e.document)}return t}function Ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var DO=Ni&&"documentMode"in document&&11>=document.documentMode,qa=null,vb=null,iu=null,xb=!1;function Q_(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xb||qa==null||qa!==Jf(r)||(r=qa,"selectionStart"in r&&Ox(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iu&&Uu(iu,r)||(iu=r,r=gh(vb,"onSelect"),0<r.length&&(t=new Sm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qa)))}function so(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ka={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionrun:so("Transition","TransitionRun"),transitionstart:so("Transition","TransitionStart"),transitioncancel:so("Transition","TransitionCancel"),transitionend:so("Transition","TransitionEnd")},hg={},fT={};Ni&&(fT=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function ca(e){if(hg[e])return hg[e];if(!Ka[e])return e;var t=Ka[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fT)return hg[e]=t[n];return e}var hT=ca("animationend"),mT=ca("animationiteration"),pT=ca("animationstart"),MO=ca("transitionrun"),UO=ca("transitionstart"),LO=ca("transitioncancel"),gT=ca("transitionend"),yT=new Map,wb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wb.push("scrollEnd");function wr(e,t){yT.set(e,t),aa(t,[e])}var eC=new WeakMap;function Hn(e,t){if(typeof e=="object"&&e!==null){var n=eC.get(e);return n!==void 0?n:(t={value:e,source:t,stack:L_(t)},eC.set(e,t),t)}return{value:e,source:t,stack:L_(t)}}var Ln=[],Ya=0,Dx=0;function Em(){for(var e=Ya,t=Dx=Ya=0;t<e;){var n=Ln[t];Ln[t++]=null;var r=Ln[t];Ln[t++]=null;var i=Ln[t];Ln[t++]=null;var s=Ln[t];if(Ln[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}s!==0&&bT(n,i,s)}}function Am(e,t,n,r){Ln[Ya++]=e,Ln[Ya++]=t,Ln[Ya++]=n,Ln[Ya++]=r,Dx|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Mx(e,t,n,r){return Am(e,t,n,r),Qf(e)}function tc(e,t){return Am(e,null,null,t),Qf(e)}function bT(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-Tn(n),e=s.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),s):null}function Qf(e){if(50<mu)throw mu=0,zb=null,Error(Y(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Wa={};function PO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,n,r){return new PO(e,t,n,r)}function Ux(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ai(e,t){var n=e.alternate;return n===null?(n=Cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function vT(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function kf(e,t,n,r,i,s){var o=0;if(r=e,typeof e=="function")Ux(e)&&(o=1);else if(typeof e=="string")o=VD(e,n,Lr.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case cb:return e=Cn(31,n,t,i),e.elementType=cb,e.lanes=s,e;case Va:return Ro(n.children,i,s,t);case L3:o=8,i|=24;break;case ob:return e=Cn(12,n,t,i|2),e.elementType=ob,e.lanes=s,e;case ab:return e=Cn(13,n,t,i),e.elementType=ab,e.lanes=s,e;case lb:return e=Cn(19,n,t,i),e.elementType=lb,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case IR:case xi:o=10;break e;case P3:o=9;break e;case _x:o=11;break e;case Cx:o=14;break e;case ds:o=16,r=null;break e}o=29,n=Error(Y(130,e===null?"null":typeof e,"")),r=null}return t=Cn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ro(e,t,n,r){return e=Cn(7,e,r,t),e.lanes=n,e}function mg(e,t,n){return e=Cn(6,e,null,t),e.lanes=n,e}function pg(e,t,n){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Za=[],Xa=0,eh=null,th=0,Vn=[],zn=0,Oo=null,wi=1,Si="";function bo(e,t){Za[Xa++]=th,Za[Xa++]=eh,eh=e,th=t}function xT(e,t,n){Vn[zn++]=wi,Vn[zn++]=Si,Vn[zn++]=Oo,Oo=e;var r=wi;e=Si;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var s=32-Tn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wi=1<<32-Tn(t)+i|n<<i|r,Si=s+e}else wi=1<<s|n<<i|r,Si=e}function Lx(e){e.return!==null&&(bo(e,1),xT(e,1,0))}function Px(e){for(;e===eh;)eh=Za[--Xa],Za[Xa]=null,th=Za[--Xa],Za[Xa]=null;for(;e===Oo;)Oo=Vn[--zn],Vn[zn]=null,Si=Vn[--zn],Vn[zn]=null,wi=Vn[--zn],Vn[zn]=null}var Qt=null,dt=null,Re=!1,Do=null,Nr=!1,Sb=Error(Y(519));function Go(e){var t=Error(Y(418,""));throw Lu(Hn(t,e)),Sb}function tC(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Gt]=e,t[pn]=r,n){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(n=0;n<Vu.length;n++)Ee(Vu[n],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),J3(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Xf(t);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),eT(t,r.value,r.defaultValue,r.children),Xf(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||t4(t.textContent,n)?(r.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),r.onScroll!=null&&Ee("scroll",t),r.onScrollEnd!=null&&Ee("scrollend",t),r.onClick!=null&&(t.onclick=Om),t=!0):t=!1,t||Go(e)}function nC(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:Qt=Qt.return}}function Nc(e){if(e!==Qt)return!1;if(!Re)return nC(e),Re=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Yb(e.type,e.memoizedProps)),n=!n),n&&dt&&Go(e),nC(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){dt=pr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}dt=null}}else t===27?(t=dt,Xs(e.type)?(e=Xb,Xb=null,dt=e):dt=t):dt=Qt?pr(e.stateNode.nextSibling):null;return!0}function j0(){dt=Qt=null,Re=!1}function rC(){var e=Do;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Do=null),e}function Lu(e){Do===null?Do=[e]:Do.push(e)}var _b=Zr(null),ua=null,_i=null;function ms(e,t,n){st(_b,t._currentValue),t._currentValue=n}function Ti(e){e._currentValue=_b.current,Mt(_b)}function Cb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eb(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var o=i.child;s=s.firstContext;e:for(;s!==null;){var a=s;s=i;for(var l=0;l<t.length;l++)if(a.context===t[l]){s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Cb(s.return,n,e),r||(o=null);break e}s=a.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Cb(o,n,e),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function R0(e,t,n,r){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(Y(387));if(o=o.memoizedProps,o!==null){var a=i.type;jn(i.pendingProps.value,o.value)||(e!==null?e.push(a):e=[a])}}else if(i===Kf.current){if(o=i.alternate,o===null)throw Error(Y(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Hu):e=[Hu])}i=i.return}e!==null&&Eb(t,e,n,r),t.flags|=262144}function nh(e){for(e=e.firstContext;e!==null;){if(!jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qo(e){ua=e,_i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return wT(ua,e)}function Nd(e,t){return ua===null&&qo(e),wT(e,t)}function wT(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},_i===null){if(e===null)throw Error(Y(308));_i=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _i=_i.next=t;return n}var FO=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},VO=Tt.unstable_scheduleCallback,zO=Tt.unstable_NormalPriority,Et={$$typeof:xi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fx(){return{controller:new FO,data:new Map,refCount:0}}function O0(e){e.refCount--,e.refCount===0&&VO(zO,function(){e.controller.abort()})}var su=null,Ab=0,Sl=0,ll=null;function $O(e,t){if(su===null){var n=su=[];Ab=0,Sl=cw(),ll={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Ab++,t.then(iC,iC),t}function iC(){if(--Ab===0&&su!==null){ll!==null&&(ll.status="fulfilled");var e=su;su=null,Sl=0,ll=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function HO(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var sC=me.S;me.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&$O(e,t),sC!==null&&sC(e,t)};var Mo=Zr(null);function Vx(){var e=Mo.current;return e!==null?e:Ze.pooledCache}function If(e,t){t===null?st(Mo,Mo.current):st(Mo,t.pool)}function ST(){var e=Vx();return e===null?null:{parent:Et._currentValue,pool:e}}var D0=Error(Y(460)),_T=Error(Y(474)),Tm=Error(Y(542)),Tb={then:function(){}};function oC(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jd(){}function CT(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(jd,jd),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lC(e),e;default:if(typeof t.status=="string")t.then(jd,jd);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(Y(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lC(e),e}throw ou=t,D0}}var ou=null;function aC(){if(ou===null)throw Error(Y(459));var e=ou;return ou=null,e}function lC(e){if(e===D0||e===Tm)throw Error(Y(483))}var fs=!1;function zx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Qf(e),bT(e,null,n),t}return Am(e,r,t,n),Qf(e)}function au(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,q3(e,n)}}function gg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ib=!1;function lu(){if(Ib){var e=ll;if(e!==null)throw e}}function cu(e,t,n,r){Ib=!1;var i=e.updateQueue;fs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane&-536870913,m=h!==a.lane;if(m?(Be&h)===h:(r&h)===h){h!==0&&h===Sl&&(Ib=!0),u!==null&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var x=e,y=a;h=t;var _=n;switch(y.tag){case 1:if(x=y.payload,typeof x=="function"){d=x.call(_,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,h=typeof x=="function"?x.call(_,d,h):x,h==null)break e;d=Je({},d,h);break e;case 2:fs=!0}}h=a.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,s===null&&(i.shared.lanes=0),$s|=o,e.lanes=o,e.memoizedState=d}}function ET(e,t){if(typeof e!="function")throw Error(Y(191,e));e.call(t)}function AT(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ET(n[e],t)}var _l=Zr(null),rh=Zr(0);function cC(e,t){e=Oi,st(rh,e),st(_l,t),Oi=e|t.baseLanes}function Bb(){st(rh,Oi),st(_l,_l.current)}function $x(){Oi=rh.current,Mt(_l),Mt(rh)}var Vs=0,we=null,$e=null,vt=null,ih=!1,cl=!1,Ko=!1,sh=0,Pu=0,ul=null,GO=0;function ht(){throw Error(Y(321))}function Hx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jn(e[n],t[n]))return!1;return!0}function Gx(e,t,n,r,i,s){return Vs=s,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,me.H=e===null||e.memoizedState===null?rk:ik,Ko=!1,s=n(r,i),Ko=!1,cl&&(s=kT(t,n,r,i)),TT(e),s}function TT(e){me.H=oh;var t=$e!==null&&$e.next!==null;if(Vs=0,vt=$e=we=null,ih=!1,Pu=0,ul=null,t)throw Error(Y(300));e===null||Ot||(e=e.dependencies,e!==null&&nh(e)&&(Ot=!0))}function kT(e,t,n,r){we=e;var i=0;do{if(cl&&(ul=null),Pu=0,cl=!1,25<=i)throw Error(Y(301));if(i+=1,vt=$e=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}me.H=JO,s=t(n,r)}while(cl);return s}function qO(){var e=me.H,t=e.useState()[0];return t=typeof t.then=="function"?M0(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(we.flags|=1024),t}function qx(){var e=sh!==0;return sh=0,e}function Kx(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yx(e){if(ih){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ih=!1}Vs=0,vt=$e=we=null,cl=!1,Pu=sh=0,ul=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?we.memoizedState=vt=e:vt=vt.next=e,vt}function xt(){if($e===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=vt===null?we.memoizedState:vt.next;if(t!==null)vt=t,$e=e;else{if(e===null)throw we.alternate===null?Error(Y(467)):Error(Y(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?we.memoizedState=vt=e:vt=vt.next=e}return vt}function Wx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function M0(e){var t=Pu;return Pu+=1,ul===null&&(ul=[]),e=CT(ul,e,t),t=we,(vt===null?t.memoizedState:vt.next)===null&&(t=t.alternate,me.H=t===null||t.memoizedState===null?rk:ik),e}function km(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return M0(e);if(e.$$typeof===xi)return qt(e)}throw Error(Y(438,String(e)))}function Zx(e){var t=null,n=we.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=we.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Wx(),we.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=BR;return t.index++,n}function ji(e,t){return typeof t=="function"?t(e):t}function Bf(e){var t=xt();return Xx(t,$e,e)}function Xx(e,t,n){var r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var a=o=null,l=null,c=t,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Be&d)===d:(Vs&d)===d){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Sl&&(u=!0);else if((Vs&h)===h){c=c.next,h===Sl&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=d,o=s):l=l.next=d,we.lanes|=h,$s|=h;d=c.action,Ko&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=h,o=s):l=l.next=h,we.lanes|=d,$s|=d;c=c.next}while(c!==null&&c!==t);if(l===null?o=s:l.next=a,!jn(s,e.memoizedState)&&(Ot=!0,u&&(n=ll,n!==null)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function yg(e){var t=xt(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);jn(s,t.memoizedState)||(Ot=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function IT(e,t,n){var r=we,i=xt(),s=Re;if(s){if(n===void 0)throw Error(Y(407));n=n()}else n=t();var o=!jn(($e||i).memoizedState,n);o&&(i.memoizedState=n,Ot=!0),i=i.queue;var a=jT.bind(null,r,i,e);if(U0(2048,8,a,[e]),i.getSnapshot!==t||o||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,Cl(9,Im(),NT.bind(null,r,i,n,t),null),Ze===null)throw Error(Y(349));s||Vs&124||BT(r,t,n)}return n}function BT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t=Wx(),we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function NT(e,t,n,r){t.value=n,t.getSnapshot=r,RT(t)&&OT(e)}function jT(e,t,n){return n(function(){RT(t)&&OT(e)})}function RT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jn(e,n)}catch{return!0}}function OT(e){var t=tc(e,2);t!==null&&In(t,e,2)}function Nb(e){var t=an();if(typeof e=="function"){var n=e;if(e=n(),Ko){xs(!0);try{n()}finally{xs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},t}function DT(e,t,n,r){return e.baseState=n,Xx(e,$e,typeof r=="function"?r:ji)}function KO(e,t,n,r,i){if(Bm(e))throw Error(Y(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){s.listeners.push(o)}};me.T!==null?n(!0):s.isTransition=!1,r(s),n=t.pending,n===null?(s.next=t.pending=s,MT(t,s)):(s.next=n.next,t.pending=n.next=s)}}function MT(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=me.T,o={};me.T=o;try{var a=n(i,r),l=me.S;l!==null&&l(o,a),uC(e,t,a)}catch(c){jb(e,t,c)}finally{me.T=s}}else try{s=n(i,r),uC(e,t,s)}catch(c){jb(e,t,c)}}function uC(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){dC(e,t,r)},function(r){return jb(e,t,r)}):dC(e,t,n)}function dC(e,t,n){t.status="fulfilled",t.value=n,UT(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,MT(e,n)))}function jb(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,UT(t),t=t.next;while(t!==r)}e.action=null}function UT(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function LT(e,t){return t}function fC(e,t){if(Re){var n=Ze.formState;if(n!==null){e:{var r=we;if(Re){if(dt){t:{for(var i=dt,s=Nr;i.nodeType!==8;){if(!s){i=null;break t}if(i=pr(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){dt=pr(i.nextSibling),r=i.data==="F!";break e}}Go(r)}r=!1}r&&(t=n[0])}}return n=an(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LT,lastRenderedState:t},n.queue=r,n=ek.bind(null,we,r),r.dispatch=n,r=Nb(!1),s=tw.bind(null,we,!1,r.queue),r=an(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=KO.bind(null,we,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function hC(e){var t=xt();return PT(t,$e,e)}function PT(e,t,n){if(t=Xx(e,t,LT)[0],e=Bf(ji)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=M0(t)}catch(o){throw o===D0?Tm:o}else r=t;t=xt();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(we.flags|=2048,Cl(9,Im(),YO.bind(null,i,n),null)),[r,s,e]}function YO(e,t){e.action=t}function mC(e){var t=xt(),n=$e;if(n!==null)return PT(t,n,e);xt(),t=t.memoizedState,n=xt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Cl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=we.updateQueue,t===null&&(t=Wx(),we.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Im(){return{destroy:void 0,resource:void 0}}function FT(){return xt().memoizedState}function Nf(e,t,n,r){var i=an();r=r===void 0?null:r,we.flags|=e,i.memoizedState=Cl(1|t,Im(),n,r)}function U0(e,t,n,r){var i=xt();r=r===void 0?null:r;var s=i.memoizedState.inst;$e!==null&&r!==null&&Hx(r,$e.memoizedState.deps)?i.memoizedState=Cl(t,s,n,r):(we.flags|=e,i.memoizedState=Cl(1|t,s,n,r))}function pC(e,t){Nf(8390656,8,e,t)}function VT(e,t){U0(2048,8,e,t)}function zT(e,t){return U0(4,2,e,t)}function $T(e,t){return U0(4,4,e,t)}function HT(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GT(e,t,n){n=n!=null?n.concat([e]):null,U0(4,4,HT.bind(null,t,e),n)}function Jx(){}function qT(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Hx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function KT(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Hx(t,r[1]))return r[0];if(r=e(),Ko){xs(!0);try{e()}finally{xs(!1)}}return n.memoizedState=[r,t],r}function Qx(e,t,n){return n===void 0||Vs&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Uk(),we.lanes|=e,$s|=e,n)}function YT(e,t,n,r){return jn(n,t)?n:_l.current!==null?(e=Qx(e,n,r),jn(e,t)||(Ot=!0),e):Vs&42?(e=Uk(),we.lanes|=e,$s|=e,t):(Ot=!0,e.memoizedState=n)}function WT(e,t,n,r,i){var s=Oe.p;Oe.p=s!==0&&8>s?s:8;var o=me.T,a={};me.T=a,tw(e,!1,t,n);try{var l=i(),c=me.S;if(c!==null&&c(a,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=HO(l,r);uu(e,t,u,kn(e))}else uu(e,t,r,kn(e))}catch(d){uu(e,t,{then:function(){},status:"rejected",reason:d},kn())}finally{Oe.p=s,me.T=o}}function WO(){}function Rb(e,t,n,r){if(e.tag!==5)throw Error(Y(476));var i=ZT(e).queue;WT(e,i,t,jo,n===null?WO:function(){return XT(e),n(r)})}function ZT(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:jo,baseState:jo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:jo},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function XT(e){var t=ZT(e).next.queue;uu(e,t,{},kn())}function ew(){return qt(Hu)}function JT(){return xt().memoizedState}function QT(){return xt().memoizedState}function ZO(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=kn();e=ks(n);var r=Is(t,e,n);r!==null&&(In(r,t,n),au(r,t,n)),t={cache:Fx()},e.payload=t;return}t=t.return}}function XO(e,t,n){var r=kn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bm(e)?tk(t,n):(n=Mx(e,t,n,r),n!==null&&(In(n,e,r),nk(n,t,r)))}function ek(e,t,n){var r=kn();uu(e,t,n,r)}function uu(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bm(e))tk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,jn(a,o))return Am(e,t,i,0),Ze===null&&Em(),!1}catch{}finally{}if(n=Mx(e,t,i,r),n!==null)return In(n,e,r),nk(n,t,r),!0}return!1}function tw(e,t,n,r){if(r={lane:2,revertLane:cw(),action:r,hasEagerState:!1,eagerState:null,next:null},Bm(e)){if(t)throw Error(Y(479))}else t=Mx(e,n,r,2),t!==null&&In(t,e,2)}function Bm(e){var t=e.alternate;return e===we||t!==null&&t===we}function tk(e,t){cl=ih=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nk(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,q3(e,n)}}var oh={readContext:qt,use:km,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},rk={readContext:qt,use:km,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:pC,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Nf(4194308,4,HT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nf(4194308,4,e,t)},useInsertionEffect:function(e,t){Nf(4,2,e,t)},useMemo:function(e,t){var n=an();t=t===void 0?null:t;var r=e();if(Ko){xs(!0);try{e()}finally{xs(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=an();if(n!==void 0){var i=n(t);if(Ko){xs(!0);try{n(t)}finally{xs(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=XO.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:function(e){e=Nb(e);var t=e.queue,n=ek.bind(null,we,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jx,useDeferredValue:function(e,t){var n=an();return Qx(n,e,t)},useTransition:function(){var e=Nb(!1);return e=WT.bind(null,we,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=we,i=an();if(Re){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),Ze===null)throw Error(Y(349));Be&124||BT(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,pC(jT.bind(null,r,s,e),[e]),r.flags|=2048,Cl(9,Im(),NT.bind(null,r,s,n,t),null),n},useId:function(){var e=an(),t=Ze.identifierPrefix;if(Re){var n=Si,r=wi;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,t="«"+t+"R"+n,n=sh++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=GO++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:ew,useFormState:fC,useActionState:fC,useOptimistic:function(e){var t=an();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=tw.bind(null,we,!0,n),n.dispatch=t,[e,t]},useMemoCache:Zx,useCacheRefresh:function(){return an().memoizedState=ZO.bind(null,we)}},ik={readContext:qt,use:km,useCallback:qT,useContext:qt,useEffect:VT,useImperativeHandle:GT,useInsertionEffect:zT,useLayoutEffect:$T,useMemo:KT,useReducer:Bf,useRef:FT,useState:function(){return Bf(ji)},useDebugValue:Jx,useDeferredValue:function(e,t){var n=xt();return YT(n,$e.memoizedState,e,t)},useTransition:function(){var e=Bf(ji)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:M0(e),t]},useSyncExternalStore:IT,useId:JT,useHostTransitionStatus:ew,useFormState:hC,useActionState:hC,useOptimistic:function(e,t){var n=xt();return DT(n,$e,e,t)},useMemoCache:Zx,useCacheRefresh:QT},JO={readContext:qt,use:km,useCallback:qT,useContext:qt,useEffect:VT,useImperativeHandle:GT,useInsertionEffect:zT,useLayoutEffect:$T,useMemo:KT,useReducer:yg,useRef:FT,useState:function(){return yg(ji)},useDebugValue:Jx,useDeferredValue:function(e,t){var n=xt();return $e===null?Qx(n,e,t):YT(n,$e.memoizedState,e,t)},useTransition:function(){var e=yg(ji)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:M0(e),t]},useSyncExternalStore:IT,useId:JT,useHostTransitionStatus:ew,useFormState:mC,useActionState:mC,useOptimistic:function(e,t){var n=xt();return $e!==null?DT(n,$e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Zx,useCacheRefresh:QT},dl=null,Fu=0;function Rd(e){var t=Fu;return Fu+=1,dl===null&&(dl=[]),CT(dl,e,t)}function jc(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Od(e,t){throw t.$$typeof===kR?Error(Y(525)):(e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gC(e){var t=e._init;return t(e._payload)}function sk(e){function t(g,b){if(e){var p=g.deletions;p===null?(g.deletions=[b],g.flags|=16):p.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g){for(var b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function i(g,b){return g=Ai(g,b),g.index=0,g.sibling=null,g}function s(g,b,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<b?(g.flags|=67108866,b):p):(g.flags|=67108866,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function a(g,b,p,C){return b===null||b.tag!==6?(b=mg(p,g.mode,C),b.return=g,b):(b=i(b,p),b.return=g,b)}function l(g,b,p,C){var E=p.type;return E===Va?u(g,b,p.props.children,C,p.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ds&&gC(E)===b.type)?(b=i(b,p.props),jc(b,p),b.return=g,b):(b=kf(p.type,p.key,p.props,null,g.mode,C),jc(b,p),b.return=g,b)}function c(g,b,p,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==p.containerInfo||b.stateNode.implementation!==p.implementation?(b=pg(p,g.mode,C),b.return=g,b):(b=i(b,p.children||[]),b.return=g,b)}function u(g,b,p,C,E){return b===null||b.tag!==7?(b=Ro(p,g.mode,C,E),b.return=g,b):(b=i(b,p),b.return=g,b)}function d(g,b,p){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=mg(""+b,g.mode,p),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ad:return p=kf(b.type,b.key,b.props,null,g.mode,p),jc(p,b),p.return=g,p;case Hc:return b=pg(b,g.mode,p),b.return=g,b;case ds:var C=b._init;return b=C(b._payload),d(g,b,p)}if(Gc(b)||kc(b))return b=Ro(b,g.mode,p,null),b.return=g,b;if(typeof b.then=="function")return d(g,Rd(b),p);if(b.$$typeof===xi)return d(g,Nd(g,b),p);Od(g,b)}return null}function h(g,b,p,C){var E=b!==null?b.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return E!==null?null:a(g,b,""+p,C);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ad:return p.key===E?l(g,b,p,C):null;case Hc:return p.key===E?c(g,b,p,C):null;case ds:return E=p._init,p=E(p._payload),h(g,b,p,C)}if(Gc(p)||kc(p))return E!==null?null:u(g,b,p,C,null);if(typeof p.then=="function")return h(g,b,Rd(p),C);if(p.$$typeof===xi)return h(g,b,Nd(g,p),C);Od(g,p)}return null}function m(g,b,p,C,E){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return g=g.get(p)||null,a(b,g,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ad:return g=g.get(C.key===null?p:C.key)||null,l(b,g,C,E);case Hc:return g=g.get(C.key===null?p:C.key)||null,c(b,g,C,E);case ds:var N=C._init;return C=N(C._payload),m(g,b,p,C,E)}if(Gc(C)||kc(C))return g=g.get(p)||null,u(b,g,C,E,null);if(typeof C.then=="function")return m(g,b,p,Rd(C),E);if(C.$$typeof===xi)return m(g,b,p,Nd(b,C),E);Od(b,C)}return null}function x(g,b,p,C){for(var E=null,N=null,k=b,j=b=0,D=null;k!==null&&j<p.length;j++){k.index>j?(D=k,k=null):D=k.sibling;var M=h(g,k,p[j],C);if(M===null){k===null&&(k=D);break}e&&k&&M.alternate===null&&t(g,k),b=s(M,b,j),N===null?E=M:N.sibling=M,N=M,k=D}if(j===p.length)return n(g,k),Re&&bo(g,j),E;if(k===null){for(;j<p.length;j++)k=d(g,p[j],C),k!==null&&(b=s(k,b,j),N===null?E=k:N.sibling=k,N=k);return Re&&bo(g,j),E}for(k=r(k);j<p.length;j++)D=m(k,g,j,p[j],C),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?j:D.key),b=s(D,b,j),N===null?E=D:N.sibling=D,N=D);return e&&k.forEach(function(H){return t(g,H)}),Re&&bo(g,j),E}function y(g,b,p,C){if(p==null)throw Error(Y(151));for(var E=null,N=null,k=b,j=b=0,D=null,M=p.next();k!==null&&!M.done;j++,M=p.next()){k.index>j?(D=k,k=null):D=k.sibling;var H=h(g,k,M.value,C);if(H===null){k===null&&(k=D);break}e&&k&&H.alternate===null&&t(g,k),b=s(H,b,j),N===null?E=H:N.sibling=H,N=H,k=D}if(M.done)return n(g,k),Re&&bo(g,j),E;if(k===null){for(;!M.done;j++,M=p.next())M=d(g,M.value,C),M!==null&&(b=s(M,b,j),N===null?E=M:N.sibling=M,N=M);return Re&&bo(g,j),E}for(k=r(k);!M.done;j++,M=p.next())M=m(k,g,j,M.value,C),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?j:M.key),b=s(M,b,j),N===null?E=M:N.sibling=M,N=M);return e&&k.forEach(function(Q){return t(g,Q)}),Re&&bo(g,j),E}function _(g,b,p,C){if(typeof p=="object"&&p!==null&&p.type===Va&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ad:e:{for(var E=p.key;b!==null;){if(b.key===E){if(E=p.type,E===Va){if(b.tag===7){n(g,b.sibling),C=i(b,p.props.children),C.return=g,g=C;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ds&&gC(E)===b.type){n(g,b.sibling),C=i(b,p.props),jc(C,p),C.return=g,g=C;break e}n(g,b);break}else t(g,b);b=b.sibling}p.type===Va?(C=Ro(p.props.children,g.mode,C,p.key),C.return=g,g=C):(C=kf(p.type,p.key,p.props,null,g.mode,C),jc(C,p),C.return=g,g=C)}return o(g);case Hc:e:{for(E=p.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===p.containerInfo&&b.stateNode.implementation===p.implementation){n(g,b.sibling),C=i(b,p.children||[]),C.return=g,g=C;break e}else{n(g,b);break}else t(g,b);b=b.sibling}C=pg(p,g.mode,C),C.return=g,g=C}return o(g);case ds:return E=p._init,p=E(p._payload),_(g,b,p,C)}if(Gc(p))return x(g,b,p,C);if(kc(p)){if(E=kc(p),typeof E!="function")throw Error(Y(150));return p=E.call(p),y(g,b,p,C)}if(typeof p.then=="function")return _(g,b,Rd(p),C);if(p.$$typeof===xi)return _(g,b,Nd(g,p),C);Od(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,b!==null&&b.tag===6?(n(g,b.sibling),C=i(b,p),C.return=g,g=C):(n(g,b),C=mg(p,g.mode,C),C.return=g,g=C),o(g)):n(g,b)}return function(g,b,p,C){try{Fu=0;var E=_(g,b,p,C);return dl=null,E}catch(k){if(k===D0||k===Tm)throw k;var N=Cn(29,k,null,g.mode);return N.lanes=C,N.return=g,N}finally{}}}var El=sk(!0),ok=sk(!1),Xn=Zr(null),Fr=null;function ps(e){var t=e.alternate;st(At,At.current&1),st(Xn,e),Fr===null&&(t===null||_l.current!==null||t.memoizedState!==null)&&(Fr=e)}function ak(e){if(e.tag===22){if(st(At,At.current),st(Xn,e),Fr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Fr=e)}}else gs()}function gs(){st(At,At.current),st(Xn,Xn.current)}function Ci(e){Mt(Xn),Fr===e&&(Fr=null),Mt(At)}var At=Zr(0);function ah(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Zb(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function bg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ob={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kn(),i=ks(r);i.payload=t,n!=null&&(i.callback=n),t=Is(e,i,r),t!==null&&(In(t,e,r),au(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kn(),i=ks(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Is(e,i,r),t!==null&&(In(t,e,r),au(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kn(),r=ks(n);r.tag=2,t!=null&&(r.callback=t),t=Is(e,r,n),t!==null&&(In(t,e,n),au(t,e,n))}};function yC(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Uu(n,r)||!Uu(i,s):!0}function bC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ob.enqueueReplaceState(t,t.state,null)}function Yo(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Je({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var lh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function lk(e){lh(e)}function ck(e){console.error(e)}function uk(e){lh(e)}function ch(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function vC(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Db(e,t,n){return n=ks(n),n.tag=3,n.payload={element:null},n.callback=function(){ch(e,t)},n}function dk(e){return e=ks(e),e.tag=3,e}function fk(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){vC(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){vC(t,n,r),typeof i!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})})}function QO(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&R0(t,n,i,!0),n=Xn.current,n!==null){switch(n.tag){case 13:return Fr===null?$b():n.alternate===null&&ft===0&&(ft=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Tb?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Ig(e,r,i)),!1;case 22:return n.flags|=65536,r===Tb?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Ig(e,r,i)),!1}throw Error(Y(435,n.tag))}return Ig(e,r,i),$b(),!1}if(Re)return t=Xn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Sb&&(e=Error(Y(422),{cause:r}),Lu(Hn(e,n)))):(r!==Sb&&(t=Error(Y(423),{cause:r}),Lu(Hn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=Hn(r,n),i=Db(e.stateNode,r,i),gg(e,i),ft!==4&&(ft=2)),!1;var s=Error(Y(520),{cause:r});if(s=Hn(s,n),hu===null?hu=[s]:hu.push(s),ft!==4&&(ft=2),t===null)return!0;r=Hn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Db(n.stateNode,r,e),gg(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Bs===null||!Bs.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=dk(i),fk(i,e,n,r),gg(n,i),!1}n=n.return}while(n!==null);return!1}var hk=Error(Y(461)),Ot=!1;function Pt(e,t,n,r){t.child=e===null?ok(t,null,n,r):El(t,e.child,n,r)}function xC(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)a!=="ref"&&(o[a]=r[a])}else o=r;return qo(t),r=Gx(e,t,n,o,s,i),a=qx(),e!==null&&!Ot?(Kx(e,t,i),Ri(e,t,i)):(Re&&a&&Lx(t),t.flags|=1,Pt(e,t,r,i),t.child)}function wC(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ux(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,mk(e,t,s,r,i)):(e=kf(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!nw(e,i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Uu,n(o,r)&&e.ref===t.ref)return Ri(e,t,i)}return t.flags|=1,e=Ai(s,r),e.ref=t.ref,e.return=t,t.child=e}function mk(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Uu(s,r)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=r=s,nw(e,i))e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,Ri(e,t,i)}return Mb(e,t,n,r,i)}function pk(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return SC(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&If(t,s!==null?s.cachePool:null),s!==null?cC(t,s):Bb(),ak(t);else return t.lanes=t.childLanes=536870912,SC(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(If(t,s.cachePool),cC(t,s),gs(),t.memoizedState=null):(e!==null&&If(t,null),Bb(),gs());return Pt(e,t,i,n),t.child}function SC(e,t,n,r){var i=Vx();return i=i===null?null:{parent:Et._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&If(t,null),Bb(),ak(t),e!==null&&R0(e,t,r,!0),null}function jf(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Y(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Mb(e,t,n,r,i){return qo(t),n=Gx(e,t,n,r,void 0,i),r=qx(),e!==null&&!Ot?(Kx(e,t,i),Ri(e,t,i)):(Re&&r&&Lx(t),t.flags|=1,Pt(e,t,n,i),t.child)}function _C(e,t,n,r,i,s){return qo(t),t.updateQueue=null,n=kT(t,r,n,i),TT(e),r=qx(),e!==null&&!Ot?(Kx(e,t,s),Ri(e,t,s)):(Re&&r&&Lx(t),t.flags|=1,Pt(e,t,n,s),t.child)}function CC(e,t,n,r,i){if(qo(t),t.stateNode===null){var s=Wa,o=n.contextType;typeof o=="object"&&o!==null&&(s=qt(o)),s=new n(r,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ob,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=r,s.state=t.memoizedState,s.refs={},zx(t),o=n.contextType,s.context=typeof o=="object"&&o!==null?qt(o):Wa,s.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(bg(t,n,o,r),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(o=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),o!==s.state&&Ob.enqueueReplaceState(s,s.state,null),cu(t,r,s,i),lu(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){s=t.stateNode;var a=t.memoizedProps,l=Yo(n,a);s.props=l;var c=s.context,u=n.contextType;o=Wa,typeof u=="object"&&u!==null&&(o=qt(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",a=t.pendingProps!==a,u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a||c!==o)&&bC(t,s,r,o),fs=!1;var h=t.memoizedState;s.state=h,cu(t,r,s,i),lu(),c=t.memoizedState,a||h!==c||fs?(typeof d=="function"&&(bg(t,n,d,r),c=t.memoizedState),(l=fs||yC(t,n,l,r,h,c,o))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=o,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,kb(e,t),o=t.memoizedProps,u=Yo(n,o),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Wa,typeof c=="object"&&c!==null&&(l=qt(c)),a=n.getDerivedStateFromProps,(c=typeof a=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&bC(t,s,r,l),fs=!1,h=t.memoizedState,s.state=h,cu(t,r,s,i),lu();var m=t.memoizedState;o!==d||h!==m||fs||e!==null&&e.dependencies!==null&&nh(e.dependencies)?(typeof a=="function"&&(bg(t,n,a,r),m=t.memoizedState),(u=fs||yC(t,n,u,r,h,m,l)||e!==null&&e.dependencies!==null&&nh(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,jf(e,t),r=(t.flags&128)!==0,s||r?(s=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&r?(t.child=El(t,e.child,null,i),t.child=El(t,null,n,i)):Pt(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Ri(e,t,i),e}function EC(e,t,n,r){return j0(),t.flags|=256,Pt(e,t,n,r),t.child}var vg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xg(e){return{baseLanes:e,cachePool:ST()}}function wg(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=qn),e}function gk(e,t,n){var r=t.pendingProps,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(At.current&2)!==0),o&&(i=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(i?ps(t):gs(),Re){var a=dt,l;if(l=a){e:{for(l=a,a=Nr;l.nodeType!==8;){if(!a){a=null;break e}if(l=pr(l.nextSibling),l===null){a=null;break e}}a=l}a!==null?(t.memoizedState={dehydrated:a,treeContext:Oo!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},l=Cn(18,null,null,0),l.stateNode=a,l.return=t,t.child=l,Qt=t,dt=null,l=!0):l=!1}l||Go(t)}if(a=t.memoizedState,a!==null&&(a=a.dehydrated,a!==null))return Zb(a)?t.lanes=32:t.lanes=536870912,null;Ci(t)}return a=r.children,r=r.fallback,i?(gs(),i=t.mode,a=uh({mode:"hidden",children:a},i),r=Ro(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,i=t.child,i.memoizedState=xg(n),i.childLanes=wg(e,o,n),t.memoizedState=vg,r):(ps(t),Ub(t,a))}if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null)){if(s)t.flags&256?(ps(t),t.flags&=-257,t=Sg(e,t,n)):t.memoizedState!==null?(gs(),t.child=e.child,t.flags|=128,t=null):(gs(),i=r.fallback,a=t.mode,r=uh({mode:"visible",children:r.children},a),i=Ro(i,a,n,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,El(t,e.child,null,n),r=t.child,r.memoizedState=xg(n),r.childLanes=wg(e,o,n),t.memoizedState=vg,t=i);else if(ps(t),Zb(a)){if(o=a.nextSibling&&a.nextSibling.dataset,o)var c=o.dgst;o=c,r=Error(Y(419)),r.stack="",r.digest=o,Lu({value:r,source:null,stack:null}),t=Sg(e,t,n)}else if(Ot||R0(e,t,n,!1),o=(n&e.childLanes)!==0,Ot||o){if(o=Ze,o!==null&&(r=n&-n,r=r&42?1:Ax(r),r=r&(o.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,tc(e,r),In(o,e,r),hk;a.data==="$?"||$b(),t=Sg(e,t,n)}else a.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,dt=pr(a.nextSibling),Qt=t,Re=!0,Do=null,Nr=!1,e!==null&&(Vn[zn++]=wi,Vn[zn++]=Si,Vn[zn++]=Oo,wi=e.id,Si=e.overflow,Oo=t),t=Ub(t,r.children),t.flags|=4096);return t}return i?(gs(),i=r.fallback,a=t.mode,l=e.child,c=l.sibling,r=Ai(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?i=Ai(c,i):(i=Ro(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a===null?a=xg(n):(l=a.cachePool,l!==null?(c=Et._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=ST(),a={baseLanes:a.baseLanes|n,cachePool:l}),i.memoizedState=a,i.childLanes=wg(e,o,n),t.memoizedState=vg,r):(ps(t),n=e.child,e=n.sibling,n=Ai(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Ub(e,t){return t=uh({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function uh(e,t){return e=Cn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Sg(e,t,n){return El(t,e.child,null,n),e=Ub(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cb(e.return,t,n)}function _g(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yk(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Pt(e,t,r.children,n),r=At.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AC(e,n,t);else if(e.tag===19)AC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(st(At,r),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ah(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_g(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ah(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_g(t,!0,n,null,s);break;case"together":_g(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$s|=t.lanes,!(n&t.childLanes))if(e!==null){if(R0(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Ai(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ai(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nw(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&nh(e)))}function eD(e,t,n){switch(t.tag){case 3:Yf(t,t.stateNode.containerInfo),ms(t,Et,e.memoizedState.cache),j0();break;case 27:case 5:fb(t);break;case 4:Yf(t,t.stateNode.containerInfo);break;case 10:ms(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(ps(t),t.flags|=128,null):n&t.child.childLanes?gk(e,t,n):(ps(t),e=Ri(e,t,n),e!==null?e.sibling:null);ps(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(R0(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return yk(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(At,At.current),r)break;return null;case 22:case 23:return t.lanes=0,pk(e,t,n);case 24:ms(t,Et,e.memoizedState.cache)}return Ri(e,t,n)}function bk(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ot=!0;else{if(!nw(e,n)&&!(t.flags&128))return Ot=!1,eD(e,t,n);Ot=!!(e.flags&131072)}else Ot=!1,Re&&t.flags&1048576&&xT(t,th,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,typeof r=="function")Ux(r)?(e=Yo(r,e),t.tag=1,t=CC(null,t,r,e,n)):(t.tag=0,t=Mb(null,t,r,e,n));else{if(r!=null){if(i=r.$$typeof,i===_x){t.tag=11,t=xC(null,t,r,e,n);break e}else if(i===Cx){t.tag=14,t=wC(null,t,r,e,n);break e}}throw t=ub(r)||r,Error(Y(306,t,""))}}return t;case 0:return Mb(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=Yo(r,t.pendingProps),CC(e,t,r,i,n);case 3:e:{if(Yf(t,t.stateNode.containerInfo),e===null)throw Error(Y(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,kb(e,t),cu(t,r,null,n);var o=t.memoizedState;if(r=o.cache,ms(t,Et,r),r!==s.cache&&Eb(t,[Et],n,!0),lu(),r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=EC(e,t,r,n);break e}else if(r!==i){i=Hn(Error(Y(424)),t),Lu(i),t=EC(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(dt=pr(e.firstChild),Qt=t,Re=!0,Do=null,Nr=!0,n=ok(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(j0(),r===i){t=Ri(e,t,n);break e}Pt(e,t,r,n)}t=t.child}return t;case 26:return jf(e,t),e===null?(n=$C(t.type,null,t.pendingProps,null))?t.memoizedState=n:Re||(n=t.type,e=t.pendingProps,r=yh(Ts.current).createElement(n),r[Gt]=t,r[pn]=e,Vt(r,n,e),Rt(r),t.stateNode=r):t.memoizedState=$C(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return fb(t),e===null&&Re&&(r=t.stateNode=i4(t.type,t.pendingProps,Ts.current),Qt=t,Nr=!0,i=dt,Xs(t.type)?(Xb=i,dt=pr(r.firstChild)):dt=i),Pt(e,t,t.pendingProps.children,n),jf(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((i=r=dt)&&(r=kD(r,t.type,t.pendingProps,Nr),r!==null?(t.stateNode=r,Qt=t,dt=pr(r.firstChild),Nr=!1,i=!0):i=!1),i||Go(t)),fb(t),i=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,r=s.children,Yb(i,s)?r=null:o!==null&&Yb(i,o)&&(t.flags|=32),t.memoizedState!==null&&(i=Gx(e,t,qO,null,null,n),Hu._currentValue=i),jf(e,t),Pt(e,t,r,n),t.child;case 6:return e===null&&Re&&((e=n=dt)&&(n=ID(n,t.pendingProps,Nr),n!==null?(t.stateNode=n,Qt=t,dt=null,e=!0):e=!1),e||Go(t)),null;case 13:return gk(e,t,n);case 4:return Yf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=El(t,null,r,n):Pt(e,t,r,n),t.child;case 11:return xC(e,t,t.type,t.pendingProps,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ms(t,t.type,r.value),Pt(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,qo(t),i=qt(i),r=r(i),t.flags|=1,Pt(e,t,r,n),t.child;case 14:return wC(e,t,t.type,t.pendingProps,n);case 15:return mk(e,t,t.type,t.pendingProps,n);case 19:return yk(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=uh(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Ai(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return pk(e,t,n);case 24:return qo(t),r=qt(Et),e===null?(i=Vx(),i===null&&(i=Ze,s=Fx(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},zx(t),ms(t,Et,i)):(e.lanes&n&&(kb(e,t),cu(t,null,null,n),lu()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),ms(t,Et,r)):(r=s.cache,ms(t,Et,r),r!==i.cache&&Eb(t,[Et],n,!0))),Pt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(Y(156,t.tag))}function ii(e){e.flags|=4}function TC(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!a4(t)){if(t=Xn.current,t!==null&&((Be&4194048)===Be?Fr!==null:(Be&62914560)!==Be&&!(Be&536870912)||t!==Fr))throw ou=Tb,_T;e.flags|=8192}}function Dd(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?H3():536870912,e.lanes|=t,Al|=t)}function Rc(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tD(e,t,n){var r=t.pendingProps;switch(Px(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return ot(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ti(Et),vl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Nc(t)?ii(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rC())),ot(t),null;case 26:return n=t.memoizedState,e===null?(ii(t),n!==null?(ot(t),TC(t,n)):(ot(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ii(t),ot(t),TC(t,n)):(ot(t),t.flags&=-16777217):(e.memoizedProps!==r&&ii(t),ot(t),t.flags&=-16777217),null;case 27:Wf(t),n=Ts.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ii(t);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return ot(t),null}e=Lr.current,Nc(t)?tC(t):(e=i4(i,r,n),t.stateNode=e,ii(t))}return ot(t),null;case 5:if(Wf(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ii(t);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return ot(t),null}if(e=Lr.current,Nc(t))tC(t);else{switch(i=yh(Ts.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Gt]=t,e[pn]=r;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Vt(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ii(t)}}return ot(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ii(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(e=Ts.current,Nc(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=Qt,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Gt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||t4(e.nodeValue,n)),e||Go(t)}else e=yh(e).createTextNode(r),e[Gt]=t,t.stateNode=e}return ot(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Nc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Gt]=t}else j0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),i=!1}else i=rC(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Ci(t),t):(Ci(t),null)}if(Ci(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Dd(t,t.updateQueue),ot(t),null;case 4:return vl(),e===null&&uw(t.stateNode.containerInfo),ot(t),null;case 10:return Ti(t.type),ot(t),null;case 19:if(Mt(At),i=t.memoizedState,i===null)return ot(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Rc(i,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ah(e),s!==null){for(t.flags|=128,Rc(i,!1),e=s.updateQueue,t.updateQueue=e,Dd(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)vT(n,e),n=n.sibling;return st(At,At.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pr()>fh&&(t.flags|=128,r=!0,Rc(i,!1),t.lanes=4194304)}else{if(!r)if(e=ah(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Dd(t,e),Rc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Re)return ot(t),null}else 2*Pr()-i.renderingStartTime>fh&&n!==536870912&&(t.flags|=128,r=!0,Rc(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pr(),t.sibling=null,e=At.current,st(At,r?e&1|2:e&1),t):(ot(t),null);case 22:case 23:return Ci(t),$x(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),n=t.updateQueue,n!==null&&Dd(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Mt(Mo),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ti(Et),ot(t),null;case 25:return null;case 30:return null}throw Error(Y(156,t.tag))}function nD(e,t){switch(Px(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ti(Et),vl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Wf(t),null;case 13:if(Ci(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));j0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mt(At),null;case 4:return vl(),null;case 10:return Ti(t.type),null;case 22:case 23:return Ci(t),$x(),e!==null&&Mt(Mo),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ti(Et),null;case 25:return null;default:return null}}function vk(e,t){switch(Px(t),t.tag){case 3:Ti(Et),vl();break;case 26:case 27:case 5:Wf(t);break;case 4:vl();break;case 13:Ci(t);break;case 19:Mt(At);break;case 10:Ti(t.type);break;case 22:case 23:Ci(t),$x(),e!==null&&Mt(Mo);break;case 24:Ti(Et)}}function L0(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){Ge(t,t.return,a)}}function zs(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(a!==void 0){o.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){Ge(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){Ge(t,t.return,u)}}function xk(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{AT(t,n)}catch(r){Ge(e,e.return,r)}}}function wk(e,t,n){n.props=Yo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ge(e,t,r)}}function du(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){Ge(e,t,i)}}function Mr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ge(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ge(e,t,i)}else n.current=null}function Sk(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ge(e,e.return,i)}}function Cg(e,t,n){try{var r=e.stateNode;_D(r,e.type,n,t),r[pn]=t}catch(i){Ge(e,e.return,i)}}function _k(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xs(e.type)||e.tag===4}function Eg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_k(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Om));else if(r!==4&&(r===27&&Xs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Lb(e,t,n),e=e.sibling;e!==null;)Lb(e,t,n),e=e.sibling}function dh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Xs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(dh(e,t,n),e=e.sibling;e!==null;)dh(e,t,n),e=e.sibling}function Ck(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Vt(t,r,n),t[Gt]=e,t[pn]=n}catch(s){Ge(e,e.return,s)}}var vi=!1,gt=!1,Ag=!1,kC=typeof WeakSet=="function"?WeakSet:Set,jt=null;function rD(e,t){if(e=e.containerInfo,qb=wh,e=dT(e),Ox(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kb={focusedElem:e,selectionRange:n},wh=!1,jt=t;jt!==null;)if(t=jt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,jt=e;else for(;jt!==null;){switch(t=jt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var x=Yo(n.type,i,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(x,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Ge(n,n.return,y)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Wb(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wb(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Y(163))}if(e=t.sibling,e!==null){e.return=t.return,jt=e;break}jt=t.return}}function Ek(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:es(e,n),r&4&&L0(5,n);break;case 1:if(es(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){Ge(n,n.return,o)}else{var i=Yo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Ge(n,n.return,o)}}r&64&&xk(n),r&512&&du(n,n.return);break;case 3:if(es(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{AT(e,t)}catch(o){Ge(n,n.return,o)}}break;case 27:t===null&&r&4&&Ck(n);case 26:case 5:es(e,n),t===null&&r&4&&Sk(n),r&512&&du(n,n.return);break;case 12:es(e,n);break;case 13:es(e,n),r&4&&kk(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=fD.bind(null,n),BD(e,n))));break;case 22:if(r=n.memoizedState!==null||vi,!r){t=t!==null&&t.memoizedState!==null||gt,i=vi;var s=gt;vi=r,(gt=t)&&!s?as(e,n,(n.subtreeFlags&8772)!==0):es(e,n),vi=i,gt=s}break;case 30:break;default:es(e,n)}}function Ak(e){var t=e.alternate;t!==null&&(e.alternate=null,Ak(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&kx(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,ln=!1;function si(e,t,n){for(n=n.child;n!==null;)Tk(e,t,n),n=n.sibling}function Tk(e,t,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(T0,n)}catch{}switch(n.tag){case 26:gt||Mr(n,t),si(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:gt||Mr(n,t);var r=nt,i=ln;Xs(n.type)&&(nt=n.stateNode,ln=!1),si(e,t,n),pu(n.stateNode),nt=r,ln=i;break;case 5:gt||Mr(n,t);case 6:if(r=nt,i=ln,nt=null,si(e,t,n),nt=r,ln=i,nt!==null)if(ln)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(n.stateNode)}catch(s){Ge(n,t,s)}else try{nt.removeChild(n.stateNode)}catch(s){Ge(n,t,s)}break;case 18:nt!==null&&(ln?(e=nt,FC(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ku(e)):FC(nt,n.stateNode));break;case 4:r=nt,i=ln,nt=n.stateNode.containerInfo,ln=!0,si(e,t,n),nt=r,ln=i;break;case 0:case 11:case 14:case 15:gt||zs(2,n,t),gt||zs(4,n,t),si(e,t,n);break;case 1:gt||(Mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&wk(n,t,r)),si(e,t,n);break;case 21:si(e,t,n);break;case 22:gt=(r=gt)||n.memoizedState!==null,si(e,t,n),gt=r;break;default:si(e,t,n)}}function kk(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ku(e)}catch(n){Ge(t,t.return,n)}}function iD(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kC),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kC),t;default:throw Error(Y(435,e.tag))}}function Tg(e,t){var n=iD(e);t.forEach(function(r){var i=hD.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}function bn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 27:if(Xs(a.type)){nt=a.stateNode,ln=!1;break e}break;case 5:nt=a.stateNode,ln=!1;break e;case 3:case 4:nt=a.stateNode.containerInfo,ln=!0;break e}a=a.return}if(nt===null)throw Error(Y(160));Tk(s,o,i),nt=null,ln=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ik(t,e),t=t.sibling}var hr=null;function Ik(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bn(t,e),vn(e),r&4&&(zs(3,e,e.return),L0(3,e),zs(5,e,e.return));break;case 1:bn(t,e),vn(e),r&512&&(gt||n===null||Mr(n,n.return)),r&64&&vi&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=hr;if(bn(t,e),vn(e),r&512&&(gt||n===null||Mr(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[B0]||s[Gt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Vt(s,r,n),s[Gt]=e,Rt(s),r=s;break e;case"link":var o=GC("link","href",i).get(r+(n.href||""));if(o){for(var a=0;a<o.length;a++)if(s=o[a],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(a,1);break t}}s=i.createElement(r),Vt(s,r,n),i.head.appendChild(s);break;case"meta":if(o=GC("meta","content",i).get(r+(n.content||""))){for(a=0;a<o.length;a++)if(s=o[a],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(a,1);break t}}s=i.createElement(r),Vt(s,r,n),i.head.appendChild(s);break;default:throw Error(Y(468,r))}s[Gt]=e,Rt(s),r=s}e.stateNode=r}else qC(i,e.type,e.stateNode);else e.stateNode=HC(i,r,e.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?qC(i,e.type,e.stateNode):HC(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Cg(e,e.memoizedProps,n.memoizedProps)}break;case 27:bn(t,e),vn(e),r&512&&(gt||n===null||Mr(n,n.return)),n!==null&&r&4&&Cg(e,e.memoizedProps,n.memoizedProps);break;case 5:if(bn(t,e),vn(e),r&512&&(gt||n===null||Mr(n,n.return)),e.flags&32){i=e.stateNode;try{wl(i,"")}catch(m){Ge(e,e.return,m)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,Cg(e,i,n!==null?n.memoizedProps:i)),r&1024&&(Ag=!0);break;case 6:if(bn(t,e),vn(e),r&4){if(e.stateNode===null)throw Error(Y(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Ge(e,e.return,m)}}break;case 3:if(Df=null,i=hr,hr=bh(t.containerInfo),bn(t,e),hr=i,vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ku(t.containerInfo)}catch(m){Ge(e,e.return,m)}Ag&&(Ag=!1,Bk(e));break;case 4:r=hr,hr=bh(e.stateNode.containerInfo),bn(t,e),vn(e),hr=r;break;case 12:bn(t,e),vn(e);break;case 13:bn(t,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(aw=Pr()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Tg(e,r)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=vi,u=gt;if(vi=c||i,gt=u||l,bn(t,e),gt=u,vi=c,vn(e),r&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||vi||gt||vo(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(s=l.stateNode,i)o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{a=l.stateNode;var d=l.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;a.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){Ge(l,l.return,m)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(m){Ge(l,l.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Tg(e,n))));break;case 19:bn(t,e),vn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Tg(e,r)));break;case 30:break;case 21:break;default:bn(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(_k(r)){n=r;break}r=r.return}if(n==null)throw Error(Y(160));switch(n.tag){case 27:var i=n.stateNode,s=Eg(e);dh(e,s,i);break;case 5:var o=n.stateNode;n.flags&32&&(wl(o,""),n.flags&=-33);var a=Eg(e);dh(e,a,o);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Eg(e);Lb(e,c,l);break;default:throw Error(Y(161))}}catch(u){Ge(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bk(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bk(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function es(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ek(e,t.alternate,t),t=t.sibling}function vo(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zs(4,t,t.return),vo(t);break;case 1:Mr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&wk(t,t.return,n),vo(t);break;case 27:pu(t.stateNode);case 26:case 5:Mr(t,t.return),vo(t);break;case 22:t.memoizedState===null&&vo(t);break;case 30:vo(t);break;default:vo(t)}e=e.sibling}}function as(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:as(i,s,n),L0(4,s);break;case 1:if(as(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Ge(r,r.return,c)}if(r=s,i=r.updateQueue,i!==null){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ET(l[i],a)}catch(c){Ge(r,r.return,c)}}n&&o&64&&xk(s),du(s,s.return);break;case 27:Ck(s);case 26:case 5:as(i,s,n),n&&r===null&&o&4&&Sk(s),du(s,s.return);break;case 12:as(i,s,n);break;case 13:as(i,s,n),n&&o&4&&kk(i,s);break;case 22:s.memoizedState===null&&as(i,s,n),du(s,s.return);break;case 30:break;default:as(i,s,n)}t=t.sibling}}function rw(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&O0(n))}function iw(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&O0(e))}function Ar(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nk(e,t,n,r),t=t.sibling}function Nk(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ar(e,t,n,r),i&2048&&L0(9,t);break;case 1:Ar(e,t,n,r);break;case 3:Ar(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&O0(e)));break;case 12:if(i&2048){Ar(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;typeof a=="function"&&a(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Ge(t,t.return,l)}}else Ar(e,t,n,r);break;case 13:Ar(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,t.memoizedState!==null?s._visibility&2?Ar(e,t,n,r):fu(e,t):s._visibility&2?Ar(e,t,n,r):(s._visibility|=2,La(e,t,n,r,(t.subtreeFlags&10256)!==0)),i&2048&&rw(o,t);break;case 24:Ar(e,t,n,r),i&2048&&iw(t.alternate,t);break;default:Ar(e,t,n,r)}}function La(e,t,n,r,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,o=t,a=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:La(s,o,a,l,i),L0(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState!==null?u._visibility&2?La(s,o,a,l,i):fu(s,o):(u._visibility|=2,La(s,o,a,l,i)),i&&c&2048&&rw(o.alternate,o);break;case 24:La(s,o,a,l,i),i&&c&2048&&iw(o.alternate,o);break;default:La(s,o,a,l,i)}t=t.sibling}}function fu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:fu(n,r),i&2048&&rw(r.alternate,r);break;case 24:fu(n,r),i&2048&&iw(r.alternate,r);break;default:fu(n,r)}t=t.sibling}}var Kc=8192;function va(e){if(e.subtreeFlags&Kc)for(e=e.child;e!==null;)jk(e),e=e.sibling}function jk(e){switch(e.tag){case 26:va(e),e.flags&Kc&&e.memoizedState!==null&&$D(hr,e.memoizedState,e.memoizedProps);break;case 5:va(e);break;case 3:case 4:var t=hr;hr=bh(e.stateNode.containerInfo),va(e),hr=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Kc,Kc=16777216,va(e),Kc=t):va(e));break;default:va(e)}}function Rk(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];jt=r,Dk(r,e)}Rk(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ok(e),e=e.sibling}function Ok(e){switch(e.tag){case 0:case 11:case 15:Oc(e),e.flags&2048&&zs(9,e,e.return);break;case 3:Oc(e);break;case 12:Oc(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rf(e)):Oc(e);break;default:Oc(e)}}function Rf(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];jt=r,Dk(r,e)}Rk(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zs(8,t,t.return),Rf(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Rf(t));break;default:Rf(t)}e=e.sibling}}function Dk(e,t){for(;jt!==null;){var n=jt;switch(n.tag){case 0:case 11:case 15:zs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:O0(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,jt=r;else e:for(n=e;jt!==null;){r=jt;var i=r.sibling,s=r.return;if(Ak(r),r===n){jt=null;break e}if(i!==null){i.return=s,jt=i;break e}jt=s}}}var sD={getCacheForType:function(e){var t=qt(Et),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},oD=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Ze=null,Ae=null,Be=0,Ue=0,wn=null,Ss=!1,nc=!1,sw=!1,Oi=0,ft=0,$s=0,Uo=0,ow=0,qn=0,Al=0,hu=null,cn=null,Pb=!1,aw=0,fh=1/0,hh=null,Bs=null,Ft=0,Ns=null,Tl=null,fl=0,Fb=0,Vb=null,Mk=null,mu=0,zb=null;function kn(){if(Pe&2&&Be!==0)return Be&-Be;if(me.T!==null){var e=Sl;return e!==0?e:cw()}return K3()}function Uk(){qn===0&&(qn=!(Be&536870912)||Re?$3():536870912);var e=Xn.current;return e!==null&&(e.flags|=32),qn}function In(e,t,n){(e===Ze&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(kl(e,0),_s(e,Be,qn,!1)),I0(e,n),(!(Pe&2)||e!==Ze)&&(e===Ze&&(!(Pe&2)&&(Uo|=n),ft===4&&_s(e,Be,qn,!1)),Xr(e))}function Lk(e,t,n){if(Pe&6)throw Error(Y(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||k0(e,t),i=r?cD(e,t):kg(e,t,!0),s=r;do{if(i===0){nc&&!r&&_s(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!aD(n)){i=kg(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var a=e;i=hu;var l=a.current.memoizedState.isDehydrated;if(l&&(kl(a,o).flags|=256),o=kg(a,o,!1),o!==2){if(sw&&!l){a.errorRecoveryDisabledLanes|=s,Uo|=s,i=4;break e}s=cn,cn=i,s!==null&&(cn===null?cn=s:cn.push.apply(cn,s))}i=o}if(s=!1,i!==2)continue}}if(i===1){kl(e,0),_s(e,t,0,!0);break}e:{switch(r=e,s=i,s){case 0:case 1:throw Error(Y(345));case 4:if((t&4194048)!==t)break;case 6:_s(r,t,qn,!Ss);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((t&62914560)===t&&(i=aw+300-Pr(),10<i)){if(_s(r,t,qn,!Ss),wm(r,0,!0)!==0)break e;r.timeoutHandle=r4(IC.bind(null,r,n,cn,hh,Pb,t,qn,Uo,Al,Ss,s,2,-0,0),i);break e}IC(r,n,cn,hh,Pb,t,qn,Uo,Al,Ss,s,0,-0,0)}}break}while(!0);Xr(e)}function IC(e,t,n,r,i,s,o,a,l,c,u,d,h,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)===16785408)&&($u={stylesheets:null,count:0,unsuspend:zD},jk(t),d=HD(),d!==null)){e.cancelPendingCommit=d(NC.bind(null,e,t,s,n,r,i,o,a,l,u,1,h,m)),_s(e,s,o,!c);return}NC(e,t,s,n,r,i,o,a,l)}function aD(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!jn(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _s(e,t,n,r){t&=~ow,t&=~Uo,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-Tn(i),o=1<<s;r[s]=-1,i&=~o}n!==0&&G3(e,n,t)}function Nm(){return Pe&6?!0:(P0(0),!1)}function lw(){if(Ae!==null){if(Ue===0)var e=Ae.return;else e=Ae,_i=ua=null,Yx(e),dl=null,Fu=0,e=Ae;for(;e!==null;)vk(e.alternate,e),e=e.return;Ae=null}}function kl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,ED(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),lw(),Ze=e,Ae=n=Ai(e.current,null),Be=t,Ue=0,wn=null,Ss=!1,nc=k0(e,t),sw=!1,Al=qn=ow=Uo=$s=ft=0,cn=hu=null,Pb=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Tn(r),s=1<<i;t|=e[i],r&=~s}return Oi=t,Em(),n}function Pk(e,t){we=null,me.H=oh,t===D0||t===Tm?(t=aC(),Ue=3):t===_T?(t=aC(),Ue=4):Ue=t===hk?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wn=t,Ae===null&&(ft=1,ch(e,Hn(t,e.current)))}function Fk(){var e=me.H;return me.H=oh,e===null?oh:e}function Vk(){var e=me.A;return me.A=sD,e}function $b(){ft=4,Ss||(Be&4194048)!==Be&&Xn.current!==null||(nc=!0),!($s&134217727)&&!(Uo&134217727)||Ze===null||_s(Ze,Be,qn,!1)}function kg(e,t,n){var r=Pe;Pe|=2;var i=Fk(),s=Vk();(Ze!==e||Be!==t)&&(hh=null,kl(e,t)),t=!1;var o=ft;e:do try{if(Ue!==0&&Ae!==null){var a=Ae,l=wn;switch(Ue){case 8:lw(),o=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(t=!0);var c=Ue;if(Ue=0,wn=null,Ja(e,a,l,c),n&&nc){o=0;break e}break;default:c=Ue,Ue=0,wn=null,Ja(e,a,l,c)}}lD(),o=ft;break}catch(u){Pk(e,u)}while(!0);return t&&e.shellSuspendCounter++,_i=ua=null,Pe=r,me.H=i,me.A=s,Ae===null&&(Ze=null,Be=0,Em()),o}function lD(){for(;Ae!==null;)zk(Ae)}function cD(e,t){var n=Pe;Pe|=2;var r=Fk(),i=Vk();Ze!==e||Be!==t?(hh=null,fh=Pr()+500,kl(e,t)):nc=k0(e,t);e:do try{if(Ue!==0&&Ae!==null){t=Ae;var s=wn;t:switch(Ue){case 1:Ue=0,wn=null,Ja(e,t,s,1);break;case 2:case 9:if(oC(s)){Ue=0,wn=null,BC(t);break}t=function(){Ue!==2&&Ue!==9||Ze!==e||(Ue=7),Xr(e)},s.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:oC(s)?(Ue=0,wn=null,BC(t)):(Ue=0,wn=null,Ja(e,t,s,7));break;case 5:var o=null;switch(Ae.tag){case 26:o=Ae.memoizedState;case 5:case 27:var a=Ae;if(!o||a4(o)){Ue=0,wn=null;var l=a.sibling;if(l!==null)Ae=l;else{var c=a.return;c!==null?(Ae=c,jm(c)):Ae=null}break t}}Ue=0,wn=null,Ja(e,t,s,5);break;case 6:Ue=0,wn=null,Ja(e,t,s,6);break;case 8:lw(),ft=6;break e;default:throw Error(Y(462))}}uD();break}catch(u){Pk(e,u)}while(!0);return _i=ua=null,me.H=r,me.A=i,Pe=n,Ae!==null?0:(Ze=null,Be=0,Em(),ft)}function uD(){for(;Ae!==null&&!jR();)zk(Ae)}function zk(e){var t=bk(e.alternate,e,Oi);e.memoizedProps=e.pendingProps,t===null?jm(e):Ae=t}function BC(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_C(n,t,t.pendingProps,t.type,void 0,Be);break;case 11:t=_C(n,t,t.pendingProps,t.type.render,t.ref,Be);break;case 5:Yx(t);default:vk(n,t),t=Ae=vT(t,Oi),t=bk(n,t,Oi)}e.memoizedProps=e.pendingProps,t===null?jm(e):Ae=t}function Ja(e,t,n,r){_i=ua=null,Yx(t),dl=null,Fu=0;var i=t.return;try{if(QO(e,i,t,n,Be)){ft=1,ch(e,Hn(n,e.current)),Ae=null;return}}catch(s){if(i!==null)throw Ae=i,s;ft=1,ch(e,Hn(n,e.current)),Ae=null;return}t.flags&32768?(Re||r===1?e=!0:nc||Be&536870912?e=!1:(Ss=e=!0,(r===2||r===9||r===3||r===6)&&(r=Xn.current,r!==null&&r.tag===13&&(r.flags|=16384))),$k(t,e)):jm(t)}function jm(e){var t=e;do{if(t.flags&32768){$k(t,Ss);return}e=t.return;var n=tD(t.alternate,t,Oi);if(n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);ft===0&&(ft=5)}function $k(e,t){do{var n=nD(e.alternate,e);if(n!==null){n.flags&=32767,Ae=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=n}while(e!==null);ft=6,Ae=null}function NC(e,t,n,r,i,s,o,a,l){e.cancelPendingCommit=null;do Rm();while(Ft!==0);if(Pe&6)throw Error(Y(327));if(t!==null){if(t===e.current)throw Error(Y(177));if(s=t.lanes|t.childLanes,s|=Dx,zR(e,n,s,o,a,l),e===Ze&&(Ae=Ze=null,Be=0),Tl=t,Ns=e,fl=n,Fb=s,Vb=i,Mk=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,mD(Zf,function(){return Yk(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=me.T,me.T=null,i=Oe.p,Oe.p=2,o=Pe,Pe|=4;try{rD(e,t,n)}finally{Pe=o,Oe.p=i,me.T=r}}Ft=1,Hk(),Gk(),qk()}}function Hk(){if(Ft===1){Ft=0;var e=Ns,t=Tl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=me.T,me.T=null;var r=Oe.p;Oe.p=2;var i=Pe;Pe|=4;try{Ik(t,e);var s=Kb,o=dT(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&uT(a.ownerDocument.documentElement,a)){if(l!==null&&Ox(a)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),x=a.textContent.length,y=Math.min(l.start,x),_=l.end===void 0?y:Math.min(l.end,x);!m.extend&&y>_&&(o=_,_=y,y=o);var g=J_(a,y),b=J_(a,_);if(g&&b&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var p=d.createRange();p.setStart(g.node,g.offset),m.removeAllRanges(),y>_?(m.addRange(p),m.extend(b.node,b.offset)):(p.setEnd(b.node,b.offset),m.addRange(p))}}}}for(d=[],m=a;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<d.length;a++){var C=d[a];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}wh=!!qb,Kb=qb=null}finally{Pe=i,Oe.p=r,me.T=n}}e.current=t,Ft=2}}function Gk(){if(Ft===2){Ft=0;var e=Ns,t=Tl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=me.T,me.T=null;var r=Oe.p;Oe.p=2;var i=Pe;Pe|=4;try{Ek(e,t.alternate,t)}finally{Pe=i,Oe.p=r,me.T=n}}Ft=3}}function qk(){if(Ft===4||Ft===3){Ft=0,RR();var e=Ns,t=Tl,n=fl,r=Mk;t.subtreeFlags&10256||t.flags&10256?Ft=5:(Ft=0,Tl=Ns=null,Kk(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Bs=null),Tx(n),t=t.stateNode,An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(T0,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=me.T,i=Oe.p,Oe.p=2,me.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{me.T=t,Oe.p=i}}fl&3&&Rm(),Xr(e),i=e.pendingLanes,n&4194090&&i&42?e===zb?mu++:(mu=0,zb=e):mu=0,P0(0)}}function Kk(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,O0(t)))}function Rm(e){return Hk(),Gk(),qk(),Yk()}function Yk(){if(Ft!==5)return!1;var e=Ns,t=Fb;Fb=0;var n=Tx(fl),r=me.T,i=Oe.p;try{Oe.p=32>n?32:n,me.T=null,n=Vb,Vb=null;var s=Ns,o=fl;if(Ft=0,Tl=Ns=null,fl=0,Pe&6)throw Error(Y(331));var a=Pe;if(Pe|=4,Ok(s.current),Nk(s,s.current,o,n),Pe=a,P0(0,!1),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(T0,s)}catch{}return!0}finally{Oe.p=i,me.T=r,Kk(e,t)}}function jC(e,t,n){t=Hn(n,t),t=Db(e.stateNode,t,2),e=Is(e,t,2),e!==null&&(I0(e,2),Xr(e))}function Ge(e,t,n){if(e.tag===3)jC(e,e,n);else for(;t!==null;){if(t.tag===3){jC(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){e=Hn(n,e),n=dk(2),r=Is(t,n,2),r!==null&&(fk(n,r,t,e),I0(r,2),Xr(r));break}}t=t.return}}function Ig(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oD;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(sw=!0,i.add(n),e=dD.bind(null,e,t,n),t.then(e,e))}function dD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ze===e&&(Be&n)===n&&(ft===4||ft===3&&(Be&62914560)===Be&&300>Pr()-aw?!(Pe&2)&&kl(e,0):ow|=n,Al===Be&&(Al=0)),Xr(e)}function Wk(e,t){t===0&&(t=H3()),e=tc(e,t),e!==null&&(I0(e,t),Xr(e))}function fD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wk(e,n)}function hD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(Y(314))}r!==null&&r.delete(t),Wk(e,n)}function mD(e,t){return Ex(e,t)}var mh=null,Pa=null,Hb=!1,ph=!1,Bg=!1,Lo=0;function Xr(e){e!==Pa&&e.next===null&&(Pa===null?mh=Pa=e:Pa=Pa.next=e),ph=!0,Hb||(Hb=!0,gD())}function P0(e,t){if(!Bg&&ph){Bg=!0;do for(var n=!1,r=mh;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-Tn(42|e)+1)-1,s&=i&~(o&~a),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,RC(r,s))}else s=Be,s=wm(r,r===Ze?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||k0(r,s)||(n=!0,RC(r,s));r=r.next}while(n);Bg=!1}}function pD(){Zk()}function Zk(){ph=Hb=!1;var e=0;Lo!==0&&(CD()&&(e=Lo),Lo=0);for(var t=Pr(),n=null,r=mh;r!==null;){var i=r.next,s=Xk(r,t);s===0?(r.next=null,n===null?mh=i:n.next=i,i===null&&(Pa=n)):(n=r,(e!==0||s&3)&&(ph=!0)),r=i}P0(e)}function Xk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var o=31-Tn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=VR(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(t=Ze,n=Be,n=wm(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ng(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||k0(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&ng(r),Tx(n)){case 2:case 8:n=V3;break;case 32:n=Zf;break;case 268435456:n=z3;break;default:n=Zf}return r=Jk.bind(null,e),n=Ex(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&ng(r),e.callbackPriority=2,e.callbackNode=null,2}function Jk(e,t){if(Ft!==0&&Ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Rm()&&e.callbackNode!==n)return null;var r=Be;return r=wm(e,e===Ze?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Lk(e,r,t),Xk(e,Pr()),e.callbackNode!=null&&e.callbackNode===n?Jk.bind(null,e):null)}function RC(e,t){if(Rm())return null;Lk(e,t,!0)}function gD(){AD(function(){Pe&6?Ex(F3,pD):Zk()})}function cw(){return Lo===0&&(Lo=$3()),Lo}function OC(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ef(""+e)}function DC(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function yD(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var s=OC((i[pn]||null).action),o=r.submitter;o&&(t=(t=o[pn]||null)?OC(t.formAction):o.getAttribute("formAction"),t!==null&&(s=t,o=null));var a=new Sm("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Lo!==0){var l=o?DC(i,o):new FormData(i);Rb(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(a.preventDefault(),l=o?DC(i,o):new FormData(i),Rb(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var Ng=0;Ng<wb.length;Ng++){var jg=wb[Ng],bD=jg.toLowerCase(),vD=jg[0].toUpperCase()+jg.slice(1);wr(bD,"on"+vD)}wr(hT,"onAnimationEnd");wr(mT,"onAnimationIteration");wr(pT,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(MO,"onTransitionRun");wr(UO,"onTransitionStart");wr(LO,"onTransitionCancel");wr(gT,"onTransitionEnd");xl("onMouseEnter",["mouseout","mouseover"]);xl("onMouseLeave",["mouseout","mouseover"]);xl("onPointerEnter",["pointerout","pointerover"]);xl("onPointerLeave",["pointerout","pointerover"]);aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function Qk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){lh(u)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){lh(u)}i.currentTarget=null,s=l}}}}function Ee(e,t){var n=t[mb];n===void 0&&(n=t[mb]=new Set);var r=e+"__bubble";n.has(r)||(e4(t,e,2,!1),n.add(r))}function Rg(e,t,n){var r=0;t&&(r|=4),e4(n,e,r,t)}var Md="_reactListening"+Math.random().toString(36).slice(2);function uw(e){if(!e[Md]){e[Md]=!0,Y3.forEach(function(n){n!=="selectionchange"&&(xD.has(n)||Rg(n,!1,e),Rg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Md]||(t[Md]=!0,Rg("selectionchange",!1,t))}}function e4(e,t,n,r){switch(f4(t)){case 2:var i=KD;break;case 8:i=YD;break;default:i=mw}n=i.bind(null,t,n,e),i=void 0,!bb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Og(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;a!==null;){if(o=$a(a),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=s=o;continue e}a=a.parentNode}}r=r.return}nT(function(){var c=s,u=Bx(n),d=[];e:{var h=yT.get(e);if(h!==void 0){var m=Sm,x=e;switch(e){case"keypress":if(Tf(n)===0)break e;case"keydown":case"keyup":m=mO;break;case"focusin":x="focus",m=ug;break;case"focusout":x="blur",m=ug;break;case"beforeblur":case"afterblur":m=ug;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=z_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=nO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=yO;break;case hT:case mT:case pT:m=sO;break;case gT:m=vO;break;case"scroll":case"scrollend":m=eO;break;case"wheel":m=wO;break;case"copy":case"cut":case"paste":m=aO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=H_;break;case"toggle":case"beforetoggle":m=_O}var y=(t&4)!==0,_=!y&&(e==="scroll"||e==="scrollend"),g=y?h!==null?h+"Capture":null:h;y=[];for(var b=c,p;b!==null;){var C=b;if(p=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||p===null||g===null||(C=Du(b,g),C!=null&&y.push(zu(b,C,p))),_)break;b=b.return}0<y.length&&(h=new m(h,x,null,n,u),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==yb&&(x=n.relatedTarget||n.fromElement)&&($a(x)||x[Ql]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?$a(x):null,x!==null&&(_=A0(x),y=x.tag,x!==_||y!==5&&y!==27&&y!==6)&&(x=null)):(m=null,x=c),m!==x)){if(y=z_,C="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=H_,C="onPointerLeave",g="onPointerEnter",b="pointer"),_=m==null?h:qc(m),p=x==null?h:qc(x),h=new y(C,b+"leave",m,n,u),h.target=_,h.relatedTarget=p,C=null,$a(u)===c&&(y=new y(g,b+"enter",x,n,u),y.target=p,y.relatedTarget=_,C=y),_=C,m&&x)t:{for(y=m,g=x,b=0,p=y;p;p=xa(p))b++;for(p=0,C=g;C;C=xa(C))p++;for(;0<b-p;)y=xa(y),b--;for(;0<p-b;)g=xa(g),p--;for(;b--;){if(y===g||g!==null&&y===g.alternate)break t;y=xa(y),g=xa(g)}y=null}else y=null;m!==null&&MC(d,h,m,y,!1),x!==null&&_!==null&&MC(d,_,x,y,!0)}}e:{if(h=c?qc(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=Y_;else if(K_(h))if(lT)E=RO;else{E=NO;var N=BO}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&Ix(c.elementType)&&(E=Y_):E=jO;if(E&&(E=E(e,c))){aT(d,E,n,u);break e}N&&N(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&gb(h,"number",h.value)}switch(N=c?qc(c):window,e){case"focusin":(K_(N)||N.contentEditable==="true")&&(qa=N,vb=c,iu=null);break;case"focusout":iu=vb=qa=null;break;case"mousedown":xb=!0;break;case"contextmenu":case"mouseup":case"dragend":xb=!1,Q_(d,n,u);break;case"selectionchange":if(DO)break;case"keydown":case"keyup":Q_(d,n,u)}var k;if(Rx)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ga?sT(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(iT&&n.locale!=="ko"&&(Ga||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ga&&(k=rT()):(ws=u,Nx="value"in ws?ws.value:ws.textContent,Ga=!0)),N=gh(c,j),0<N.length&&(j=new $_(j,e,null,n,u),d.push({event:j,listeners:N}),k?j.data=k:(k=oT(n),k!==null&&(j.data=k)))),(k=EO?AO(e,n):TO(e,n))&&(j=gh(c,"onBeforeInput"),0<j.length&&(N=new $_("onBeforeInput","beforeinput",null,n,u),d.push({event:N,listeners:j}),N.data=k)),yD(d,e,c,n,u)}Qk(d,t)})}function zu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Du(e,n),i!=null&&r.unshift(zu(e,i,s)),i=Du(e,t),i!=null&&r.push(zu(e,i,s))),e.tag===3)return r;e=e.return}return[]}function xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function MC(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,l!==null&&l===r)break;a!==5&&a!==26&&a!==27||c===null||(l=c,i?(c=Du(n,s),c!=null&&o.unshift(zu(n,c,l))):i||(c=Du(n,s),c!=null&&o.push(zu(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wD=/\r\n?/g,SD=/\u0000|\uFFFD/g;function UC(e){return(typeof e=="string"?e:""+e).replace(wD,`
`).replace(SD,"")}function t4(e,t){return t=UC(t),UC(e)===t}function Om(){}function ze(e,t,n,r,i,s){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||wl(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&wl(e,""+r);break;case"className":Id(e,"class",r);break;case"tabIndex":Id(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Id(e,n,r);break;case"style":tT(e,r,s);break;case"data":if(t!=="object"){Id(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Ef(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ze(e,t,"name",i.name,i,null),ze(e,t,"formEncType",i.formEncType,i,null),ze(e,t,"formMethod",i.formMethod,i,null),ze(e,t,"formTarget",i.formTarget,i,null)):(ze(e,t,"encType",i.encType,i,null),ze(e,t,"method",i.method,i,null),ze(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Ef(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Om);break;case"onScroll":r!=null&&Ee("scroll",e);break;case"onScrollEnd":r!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Y(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Ef(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),Cf(e,"popover",r);break;case"xlinkActuate":ri(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ri(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ri(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ri(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ri(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ri(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ri(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ri(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ri(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Cf(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=JR.get(n)||n,Cf(e,n,r))}}function Gb(e,t,n,r,i,s){switch(n){case"style":tT(e,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Y(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Y(60));e.innerHTML=n}}break;case"children":typeof r=="string"?wl(e,r):(typeof r=="number"||typeof r=="bigint")&&wl(e,""+r);break;case"onScroll":r!=null&&Ee("scroll",e);break;case"onScrollEnd":r!=null&&Ee("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Om);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!W3.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[pn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Cf(e,n,r)}}}function Vt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var o=n[s];if(o!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:ze(e,t,s,o,n,null)}}i&&ze(e,t,"srcSet",n.srcSet,n,null),r&&ze(e,t,"src",n.src,n,null);return;case"input":Ee("invalid",e);var a=s=o=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(u!=null)switch(r){case"name":i=u;break;case"type":o=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":s=u;break;case"defaultValue":a=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(Y(137,t));break;default:ze(e,t,r,u,n,null)}}J3(e,s,a,l,c,o,i,!1),Xf(e);return;case"select":Ee("invalid",e),r=o=s=null;for(i in n)if(n.hasOwnProperty(i)&&(a=n[i],a!=null))switch(i){case"value":s=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:ze(e,t,i,a,n,null)}t=s,n=o,e.multiple=!!r,t!=null?ol(e,!!r,t,!1):n!=null&&ol(e,!!r,n,!0);return;case"textarea":Ee("invalid",e),s=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":r=a;break;case"defaultValue":i=a;break;case"children":s=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(Y(91));break;default:ze(e,t,o,a,n,null)}eT(e,r,i,s),Xf(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ze(e,t,l,r,n,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(r=0;r<Vu.length;r++)Ee(Vu[r],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:ze(e,t,c,r,n,null)}return;default:if(Ix(t)){for(u in n)n.hasOwnProperty(u)&&(r=n[u],r!==void 0&&Gb(e,t,u,r,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(r=n[a],r!=null&&ze(e,t,a,r,n,null))}function _D(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,a=null,l=null,c=null,u=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(m)||ze(e,t,m,null,r,d)}}for(var h in r){var m=r[h];if(d=n[h],r.hasOwnProperty(h)&&(m!=null||d!=null))switch(h){case"type":s=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":a=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(Y(137,t));break;default:m!==d&&ze(e,t,h,m,r,d)}}pb(e,o,a,l,c,u,s,i);return;case"select":m=o=a=h=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(s)||ze(e,t,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":h=s;break;case"defaultValue":a=s;break;case"multiple":o=s;default:s!==l&&ze(e,t,i,s,r,l)}t=a,n=o,r=m,h!=null?ol(e,!!n,h,!1):!!r!=!!n&&(t!=null?ol(e,!!n,t,!0):ol(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(a in n)if(i=n[a],n.hasOwnProperty(a)&&i!=null&&!r.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:ze(e,t,a,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(i!=null||s!=null))switch(o){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Y(91));break;default:i!==s&&ze(e,t,o,i,r,s)}Q3(e,h,m);return;case"option":for(var x in n)if(h=n[x],n.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:ze(e,t,x,null,r,h)}for(l in r)if(h=r[l],m=n[l],r.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ze(e,t,l,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&ze(e,t,y,null,r,h);for(c in r)if(h=r[c],m=n[c],r.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Y(137,t));break;default:ze(e,t,c,h,r,m)}return;default:if(Ix(t)){for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!==void 0&&!r.hasOwnProperty(_)&&Gb(e,t,_,void 0,r,h);for(u in r)h=r[u],m=n[u],!r.hasOwnProperty(u)||h===m||h===void 0&&m===void 0||Gb(e,t,u,h,r,m);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&ze(e,t,g,null,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||h==null&&m==null||ze(e,t,d,h,r,m)}var qb=null,Kb=null;function yh(e){return e.nodeType===9?e:e.ownerDocument}function LC(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n4(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Yb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dg=null;function CD(){var e=window.event;return e&&e.type==="popstate"?e===Dg?!1:(Dg=e,!0):(Dg=null,!1)}var r4=typeof setTimeout=="function"?setTimeout:void 0,ED=typeof clearTimeout=="function"?clearTimeout:void 0,PC=typeof Promise=="function"?Promise:void 0,AD=typeof queueMicrotask=="function"?queueMicrotask:typeof PC<"u"?function(e){return PC.resolve(null).then(e).catch(TD)}:r4;function TD(e){setTimeout(function(){throw e})}function Xs(e){return e==="head"}function FC(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(n&1&&pu(o.documentElement),n&2&&pu(o.body),n&4)for(n=o.head,pu(n),o=n.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[B0]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=a}}if(i===0){e.removeChild(s),Ku(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Ku(t)}function Wb(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Wb(n),kx(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function kD(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[B0])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=pr(e.nextSibling),e===null)break}return null}function ID(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=pr(e.nextSibling),e===null))return null;return e}function Zb(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function BD(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Xb=null;function VC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function i4(e,t,n){switch(t=yh(n),e){case"html":if(e=t.documentElement,!e)throw Error(Y(452));return e;case"head":if(e=t.head,!e)throw Error(Y(453));return e;case"body":if(e=t.body,!e)throw Error(Y(454));return e;default:throw Error(Y(451))}}function pu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);kx(e)}var Jn=new Map,zC=new Set;function bh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=Oe.d;Oe.d={f:ND,r:jD,D:RD,C:OD,L:DD,m:MD,X:LD,S:UD,M:PD};function ND(){var e=Ki.f(),t=Nm();return e||t}function jD(e){var t=ec(e);t!==null&&t.tag===5&&t.type==="form"?XT(t):Ki.r(e)}var rc=typeof document>"u"?null:document;function s4(e,t,n){var r=rc;if(r&&typeof t=="string"&&t){var i=$n(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),zC.has(i)||(zC.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),Vt(t,"link",e),Rt(t),r.head.appendChild(t)))}}function RD(e){Ki.D(e),s4("dns-prefetch",e,null)}function OD(e,t){Ki.C(e,t),s4("preconnect",e,t)}function DD(e,t,n){Ki.L(e,t,n);var r=rc;if(r&&e&&t){var i='link[rel="preload"][as="'+$n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+$n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+$n(n.imageSizes)+'"]')):i+='[href="'+$n(e)+'"]';var s=i;switch(t){case"style":s=Il(e);break;case"script":s=ic(e)}Jn.has(s)||(e=Je({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Jn.set(s,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(F0(s))||t==="script"&&r.querySelector(V0(s))||(t=r.createElement("link"),Vt(t,"link",e),Rt(t),r.head.appendChild(t)))}}function MD(e,t){Ki.m(e,t);var n=rc;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+$n(r)+'"][href="'+$n(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ic(e)}if(!Jn.has(s)&&(e=Je({rel:"modulepreload",href:e},t),Jn.set(s,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(V0(s)))return}r=n.createElement("link"),Vt(r,"link",e),Rt(r),n.head.appendChild(r)}}}function UD(e,t,n){Ki.S(e,t,n);var r=rc;if(r&&e){var i=sl(r).hoistableStyles,s=Il(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(F0(s)))a.loading=5;else{e=Je({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Jn.get(s))&&dw(e,n);var l=o=r.createElement("link");Rt(l),Vt(l,"link",e),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Of(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}}function LD(e,t){Ki.X(e,t);var n=rc;if(n&&e){var r=sl(n).hoistableScripts,i=ic(e),s=r.get(i);s||(s=n.querySelector(V0(i)),s||(e=Je({src:e,async:!0},t),(t=Jn.get(i))&&fw(e,t),s=n.createElement("script"),Rt(s),Vt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function PD(e,t){Ki.M(e,t);var n=rc;if(n&&e){var r=sl(n).hoistableScripts,i=ic(e),s=r.get(i);s||(s=n.querySelector(V0(i)),s||(e=Je({src:e,async:!0,type:"module"},t),(t=Jn.get(i))&&fw(e,t),s=n.createElement("script"),Rt(s),Vt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function $C(e,t,n,r){var i=(i=Ts.current)?bh(i):null;if(!i)throw Error(Y(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Il(n.href),n=sl(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Il(n.href);var s=sl(i).hoistableStyles,o=s.get(e);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,o),(s=i.querySelector(F0(e)))&&!s._p&&(o.instance=s,o.state.loading=5),Jn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Jn.set(e,n),s||FD(i,e,n,o.state))),t&&r===null)throw Error(Y(528,""));return o}if(t&&r!==null)throw Error(Y(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ic(n),n=sl(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,e))}}function Il(e){return'href="'+$n(e)+'"'}function F0(e){return'link[rel="stylesheet"]['+e+"]"}function o4(e){return Je({},e,{"data-precedence":e.precedence,precedence:null})}function FD(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Vt(t,"link",n),Rt(t),e.head.appendChild(t))}function ic(e){return'[src="'+$n(e)+'"]'}function V0(e){return"script[async]"+e}function HC(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+$n(n.href)+'"]');if(r)return t.instance=r,Rt(r),r;var i=Je({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Rt(r),Vt(r,"style",i),Of(r,n.precedence,e),t.instance=r;case"stylesheet":i=Il(n.href);var s=e.querySelector(F0(i));if(s)return t.state.loading|=4,t.instance=s,Rt(s),s;r=o4(n),(i=Jn.get(i))&&dw(r,i),s=(e.ownerDocument||e).createElement("link"),Rt(s);var o=s;return o._p=new Promise(function(a,l){o.onload=a,o.onerror=l}),Vt(s,"link",r),t.state.loading|=4,Of(s,n.precedence,e),t.instance=s;case"script":return s=ic(n.src),(i=e.querySelector(V0(s)))?(t.instance=i,Rt(i),i):(r=n,(i=Jn.get(s))&&(r=Je({},n),fw(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),Rt(i),Vt(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(Y(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Of(r,n.precedence,e));return t.instance}function Of(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function dw(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fw(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Df=null;function GC(e,t,n){if(Df===null){var r=new Map,i=Df=new Map;i.set(n,r)}else i=Df,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[B0]||s[Gt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function qC(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function VD(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function a4(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var $u=null;function zD(){}function $D(e,t,n){if($u===null)throw Error(Y(475));var r=$u;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=Il(n.href),s=e.querySelector(F0(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=vh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,Rt(s);return}s=e.ownerDocument||e,n=o4(n),(i=Jn.get(i))&&dw(n,i),s=s.createElement("link"),Rt(s);var o=s;o._p=new Promise(function(a,l){o.onload=a,o.onerror=l}),Vt(s,"link",n),t.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=vh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function HD(){if($u===null)throw Error(Y(475));var e=$u;return e.stylesheets&&e.count===0&&Jb(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Jb(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function vh(){if(this.count--,this.count===0){if(this.stylesheets)Jb(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xh=null;function Jb(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xh=new Map,t.forEach(GD,e),xh=null,vh.call(e))}function GD(e,t){if(!(t.state.loading&4)){var n=xh.get(e);if(n)var r=n.get(null);else{n=new Map,xh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute("data-precedence"),s=n.get(o)||r,s===r&&n.set(null,i),n.set(o,i),this.count++,r=vh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Hu={$$typeof:xi,Provider:null,Consumer:null,_currentValue:jo,_currentValue2:jo,_threadCount:0};function qD(e,t,n,r,i,s,o,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rg(0),this.hiddenUpdates=rg(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function l4(e,t,n,r,i,s,o,a,l,c,u,d){return e=new qD(e,t,n,o,a,l,c,d),t=1,s===!0&&(t|=24),s=Cn(3,null,null,t),e.current=s,s.stateNode=e,t=Fx(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},zx(s),e}function c4(e){return e?(e=Wa,e):Wa}function u4(e,t,n,r,i,s){i=c4(i),r.context===null?r.context=i:r.pendingContext=i,r=ks(t),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Is(e,r,t),n!==null&&(In(n,e,t),au(n,e,t))}function KC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hw(e,t){KC(e,t),(e=e.alternate)&&KC(e,t)}function d4(e){if(e.tag===13){var t=tc(e,67108864);t!==null&&In(t,e,67108864),hw(e,67108864)}}var wh=!0;function KD(e,t,n,r){var i=me.T;me.T=null;var s=Oe.p;try{Oe.p=2,mw(e,t,n,r)}finally{Oe.p=s,me.T=i}}function YD(e,t,n,r){var i=me.T;me.T=null;var s=Oe.p;try{Oe.p=8,mw(e,t,n,r)}finally{Oe.p=s,me.T=i}}function mw(e,t,n,r){if(wh){var i=Qb(r);if(i===null)Og(e,t,r,Sh,n),YC(e,r);else if(ZD(i,e,t,n,r))r.stopPropagation();else if(YC(e,r),t&4&&-1<WD.indexOf(e)){for(;i!==null;){var s=ec(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var o=yo(s.pendingLanes);if(o!==0){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-Tn(o);a.entanglements[1]|=l,o&=~l}Xr(s),!(Pe&6)&&(fh=Pr()+500,P0(0))}}break;case 13:a=tc(s,2),a!==null&&In(a,s,2),Nm(),hw(s,2)}if(s=Qb(r),s===null&&Og(e,t,r,Sh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Og(e,t,r,null,n)}}function Qb(e){return e=Bx(e),pw(e)}var Sh=null;function pw(e){if(Sh=null,e=$a(e),e!==null){var t=A0(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=M3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sh=e,null}function f4(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(OR()){case F3:return 2;case V3:return 8;case Zf:case DR:return 32;case z3:return 268435456;default:return 32}default:return 32}}var ev=!1,js=null,Rs=null,Os=null,Gu=new Map,qu=new Map,ys=[],WD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YC(e,t){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Gu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(t.pointerId)}}function Dc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ec(t),t!==null&&d4(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ZD(e,t,n,r,i){switch(t){case"focusin":return js=Dc(js,e,t,n,r,i),!0;case"dragenter":return Rs=Dc(Rs,e,t,n,r,i),!0;case"mouseover":return Os=Dc(Os,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Gu.set(s,Dc(Gu.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qu.set(s,Dc(qu.get(s)||null,e,t,n,r,i)),!0}return!1}function h4(e){var t=$a(e.target);if(t!==null){var n=A0(t);if(n!==null){if(t=n.tag,t===13){if(t=M3(n),t!==null){e.blockedOn=t,$R(e.priority,function(){if(n.tag===13){var r=kn();r=Ax(r);var i=tc(n,r);i!==null&&In(i,n,r),hw(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qb(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yb=r,n.target.dispatchEvent(r),yb=null}else return t=ec(n),t!==null&&d4(t),e.blockedOn=n,!1;t.shift()}return!0}function WC(e,t,n){Mf(e)&&n.delete(t)}function XD(){ev=!1,js!==null&&Mf(js)&&(js=null),Rs!==null&&Mf(Rs)&&(Rs=null),Os!==null&&Mf(Os)&&(Os=null),Gu.forEach(WC),qu.forEach(WC)}function Ud(e,t){e.blockedOn===t&&(e.blockedOn=null,ev||(ev=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,XD)))}var Ld=null;function ZC(e){Ld!==e&&(Ld=e,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,function(){Ld===e&&(Ld=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(pw(r||n)===null)continue;break}var s=ec(n);s!==null&&(e.splice(t,3),t-=3,Rb(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ku(e){function t(l){return Ud(l,e)}js!==null&&Ud(js,e),Rs!==null&&Ud(Rs,e),Os!==null&&Ud(Os,e),Gu.forEach(t),qu.forEach(t);for(var n=0;n<ys.length;n++){var r=ys[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)h4(n),n.blockedOn===null&&ys.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[pn]||null;if(typeof s=="function")o||ZC(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[pn]||null)a=o.formAction;else if(pw(i)!==null)continue}else a=o.action;typeof a=="function"?n[r+1]=a:(n.splice(r,3),r-=3),ZC(n)}}}function gw(e){this._internalRoot=e}Dm.prototype.render=gw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));var n=t.current,r=kn();u4(n,r,e,t,null,null)};Dm.prototype.unmount=gw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;u4(e.current,2,null,e,null,null),Nm(),t[Ql]=null}};function Dm(e){this._internalRoot=e}Dm.prototype.unstable_scheduleHydration=function(e){if(e){var t=K3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ys.length&&t!==0&&t<ys[n].priority;n++);ys.splice(n,0,e),n===0&&h4(e)}};var XC=O3.version;if(XC!=="19.1.0")throw Error(Y(527,XC,"19.1.0"));Oe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=TR(t),e=e!==null?U3(e):null,e=e===null?null:e.stateNode,e};var JD={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:me,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{T0=Pd.inject(JD),An=Pd}catch{}}vm.createRoot=function(e,t){if(!D3(e))throw Error(Y(299));var n=!1,r="",i=lk,s=ck,o=uk,a=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(a=t.unstable_transitionCallbacks)),t=l4(e,1,!1,null,null,n,r,i,s,o,a,null),e[Ql]=t.current,uw(e),new gw(t)};vm.hydrateRoot=function(e,t,n){if(!D3(e))throw Error(Y(299));var r=!1,i="",s=lk,o=ck,a=uk,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=l4(e,1,!0,t,n??null,r,i,s,o,a,l,c),t.context=c4(null),n=t.current,r=kn(),r=Ax(r),i=ks(r),i.callback=null,Is(n,i,r),n=r,t.current.lanes=n,I0(t,n),Xr(t),e[Ql]=t.current,uw(e),new Dm(t)};vm.version="19.1.0";function m4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m4)}catch(e){console.error(e)}}m4(),k3.exports=vm;var QD=k3.exports;const eM=ym(QD);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(this,arguments)}var Cs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cs||(Cs={}));const JC="popstate";function tM(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return tv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_h(i)}return rM(t,n,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function p4(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nM(){return Math.random().toString(36).substr(2,8)}function QC(e,t){return{usr:e.state,key:e.key,idx:t}}function tv(e,t,n,r){return n===void 0&&(n=null),Yu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sc(t):t,{state:n,key:t&&t.key||r||nM()})}function _h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function rM(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Cs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Yu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Cs.Pop;let _=u(),g=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:g})}function h(_,g){a=Cs.Push;let b=tv(y.location,_,g);c=u()+1;let p=QC(b,c),C=y.createHref(b);try{o.pushState(p,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(C)}s&&l&&l({action:a,location:y.location,delta:1})}function m(_,g){a=Cs.Replace;let b=tv(y.location,_,g);c=u();let p=QC(b,c),C=y.createHref(b);o.replaceState(p,"",C),s&&l&&l({action:a,location:y.location,delta:0})}function x(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof _=="string"?_:_h(_);return b=b.replace(/ $/,"%20"),wt(g,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,g)}let y={get action(){return a},get location(){return e(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JC,d),l=_,()=>{i.removeEventListener(JC,d),l=null}},createHref(_){return t(i,_)},createURL:x,encodeLocation(_){let g=x(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(_){return o.go(_)}};return y}var eE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(eE||(eE={}));function iM(e,t,n){return n===void 0&&(n="/"),sM(e,t,n)}function sM(e,t,n,r){let i=typeof t=="string"?sc(t):t,s=yw(i.pathname||"/",n);if(s==null)return null;let o=g4(e);oM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=bM(s);a=pM(o[l],c)}return a}function g4(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ds([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(wt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),g4(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:hM(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of y4(s.path))i(s,o,l)}),t}function y4(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=y4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function oM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aM=/^:[\w-]+$/,lM=3,cM=2,uM=1,dM=10,fM=-2,tE=e=>e==="*";function hM(e,t){let n=e.split("/"),r=n.length;return n.some(tE)&&(r+=fM),t&&(r+=cM),n.filter(i=>!tE(i)).reduce((i,s)=>i+(aM.test(s)?lM:s===""?uM:dM),r)}function mM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function pM(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=gM({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ds([s,d.pathname]),pathnameBase:SM(Ds([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ds([s,d.pathnameBase]))}return o}function gM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yM(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[d];return m&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function yM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),p4(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function bM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return p4(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function vM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?sc(e):e;return{pathname:n?n.startsWith("/")?n:xM(n,t):t,search:_M(r),hash:CM(i)}}function xM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function b4(e,t){let n=wM(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function v4(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=sc(e):(i=Yu({},e),wt(!i.pathname||!i.pathname.includes("?"),Mg("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),Mg("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),Mg("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=vM(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ds=e=>e.join("/").replace(/\/\/+/g,"/"),SM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_M=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function EM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const x4=["post","put","patch","delete"];new Set(x4);const AM=["get",...x4];new Set(AM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(this,arguments)}const bw=S.createContext(null),TM=S.createContext(null),da=S.createContext(null),Mm=S.createContext(null),Js=S.createContext({outlet:null,matches:[],isDataRoute:!1}),w4=S.createContext(null);function kM(e,t){let{relative:n}=t===void 0?{}:t;z0()||wt(!1);let{basename:r,navigator:i}=S.useContext(da),{hash:s,pathname:o,search:a}=C4(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ds([r,o])),i.createHref({pathname:l,search:a,hash:s})}function z0(){return S.useContext(Mm)!=null}function oc(){return z0()||wt(!1),S.useContext(Mm).location}function S4(e){S.useContext(da).static||S.useLayoutEffect(e)}function yn(){let{isDataRoute:e}=S.useContext(Js);return e?VM():IM()}function IM(){z0()||wt(!1);let e=S.useContext(bw),{basename:t,future:n,navigator:r}=S.useContext(da),{matches:i}=S.useContext(Js),{pathname:s}=oc(),o=JSON.stringify(b4(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return S4(()=>{a.current=!0}),S.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=v4(c,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ds([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,o,s,e])}function _4(){let{matches:e}=S.useContext(Js),t=e[e.length-1];return t?t.params:{}}function C4(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(da),{matches:i}=S.useContext(Js),{pathname:s}=oc(),o=JSON.stringify(b4(i,r.v7_relativeSplatPath));return S.useMemo(()=>v4(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function BM(e,t){return NM(e,t)}function NM(e,t,n,r){z0()||wt(!1);let{navigator:i}=S.useContext(da),{matches:s}=S.useContext(Js),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=oc(),u;if(t){var d;let _=typeof t=="string"?sc(t):t;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||wt(!1),u=_}else u=c;let h=u.pathname||"/",m=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=iM(e,{pathname:m}),y=MM(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Ds([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ds([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return t&&y?S.createElement(Mm.Provider,{value:{location:Wu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Cs.Pop}},y):y}function jM(){let e=FM(),t=EM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,null)}const RM=S.createElement(jM,null);class OM extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(Js.Provider,{value:this.props.routeContext},S.createElement(w4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DM(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(bw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Js.Provider,{value:t},r)}function MM(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||wt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:m}=n,x=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let m,x=!1,y=null,_=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||RM,l&&(c<0&&h===0?(zM("route-fallback"),x=!0,_=null):c===h&&(x=!0,_=d.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),b=()=>{let p;return m?p=y:x?p=_:d.route.Component?p=S.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=u,S.createElement(DM,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:p})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(OM,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}var E4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(E4||{}),A4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(A4||{});function UM(e){let t=S.useContext(bw);return t||wt(!1),t}function LM(e){let t=S.useContext(TM);return t||wt(!1),t}function PM(e){let t=S.useContext(Js);return t||wt(!1),t}function T4(e){let t=PM(),n=t.matches[t.matches.length-1];return n.route.id||wt(!1),n.route.id}function FM(){var e;let t=S.useContext(w4),n=LM(),r=T4();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function VM(){let{router:e}=UM(E4.UseNavigateStable),t=T4(A4.UseNavigateStable),n=S.useRef(!1);return S4(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Wu({fromRouteId:t},s)))},[e,t])}const nE={};function zM(e,t,n){nE[e]||(nE[e]=!0)}function $M(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function or(e){wt(!1)}function HM(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Cs.Pop,navigator:s,static:o=!1,future:a}=e;z0()&&wt(!1);let l=t.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:o,future:Wu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=sc(r));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:x="default"}=r,y=S.useMemo(()=>{let _=yw(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:m,key:x},navigationType:i}},[l,u,d,h,m,x,i]);return y==null?null:S.createElement(da.Provider,{value:c},S.createElement(Mm.Provider,{children:n,value:y}))}function GM(e){let{children:t,location:n}=e;return BM(nv(t),n)}new Promise(()=>{});function nv(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let s=[...t,i];if(r.type===S.Fragment){n.push.apply(n,nv(r.props.children,s));return}r.type!==or&&wt(!1),!r.props.index||!r.props.children||wt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=nv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(this,arguments)}function qM(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function KM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YM(e,t){return e.button===0&&(!t||t==="_self")&&!KM(e)}function iv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function WM(e,t){let n=iv(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const ZM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XM="6";try{window.__reactRouterVersion=XM}catch{}const JM="startTransition",rE=Sx[JM];function QM(e){let{basename:t,children:n,future:r,window:i}=e,s=S.useRef();s.current==null&&(s.current=tM({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=S.useCallback(d=>{c&&rE?rE(()=>l(d)):l(d)},[l,c]);return S.useLayoutEffect(()=>o.listen(u),[o,u]),S.useEffect(()=>$M(r),[r]),S.createElement(HM,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const eU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,So=S.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,h=qM(t,ZM),{basename:m}=S.useContext(da),x,y=!1;if(typeof c=="string"&&tU.test(c)&&(x=c,eU))try{let p=new URL(window.location.href),C=c.startsWith("//")?new URL(p.protocol+c):new URL(c),E=yw(C.pathname,m);C.origin===p.origin&&E!=null?c=E+C.search+C.hash:y=!0}catch{}let _=kM(c,{relative:i}),g=nU(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(p){r&&r(p),p.defaultPrevented||g(p)}return S.createElement("a",rv({},h,{href:x||_,onClick:y||s?r:b,ref:n,target:l}))});var iE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iE||(iE={}));var sE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sE||(sE={}));function nU(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=t===void 0?{}:t,l=yn(),c=oc(),u=C4(e,{relative:o});return S.useCallback(d=>{if(YM(d,n)){d.preventDefault();let h=r!==void 0?r:_h(c)===_h(u);l(e,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,e,s,o,a])}function rU(e){let t=S.useRef(iv(e)),n=S.useRef(!1),r=oc(),i=S.useMemo(()=>WM(r.search,n.current?null:t.current),[r.search]),s=yn(),o=S.useCallback((a,l)=>{const c=iv(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}const iU="modulepreload",sU=function(e){return"/"+e},oE={},Yn=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=sU(l),l in oE)return;oE[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":iU,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},oU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Yn(async()=>{const{default:r}=await Promise.resolve().then(()=>ac);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class vw extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class aU extends vw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lU extends vw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cU extends vw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sv||(sv={}));var uU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class dU{constructor(t,{headers:n={},customFetch:r,region:i=sv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=oU(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return uU(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(x=>{throw new aU(x)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new lU(u);if(!u.ok)throw new cU(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield u.json():h==="application/octet-stream"?m=yield u.blob():h==="text/event-stream"?m=u:h==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(i){return{data:null,error:i}}})}}var dn={},xw={},Um={},$0={},Lm={},Pm={},fU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},Bl=fU();const hU=Bl.fetch,k4=Bl.fetch.bind(Bl),I4=Bl.Headers,mU=Bl.Request,pU=Bl.Response,ac=Object.freeze(Object.defineProperty({__proto__:null,Headers:I4,Request:mU,Response:pU,default:k4,fetch:hU},Symbol.toStringTag,{value:"Module"})),gU=rR(ac);var Fm={};Object.defineProperty(Fm,"__esModule",{value:!0});let yU=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Fm.default=yU;var B4=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pm,"__esModule",{value:!0});const bU=B4(gU),vU=B4(Fm);let xU=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=bU.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,d=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&_&&_.length>1&&(d=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await s.text();try{c=JSON.parse(y),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,m="OK")}catch{s.status===404&&y===""?(h=204,m="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&this.shouldThrowOnError)throw new vU.default(c)}return{error:c,data:u,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Pm.default=xU;var wU=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lm,"__esModule",{value:!0});const SU=wU(Pm);let _U=class extends SU.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Lm.default=_U;var CU=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($0,"__esModule",{value:!0});const EU=CU(Lm);let AU=class extends EU.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};$0.default=AU;var TU=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Um,"__esModule",{value:!0});const Mc=TU($0);let kU=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Mc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Mc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Mc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Mc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Mc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Um.default=kU;var Vm={},zm={};Object.defineProperty(zm,"__esModule",{value:!0});zm.version=void 0;zm.version="0.0.0-automated";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.DEFAULT_HEADERS=void 0;const IU=zm;Vm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${IU.version}`};var N4=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xw,"__esModule",{value:!0});const BU=N4(Um),NU=N4($0),jU=Vm;let RU=class j4{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},jU.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new BU.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new j4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new NU.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};xw.default=RU;var lc=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dn,"__esModule",{value:!0});dn.PostgrestError=dn.PostgrestBuilder=dn.PostgrestTransformBuilder=dn.PostgrestFilterBuilder=dn.PostgrestQueryBuilder=dn.PostgrestClient=void 0;const R4=lc(xw);dn.PostgrestClient=R4.default;const O4=lc(Um);dn.PostgrestQueryBuilder=O4.default;const D4=lc($0);dn.PostgrestFilterBuilder=D4.default;const M4=lc(Lm);dn.PostgrestTransformBuilder=M4.default;const U4=lc(Pm);dn.PostgrestBuilder=U4.default;const L4=lc(Fm);dn.PostgrestError=L4.default;var OU=dn.default={PostgrestClient:R4.default,PostgrestQueryBuilder:O4.default,PostgrestFilterBuilder:D4.default,PostgrestTransformBuilder:M4.default,PostgrestBuilder:U4.default,PostgrestError:L4.default};const{PostgrestClient:DU,PostgrestQueryBuilder:_te,PostgrestFilterBuilder:Cte,PostgrestTransformBuilder:Ete,PostgrestBuilder:Ate,PostgrestError:Tte}=OU;let ov;typeof window>"u"?ov=require("ws"):ov=window.WebSocket;const MU="2.11.10",UU={"X-Client-Info":`realtime-js/${MU}`},LU="1.0.0",P4=1e4,PU=1e3;var hl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hl||(hl={}));var Xt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xt||(Xt={}));var mr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(mr||(mr={}));var av;(function(e){e.websocket="websocket"})(av||(av={}));var _o;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_o||(_o={}));class FU{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class F4{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(We||(We={}));const aE=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=VU(o,e,t,i),s),{})},VU=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?V4(s,o):lv(o)},V4=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return GU(t,n)}switch(e){case We.bool:return zU(t);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return $U(t);case We.json:case We.jsonb:return HU(t);case We.timestamp:return qU(t);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return lv(t);default:return lv(t)}},lv=e=>e,zU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$U=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},HU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},GU=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>V4(t,a))}return e},qU=e=>typeof e=="string"?e.replace(" ","T"):e,z4=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ug{constructor(t,n,r={},i=P4){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lE||(lE={}));class gu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gu.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=gu.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gu.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(_=>_.presence_ref),m=d.map(_=>_.presence_ref),x=u.filter(_=>m.indexOf(_.presence_ref)<0),y=d.filter(_=>h.indexOf(_.presence_ref)<0);x.length>0&&(a[c]=x),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(m=>m.presence_ref),h=u.filter(m=>d.indexOf(m.presence_ref)<0);t[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cE||(cE={}));var uE;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(uE||(uE={}));var pi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pi||(pi={}));class ww{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ug(this,mr.join,this.params,this.timeout),this.rejoinTimer=new F4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new gu(this),this.broadcastEndpointURL=z4(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(pi.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(pi.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(pi.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,x=[];for(let y=0;y<m;y++){const _=h[y],{filter:{event:g,schema:b,table:p,filter:C}}=_,E=u&&u[y];if(E&&E.event===g&&E.schema===b&&E.table===p&&E.filter===C)x.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=Xt.errored,t==null||t(pi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(pi.SUBSCRIBED);return}}).receive("error",u=>{this.state=Xt.errored,t==null||t(pi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const i=new Ug(this,mr.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ug(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=mr;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var x,y,_;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(y=m.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var x,y,_,g,b,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const C=m.id,E=(x=m.filter)===null||x===void 0?void 0:x.event;return C&&((y=n.ids)===null||y===void 0?void 0:y.includes(C))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(b=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return C==="*"||C===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:y,table:_,commit_timestamp:g,type:b,errors:p}=x;h=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:g,eventType:b,new:{},old:{},errors:p}),this._getPayloadRecords(x))}m.callback(h,r)})}_isClosed(){return this.state===Xt.closed}_isJoined(){return this.state===Xt.joined}_isJoining(){return this.state===Xt.joining}_isLeaving(){return this.state===Xt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&ww.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mr.close,{},t)}_onError(t){this._on(mr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=aE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=aE(t.columns,t.old_record)),n}}const dE=()=>{},KU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YU{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=UU,this.params={},this.timeout=P4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dE,this.ref=0,this.logger=dE,this.conn=null,this.sendBuffer=[],this.serializer=new FU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Yn(async()=>{const{default:l}=await Promise.resolve().then(()=>ac);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${av.websocket}`,this.httpEndpoint=z4(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new F4(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ov),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new WU(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:LU}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hl.connecting:return _o.Connecting;case hl.open:return _o.Open;case hl.closing:return _o.Closing;default:return _o.Closed}}isConnected(){return this.connectionState()===_o.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new ww(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(mr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(PU,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(mr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([KU],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class WU{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=hl.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Sw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Bt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ZU extends Sw{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cv extends Sw{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var XU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const $4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Yn(async()=>{const{default:r}=await Promise.resolve().then(()=>ac);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},JU=()=>XU(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yn(()=>Promise.resolve().then(()=>ac),void 0)).Response:Response}),uv=e=>{if(Array.isArray(e))return e.map(n=>uv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=uv(r)}),t};var fa=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Lg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QU=(e,t,n)=>fa(void 0,void 0,void 0,function*(){const r=yield JU();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new ZU(Lg(i),e.status||500))}).catch(i=>{t(new cv(Lg(i),i))}):t(new cv(Lg(e),e))}),e7=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function H0(e,t,n,r,i,s){return fa(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,e7(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>QU(l,a,r))})})}function Ch(e,t,n,r){return fa(this,void 0,void 0,function*(){return H0(e,"GET",t,n,r)})}function hs(e,t,n,r,i){return fa(this,void 0,void 0,function*(){return H0(e,"POST",t,r,i,n)})}function t7(e,t,n,r,i){return fa(this,void 0,void 0,function*(){return H0(e,"PUT",t,r,i,n)})}function n7(e,t,n,r){return fa(this,void 0,void 0,function*(){return H0(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function H4(e,t,n,r,i){return fa(this,void 0,void 0,function*(){return H0(e,"DELETE",t,r,i,n)})}var on=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const r7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i7{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=$4(i)}uploadOrUpdate(t,n,r,i){return on(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},fE),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(Bt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return on(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:fE.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Bt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return on(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield hs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Sw("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}update(t,n,r){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return on(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Bt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return on(this,void 0,void 0,function*(){try{return{data:{path:(yield hs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Bt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return on(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield hs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Bt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return on(this,void 0,void 0,function*(){try{const i=yield hs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Bt(i))return{data:null,error:i};throw i}})}download(t,n){return on(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ch(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Bt(a))return{data:null,error:a};throw a}})}info(t){return on(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ch(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:uv(r),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}exists(t){return on(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield n7(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Bt(r)&&r instanceof cv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return on(this,void 0,void 0,function*(){try{return{data:yield H4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}})}list(t,n,r){return on(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},r7),n),{prefix:t||""});return{data:yield hs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Bt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const s7="2.7.1",o7={"X-Client-Info":`storage-js/${s7}`};var wa=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,[])).next())})};class a7{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},o7),n),this.fetch=$4(r)}listBuckets(){return wa(this,void 0,void 0,function*(){try{return{data:yield Ch(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Bt(t))return{data:null,error:t};throw t}})}getBucket(t){return wa(this,void 0,void 0,function*(){try{return{data:yield Ch(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return wa(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return wa(this,void 0,void 0,function*(){try{return{data:yield t7(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return wa(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return wa(this,void 0,void 0,function*(){try{return{data:yield H4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}})}}class l7 extends a7{constructor(t,n={},r){super(t,n,r)}from(t){return new i7(this.url,this.headers,t,this.fetch)}}const c7="2.50.0";let Yc="";typeof Deno<"u"?Yc="deno":typeof document<"u"?Yc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yc="react-native":Yc="node";const u7={"X-Client-Info":`supabase-js-${Yc}/${c7}`},d7={headers:u7},f7={schema:"public"},h7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},m7={};var p7=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const g7=e=>{let t;return e?t=e:typeof fetch>"u"?t=k4:t=fetch,(...n)=>t(...n)},y7=()=>typeof Headers>"u"?I4:Headers,b7=(e,t,n)=>{const r=g7(n),i=y7();return(s,o)=>p7(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var v7=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,[])).next())})};function x7(e){return e.endsWith("/")?e:e+"/"}function w7(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>v7(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const G4="2.70.0",Fa=30*1e3,dv=3,Pg=dv*Fa,S7="http://localhost:9999",_7="supabase.auth.token",C7={"X-Client-Info":`gotrue-js/${G4}`},fv="X-Supabase-Api-Version",q4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A7=6e5;class _w extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class T7 extends _w{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function k7(e){return ge(e)&&e.name==="AuthApiError"}class K4 extends _w{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Qs extends _w{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ls extends Qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I7(e){return ge(e)&&e.name==="AuthSessionMissingError"}class Fd extends Qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vd extends Qs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zd extends Qs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B7(e){return ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class hE extends Qs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hv extends Qs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Fg(e){return ge(e)&&e.name==="AuthRetryableFetchError"}class mE extends Qs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class yu extends Qs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Eh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pE=` 	
\r=`.split(""),N7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pE.length;t+=1)e[pE[t].charCodeAt(0)]=-2;for(let t=0;t<Eh.length;t+=1)e[Eh[t].charCodeAt(0)]=t;return e})();function gE(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Eh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Eh[r]),t.queuedBits-=6}}function Y4(e,t,n){const r=N7[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yE(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{O7(o,r,n)};for(let o=0;o<e.length;o+=1)Y4(e.charCodeAt(o),i,s);return t.join("")}function j7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function R7(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}j7(r,t)}}function O7(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function D7(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Y4(e.charCodeAt(i),n,r);return new Uint8Array(t)}function M7(e){const t=[];return R7(e,n=>t.push(n)),new Uint8Array(t)}function U7(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>gE(i,n,r)),gE(null,n,r),t.join("")}function L7(e){return Math.round(Date.now()/1e3)+e}function P7(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ar=()=>typeof window<"u"&&typeof document<"u",oo={tested:!1,writable:!1},bu=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oo.tested)return oo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oo.tested=!0,oo.writable=!0}catch{oo.tested=!0,oo.writable=!1}return oo.writable};function F7(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const W4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Yn(async()=>{const{default:r}=await Promise.resolve().then(()=>ac);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},V7=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Z4=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$d=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hd=async(e,t)=>{await e.removeItem(t)};class $m{constructor(){this.promise=new $m.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}$m.promiseConstructor=Promise;function Vg(e){const t=e.split(".");if(t.length!==3)throw new yu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!E7.test(t[r]))throw new yu("JWT not in base64url format");return{header:JSON.parse(yE(t[0])),payload:JSON.parse(yE(t[1])),signature:D7(t[2]),raw:{header:t[0],payload:t[1]}}}async function z7(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $7(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function H7(e){return("0"+e.toString(16)).substr(-2)}function G7(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,H7).join("")}async function q7(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function K7(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await q7(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sa(e,t,n=!1){const r=G7();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Z4(e,`${t}-code-verifier`,i);const s=await K7(r);return[s,r===s?"plain":"s256"]}const Y7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function W7(e){const t=e.headers.get(fv);if(!t||!t.match(Y7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Z7(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function X7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _a(e){if(!J7.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Q7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const xo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eL=[502,503,504];async function bE(e){var t;if(!V7(e))throw new hv(xo(e),0);if(eL.includes(e.status))throw new hv(xo(e),e.status);let n;try{n=await e.json()}catch(s){throw new K4(xo(s),s)}let r;const i=W7(e);if(i&&i.getTime()>=q4["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new mE(xo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ls}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new mE(xo(n),e.status,n.weak_password.reasons);throw new T7(xo(n),e.status||500,r)}const tL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ce(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[fv]||(s[fv]=q4["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await nL(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function nL(e,t,n,r,i,s){const o=tL(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new hv(xo(l),0)}if(a.ok||await bE(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await bE(l)}}function fi(e){var t;let n=null;oL(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=L7(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function vE(e){const t=fi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rL(e){return{data:e,error:null}}function iL(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=Q7(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function sL(e){return e}function oL(e){return e.access_token&&e.refresh_token&&e.expires_in}const zg=["global","local","others"];var aL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class lL{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=W4(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=zg[0]){if(zg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zg.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bs})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=aL(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:iL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bs})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:sL});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);c[`${_}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ge(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){_a(t);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bs})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){_a(t);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:bs})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){_a(t);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:bs})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){_a(t.userId);try{const{data:n,error:r}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){_a(t.userId),_a(t.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}}const cL={getItem:e=>bu()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{bu()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{bu()&&globalThis.localStorage.removeItem(e)}};function xE(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function uL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ca={debug:!!(globalThis&&bu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dL extends X4{}async function fL(e,t,n){Ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ca.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ca.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}uL();const hL={url:S7,storageKey:_7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wE(e,t,n){return await n()}class Zu{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zu.nextInstanceID,Zu.nextInstanceID+=1,this.instanceID>0&&ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},hL),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new lL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=W4(i.fetch),this.lock=i.lock||wE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ar()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=fL:this.lock=wE,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:bu()?this.storage=cL:(this.memoryStorage={},this.storage=xE(this.memoryStorage)):(this.memoryStorage={},this.storage=xE(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${G4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=F7(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ar()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),B7(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?{error:n}:{error:new K4("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:fi}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:u,password:d,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Sa(this.storage,this.storageKey)),s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:fi})}else if("phone"in t){const{phone:u,password:d,options:h}=t;s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:fi})}else throw new Vd("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:vE})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:vE})}else throw new Vd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,c,u,d,h,m;let x,y;if("message"in t)x=t.message,y=t.signature;else{const{chain:_,wallet:g,statement:b,options:p}=t;let C;if(ar())if(typeof g=="object")C=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))C=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=g}const E=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const N=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),b?{statement:b}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(u=p==null?void 0:p.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await C.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:_,error:g}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:U7(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:fi});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Fd}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if(ge(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await $d(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:fi});if(await Hd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Fd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(ge(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:fi}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Sa(this.storage,this.storageKey));const{error:d}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Vd("You must provide either an email or phone number.")}catch(a){if(ge(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:fi});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Sa(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:rL})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ls;const{error:i}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ge(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Vd("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await $d(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Pg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bs}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ls}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:bs})})}catch(n){if(ge(n))return I7(n)&&(await this._removeSession(),await Hd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ls;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Sa(this.storage,this.storageKey));const{data:c,error:u}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:bs});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ls;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Vg(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ls;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ar())throw new zd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new hE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hE("No code detected.");const{data:b,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new zd("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const m=h-u;m*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const x=h-d;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,u);const{data:y,error:_}=await this._getUser(s);if(_)throw _;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await $d(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(k7(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Hd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=P7(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Sa(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ar()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ge(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $7(async i=>(i>0&&await z7(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fi})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Fg(s)&&Date.now()+o-r<Fa})}catch(r){if(this._debug(n,"error",r),ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ar()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await $d(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Pg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Pg}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),Fg(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ls;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new $m;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new ls;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ge(s)){const o={session:null,error:s};return Fg(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Z4(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Hd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fa}ms, refresh threshold is ${dv} ticks`),i<=dv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof X4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Sa(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vg(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+A7>Date.now()))return r;const{data:i,error:s}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new yu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===t),!r)throw new yu("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};r=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Vg(r);if(Z7(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const c=X7(i.alg),u=await this.fetchJwk(i.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,M7(`${a}.${l}`)))throw new yu("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}}Zu.nextInstanceID=0;const mL=Zu;class pL extends mL{constructor(t){super(t)}}var gL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,[])).next())})};class yL{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=x7(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:f7,realtime:m7,auth:Object.assign(Object.assign({},h7),{storageKey:c}),global:d7},d=w7(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=b7(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new DU(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new dU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new l7(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return gL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pL({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new YU(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bL=(e,t,n)=>new yL(e,t,n),vL="0.6.1";var Cw={};Object.defineProperty(Cw,"__esModule",{value:!0});var xL=Cw.parse=kL,wL=Cw.serialize=IL;const SL=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,_L=/^[\u0021-\u003A\u003C-\u007E]*$/,CL=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,EL=/^[\u0020-\u003A\u003D-\u007E]*$/,AL=Object.prototype.toString,TL=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function kL(e,t){const n=new TL,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||BL;let s=0;do{const o=e.indexOf("=",s);if(o===-1)break;const a=e.indexOf(";",s),l=a===-1?r:a;if(o>l){s=e.lastIndexOf(";",o-1)+1;continue}const c=SE(e,s,o),u=_E(e,o,c),d=e.slice(c,u);if(n[d]===void 0){let h=SE(e,o+1,l),m=_E(e,l,h);const x=i(e.slice(h,m));n[d]=x}s=l+1}while(s<r);return n}function SE(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function _E(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function IL(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!SL.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!_L.test(i))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!CL.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!EL.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!NL(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function BL(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function NL(e){return AL.call(e)==="[object Date]"}function vu(){return typeof window<"u"&&typeof window.document<"u"}const Gd={path:"/",sameSite:"lax",httpOnly:!1,maxAge:400*24*60*60},jL=3180,RL=/^(.*)[.](0|[1-9][0-9]*)$/;function CE(e,t){if(e===t)return!0;const n=e.match(RL);return!!(n&&n[1]===t)}function OL(e,t,n){const r=jL;let i=encodeURIComponent(t);if(i.length<=r)return[{name:e,value:t}];const s=[];for(;i.length>0;){let o=i.slice(0,r);const a=o.lastIndexOf("%");a>r-3&&(o=o.slice(0,a));let l="";for(;o.length>0;)try{l=decodeURIComponent(o);break}catch(c){if(c instanceof URIError&&o.at(-3)==="%"&&o.length>3)o=o.slice(0,o.length-3);else throw c}s.push(l),i=i.slice(o.length)}return s.map((o,a)=>({name:`${e}.${a}`,value:o}))}async function DL(e,t){const n=await t(e);if(n)return n;let r=[];for(let i=0;;i++){const s=`${e}.${i}`,o=await t(s);if(!o)break;r.push(o)}return r.length>0?r.join(""):null}const Ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),EE=` 	
\r=`.split(""),ML=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<EE.length;t+=1)e[EE[t].charCodeAt(0)]=-2;for(let t=0;t<Ah.length;t+=1)e[Ah[t].charCodeAt(0)]=t;return e})();function UL(e){const t=[];let n=0,r=0;if(FL(e,s=>{for(n=n<<8|s,r+=8;r>=6;){const o=n>>r-6&63;t.push(Ah[o]),r-=6}}),r>0)for(n=n<<6-r,r=6;r>=6;){const s=n>>r-6&63;t.push(Ah[s]),r-=6}return t.join("")}function LL(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0};let i=0,s=0;for(let o=0;o<e.length;o+=1){const a=e.charCodeAt(o),l=ML[a];if(l>-1)for(i=i<<6|l,s+=6;s>=8;)VL(i>>s-8&255,r,n),s-=8;else{if(l===-2)continue;throw new Error(`Invalid Base64-URL character "${e.at(o)}" at position ${o}`)}}return t.join("")}function PL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function FL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}PL(r,t)}}function VL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}const $g="base64-";function zL(e,t){const n=e.cookies??null,r={},i={};let s,o;if(n)if("get"in n){const a=async l=>{const c=l.flatMap(d=>[d,...Array.from({length:5}).map((h,m)=>`${d}.${m}`)]),u=[];for(let d=0;d<c.length;d+=1){const h=await n.get(c[d]);!h&&typeof h!="string"||u.push({name:c[d],value:h})}return u};if(s=async l=>await a(l),"set"in n&&"remove"in n)o=async l=>{for(let c=0;c<l.length;c+=1){const{name:u,value:d,options:h}=l[c];d?await n.set(u,d,h):await n.remove(u,h)}};else throw new Error("@supabase/ssr: createBrowserClient requires configuring a getAll and setAll cookie method (deprecated: alternatively both get, set and remove can be used)")}else if("getAll"in n)if(s=async()=>await n.getAll(),"setAll"in n)o=n.setAll;else throw new Error("@supabase/ssr: createBrowserClient requires configuring both getAll and setAll cookie methods (deprecated: alternatively both get, set and remove can be used)");else throw new Error(`@supabase/ssr: createBrowserClient requires configuring getAll and setAll cookie methods (deprecated: alternatively use get, set and remove).${vu()?" As this is called in a browser runtime, consider removing the cookies option object to use the document.cookie API automatically.":""}`);else if(vu()){const a=()=>{const l=xL(document.cookie);return Object.keys(l).map(c=>({name:c,value:l[c]??""}))};s=()=>a(),o=l=>{l.forEach(({name:c,value:u,options:d})=>{document.cookie=wL(c,u,d)})}}else s=()=>[],o=()=>{throw new Error("@supabase/ssr: createBrowserClient in non-browser runtimes (including Next.js pre-rendering mode) was not initialized cookie options that specify getAll and setAll functions (deprecated: alternatively use get, set and remove), but they were needed")};return{getAll:s,setAll:o,setItems:r,removedItems:i,storage:{isServer:!1,getItem:async a=>{const l=await s([a]),c=await DL(a,async d=>{const h=(l==null?void 0:l.find(({name:m})=>m===d))||null;return h?h.value:null});if(!c)return null;let u=c;return c.startsWith($g)&&(u=LL(c.substring($g.length))),u},setItem:async(a,l)=>{const c=await s([a]),u=(c==null?void 0:c.map(({name:g})=>g))||[],d=new Set(u.filter(g=>CE(g,a)));let h=l;h=$g+UL(l);const m=OL(a,h);m.forEach(({name:g})=>{d.delete(g)});const x={...Gd,...e==null?void 0:e.cookieOptions,maxAge:0},y={...Gd,...e==null?void 0:e.cookieOptions,maxAge:Gd.maxAge};delete x.name,delete y.name;const _=[...[...d].map(g=>({name:g,value:"",options:x})),...m.map(({name:g,value:b})=>({name:g,value:b,options:y}))];_.length>0&&await o(_)},removeItem:async a=>{const l=await s([a]),u=((l==null?void 0:l.map(({name:h})=>h))||[]).filter(h=>CE(h,a)),d={...Gd,...e==null?void 0:e.cookieOptions,maxAge:0};delete d.name,u.length>0&&await o(u.map(h=>({name:h,value:"",options:d})))}}}}let Hg;function $L(e,t,n){var o;const r=vu();if(r&&Hg)return Hg;const{storage:i}=zL({...n}),s=bL(e,t,{...n,global:{...n==null?void 0:n.global,headers:{...(o=n==null?void 0:n.global)==null?void 0:o.headers,"X-Client-Info":`supabase-ssr/${vL} createBrowserClient`}},auth:{...n==null?void 0:n.auth,flowType:"pkce",autoRefreshToken:vu(),detectSessionInUrl:vu(),persistSession:!0,storage:i}});return r&&(Hg=s),s}function er(){return $L("https://gzigpkrzuonxgeeolnpu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd6aWdwa3J6dW9ueGdlZW9sbnB1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5MzA1NjksImV4cCI6MjA2NTUwNjU2OX0.cInw1HILEOd9dXPlfTToFc5UaUAkgq8a5zCVoTgiEIs")}class HL{constructor(){this.scrollY=0,this.targetScrollY=0,this.currentScrollY=0,this.ticking=!1,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.lerpFactor=.12,this.heroTextShown=!1,this.elements={handImage:null,handGlow:null,heroText:null},this.init()}init(){this.cacheElements(),this.setupEventListeners(),this.initializeHandPosition(),this.startParallaxLoop()}cacheElements(){this.elements={handImage:document.querySelector(".hand-image"),handGlow:document.querySelector(".hand-glow"),heroText:document.querySelector(".hero-text-container")}}setupEventListeners(){window.addEventListener("scroll",this.handleScroll.bind(this),{passive:!0}),window.addEventListener("resize",this.handleResize.bind(this))}handleScroll(){this.targetScrollY=window.pageYOffset||document.documentElement.scrollTop,this.ticking||this.requestTick()}handleResize(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth}requestTick(){this.ticking||(requestAnimationFrame(this.updateParallax.bind(this)),this.ticking=!0)}startParallaxLoop(){const t=()=>{this.updateParallax(),requestAnimationFrame(t)};requestAnimationFrame(t)}updateParallax(){this.currentScrollY=this.lerp(this.currentScrollY,this.targetScrollY,this.lerpFactor);const t=this.currentScrollY/this.windowHeight*.5,n=Math.min(t*1.2,1);this.updateDivineHand(n),this.updateHeroText(n),this.ticking=!1}updateDivineHand(t){if(!this.elements.handImage)return;const n=-this.windowWidth*.3,r=-this.windowHeight*.8,i=this.windowWidth*.15,s=this.windowHeight*.35,o=this.lerp(n,i,t),a=this.lerp(r,s,t),l=.6+t*.3;if(this.elements.handImage.style.transform=`translate(${o}px, ${a}px) scale(${l})`,this.elements.handGlow){const c=.2+t*.25;this.elements.handGlow.style.opacity=c.toString(),this.elements.handGlow.style.transform=`translate(${o-50}px, ${a-50}px) scale(${l*1.1})`}}updateHeroText(t){if(!this.elements.heroText)return;this.elements.heroText.classList.add("show-title"),this.currentScrollY<=10?this.elements.heroText.classList.add("show-scroll-indicator"):this.elements.heroText.classList.remove("show-scroll-indicator"),t>=.6?this.elements.heroText.classList.add("show-phrase"):this.elements.heroText.classList.remove("show-phrase");const n=this.elements.heroText.querySelector(".hero-title"),r=this.elements.heroText.querySelector(".hero-subtitle");if(n){const i=t>=.6?Math.min((t-.6)*100,40):0;n.style.transform=`translateY(-${i}px)`}if(r&&t>=.6){const i=Math.min((t-.6)*2.5,1),s=Math.max(30-(t-.6)*75,0);r.style.opacity=i.toString(),r.style.transform=`translateY(${s}px)`}}initializeHandPosition(){if(this.elements.handImage){const t=-this.windowWidth*.3,n=-this.windowHeight*.8,r=.6;this.elements.handImage.style.transform=`translate(${t}px, ${n}px) scale(${r})`,this.elements.handImage.style.opacity="1"}if(this.elements.handGlow){const t=-this.windowWidth*.3,n=-this.windowHeight*.8;this.elements.handGlow.style.transform=`translate(${t-50}px, ${n-50}px) scale(${.6*1.1})`,this.elements.handGlow.style.opacity="0.2"}}lerp(t,n,r){return t+(n-t)*r}}const Ew=()=>{const[e,t]=S.useState(null),[n,r]=S.useState(!0),[i,s]=S.useState(!1),o=S.useRef(null),a=yn(),l=er();S.useEffect(()=>{(()=>{if(document.getElementById("divine-header-styles"))return;const x=document.createElement("link");x.rel="stylesheet",x.href="/styles/divine-parallax.css",x.id="divine-header-styles",document.head.appendChild(x)})()},[]),S.useEffect(()=>{(async()=>{const{data:{user:y}}=await l.auth.getUser();t(y),r(!1)})();const{data:{subscription:x}}=l.auth.onAuthStateChange((y,_)=>{t((_==null?void 0:_.user)??null)});return()=>x.unsubscribe()},[l.auth]),S.useEffect(()=>{const m=x=>{o.current&&!o.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const c=async()=>{await l.auth.signOut(),s(!1),a("/")},u=()=>{s(!1),a("/events")},d=()=>{a("/login")},h=()=>{a("/")};return f.jsx("header",{className:"divine-header",children:f.jsx("div",{className:"header-container",children:f.jsxs("div",{className:"header-pill",children:[f.jsx("div",{className:"logo-section",children:f.jsx("h1",{className:"divine-logo",onClick:h,style:{cursor:"pointer"},children:"God's Hand"})}),f.jsx("div",{className:"account-section",children:n?f.jsx("div",{className:"loading-spinner"}):e?f.jsxs("div",{className:"account-dropdown",ref:o,children:[f.jsxs("button",{className:"account-button",onClick:()=>s(!i),children:[f.jsxs("svg",{className:"user-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),f.jsx("svg",{className:`dropdown-arrow ${i?"open":""}`,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:f.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&f.jsxs("div",{className:"dropdown-menu",children:[f.jsxs("button",{className:"dropdown-item",onClick:u,children:[f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"Events"]}),f.jsxs("button",{className:"dropdown-item logout",onClick:c,children:[f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("polyline",{points:"16,17 21,12 16,7"}),f.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign Out"]})]})]}):f.jsx("button",{className:"login-button",onClick:d,children:"Sign In"})})]})})})};function GL(){const e=yn(),[t,n]=S.useState(null),[r,i]=S.useState(!0),s=er();S.useEffect(()=>{(async()=>{const{data:{user:c}}=await s.auth.getUser();n(c),i(!1)})();const{data:{subscription:l}}=s.auth.onAuthStateChange((c,u)=>{n((u==null?void 0:u.user)??null),console.log("user",t)});return()=>l.unsubscribe()},[s.auth,t]),S.useEffect(()=>{const a=document.createElement("link");return a.rel="stylesheet",a.href="/styles/divine-parallax.css",a.id="divine-parallax-styles",document.head.appendChild(a),new HL,()=>{const l=document.getElementById("divine-parallax-styles");l&&document.head.removeChild(l)}},[]);const o=()=>{e("/events")};return f.jsxs(f.Fragment,{children:[f.jsx(Ew,{}),f.jsxs("main",{id:"divine-parallax",className:"parallax-container",children:[f.jsx("div",{className:"parallax-layer",id:"bg-gradient"}),f.jsx("div",{className:"parallax-layer clouds-layer",id:"clouds-far",children:f.jsx("img",{src:"/assets/clouds.png",alt:"Divine Clouds",className:"clouds-image"})}),f.jsxs("div",{className:"parallax-layer",id:"divine-hand",children:[f.jsx("img",{src:"/assets/hand.PNG",alt:"Divine Hand",className:"hand-image"}),f.jsx("div",{className:"hand-glow"})]}),f.jsx("div",{className:"parallax-layer hero-text-container",children:f.jsxs("div",{className:"hero-content",children:[f.jsx("h1",{className:"hero-title",children:"God's Hand"}),f.jsxs("div",{className:"scroll-indicator",children:[f.jsx("p",{children:"Scroll For Blessings"}),f.jsxs("div",{className:"scroll-arrow",children:[f.jsx("span",{}),f.jsx("span",{}),f.jsx("span",{})]})]}),f.jsx("p",{className:"hero-subtitle",children:"Where Heaven Hears, and Humanity Helps — One Anonymous Gift at a Time."}),f.jsx("div",{className:"divine-buttons",children:f.jsxs("button",{className:"divine-btn primary",onClick:o,disabled:r,children:[f.jsx("span",{className:"btn-text",children:r?"Loading...":"View Events"}),f.jsx("div",{className:"btn-glow"})]})})]})})]}),f.jsx("div",{style:{height:"500vh",background:"transparent"}})]})}const Aw=S.createContext({});function G0(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const Tw=typeof window<"u",kw=Tw?S.useLayoutEffect:S.useEffect,Hm=S.createContext(null);function Iw(e,t){e.indexOf(t)===-1&&e.push(t)}function Bw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Di=(e,t,n)=>n>t?t:n<e?e:n;let Nw=()=>{};const Mi={},J4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Q4(e){return typeof e=="object"&&e!==null}const eI=e=>/^0[^.\s]+$/u.test(e);function jw(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wn=e=>e,qL=(e,t)=>n=>t(e(n)),q0=(...e)=>e.reduce(qL),Xu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Rw{constructor(){this.subscriptions=[]}add(t){return Iw(this.subscriptions,t),()=>Bw(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vr=e=>e*1e3,zr=e=>e/1e3;function tI(e,t){return t?e*(1e3/t):0}const nI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,KL=1e-7,YL=12;function WL(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=nI(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>KL&&++a<YL);return o}function K0(e,t,n,r){if(e===t&&n===r)return Wn;const i=s=>WL(s,0,1,e,n);return s=>s===0||s===1?s:nI(i(s),t,r)}const rI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iI=e=>t=>1-e(1-t),sI=K0(.33,1.53,.69,.99),Ow=iI(sI),oI=rI(Ow),aI=e=>(e*=2)<1?.5*Ow(e):.5*(2-Math.pow(2,-10*(e-1))),Dw=e=>1-Math.sin(Math.acos(e)),lI=iI(Dw),cI=rI(Dw),ZL=K0(.42,0,1,1),XL=K0(0,0,.58,1),uI=K0(.42,0,.58,1),JL=e=>Array.isArray(e)&&typeof e[0]!="number",dI=e=>Array.isArray(e)&&typeof e[0]=="number",QL={linear:Wn,easeIn:ZL,easeInOut:uI,easeOut:XL,circIn:Dw,circInOut:cI,circOut:lI,backIn:Ow,backInOut:oI,backOut:sI,anticipate:aI},eP=e=>typeof e=="string",AE=e=>{if(dI(e)){Nw(e.length===4);const[t,n,r,i]=e;return K0(t,n,r,i)}else if(eP(e))return QL[e];return e},qd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tP(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const x=h&&i?n:r;return d&&o.add(u),x.has(u)||x.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const nP=40;function fI(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=qd.reduce((p,C)=>(p[C]=tP(s),p),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:m,postRender:x}=o,y=()=>{const p=Mi.useManualTiming?i.timestamp:performance.now();n=!1,Mi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,nP),1)),i.timestamp=p,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),m.process(i),x.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(y))},_=()=>{n=!0,r=!0,i.isProcessing||e(y)};return{schedule:qd.reduce((p,C)=>{const E=o[C];return p[C]=(N,k=!1,j=!1)=>(n||_(),E.schedule(N,k,j)),p},{}),cancel:p=>{for(let C=0;C<qd.length;C++)o[qd[C]].cancel(p)},state:i,steps:o}}const{schedule:Xe,cancel:Ui,state:Lt,steps:Gg}=fI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let Uf;function rP(){Uf=void 0}const fn={now:()=>(Uf===void 0&&fn.set(Lt.isProcessing||Mi.useManualTiming?Lt.timestamp:performance.now()),Uf),set:e=>{Uf=e,queueMicrotask(rP)}},hI=e=>t=>typeof t=="string"&&t.startsWith(e),Mw=hI("--"),iP=hI("var(--"),Uw=e=>iP(e)?sP.test(e.split("/*")[0].trim()):!1,sP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ju={...cc,transform:e=>Di(0,1,e)},Kd={...cc,default:1},xu=e=>Math.round(e*1e5)/1e5,Lw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oP(e){return e==null}const aP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pw=(e,t)=>n=>!!(typeof n=="string"&&aP.test(n)&&n.startsWith(e)||t&&!oP(n)&&Object.prototype.hasOwnProperty.call(n,t)),mI=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Lw);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},lP=e=>Di(0,255,e),qg={...cc,transform:e=>Math.round(lP(e))},Eo={test:Pw("rgb","red"),parse:mI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+qg.transform(e)+", "+qg.transform(t)+", "+qg.transform(n)+", "+xu(Ju.transform(r))+")"};function cP(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const mv={test:Pw("#"),parse:cP,transform:Eo.transform},Y0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),cs=Y0("deg"),$r=Y0("%"),he=Y0("px"),uP=Y0("vh"),dP=Y0("vw"),TE={...$r,parse:e=>$r.parse(e)/100,transform:e=>$r.transform(e*100)},Qa={test:Pw("hsl","hue"),parse:mI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+$r.transform(xu(t))+", "+$r.transform(xu(n))+", "+xu(Ju.transform(r))+")"},bt={test:e=>Eo.test(e)||mv.test(e)||Qa.test(e),parse:e=>Eo.test(e)?Eo.parse(e):Qa.test(e)?Qa.parse(e):mv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Eo.transform(e):Qa.transform(e),getAnimatableNone:e=>{const t=bt.parse(e);return t.alpha=0,bt.transform(t)}},fP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hP(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Lw))==null?void 0:t.length)||0)+(((n=e.match(fP))==null?void 0:n.length)||0)>0}const pI="number",gI="color",mP="var",pP="var(",kE="${}",gP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(gP,l=>(bt.test(l)?(r.color.push(s),i.push(gI),n.push(bt.parse(l))):l.startsWith(pP)?(r.var.push(s),i.push(mP),n.push(l)):(r.number.push(s),i.push(pI),n.push(parseFloat(l))),++s,kE)).split(kE);return{values:n,split:a,indexes:r,types:i}}function yI(e){return Qu(e).values}function bI(e){const{split:t,types:n}=Qu(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===pI?s+=xu(i[o]):a===gI?s+=bt.transform(i[o]):s+=i[o]}return s}}const yP=e=>typeof e=="number"?0:bt.test(e)?bt.getAnimatableNone(e):e;function bP(e){const t=yI(e);return bI(e)(t.map(yP))}const Hs={test:hP,parse:yI,createTransformer:bI,getAnimatableNone:bP};function Kg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vP({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Kg(l,a,e+1/3),s=Kg(l,a,e),o=Kg(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Th(e,t){return n=>n>0?t:e}const lt=(e,t,n)=>e+(t-e)*n,Yg=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},xP=[mv,Eo,Qa],wP=e=>xP.find(t=>t.test(e));function IE(e){const t=wP(e);if(!t)return!1;let n=t.parse(e);return t===Qa&&(n=vP(n)),n}const BE=(e,t)=>{const n=IE(e),r=IE(t);if(!n||!r)return Th(e,t);const i={...n};return s=>(i.red=Yg(n.red,r.red,s),i.green=Yg(n.green,r.green,s),i.blue=Yg(n.blue,r.blue,s),i.alpha=lt(n.alpha,r.alpha,s),Eo.transform(i))},pv=new Set(["none","hidden"]);function SP(e,t){return pv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _P(e,t){return n=>lt(e,t,n)}function Fw(e){return typeof e=="number"?_P:typeof e=="string"?Uw(e)?Th:bt.test(e)?BE:AP:Array.isArray(e)?vI:typeof e=="object"?bt.test(e)?BE:CP:Th}function vI(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>Fw(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function CP(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Fw(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function EP(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const AP=(e,t)=>{const n=Hs.createTransformer(t),r=Qu(e),i=Qu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?pv.has(e)&&!i.values.length||pv.has(t)&&!r.values.length?SP(e,t):q0(vI(EP(r,i),i.values),n):Th(e,t)};function xI(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?lt(e,t,n):Fw(e)(e,t)}const TP=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Xe.update(t,n),stop:()=>Ui(t),now:()=>Lt.isProcessing?Lt.timestamp:fn.now()}},wI=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},kh=2e4;function Vw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<kh;)t+=n,r=e.next(t);return t>=kh?1/0:t}function kP(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Vw(r),kh);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:zr(i)}}const IP=5;function SI(e,t,n){const r=Math.max(t-IP,0);return tI(n-e(r),t-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wg=.001;function BP({duration:e=ut.duration,bounce:t=ut.bounce,velocity:n=ut.velocity,mass:r=ut.mass}){let i,s,o=1-t;o=Di(ut.minDamping,ut.maxDamping,o),e=Di(ut.minDuration,ut.maxDuration,zr(e)),o<1?(i=c=>{const u=c*o,d=u*e,h=u-n,m=gv(c,o),x=Math.exp(-d);return Wg-h/m*x},s=c=>{const d=c*o*e,h=d*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,x=Math.exp(-d),y=gv(Math.pow(c,2),o);return(-i(c)+Wg>0?-1:1)*((h-m)*x)/y}):(i=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-Wg+u*d},s=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=jP(i,s,a);if(e=Vr(e),isNaN(l))return{stiffness:ut.stiffness,damping:ut.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const NP=12;function jP(e,t,n){let r=n;for(let i=1;i<NP;i++)r=r-e(r)/t(r);return r}function gv(e,t){return e*Math.sqrt(1-t*t)}const RP=["duration","bounce"],OP=["stiffness","damping","mass"];function NE(e,t){return t.some(n=>e[n]!==void 0)}function DP(e){let t={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...e};if(!NE(e,OP)&&NE(e,RP))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Di(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ut.mass,stiffness:i,damping:s}}else{const n=BP(e);t={...t,...n,mass:ut.mass},t.isResolvedFromDuration=!0}return t}function Ih(e=ut.visualDuration,t=ut.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=DP({...n,velocity:-zr(n.velocity||0)}),x=h||0,y=c/(2*Math.sqrt(l*u)),_=o-s,g=zr(Math.sqrt(l/u)),b=Math.abs(_)<5;r||(r=b?ut.restSpeed.granular:ut.restSpeed.default),i||(i=b?ut.restDelta.granular:ut.restDelta.default);let p;if(y<1){const E=gv(g,y);p=N=>{const k=Math.exp(-y*g*N);return o-k*((x+y*g*_)/E*Math.sin(E*N)+_*Math.cos(E*N))}}else if(y===1)p=E=>o-Math.exp(-g*E)*(_+(x+g*_)*E);else{const E=g*Math.sqrt(y*y-1);p=N=>{const k=Math.exp(-y*g*N),j=Math.min(E*N,300);return o-k*((x+y*g*_)*Math.sinh(j)+E*_*Math.cosh(j))/E}}const C={calculatedDuration:m&&d||null,next:E=>{const N=p(E);if(m)a.done=E>=d;else{let k=E===0?x:0;y<1&&(k=E===0?Vr(x):SI(p,E,N));const j=Math.abs(k)<=r,D=Math.abs(o-N)<=i;a.done=j&&D}return a.value=a.done?o:N,a},toString:()=>{const E=Math.min(Vw(C),kh),N=wI(k=>C.next(E*k).value,E,30);return E+"ms "+N},toTransition:()=>{}};return C}Ih.applyToOptions=e=>{const t=kP(e,100,Ih);return e.ease=t.ease,e.duration=Vr(t.duration),e.type="keyframes",e};function yv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},m=j=>a!==void 0&&j<a||l!==void 0&&j>l,x=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let y=n*t;const _=d+y,g=o===void 0?_:o(_);g!==_&&(y=g-d);const b=j=>-y*Math.exp(-j/r),p=j=>g+b(j),C=j=>{const D=b(j),M=p(j);h.done=Math.abs(D)<=c,h.value=h.done?g:M};let E,N;const k=j=>{m(h.value)&&(E=j,N=Ih({keyframes:[h.value,x(h.value)],velocity:SI(p,j,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:j=>{let D=!1;return!N&&E===void 0&&(D=!0,C(j),k(j)),E!==void 0&&j>=E?N.next(j-E):(!D&&C(j),h)}}}function MP(e,t,n){const r=[],i=n||Mi.mix||xI,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Wn:t;a=q0(l,a)}r.push(a)}return r}function _I(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Nw(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=MP(t,r,i),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Xu(e[d],e[d+1],u);return a[d](h)};return n?u=>c(Di(e[0],e[s-1],u)):c}function UP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Xu(0,t,r);e.push(lt(n,1,i))}}function LP(e){const t=[0];return UP(t,e.length-1),t}function PP(e,t){return e.map(n=>n*t)}function FP(e,t){return e.map(()=>t||uI).splice(0,e.length-1)}function wu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=JL(r)?r.map(AE):AE(r),s={done:!1,value:t[0]},o=PP(n&&n.length===t.length?n:LP(t),e),a=_I(o,t,{ease:Array.isArray(i)?i:FP(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const VP=e=>e!==null;function zw(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(VP),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const zP={decay:yv,inertia:yv,tween:wu,keyframes:wu,spring:Ih};function CI(e){typeof e.type=="string"&&(e.type=zP[e.type])}class $w{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const $P=e=>e/100;class Gm extends $w{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==fn.now()&&this.tick(fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;CI(t);const{type:n=wu,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||wu;l!==wu&&typeof a[0]!="number"&&(this.mixKeyframes=q0($P,xI(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Vw(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:m,type:x,onUpdate:y,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let p=this.currentTime,C=r;if(d){const j=Math.min(this.currentTime,i)/a;let D=Math.floor(j),M=j%1;!M&&j>=1&&(M=1),M===1&&D--,D=Math.min(D,d+1),!!(D%2)&&(h==="reverse"?(M=1-M,m&&(M-=m/a)):h==="mirror"&&(C=o)),p=Di(0,1,M)*a}const E=b?{done:!1,value:u[0]}:C.next(p);s&&(E.value=s(E.value));let{done:N}=E;!b&&l!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return k&&x!==yv&&(E.value=zw(u,this.options,_,this.speed)),y&&y(E.value),k&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return zr(this.calculatedDuration)}get time(){return zr(this.currentTime)}set time(t){var n;t=Vr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(fn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=zr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=TP,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function HP(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ao=e=>e*180/Math.PI,bv=e=>{const t=Ao(Math.atan2(e[1],e[0]));return vv(t)},GP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:bv,rotateZ:bv,skewX:e=>Ao(Math.atan(e[1])),skewY:e=>Ao(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},vv=e=>(e=e%360,e<0&&(e+=360),e),jE=bv,RE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),OE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),qP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RE,scaleY:OE,scale:e=>(RE(e)+OE(e))/2,rotateX:e=>vv(Ao(Math.atan2(e[6],e[5]))),rotateY:e=>vv(Ao(Math.atan2(-e[2],e[0]))),rotateZ:jE,rotate:jE,skewX:e=>Ao(Math.atan(e[4])),skewY:e=>Ao(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xv(e){return e.includes("scale")?1:0}function wv(e,t){if(!e||e==="none")return xv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=qP,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=GP,i=a}if(!i)return xv(t);const s=r[t],o=i[1].split(",").map(YP);return typeof s=="function"?s(o):o[s]}const KP=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return wv(n,t)};function YP(e){return parseFloat(e.trim())}const uc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dc=new Set(uc),DE=e=>e===cc||e===he,WP=new Set(["x","y","z"]),ZP=uc.filter(e=>!WP.has(e));function XP(e){const t=[];return ZP.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Po={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>wv(t,"x"),y:(e,{transform:t})=>wv(t,"y")};Po.translateX=Po.x;Po.translateY=Po.y;const Fo=new Set;let Sv=!1,_v=!1,Cv=!1;function EI(){if(_v){const e=Array.from(Fo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=XP(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_v=!1,Sv=!1,Fo.forEach(e=>e.complete(Cv)),Fo.clear()}function AI(){Fo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_v=!0)})}function JP(){Cv=!0,AI(),EI(),Cv=!1}class Hw{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Fo.add(this),Sv||(Sv=!0,Xe.read(AI),Xe.resolveKeyframes(EI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}HP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fo.delete(this)}cancel(){this.state==="scheduled"&&(Fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const QP=e=>e.startsWith("--");function e9(e,t,n){QP(t)?e.style.setProperty(t,n):e.style[t]=n}const t9=jw(()=>window.ScrollTimeline!==void 0),n9={};function r9(e,t){const n=jw(e);return()=>n9[t]??n()}const TI=r9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ME={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wc([0,.65,.55,1]),circOut:Wc([.55,0,1,.45]),backIn:Wc([.31,.01,.66,-.59]),backOut:Wc([.33,1.53,.69,.99])};function kI(e,t){if(e)return typeof e=="function"?TI()?wI(e,t):"ease-out":dI(e)?Wc(e):Array.isArray(e)?e.map(n=>kI(n,t)||ME.easeOut):ME[e]}function i9(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const d=kI(a,i);Array.isArray(d)&&(u.easing=d);const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function II(e){return typeof e=="function"&&"applyToOptions"in e}function s9({type:e,...t}){return II(e)&&TI()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class o9 extends $w{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,Nw(typeof t.type!="string");const c=s9(t);this.animation=i9(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=zw(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):e9(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return zr(Number(t))}get time(){return zr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Vr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&t9()?(this.animation.timeline=t,Wn):n(this)}}const BI={anticipate:aI,backInOut:oI,circInOut:cI};function a9(e){return e in BI}function l9(e){typeof e.ease=="string"&&a9(e.ease)&&(e.ease=BI[e.ease])}const UE=10;class c9 extends o9{constructor(t){l9(t),CI(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Gm({...o,autoplay:!1}),l=Vr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-UE).value,a.sample(l).value,UE),a.stop()}}const LE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hs.test(e)||e==="0")&&!e.startsWith("url("));function u9(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function d9(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=LE(i,t),a=LE(s,t);return!o||!a?!1:u9(e)||(n==="spring"||II(n))&&r}function Gw(e){return Q4(e)&&"offsetHeight"in e}const f9=new Set(["opacity","clipPath","filter","transform"]),h9=jw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function m9(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!Gw((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return h9()&&n&&f9.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const p9=40;class g9 extends $w{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var x;super(),this.stop=()=>{var y,_;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=fn.now();const h={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...d},m=(u==null?void 0:u.KeyframeResolver)||Hw;this.keyframeResolver=new m(a,(y,_,g)=>this.onKeyframesResolved(y,_,h,!g),l,c,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=fn.now(),d9(t,s,o,a)||((Mi.instantAnimations||!l)&&(u==null||u(zw(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>p9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!c&&m9(h)?new c9({...h,element:h.motionValue.owner.current}):new Gm(h);m.finished.then(()=>this.notifyFinished()).catch(Wn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),JP()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const y9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b9(e){const t=y9.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function NI(e,t,n=1){const[r,i]=b9(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return J4(o)?parseFloat(o):o}return Uw(i)?NI(i,t,n+1):i}function qw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const jI=new Set(["width","height","top","left","right","bottom",...uc]),v9={test:e=>e==="auto",parse:e=>e},RI=e=>t=>t.test(e),OI=[cc,he,$r,cs,dP,uP,v9],PE=e=>OI.find(RI(e));function x9(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||eI(e):!0}const w9=new Set(["brightness","contrast","saturate","opacity"]);function S9(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Lw)||[];if(!r)return e;const i=n.replace(r,"");let s=w9.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const _9=/\b([a-z-]*)\(.*?\)/gu,Ev={...Hs,getAnimatableNone:e=>{const t=e.match(_9);return t?t.map(S9).join(" "):e}},FE={...cc,transform:Math.round},C9={rotate:cs,rotateX:cs,rotateY:cs,rotateZ:cs,scale:Kd,scaleX:Kd,scaleY:Kd,scaleZ:Kd,skew:cs,skewX:cs,skewY:cs,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:Ju,originX:TE,originY:TE,originZ:he},Kw={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,backgroundPositionX:he,backgroundPositionY:he,...C9,zIndex:FE,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:FE},E9={...Kw,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:Ev,WebkitFilter:Ev},DI=e=>E9[e];function MI(e,t){let n=DI(e);return n!==Ev&&(n=Hs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const A9=new Set(["auto","none","0"]);function T9(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!A9.has(s)&&Qu(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=MI(n,i)}class k9 extends Hw{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Uw(c))){const u=NI(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!jI.has(r)||t.length!==2)return;const[i,s]=t,o=PE(i),a=PE(s);if(o!==a)if(DE(o)&&DE(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Po[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||x9(t[i]))&&r.push(i);r.length&&T9(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Po[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Po[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function I9(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const UI=(e,t)=>t&&typeof e=="number"?t.transform(e):e,VE=30,B9=e=>!isNaN(parseFloat(e)),Su={current:void 0};class N9{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=fn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=fn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=B9(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Rw);const r=this.events[t].add(n);return t==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Su.current&&Su.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>VE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,VE);return tI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wo(e,t){return new N9(e,t)}const{schedule:Yw}=fI(queueMicrotask,!1),lr={x:!1,y:!1};function LI(){return lr.x||lr.y}function j9(e){return e==="x"||e==="y"?lr[e]?null:(lr[e]=!0,()=>{lr[e]=!1}):lr.x||lr.y?null:(lr.x=lr.y=!0,()=>{lr.x=lr.y=!1})}function PI(e,t){const n=I9(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function zE(e){return!(e.pointerType==="touch"||LI())}function R9(e,t,n={}){const[r,i,s]=PI(e,n),o=a=>{if(!zE(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=d=>{zE(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const FI=(e,t)=>t?e===t?!0:FI(e,t.parentElement):!1,Ww=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,O9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function D9(e){return O9.has(e.tagName)||e.tabIndex!==-1}const Lf=new WeakSet;function $E(e){return t=>{t.key==="Enter"&&e(t)}}function Zg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const M9=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=$E(()=>{if(Lf.has(n))return;Zg(n,"down");const i=$E(()=>{Zg(n,"up")}),s=()=>Zg(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function HE(e){return Ww(e)&&!LI()}function U9(e,t,n={}){const[r,i,s]=PI(e,n),o=a=>{const l=a.currentTarget;if(!HE(a))return;Lf.add(l);const c=t(l,a),u=(m,x)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),Lf.has(l)&&Lf.delete(l),HE(m)&&typeof c=="function"&&c(m,{success:x})},d=m=>{u(m,l===window||l===document||n.useGlobalTarget||FI(l,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),Gw(a)&&(a.addEventListener("focus",c=>M9(c,i)),!D9(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function VI(e){return Q4(e)&&"ownerSVGElement"in e}function L9(e){return VI(e)&&e.tagName==="svg"}function P9(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],s=e[2+n],o=e[3+n],a=_I(i,s,o);return t?a(r):a}const Dt=e=>!!(e&&e.getVelocity);function F9(e,t,n){const r=e.get();let i=null,s=r,o;const a=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,l=()=>{i&&(i.stop(),i=null)},c=()=>{l(),i=new Gm({keyframes:[qE(e.get()),qE(s)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};e.attach((d,h)=>(s=d,o=m=>h(GE(m,a)),Xe.postRender(c),e.get()),l);let u;return Dt(t)&&(u=t.on("change",d=>e.set(GE(d,a))),e.on("destroy",u)),u}function GE(e,t){return t?e+t:e}function qE(e){return typeof e=="number"?e:parseFloat(e)}const V9=[...OI,bt,Hs],z9=e=>V9.find(RI(e)),W0=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class $9 extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Gw(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function H9({children:e,isPresent:t,anchorX:n}){const r=S.useId(),i=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=S.useContext(W0);return S.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:d}=s.current;if(t||!i.current||!a||!l)return;const h=n==="left"?`left: ${u}`:`right: ${d}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),f.jsx($9,{isPresent:t,childRef:i,sizeRef:s,children:S.cloneElement(e,{ref:i})})}const G9=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=G0(q9),c=S.useId();let u=!0,d=S.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const m of l.values())if(!m)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return s&&u&&(d={...d}),S.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),S.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=f.jsx(H9,{isPresent:n,anchorX:a,children:e})),f.jsx(Hm.Provider,{value:d,children:e})};function q9(){return new Map}function zI(e=!0){const t=S.useContext(Hm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=S.useId();S.useEffect(()=>{if(e)return i(s)},[e]);const o=S.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Yd=e=>e.key||"";function KE(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const e0=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=zI(o),u=S.useMemo(()=>KE(e),[e]),d=o&&!l?[]:u.map(Yd),h=S.useRef(!0),m=S.useRef(u),x=G0(()=>new Map),[y,_]=S.useState(u),[g,b]=S.useState(u);kw(()=>{h.current=!1,m.current=u;for(let E=0;E<g.length;E++){const N=Yd(g[E]);d.includes(N)?x.delete(N):x.get(N)!==!0&&x.set(N,!1)}},[g,d.length,d.join("-")]);const p=[];if(u!==y){let E=[...u];for(let N=0;N<g.length;N++){const k=g[N],j=Yd(k);d.includes(j)||(E.splice(N,0,k),p.push(k))}return s==="wait"&&p.length&&(E=p),b(KE(E)),_(u),null}const{forceRender:C}=S.useContext(Aw);return f.jsx(f.Fragment,{children:g.map(E=>{const N=Yd(E),k=o&&!l?!1:u===g||d.includes(N),j=()=>{if(x.has(N))x.set(N,!0);else return;let D=!0;x.forEach(M=>{M||(D=!1)}),D&&(C==null||C(),b(m.current),o&&(c==null||c()),r&&r())};return f.jsx(G9,{isPresent:k,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,onExitComplete:k?void 0:j,anchorX:a,children:E},N)})})},$I=S.createContext({strict:!1}),YE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nl={};for(const e in YE)Nl[e]={isEnabled:t=>YE[e].some(n=>!!t[n])};function K9(e){for(const t in e)Nl[t]={...Nl[t],...e[t]}}const Y9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Y9.has(e)}let HI=e=>!Bh(e);function W9(e){typeof e=="function"&&(HI=t=>t.startsWith("on")?!Bh(t):e(t))}try{W9(require("@emotion/is-prop-valid").default)}catch{}function Z9(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(HI(i)||n===!0&&Bh(i)||!t&&!Bh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function X9(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const qm=S.createContext({});function Km(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function t0(e){return typeof e=="string"||Array.isArray(e)}const Zw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xw=["initial",...Zw];function Ym(e){return Km(e.animate)||Xw.some(t=>t0(e[t]))}function GI(e){return!!(Ym(e)||e.variants)}function J9(e,t){if(Ym(e)){const{initial:n,animate:r}=e;return{initial:n===!1||t0(n)?n:void 0,animate:t0(r)?r:void 0}}return e.inherit!==!1?t:{}}function Q9(e){const{initial:t,animate:n}=J9(e,S.useContext(qm));return S.useMemo(()=>({initial:t,animate:n}),[WE(t),WE(n)])}function WE(e){return Array.isArray(e)?e.join(" "):e}const eF=Symbol.for("motionComponentSymbol");function el(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function tF(e,t,n){return S.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):el(n)&&(n.current=r))},[t])}const Jw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nF="framerAppearId",qI="data-"+Jw(nF),KI=S.createContext({});function rF(e,t,n,r,i){var y,_;const{visualElement:s}=S.useContext(qm),o=S.useContext($I),a=S.useContext(Hm),l=S.useContext(W0).reducedMotion,c=S.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=S.useContext(KI);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&iF(c.current,n,i,d);const h=S.useRef(!1);S.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const m=n[qI],x=S.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,m)));return kw(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Yw.render(u.render),x.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),x.current=!1))}),u}function iF(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:YI(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&el(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function YI(e){if(e)return e.options.allowProjection!==!1?e.projection:YI(e.parent)}function sF({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&K9(e);function s(a,l){let c;const u={...S.useContext(W0),...a,layoutId:oF(a)},{isStatic:d}=u,h=Q9(a),m=r(a,d);if(!d&&Tw){aF();const x=lF(u);c=x.MeasureLayout,h.visualElement=rF(i,m,u,t,x.ProjectionNode)}return f.jsxs(qm.Provider,{value:h,children:[c&&h.visualElement?f.jsx(c,{visualElement:h.visualElement,...u}):null,n(i,a,tF(m,h.visualElement,l),m,d,h.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=S.forwardRef(s);return o[eF]=i,o}function oF({layoutId:e}){const t=S.useContext(Aw).id;return t&&e!==void 0?t+"-"+e:e}function aF(e,t){S.useContext($I).strict}function lF(e){const{drag:t,layout:n}=Nl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const n0={};function cF(e){for(const t in e)n0[t]=e[t],Mw(t)&&(n0[t].isCSSVariable=!0)}function WI(e,{layout:t,layoutId:n}){return dc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!n0[e]||e==="opacity")}const uF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dF=uc.length;function fF(e,t,n){let r="",i=!0;for(let s=0;s<dF;s++){const o=uc[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=UI(a,Kw[o]);if(!l){i=!1;const u=uF[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Qw(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(dc.has(l)){o=!0;continue}else if(Mw(l)){i[l]=c;continue}else{const u=UI(c,Kw[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=fF(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const eS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZI(e,t,n){for(const r in t)!Dt(t[r])&&!WI(r,n)&&(e[r]=t[r])}function hF({transformTemplate:e},t){return S.useMemo(()=>{const n=eS();return Qw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function mF(e,t){const n=e.style||{},r={};return ZI(r,n,e),Object.assign(r,hF(e,t)),r}function pF(e,t){const n={},r=mF(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const gF={offset:"stroke-dashoffset",array:"stroke-dasharray"},yF={offset:"strokeDashoffset",array:"strokeDasharray"};function bF(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?gF:yF;e[s.offset]=he.transform(-r);const o=he.transform(t),a=he.transform(n);e[s.array]=`${o} ${a}`}function XI(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(Qw(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&bF(d,i,s,o,!1)}const JI=()=>({...eS(),attrs:{}}),QI=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vF(e,t,n,r){const i=S.useMemo(()=>{const s=JI();return XI(s,t,QI(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};ZI(s,e.style,e),i.style={...s,...i.style}}return i}const xF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tS(e){return typeof e!="string"||e.includes("-")?!1:!!(xF.indexOf(e)>-1||/[A-Z]/u.test(e))}function wF(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(tS(n)?vF:pF)(r,s,o,n),c=Z9(r,typeof n=="string",e),u=n!==S.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=S.useMemo(()=>Dt(d)?d.get():d,[d]);return S.createElement(n,{...u,children:h})}}function ZE(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function nS(e,t,n,r){if(typeof t=="function"){const[i,s]=ZE(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=ZE(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function Pf(e){return Dt(e)?e.get():e}function SF({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:_F(n,r,i,e),renderState:t()}}const eB=e=>(t,n)=>{const r=S.useContext(qm),i=S.useContext(Hm),s=()=>SF(e,t,r,i);return n?s():G0(s)};function _F(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=Pf(s[h]);let{initial:o,animate:a}=e;const l=Ym(e),c=GI(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Km(d)){const h=Array.isArray(d)?d:[d];for(let m=0;m<h.length;m++){const x=nS(e,h[m]);if(x){const{transitionEnd:y,transition:_,...g}=x;for(const b in g){let p=g[b];if(Array.isArray(p)){const C=u?p.length-1:0;p=p[C]}p!==null&&(i[b]=p)}for(const b in y)i[b]=y[b]}}}return i}function rS(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(Dt(r[o])||t.style&&Dt(t.style[o])||WI(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const CF={useVisualState:eB({scrapeMotionValuesFromProps:rS,createRenderState:eS})};function tB(e,t,n){const r=rS(e,t,n);for(const i in e)if(Dt(e[i])||Dt(t[i])){const s=uc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const EF={useVisualState:eB({scrapeMotionValuesFromProps:tB,createRenderState:JI})};function AF(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...tS(r)?EF:CF,preloadedFeatures:e,useRender:wF(i),createVisualElement:t,Component:r};return sF(o)}}function r0(e,t,n){const r=e.getProps();return nS(r,t,n!==void 0?n:r.custom,e)}const Av=e=>Array.isArray(e);function TF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wo(n))}function kF(e){return Av(e)?e[e.length-1]||0:e}function IF(e,t){const n=r0(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=kF(s[o]);TF(e,o,a)}}function BF(e){return!!(Dt(e)&&e.add)}function Tv(e,t){const n=e.getValue("willChange");if(BF(n))return n.add(t);if(!n&&Mi.WillChange){const r=new Mi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function nB(e){return e.props[qI]}const NF=e=>e!==null;function jF(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(NF),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const RF={type:"spring",stiffness:500,damping:25,restSpeed:10},OF=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),DF={type:"keyframes",duration:.8},MF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UF=(e,{keyframes:t})=>t.length>2?DF:dc.has(e)?e.startsWith("scale")?OF(t[1]):RF:MF;function LF({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const iS=(e,t,n,r={},i,s)=>o=>{const a=qw(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Vr(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};LF(a)||Object.assign(u,UF(e,u)),u.duration&&(u.duration=Vr(u.duration)),u.repeatDelay&&(u.repeatDelay=Vr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),(Mi.instantAnimations||Mi.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&t.get()!==void 0){const h=jF(u.keyframes,a);if(h!==void 0){Xe.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new Gm(u):new g9(u)};function PF({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function rB(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in a){const d=e.getValue(u,e.latestValues[u]??null),h=a[u];if(h===void 0||c&&PF(c,u))continue;const m={delay:n,...qw(s||{},u)},x=d.get();if(x!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===x&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=nB(e);if(g){const b=window.MotionHandoffAnimation(g,u,Xe);b!==null&&(m.startTime=b,y=!0)}}Tv(e,u),d.start(iS(u,d,h,e.shouldReduceMotion&&jI.has(u)?{type:!1}:m,e,y));const _=d.animation;_&&l.push(_)}return o&&Promise.all(l).then(()=>{Xe.update(()=>{o&&IF(e,o)})}),l}function kv(e,t,n={}){var l;const r=r0(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(rB(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return FF(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function FF(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(VF).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(kv(c,t,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function VF(e,t){return e.sortNodePosition(t)}function zF(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>kv(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=kv(e,t,n);else{const i=typeof t=="function"?r0(e,t,n.custom):t;r=Promise.all(rB(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function iB(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const $F=Xw.length;function sB(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?sB(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<$F;n++){const r=Xw[n],i=e.props[r];(t0(i)||i===!1)&&(t[r]=i)}return t}const HF=[...Zw].reverse(),GF=Zw.length;function qF(e){return t=>Promise.all(t.map(({animation:n,options:r})=>zF(e,n,r)))}function KF(e){let t=qF(e),n=XE(),r=!0;const i=l=>(c,u)=>{var h;const d=r0(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:m,transitionEnd:x,...y}=d;c={...c,...y,...x}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,u=sB(e.parent)||{},d=[],h=new Set;let m={},x=1/0;for(let _=0;_<GF;_++){const g=HF[_],b=n[g],p=c[g]!==void 0?c[g]:u[g],C=t0(p),E=g===l?b.isActive:null;E===!1&&(x=_);let N=p===u[g]&&p!==c[g]&&C;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...m},!b.isActive&&E===null||!p&&!b.prevProp||Km(p)||typeof p=="boolean")continue;const k=YF(b.prevProp,p);let j=k||g===l&&b.isActive&&!N&&C||_>x&&C,D=!1;const M=Array.isArray(p)?p:[p];let H=M.reduce(i(g),{});E===!1&&(H={});const{prevResolvedValues:Q={}}=b,G={...Q,...H},F=U=>{j=!0,h.has(U)&&(D=!0,h.delete(U)),b.needsAnimating[U]=!0;const O=e.getValue(U);O&&(O.liveStyle=!1)};for(const U in G){const O=H[U],V=Q[U];if(m.hasOwnProperty(U))continue;let Z=!1;Av(O)&&Av(V)?Z=!iB(O,V):Z=O!==V,Z?O!=null?F(U):h.add(U):O!==void 0&&h.has(U)?F(U):b.protectedKeys[U]=!0}b.prevProp=p,b.prevResolvedValues=H,b.isActive&&(m={...m,...H}),r&&e.blockInitialAnimation&&(j=!1),j&&(!(N&&k)||D)&&d.push(...M.map(U=>({animation:U,options:{type:g}})))}if(h.size){const _={};if(typeof c.initial!="boolean"){const g=r0(e,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(_.transition=g.transition)}h.forEach(g=>{const b=e.getBaseTarget(g),p=e.getValue(g);p&&(p.liveStyle=!0),_[g]=b??null}),d.push({animation:_})}let y=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=XE(),r=!0}}}function YF(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!iB(t,e):!1}function ao(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XE(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}class eo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class WF extends eo{constructor(t){super(t),t.animationState||(t.animationState=KF(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Km(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ZF=0;class XF extends eo{constructor(){super(...arguments),this.id=ZF++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const JF={animation:{Feature:WF},exit:{Feature:XF}};function i0(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Z0(e){return{point:{x:e.pageX,y:e.pageY}}}const QF=e=>t=>Ww(t)&&e(t,Z0(t));function _u(e,t,n,r){return i0(e,t,QF(n),r)}function oB({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function eV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const aB=1e-4,nV=1-aB,rV=1+aB,lB=.01,iV=0-lB,sV=0+lB;function tn(e){return e.max-e.min}function oV(e,t,n){return Math.abs(e-t)<=n}function JE(e,t,n,r=.5){e.origin=r,e.originPoint=lt(t.min,t.max,e.origin),e.scale=tn(n)/tn(t),e.translate=lt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=nV&&e.scale<=rV||isNaN(e.scale))&&(e.scale=1),(e.translate>=iV&&e.translate<=sV||isNaN(e.translate))&&(e.translate=0)}function Cu(e,t,n,r){JE(e.x,t.x,n.x,r?r.originX:void 0),JE(e.y,t.y,n.y,r?r.originY:void 0)}function QE(e,t,n){e.min=n.min+t.min,e.max=e.min+tn(t)}function aV(e,t,n){QE(e.x,t.x,n.x),QE(e.y,t.y,n.y)}function eA(e,t,n){e.min=t.min-n.min,e.max=e.min+tn(t)}function Eu(e,t,n){eA(e.x,t.x,n.x),eA(e.y,t.y,n.y)}const tA=()=>({translate:0,scale:1,origin:0,originPoint:0}),tl=()=>({x:tA(),y:tA()}),nA=()=>({min:0,max:0}),mt=()=>({x:nA(),y:nA()});function Mn(e){return[e("x"),e("y")]}function Xg(e){return e===void 0||e===1}function Iv({scale:e,scaleX:t,scaleY:n}){return!Xg(e)||!Xg(t)||!Xg(n)}function wo(e){return Iv(e)||cB(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cB(e){return rA(e.x)||rA(e.y)}function rA(e){return e&&e!=="0%"}function Nh(e,t,n){const r=e-n,i=t*r;return n+i}function iA(e,t,n,r,i){return i!==void 0&&(e=Nh(e,i,r)),Nh(e,n,r)+t}function Bv(e,t=0,n=1,r,i){e.min=iA(e.min,t,n,r,i),e.max=iA(e.max,t,n,r,i)}function uB(e,{x:t,y:n}){Bv(e.x,t.translate,t.scale,t.originPoint),Bv(e.y,n.translate,n.scale,n.originPoint)}const sA=.999999999999,oA=1.0000000000001;function lV(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&rl(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,uB(e,o)),r&&wo(s.latestValues)&&rl(e,s.latestValues))}t.x<oA&&t.x>sA&&(t.x=1),t.y<oA&&t.y>sA&&(t.y=1)}function nl(e,t){e.min=e.min+t,e.max=e.max+t}function aA(e,t,n,r,i=.5){const s=lt(e.min,e.max,i);Bv(e,t,n,s,r)}function rl(e,t){aA(e.x,t.x,t.scaleX,t.scale,t.originX),aA(e.y,t.y,t.scaleY,t.scale,t.originY)}function dB(e,t){return oB(tV(e.getBoundingClientRect(),t))}function cV(e,t,n){const r=dB(e,n),{scroll:i}=t;return i&&(nl(r.x,i.offset.x),nl(r.y,i.offset.y)),r}const fB=({current:e})=>e?e.ownerDocument.defaultView:null,lA=(e,t)=>Math.abs(e-t);function uV(e,t){const n=lA(e.x,t.x),r=lA(e.y,t.y);return Math.sqrt(n**2+r**2)}class hB{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Qg(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=uV(d.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:x}=d,{timestamp:y}=Lt;this.history.push({...x,timestamp:y});const{onStart:_,onMove:g}=this.handlers;h||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Jg(h,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Qg(d.type==="pointercancel"?this.lastMoveEventInfo:Jg(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,_),x&&x(d,_)},!Ww(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Z0(t),a=Jg(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Lt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,Qg(a,this.history)),this.removeListeners=q0(_u(this.contextWindow,"pointermove",this.handlePointerMove),_u(this.contextWindow,"pointerup",this.handlePointerUp),_u(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ui(this.updatePoint)}}function Jg(e,t){return t?{point:t(e.point)}:e}function cA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qg({point:e},t){return{point:e,delta:cA(e,mB(t)),offset:cA(e,dV(t)),velocity:fV(t,.1)}}function dV(e){return e[0]}function mB(e){return e[e.length-1]}function fV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=mB(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Vr(t)));)n--;if(!r)return{x:0,y:0};const s=zr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hV(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?lt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?lt(n,e,r.max):Math.min(e,n)),e}function uA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function mV(e,{top:t,left:n,bottom:r,right:i}){return{x:uA(e.x,n,i),y:uA(e.y,t,r)}}function dA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function pV(e,t){return{x:dA(e.x,t.x),y:dA(e.y,t.y)}}function gV(e,t){let n=.5;const r=tn(e),i=tn(t);return i>r?n=Xu(t.min,t.max-r,e.min):r>i&&(n=Xu(e.min,e.max-i,t.min)),Di(0,1,n)}function yV(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Nv=.35;function bV(e=Nv){return e===!1?e=0:e===!0&&(e=Nv),{x:fA(e,"left","right"),y:fA(e,"top","bottom")}}function fA(e,t,n){return{min:hA(e,t),max:hA(e,n)}}function hA(e,t){return typeof e=="number"?e:e[t]||0}const vV=new WeakMap;class xV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Z0(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:m,onDragStart:x}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=j9(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(_=>{let g=this.getAxisMotionValue(_).get()||0;if($r.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const p=b.layout.layoutBox[_];p&&(g=tn(p)*(parseFloat(g)/100))}}this.originPoint[_]=g}),x&&Xe.postRender(()=>x(u,d)),Tv(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:x,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:_}=d;if(m&&this.currentDirection===null){this.currentDirection=wV(_),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),y&&y(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Mn(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new hB(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:fB(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Xe.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Wd(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=hV(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&el(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=mV(r.layoutBox,t):this.constraints=!1,this.elastic=bV(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Mn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=yV(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!el(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=cV(r,i.root,this.visualElement.getTransformPagePoint());let o=pV(i.layout.layoutBox,s);if(n){const a=n(eV(o));this.hasMutatedConstraints=!!a,a&&(o=oB(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Mn(u=>{if(!Wd(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,x)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Tv(this.visualElement,t),r.start(iS(t,r,0,n,this.visualElement,!1))}stopAnimation(){Mn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Mn(n=>{const{drag:r}=this.getProps();if(!Wd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-lt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!el(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Mn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=gV({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mn(o=>{if(!Wd(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(lt(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;vV.set(this.visualElement,this);const t=this.visualElement.current,n=_u(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();el(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Xe.read(r);const o=i0(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Mn(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Nv,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Wd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function wV(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class SV extends eo{constructor(t){super(t),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new xV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const mA=e=>(t,n)=>{e&&Xe.postRender(()=>e(t,n))};class _V extends eo{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(t){this.session=new hB(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fB(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:mA(t),onStart:mA(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Xe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=_u(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Uc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(he.test(e))e=parseFloat(e);else return e;const n=pA(e,t.target.x),r=pA(e,t.target.y);return`${n}% ${r}%`}},CV={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Hs.parse(e);if(i.length>5)return r;const s=Hs.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=lt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class EV extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;cF(AV),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Xe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Yw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function pB(e){const[t,n]=zI(),r=S.useContext(Aw);return f.jsx(EV,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(KI),isPresent:t,safeToRemove:n})}const AV={borderRadius:{...Uc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uc,borderTopRightRadius:Uc,borderBottomLeftRadius:Uc,borderBottomRightRadius:Uc,boxShadow:CV};function TV(e,t,n){const r=Dt(e)?e:Wo(e);return r.start(iS("",r,t,n)),r.animation}const kV=(e,t)=>e.depth-t.depth;class IV{constructor(){this.children=[],this.isDirty=!1}add(t){Iw(this.children,t),this.isDirty=!0}remove(t){Bw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kV),this.isDirty=!1,this.children.forEach(t)}}function BV(e,t){const n=fn.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Ui(r),e(s-t))};return Xe.setup(r,!0),()=>Ui(r)}const gB=["TopLeft","TopRight","BottomLeft","BottomRight"],NV=gB.length,gA=e=>typeof e=="string"?parseFloat(e):e,yA=e=>typeof e=="number"||he.test(e);function jV(e,t,n,r,i,s){i?(e.opacity=lt(0,n.opacity??1,RV(r)),e.opacityExit=lt(t.opacity??1,0,OV(r))):s&&(e.opacity=lt(t.opacity??1,n.opacity??1,r));for(let o=0;o<NV;o++){const a=`border${gB[o]}Radius`;let l=bA(t,a),c=bA(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||yA(l)===yA(c)?(e[a]=Math.max(lt(gA(l),gA(c),r),0),($r.test(c)||$r.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=lt(t.rotate||0,n.rotate||0,r))}function bA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const RV=yB(0,.5,lI),OV=yB(.5,.95,Wn);function yB(e,t,n){return r=>r<e?0:r>t?1:n(Xu(e,t,r))}function vA(e,t){e.min=t.min,e.max=t.max}function Dn(e,t){vA(e.x,t.x),vA(e.y,t.y)}function xA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function wA(e,t,n,r,i){return e-=t,e=Nh(e,1/n,r),i!==void 0&&(e=Nh(e,1/i,r)),e}function DV(e,t=0,n=1,r=.5,i,s=e,o=e){if($r.test(t)&&(t=parseFloat(t),t=lt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=lt(s.min,s.max,r);e===s&&(a-=t),e.min=wA(e.min,t,n,a,i),e.max=wA(e.max,t,n,a,i)}function SA(e,t,[n,r,i],s,o){DV(e,t[n],t[r],t[i],t.scale,s,o)}const MV=["x","scaleX","originX"],UV=["y","scaleY","originY"];function _A(e,t,n,r){SA(e.x,t,MV,n?n.x:void 0,r?r.x:void 0),SA(e.y,t,UV,n?n.y:void 0,r?r.y:void 0)}function CA(e){return e.translate===0&&e.scale===1}function bB(e){return CA(e.x)&&CA(e.y)}function EA(e,t){return e.min===t.min&&e.max===t.max}function LV(e,t){return EA(e.x,t.x)&&EA(e.y,t.y)}function AA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vB(e,t){return AA(e.x,t.x)&&AA(e.y,t.y)}function TA(e){return tn(e.x)/tn(e.y)}function kA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class PV{constructor(){this.members=[]}add(t){Iw(this.members,t),t.scheduleRender()}remove(t){if(Bw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FV(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:m,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ey=["","X","Y","Z"],VV={visibility:"hidden"},zV=1e3;let $V=0;function ty(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function xB(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=nB(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Xe,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&xB(r)}function wB({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=$V++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qV),this.nodes.forEach(XV),this.nodes.forEach(JV),this.nodes.forEach(KV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new IV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Rw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=VI(o)&&!L9(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u;const d=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=BV(d,250),Ff.hasAnimatedSinceResize&&(Ff.hasAnimatedSinceResize=!1,this.nodes.forEach(BA))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||rz,{onLayoutAnimationStart:y,onLayoutAnimationComplete:_}=c.getProps(),g=!this.targetLayout||!vB(this.targetLayout,m),b=!d&&h;if(this.options.layoutRoot||this.resumeFrom||b||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const p={...qw(x,"layout"),onPlay:y,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(p.delay=0,p.type=!1),this.startAnimation(p),this.setAnimationOrigin(u,b)}else d||BA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ui(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IA);return}this.isUpdating||this.nodes.forEach(WV),this.isUpdating=!1,this.nodes.forEach(ZV),this.nodes.forEach(HV),this.nodes.forEach(GV),this.clearAllSnapshots();const a=fn.now();Lt.delta=Di(0,1e3/60,a-Lt.timestamp),Lt.timestamp=a,Lt.isProcessing=!0,Gg.update.process(Lt),Gg.preRender.process(Lt),Gg.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YV),this.sharedNodes.forEach(ez)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!bB(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||wo(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),iz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return mt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(sz))){const{scroll:u}=this.root;u&&(nl(a.x,u.offset.x),nl(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=mt();if(Dn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Dn(a,o),nl(a.x,d.offset.x),nl(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=mt();Dn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&rl(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),wo(u.latestValues)&&rl(l,u.latestValues)}return wo(this.latestValues)&&rl(l,this.latestValues),l}removeTransform(o){const a=mt();Dn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!wo(c.latestValues))continue;Iv(c.latestValues)&&c.updateSnapshot();const u=mt(),d=c.measurePageBox();Dn(u,d),_A(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return wo(this.latestValues)&&_A(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Eu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),uB(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Eu(this.relativeTargetOrigin,this.target,m.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Iv(this.parent.latestValues)||cB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Dn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;lV(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=mt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xA(this.prevProjectionDelta.x,this.projectionDelta.x),xA(this.prevProjectionDelta.y,this.projectionDelta.y)),Cu(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!kA(this.projectionDelta.x,this.prevProjectionDelta.x)||!kA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tl(),this.projectionDelta=tl(),this.projectionDeltaWithTransform=tl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=tl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=mt(),m=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=m!==x,_=this.getStack(),g=!_||_.members.length<=1,b=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(nz));this.animationProgress=0;let p;this.mixTargetDelta=C=>{const E=C/1e3;NA(d.x,o.x,E),NA(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eu(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tz(this.relativeTarget,this.relativeTargetOrigin,h,E),p&&LV(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=mt()),Dn(p,this.relativeTarget)),y&&(this.animationValues=u,jV(u,c,this.latestValues,E,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ui(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{Ff.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wo(0)),this.currentAnimation=TV(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&SB(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||mt();const d=tn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=tn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Dn(a,l),rl(a,u),Cu(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new PV),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&ty("z",o,c,this.animationValues);for(let u=0;u<ey.length;u++)ty(`rotate${ey[u]}`,o,c,this.animationValues),ty(`skew${ey[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return VV;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Pf(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Pf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!wo(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=FV(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:d,y:h}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in n0){if(u[m]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:_}=n0[m],g=a.transform==="none"?u[m]:x(u[m],c);if(y){const b=y.length;for(let p=0;p<b;p++)a[y[p]]=g}else _?this.options.visualElement.renderState.vars[m]=g:a[m]=g}return this.options.layoutId&&(a.pointerEvents=c===this?Pf(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(IA),this.root.sharedNodes.clear()}}}function HV(e){e.updateLayout()}function GV(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Mn(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],m=tn(h);h.min=r[d].min,h.max=h.min+m}):SB(s,t.layoutBox,r)&&Mn(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],m=tn(r[d]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const a=tl();Cu(a,r,t.layoutBox);const l=tl();o?Cu(l,e.applyTransform(i,!0),t.measuredBox):Cu(l,r,t.layoutBox);const c=!bB(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:m}=d;if(h&&m){const x=mt();Eu(x,t.layoutBox,h.layoutBox);const y=mt();Eu(y,r,m.layoutBox),vB(x,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function qV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function KV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function YV(e){e.clearSnapshot()}function IA(e){e.clearMeasurements()}function WV(e){e.isLayoutDirty=!1}function ZV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function BA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function XV(e){e.resolveTargetDelta()}function JV(e){e.calcProjection()}function QV(e){e.resetSkewAndRotation()}function ez(e){e.removeLeadSnapshot()}function NA(e,t,n){e.translate=lt(t.translate,0,n),e.scale=lt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function jA(e,t,n,r){e.min=lt(t.min,n.min,r),e.max=lt(t.max,n.max,r)}function tz(e,t,n,r){jA(e.x,t.x,n.x,r),jA(e.y,t.y,n.y,r)}function nz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const rz={duration:.45,ease:[.4,0,.1,1]},RA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),OA=RA("applewebkit/")&&!RA("chrome/")?Math.round:Wn;function DA(e){e.min=OA(e.min),e.max=OA(e.max)}function iz(e){DA(e.x),DA(e.y)}function SB(e,t,n){return e==="position"||e==="preserve-aspect"&&!oV(TA(t),TA(n),.2)}function sz(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const oz=wB({attachResizeListener:(e,t)=>i0(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ny={current:void 0},_B=wB({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ny.current){const e=new oz({});e.mount(window),e.setOptions({layoutScroll:!0}),ny.current=e}return ny.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),az={pan:{Feature:_V},drag:{Feature:SV,ProjectionNode:_B,MeasureLayout:pB}};function MA(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Xe.postRender(()=>s(t,Z0(t)))}class lz extends eo{mount(){const{current:t}=this.node;t&&(this.unmount=R9(t,(n,r)=>(MA(this.node,r,"Start"),i=>MA(this.node,i,"End"))))}unmount(){}}class cz extends eo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=q0(i0(this.node.current,"focus",()=>this.onFocus()),i0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UA(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Xe.postRender(()=>s(t,Z0(t)))}class uz extends eo{mount(){const{current:t}=this.node;t&&(this.unmount=U9(t,(n,r)=>(UA(this.node,r,"Start"),(i,{success:s})=>UA(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jv=new WeakMap,ry=new WeakMap,dz=e=>{const t=jv.get(e.target);t&&t(e)},fz=e=>{e.forEach(dz)};function hz({root:e,...t}){const n=e||document;ry.has(n)||ry.set(n,{});const r=ry.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(fz,{root:e,...t})),r[i]}function mz(e,t,n){const r=hz(t);return jv.set(e,n),r.observe(e),()=>{jv.delete(e),r.unobserve(e)}}const pz={some:0,all:1};class gz extends eo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:pz[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return mz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yz(t,n))&&this.startObserver()}unmount(){}}function yz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const bz={inView:{Feature:gz},tap:{Feature:uz},focus:{Feature:cz},hover:{Feature:lz}},vz={layout:{ProjectionNode:_B,MeasureLayout:pB}},Rv={current:null},CB={current:!1};function xz(){if(CB.current=!0,!!Tw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rv.current=e.matches;e.addListener(t),t()}else Rv.current=!1}const wz=new WeakMap;function Sz(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Dt(i))e.addValue(r,i);else if(Dt(s))e.addValue(r,Wo(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Wo(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const LA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _z{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=fn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Xe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Ym(n),this.isVariantNode=GI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const m=d[h];l[h]!==void 0&&Dt(m)&&m.set(l[h],!1)}}mount(t){this.current=t,wz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),CB.current||xz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ui(this.notifyUpdate),Ui(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=dc.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Nl){const n=Nl[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LA.length;r++){const i=LA[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Sz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(J4(r)||eI(r))?r=parseFloat(r):!z9(r)&&Hs.test(n)&&(r=MI(t,n)),this.setBaseTarget(t,Dt(r)?r.get():r)),Dt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=nS(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Dt(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Rw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class EB extends _z{constructor(){super(...arguments),this.KeyframeResolver=k9}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Dt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function AB(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}function Cz(e){return window.getComputedStyle(e)}class Ez extends EB{constructor(){super(...arguments),this.type="html",this.renderInstance=AB}readValueFromInstance(t,n){var r;if(dc.has(n))return(r=this.projection)!=null&&r.isProjecting?xv(n):KP(t,n);{const i=Cz(t),s=(Mw(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return dB(t,n)}build(t,n,r){Qw(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return rS(t,n,r)}}const TB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Az(e,t,n,r){AB(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(TB.has(i)?i:Jw(i),t.attrs[i])}class Tz extends EB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(dc.has(n)){const r=DI(n);return r&&r.default||0}return n=TB.has(n)?n:Jw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return tB(t,n,r)}build(t,n,r){XI(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){Az(t,n,r,i)}mount(t){this.isSVGTag=QI(t.tagName),super.mount(t)}}const kz=(e,t)=>tS(e)?new Tz(t):new Ez(t,{allowProjection:e!==S.Fragment}),Iz=AF({...JF,...bz,...az,...vz},kz),Ht=X9(Iz);function il(e){const t=G0(()=>Wo(e)),{isStatic:n}=S.useContext(W0);if(n){const[,r]=S.useState(e);S.useEffect(()=>t.on("change",r),[])}return t}function kB(e,t){const n=il(t()),r=()=>n.set(t());return r(),kw(()=>{const i=()=>Xe.preRender(r,!1,!0),s=e.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Ui(r)}}),n}function Bz(e){Su.current=[],e();const t=kB(Su.current,e);return Su.current=void 0,t}function Nz(e,t,n,r){if(typeof e=="function")return Bz(e);const i=P9(t,n,r);return Array.isArray(e)?PA(e,i):PA([e],([s])=>i(s))}function PA(e,t){const n=G0(()=>[]);return kB(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}function Lc(e,t={}){const{isStatic:n}=S.useContext(W0),r=()=>Dt(e)?e.get():e;if(n)return Nz(r);const i=il(r());return S.useInsertionEffect(()=>F9(i,e,t),[i,JSON.stringify(t)]),i}const iy={damping:30,stiffness:100,mass:2};function IB({imageSrc:e,altText:t="Tilted card image",captionText:n="",containerHeight:r="300px",containerWidth:i="100%",imageHeight:s="300px",imageWidth:o="300px",scaleOnHover:a=1.1,rotateAmplitude:l=14,showMobileWarning:c=!0,showTooltip:u=!0,overlayContent:d=null,displayOverlayContent:h=!1}){const m=S.useRef(null),x=il(0),y=il(0),_=Lc(il(0),iy),g=Lc(il(0),iy),b=Lc(1,iy),p=Lc(0),C=Lc(0,{stiffness:350,damping:30,mass:1}),[E,N]=S.useState(0);function k(M){if(!m.current)return;const H=m.current.getBoundingClientRect(),Q=M.clientX-H.left-H.width/2,G=M.clientY-H.top-H.height/2,F=G/(H.height/2)*-l,z=Q/(H.width/2)*l;_.set(F),g.set(z),x.set(M.clientX-H.left),y.set(M.clientY-H.top);const B=G-E;C.set(-B*.6),N(G)}function j(){b.set(a),p.set(1)}function D(){p.set(0),b.set(1),_.set(0),g.set(0),C.set(0)}return f.jsxs("figure",{ref:m,className:"relative w-full h-full [perspective:800px] flex flex-col items-center justify-center",style:{height:r,width:i},onMouseMove:k,onMouseEnter:j,onMouseLeave:D,children:[c&&f.jsx("div",{className:"absolute top-4 text-center text-sm block sm:hidden",children:"This effect is not optimized for mobile. Check on desktop."}),f.jsxs(Ht.div,{className:"relative [transform-style:preserve-3d]",style:{width:o,height:s,rotateX:_,rotateY:g,scale:b},children:[f.jsx(Ht.img,{src:e,alt:t,className:"absolute top-0 left-0 object-cover rounded-[15px] will-change-transform [transform:translateZ(0)]",style:{width:o,height:s}}),h&&d&&f.jsx(Ht.div,{className:"absolute top-0 left-0 z-[2] will-change-transform [transform:translateZ(30px)]",children:d})]}),u&&f.jsx(Ht.figcaption,{className:"pointer-events-none absolute left-0 top-0 rounded-[4px] bg-white px-[10px] py-[4px] text-[10px] text-[#2d2d2d] opacity-0 z-[3] hidden sm:block",style:{x,y,opacity:p,rotate:C},children:n})]})}function jz({disasters:e,onDisasterClick:t}){const n=S.useRef(null),[r,i]=S.useState(!0),[s,o]=S.useState(null),[a,l]=S.useState(null);return S.useEffect(()=>{if(!n.current)return;console.log("Starting globe initialization..."),console.log("Container dimensions:",n.current.clientWidth,n.current.clientHeight),console.log("Disasters data:",e);let c,u,d,h,m,x;const _=(async()=>{var g;try{i(!0),o(null);const[b,p,C]=await Promise.all([Yn(()=>import("./three.module-CoRxeNK3.js").then(O=>O.d5),[]),Yn(()=>import("./three-globe-CMlIz74R.js"),__vite__mapDeps([0,1])),Yn(()=>import("./TrackballControls-DDCcbc-h.js"),__vite__mapDeps([2,1]))]),E=b,N=p.default,{TrackballControls:k}=C;console.log("Three.js modules loaded"),console.log("Fetching country data...");const j=await fetch("/ne_110m_admin_0_countries.geojson");if(!j.ok)throw new Error(`Failed to load country data: ${j.status} ${j.statusText}`);const D=await j.json();console.log("Country data loaded:",(g=D.features)==null?void 0:g.length,"countries");const M=new Set;console.log("All disaster locations:",e.map(O=>O.name));const H={turkey:["Turkey","Türkiye"],syria:["Syria","Syrian Arab Republic"],morocco:["Morocco"],libya:["Libya"],pakistan:["Pakistan"],afghanistan:["Afghanistan"],haiti:["Haiti"],philippines:["Philippines"],indonesia:["Indonesia"],japan:["Japan"],nepal:["Nepal"],chile:["Chile"],"new zealand":["New Zealand"],california:["United States of America","United States"],florida:["United States of America","United States"],texas:["United States of America","United States"],louisiana:["United States of America","United States"],"puerto rico":["Puerto Rico"],australia:["Australia"],greece:["Greece"],italy:["Italy"],portugal:["Portugal"],spain:["Spain"],france:["France"],germany:["Germany"],canada:["Canada"],brazil:["Brazil"],india:["India"],china:["China","People's Republic of China"],thailand:["Thailand"],myanmar:["Myanmar","Burma"],bangladesh:["Bangladesh"],"sri lanka":["Sri Lanka"],madagascar:["Madagascar"],mozambique:["Mozambique"],somalia:["Somalia"],kenya:["Kenya"],ethiopia:["Ethiopia"],sudan:["Sudan"],yemen:["Yemen"],iraq:["Iraq"],iran:["Iran","Islamic Republic of Iran"],ukraine:["Ukraine"],russia:["Russia","Russian Federation"],poland:["Poland"],romania:["Romania"],hungary:["Hungary"],"united kingdom":["United Kingdom"],uk:["United Kingdom"],usa:["United States of America","United States"],"united states":["United States of America","United States"],mexico:["Mexico"],colombia:["Colombia"],venezuela:["Venezuela"],ecuador:["Ecuador"],peru:["Peru"],bolivia:["Bolivia"],argentina:["Argentina"],"south africa":["South Africa"],nigeria:["Nigeria"],egypt:["Egypt"],algeria:["Algeria"]};console.log("Sample country properties:"),D.features.slice(0,5).forEach((O,V)=>{console.log(`Country ${V}:`,{allProperties:O.properties,NAME:O.properties.NAME,NAME_EN:O.properties.NAME_EN,NAME_LONG:O.properties.NAME_LONG,ADMIN:O.properties.ADMIN,propertyKeys:Object.keys(O.properties)})}),["Turkey","Syria","Japan"].forEach(O=>{console.log(`
Searching for "${O}":`),D.features.forEach((V,Z)=>{const ee=V.properties;Object.values(ee).some(de=>typeof de=="string"&&de.toLowerCase().includes(O.toLowerCase()))&&console.log(`Found match in country ${Z}:`,ee)})}),console.log("Final affected countries set:",Array.from(M)),M.clear(),e.forEach(O=>{const V=O.name.toLowerCase().trim();console.log(`
--- Processing actual disaster location: "${V}" ---`);let Z=!1;H[V]&&H[V].forEach(ee=>{const ue=D.features.find(de=>(de.properties.name||"").toLowerCase()===ee.toLowerCase());if(ue){const de=ue.properties.name;M.add(de),console.log(`✓ Matched "${V}" to "${de}" via direct mapping`),Z=!0}}),Z||(console.log(`Trying direct search for "${V}"`),D.features.forEach(ee=>{const ue=(ee.properties.name||"").toLowerCase();ue===V?(M.add(ee.properties.name),console.log(`✓ Exact match: "${V}" = "${ee.properties.name}"`),Z=!0):V.length>4&&(ue.includes(V)||V.includes(ue))&&(M.add(ee.properties.name),console.log(`✓ Partial match: "${V}" ~ "${ee.properties.name}"`),Z=!0)})),Z||console.log(`✗ No match found for "${V}"`)}),console.log("Final affected countries from actual disasters:",Array.from(M)),console.log("Creating globe..."),m=new N().globeImageUrl("//cdn.jsdelivr.net/npm/three-globe/example/img/earth-blue-marble.jpg").hexPolygonsData(D.features).hexPolygonResolution(3).hexPolygonMargin(.2).hexPolygonUseDots(!1).hexPolygonColor(O=>{const V=O.properties,Z=V.name||V.NAME||V.NAME_EN||V.ADMIN||V.NAME_LONG||"",ee=M.has(Z);return Math.random()<.02&&console.log(`Coloring country: "${Z}" -> ${ee?"RED (#dc2626)":"GOLDEN (#f7d794)"}`),ee?"#dc2626":"#f7d794"}).hexPolygonAltitude(.008).atmosphereColor("#fbbf24").atmosphereAltitude(.15),console.log("Setting up renderer..."),c=new E.WebGLRenderer({antialias:!0,alpha:!0}),c.setSize(n.current.clientWidth,n.current.clientHeight),c.setPixelRatio(window.devicePixelRatio),c.setClearColor(0,0),n.current.appendChild(c.domElement),console.log("Setting up scene..."),u=new E.Scene,u.add(m),u.add(new E.AmbientLight(16498468,Math.PI*.4)),u.add(new E.DirectionalLight(16708551,.8*Math.PI)),console.log("Setting up camera..."),d=new E.PerspectiveCamera,d.aspect=n.current.clientWidth/n.current.clientHeight,d.updateProjectionMatrix(),d.position.z=250,console.log("Setting up controls..."),h=new k(d,c.domElement),h.minDistance=120,h.maxDistance=800,h.rotateSpeed=2,h.zoomSpeed=.5,h.panSpeed=1,h.noZoom=!1,h.noPan=!1,h.staticMoving=!0,h.dynamicDampingFactor=.1;const G=()=>{n.current&&(d.aspect=n.current.clientWidth/n.current.clientHeight,d.updateProjectionMatrix(),c.setSize(n.current.clientWidth,n.current.clientHeight))};window.addEventListener("resize",G);const F=new E.Raycaster,z=new E.Vector2,B=O=>{if(!n.current)return;const V=n.current.getBoundingClientRect();z.x=(O.clientX-V.left)/V.width*2-1,z.y=-((O.clientY-V.top)/V.height)*2+1,F.setFromCamera(z,d);const Z=F.intersectObjects(u.children,!0);if(Z.length>0)for(const ee of Z){const ue=ee.object;if(ue.userData&&ue.userData.feature){const de=ue.userData.feature.properties.name;if(M.has(de)){const fe=e.filter(Fe=>{const Ke=Fe.name.toLowerCase().trim();return H[Ke]?H[Ke].some(J=>J.toLowerCase()===de.toLowerCase()):de.toLowerCase().includes(Ke)||Ke.includes(de.toLowerCase())});if(fe.length>0){l({country:de,disasters:fe,position:{x:O.clientX,y:O.clientY}}),console.log(`Clicked on ${de}, found ${fe.length} disasters`);break}}}}else l(null)};c.domElement.addEventListener("click",B),console.log("Starting animation loop...");const U=()=>{h.update(),c.render(u,d),x=requestAnimationFrame(U)};return U(),console.log("Globe initialization complete!"),i(!1),()=>{console.log("Cleaning up globe..."),window.removeEventListener("resize",G),c.domElement.removeEventListener("click",B),x&&cancelAnimationFrame(x),c&&c.domElement&&c.domElement.parentNode&&c.domElement.parentNode.removeChild(c.domElement),c&&c.dispose(),h&&h.dispose()}}catch(b){console.error("Error loading globe:",b),o(b instanceof Error?b.message:"Failed to load globe"),i(!1)}})();return()=>{_.then(g=>g&&g())}},[e]),s?f.jsx("div",{className:"w-full h-[70vh] flex items-center justify-center",children:f.jsxs("div",{className:"text-center bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-12 shadow-2xl",children:[f.jsx("div",{className:"text-red-600 mb-4",children:f.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsx("p",{className:"text-gray-900 font-['Cinzel'] text-xl mb-2",children:"Failed to load interactive globe"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel']",children:s})]})}):f.jsxs("div",{className:"relative w-full h-[70vh] overflow-hidden",children:[r&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:f.jsxs("div",{className:"text-center text-gray-900",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-gray-900 border-t-transparent mx-auto mb-6"}),f.jsx("p",{className:"font-['Cinzel'] text-xl",children:"Loading Global Disasters..."})]})}),f.jsx("div",{ref:n,className:"w-full h-full"}),a&&f.jsxs("div",{className:"absolute z-20 bg-white/95 backdrop-blur-xl rounded-2xl border border-amber-200 shadow-2xl p-6 max-w-md",style:{left:Math.min(a.position.x+10,window.innerWidth-400),top:Math.max(a.position.y-150,10)},children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 font-['Cinzel']",children:a.country}),f.jsx("button",{onClick:()=>l(null),className:"text-gray-500 hover:text-gray-700 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"grid grid-cols-1 gap-4 max-h-80 overflow-y-auto",children:a.disasters.map((c,u)=>f.jsx("div",{className:"relative",children:f.jsx(IB,{imageSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDIwMCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTUwIiBmaWxsPSJ0cmFuc3BhcmVudCIvPgo8L3N2Zz4K",altText:`${c.name} disaster relief`,captionText:c.name,containerHeight:"150px",containerWidth:"100%",imageHeight:"150px",imageWidth:"200px",scaleOnHover:1.05,rotateAmplitude:8,showMobileWarning:!1,showTooltip:!1,displayOverlayContent:!0,overlayContent:f.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-amber-100/90 to-amber-200/90 backdrop-blur-sm rounded-[15px] p-4 border border-amber-300/50",children:[f.jsx("h4",{className:"font-bold text-gray-900 font-['Cinzel'] mb-2 text-sm",children:c.name}),f.jsxs("div",{className:"text-xs text-gray-800 font-['Cinzel'] space-y-1 mb-3",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-semibold",children:"Type:"})," ",c.type]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-semibold",children:"Available:"})," $",c.amount.toLocaleString()]})]}),t&&f.jsx("button",{onClick:d=>{d.stopPropagation(),t(c),l(null)},className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-semibold py-1.5 px-3 rounded-lg transition-all duration-200 text-xs font-['Cinzel']",children:"View Details"})]})})},u))})]})]})}function Rz({user:e,organization:t,events:n}){const r=yn(),i=c=>{const u=new Date(c),d=u.getFullYear(),h=String(u.getMonth()+1).padStart(2,"0");return`${String(u.getDate()).padStart(2,"0")}/${h}/${d}`},s=n.map(c=>({id:c.id,lat:o(c.disaster_location),lng:a(c.disaster_location),name:c.disaster_location,type:"Disaster Event",amount:c.estimated_amount_required}));function o(c){const u={Turkey:39.9334,Syria:34.8021,Morocco:31.7917,Libya:26.3351,Pakistan:30.3753,Afghanistan:33.9391,Haiti:18.9712,Philippines:12.8797,Indonesia:-.7893,Japan:36.2048,Nepal:28.3949,Chile:-35.6751,"New Zealand":-40.9006,California:36.7783,Florida:27.7663,Texas:31.9686,Louisiana:31.1695,"Puerto Rico":18.2208,Australia:-25.2744,Greece:39.0742,Italy:41.8719,Portugal:39.3999,Spain:40.4637,France:46.6034,Germany:51.1657,Canada:56.1304,Brazil:-14.235,India:20.5937,China:35.8617,Thailand:15.87,Myanmar:21.9162,Bangladesh:23.685,"Sri Lanka":7.8731,Madagascar:-18.7669,Mozambique:-18.6657,Somalia:5.1521,Kenya:-.0236,Ethiopia:9.145,Sudan:12.8628,Yemen:15.5527,Iraq:33.2232,Iran:32.4279,Ukraine:48.3794,Russia:61.524,Poland:51.9194,Romania:45.9432,Hungary:47.1625,"Czech Republic":49.8175,Slovakia:48.669,Slovenia:46.1512,Croatia:45.1,Bosnia:43.9159,Serbia:44.0165,Montenegro:42.7087,Albania:41.1533,"North Macedonia":41.6086,Bulgaria:42.7339,Moldova:47.4116,Belarus:53.7098,Lithuania:55.1694,Latvia:56.8796,Estonia:58.5953,Finland:61.9241,Sweden:60.1282,Norway:60.472,Denmark:56.2639,Netherlands:52.1326,Belgium:50.5039,Luxembourg:49.8153,Switzerland:46.8182,Austria:47.5162,Liechtenstein:47.166,Monaco:43.7384,"San Marino":43.9424,"Vatican City":41.9029,Malta:35.9375,Cyprus:35.1264,Iceland:64.9631,Ireland:53.4129,"United Kingdom":55.3781,Mexico:23.6345,Guatemala:15.7835,Belize:17.1899,"El Salvador":13.7942,Honduras:15.2,Nicaragua:12.8654,"Costa Rica":9.7489,Panama:8.538,Colombia:4.5709,Venezuela:6.4238,Guyana:4.8604,Suriname:3.9193,"French Guiana":3.9339,Ecuador:-1.8312,Peru:-9.19,Bolivia:-16.2902,Paraguay:-23.4425,Uruguay:-32.5228,Argentina:-38.4161,"South Africa":-30.5595,Namibia:-22.9576,Botswana:-22.3285,Zimbabwe:-19.0154,Zambia:-13.1339,Malawi:-13.2543,Tanzania:-6.369,Uganda:1.3733,Rwanda:-1.9403,Burundi:-3.3731,"Democratic Republic of Congo":-4.0383,"Republic of Congo":-.228,"Central African Republic":6.6111,Cameroon:7.3697,"Equatorial Guinea":1.6508,Gabon:-.8037,"São Tomé and Príncipe":.1864,Chad:15.4542,Niger:17.6078,Mali:17.5707,"Burkina Faso":12.2383,"Ivory Coast":7.54,Ghana:7.9465,Togo:8.6195,Benin:9.3077,Nigeria:9.082,Senegal:14.4974,Gambia:13.4432,"Guinea-Bissau":11.8037,Guinea:9.9456,"Sierra Leone":8.4606,Liberia:6.4281,Algeria:28.0339,Tunisia:33.8869,Egypt:26.0975,default:0};return u[c]||u.default}function a(c){const u={Turkey:35.2433,Syria:38.9968,Morocco:-7.0926,Libya:17.2283,Pakistan:69.3451,Afghanistan:67.71,Haiti:-72.2852,Philippines:121.774,Indonesia:113.9213,Japan:138.2529,Nepal:84.124,Chile:-71.543,"New Zealand":174.886,California:-119.4179,Florida:-82.9001,Texas:-99.9018,Louisiana:-91.8677,"Puerto Rico":-66.5901,Australia:133.7751,Greece:21.8243,Italy:12.5674,Portugal:-8.2245,Spain:-3.7492,France:1.8883,Germany:10.4515,Canada:-106.3468,Brazil:-51.9253,India:78.9629,China:104.1954,Thailand:100.9925,Myanmar:95.956,Bangladesh:90.3563,"Sri Lanka":80.7718,Madagascar:46.8691,Mozambique:35.5296,Somalia:46.1996,Kenya:37.9062,Ethiopia:40.4897,Sudan:30.2176,Yemen:48.5164,Iraq:43.6793,Iran:53.688,Ukraine:31.1656,Russia:105.3188,Poland:19.1451,Romania:24.9668,Hungary:19.5033,"Czech Republic":15.4729,Slovakia:19.699,Slovenia:14.9955,Croatia:15.2,Bosnia:17.6791,Serbia:21.0059,Montenegro:19.3744,Albania:20.1683,"North Macedonia":21.7453,Bulgaria:25.4858,Moldova:28.3699,Belarus:27.9534,Lithuania:25.2797,Latvia:24.6032,Estonia:25.0136,Finland:25.7482,Sweden:18.6435,Norway:8.4689,Denmark:9.5018,Netherlands:5.2913,Belgium:4.4699,Luxembourg:6.1296,Switzerland:8.2275,Austria:14.5501,Liechtenstein:9.5554,Monaco:7.4246,"San Marino":12.4578,"Vatican City":12.4534,Malta:14.3754,Cyprus:33.4299,Iceland:-19.0208,Ireland:-8.2439,"United Kingdom":-3.436,Mexico:-102.5528,Guatemala:-90.2308,Belize:-88.4976,"El Salvador":-88.8965,Honduras:-86.2419,Nicaragua:-85.2072,"Costa Rica":-83.7534,Panama:-80.7821,Colombia:-74.2973,Venezuela:-66.5897,Guyana:-58.9302,Suriname:-56.0278,"French Guiana":-53.1258,Ecuador:-78.1834,Peru:-75.0152,Bolivia:-63.5887,Paraguay:-58.4438,Uruguay:-55.7658,Argentina:-63.6167,"South Africa":22.9375,Namibia:18.4941,Botswana:24.6849,Zimbabwe:29.1549,Zambia:27.8546,Malawi:34.3015,Tanzania:34.8888,Uganda:32.2903,Rwanda:29.8739,Burundi:29.9189,"Democratic Republic of Congo":21.7587,"Republic of Congo":15.8277,"Central African Republic":20.9394,Cameroon:12.3547,"Equatorial Guinea":10.2679,Gabon:11.6094,"São Tomé and Príncipe":6.6131,Chad:18.7322,Niger:8.0817,Mali:-3.9962,"Burkina Faso":-1.5616,"Ivory Coast":-5.5471,Ghana:-1.0232,Togo:.8248,Benin:2.3158,Nigeria:8.6753,Senegal:-14.4524,Gambia:-15.3101,"Guinea-Bissau":-15.1804,Guinea:-9.6966,"Sierra Leone":-11.7799,Liberia:-9.4295,Algeria:1.6596,Tunisia:9.5375,Egypt:30.8025,default:0};return u[c]||u.default}const l=c=>{r(`/event/${c}`)};return f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"}),f.jsx("div",{className:"absolute inset-0 opacity-60",children:f.jsx("img",{src:"/assets/clouds.png",alt:"Divine Clouds",className:"w-full h-full object-cover"})})]}),f.jsx(Ew,{}),f.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-6 py-8",style:{paddingTop:"100px"},children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6 font-['Cinzel'] drop-shadow-lg bg-gradient-to-b from-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Global Disaster Events"}),f.jsx("p",{className:"text-xl text-gray-800 font-['Cinzel'] max-w-3xl mx-auto leading-relaxed font-medium drop-shadow-md",children:"Explore active disaster relief funds around the world. Each red region represents a location where communities need divine support and compassion."})]}),f.jsx("div",{className:"mb-16",children:f.jsx(jz,{disasters:s})}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-8 font-['Cinzel'] text-center drop-shadow-lg bg-gradient-to-b from-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Sacred Relief Missions"}),n.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"mx-auto w-20 h-20 bg-amber-100/60 rounded-full flex items-center justify-center mb-6 shadow-lg",children:f.jsx("svg",{className:"w-10 h-10 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2-2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-xl font-medium drop-shadow-sm",children:"No active divine missions at this moment."}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] text-lg mt-2",children:"The heavens await new calls for aid."})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(c=>f.jsx("div",{id:`disaster-${c.id}`,className:"relative h-[420px]",children:f.jsx(IB,{imageSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjQyMCIgdmlld0JveD0iMCAwIDMwMCA0MjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iNDIwIiBmaWxsPSJ0cmFuc3BhcmVudCIvPgo8L3N2Zz4K",altText:`${c.title} disaster relief fund`,captionText:c.title,containerHeight:"420px",containerWidth:"100%",imageHeight:"420px",imageWidth:"320px",scaleOnHover:1.02,rotateAmplitude:8,showMobileWarning:!1,showTooltip:!1,displayOverlayContent:!0,overlayContent:f.jsxs("div",{className:"w-full h-full bg-amber-50/90 backdrop-blur-sm rounded-[15px] border border-amber-200 shadow-xl cursor-pointer transition-all duration-200 hover:shadow-2xl hover:border-amber-300 flex flex-col",onClick:u=>{u.stopPropagation(),l(c.id)},children:[f.jsxs("div",{className:"p-6 pb-4 border-b border-amber-100 flex-shrink-0",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 font-['Cinzel'] leading-tight min-h-[3.5rem] flex items-center drop-shadow-sm",children:c.title}),f.jsxs("div",{className:"inline-flex items-center bg-amber-100 border border-amber-200 rounded-full px-3 py-1",children:[f.jsxs("svg",{className:"w-4 h-4 mr-2 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsx("span",{className:"text-sm font-bold text-amber-800 font-['Cinzel'] drop-shadow-sm",children:c.disaster_location})]})]}),f.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-between",children:[f.jsxs("div",{className:"space-y-3 mb-4 flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center text-gray-800 font-['Cinzel'] text-sm font-medium",children:[f.jsx("svg",{className:"w-4 h-4 mr-2 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),f.jsx("span",{className:"drop-shadow-sm",children:i(c.created_at)})]}),f.jsxs("div",{className:"flex items-center text-gray-800 font-['Cinzel'] text-sm font-medium",children:[f.jsx("svg",{className:"w-4 h-4 mr-2 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),f.jsxs("span",{className:"font-bold text-amber-800 drop-shadow-sm",children:["$",c.estimated_amount_required.toLocaleString()]}),f.jsx("span",{className:"ml-1 text-gray-700",children:"needed"})]})]}),f.jsx("div",{className:"mb-4 flex-1",children:f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-sm leading-relaxed font-medium drop-shadow-sm h-[4.5rem] overflow-hidden",children:c.description.length>140?`${c.description.substring(0,140)}...`:c.description})}),f.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-amber-100 flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full shadow-sm"}),f.jsx("span",{className:"text-xs text-amber-800 font-['Cinzel'] font-bold drop-shadow-sm",children:"Sacred Mission Active"})]}),f.jsxs("div",{className:"flex items-center text-amber-700",children:[f.jsx("span",{className:"text-xs font-['Cinzel'] mr-1 font-bold drop-shadow-sm",children:"Enter Mission"}),f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})},c.id))})]}),!e&&f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 font-['Cinzel'] drop-shadow-lg bg-gradient-to-b from-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Answer the Divine Call to Serve"}),f.jsx("p",{className:"text-gray-800 mb-8 font-['Cinzel'] text-xl max-w-3xl mx-auto leading-relaxed font-medium drop-shadow-sm",children:"Join our sacred mission to distribute divine resources to communities touched by earthly trials. Your compassion can become their salvation."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsx(So,{to:"/login",className:"inline-flex items-center px-10 py-5 bg-gradient-to-r from-[#ffd700] to-[#ffed4e] text-gray-900 font-bold text-lg rounded-xl hover:from-[#ffed4e] hover:to-[#ffd700] transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] drop-shadow-sm",children:"Begin Sacred Journey"}),f.jsx(So,{to:"/",className:"inline-flex items-center px-10 py-5 bg-gray-900 hover:bg-gray-800 text-white font-bold text-lg rounded-xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] drop-shadow-sm",children:"Discover Our Mission"})]})]}),e&&t&&f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 font-['Cinzel'] text-center drop-shadow-lg bg-gradient-to-b from-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Divine Administration"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsx(So,{to:"/kyb",className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-5 px-8 rounded-xl text-center text-lg transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] drop-shadow-sm",children:"Sacred Registry"}),f.jsx(So,{to:"/petitions",className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-bold py-5 px-8 rounded-xl text-center text-lg transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] drop-shadow-sm",children:"Divine Petitions"}),f.jsx(So,{to:"/documents",className:"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white font-bold py-5 px-8 rounded-xl text-center text-lg transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] drop-shadow-sm",children:"Sacred Scrolls"})]})]})]})]})}function Oz(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,s]=S.useState([]),[o,a]=S.useState(!0),l=er();return S.useEffect(()=>{async function c(){try{const{data:{user:u}}=await l.auth.getUser();if(t(u),u){const{data:m}=await l.from("organizations").select("*").eq("user_id",u.id).single();r(m)}const{data:d,error:h}=await l.from("events").select("*").order("created_at",{ascending:!1});h?console.error("Error fetching events:",h):s(d||[])}catch(u){console.error("Error loading data:",u)}finally{a(!1)}}c()},[l]),o?f.jsx("div",{children:"Loading..."}):f.jsx(Rz,{user:e,organization:n,events:i})}function Dz({message:e="Loading...",size:t="medium"}){const n={small:"w-16 h-16",medium:"w-24 h-24",large:"w-32 h-32"},r={small:"text-sm",medium:"text-lg",large:"text-xl"};return f.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`${n[t]} relative`,children:[f.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent bg-gradient-to-r from-yellow-300 via-amber-400 to-yellow-300 animate-spin opacity-80",children:f.jsx("div",{className:"absolute inset-1 rounded-full bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"})}),f.jsx("div",{className:"absolute inset-2 rounded-full border-2 border-amber-300 animate-pulse",children:f.jsx("div",{className:"absolute inset-1 rounded-full bg-gradient-to-r from-amber-200 to-yellow-200 opacity-60"})}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-yellow-400 to-amber-400 rounded-full animate-pulse shadow-lg shadow-yellow-400/50",children:f.jsx("div",{className:"absolute inset-0 rounded-full bg-white opacity-60 animate-ping"})})}),f.jsx("div",{className:"absolute inset-0 animate-spin",style:{animationDuration:"3s"},children:[...Array(8)].map((i,s)=>f.jsx("div",{className:"absolute w-0.5 h-4 bg-gradient-to-t from-transparent to-yellow-400 opacity-70",style:{top:"-8px",left:"50%",transformOrigin:"50% 100%",transform:`translateX(-50%) rotate(${s*45}deg)`}},s))}),f.jsx("div",{className:"absolute inset-0",children:[...Array(6)].map((i,s)=>f.jsx("div",{className:"absolute w-1 h-1 bg-yellow-300 rounded-full animate-bounce opacity-60",style:{top:`${20+s*10}%`,left:`${15+s*12}%`,animationDelay:`${s*.2}s`,animationDuration:"2s"}},s))})]}),f.jsx("div",{className:`absolute inset-0 ${n[t]} rounded-full bg-gradient-to-r from-yellow-400/20 to-amber-400/20 blur-xl animate-pulse`})]}),f.jsxs("div",{className:"mt-6 text-center",children:[f.jsx("p",{className:`${r[t]} font-['Cinzel'] font-medium text-gray-800 drop-shadow-sm animate-pulse`,children:e}),f.jsx("div",{className:"flex justify-center mt-2 space-x-1",children:[...Array(3)].map((i,s)=>f.jsx("div",{className:"w-1 h-1 bg-amber-400 rounded-full animate-bounce",style:{animationDelay:`${s*.2}s`}},s))})]}),f.jsx("div",{className:"mt-4 text-center opacity-70",children:f.jsx("p",{className:"text-xs font-['Cinzel'] text-gray-600 italic",children:"✨ Divine grace is loading ✨"})})]})}function sy({text:e,speed:t=50,maxIterations:n=10,sequential:r=!1,revealDirection:i="start",useOriginalCharsOnly:s=!1,characters:o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+",className:a="",parentClassName:l="",encryptedClassName:c="",animateOn:u="hover",...d}){const[h,m]=S.useState(e),[x,y]=S.useState(!1),[_,g]=S.useState(!1),[b,p]=S.useState(new Set),[C,E]=S.useState(!1),N=S.useRef(null);S.useEffect(()=>{let j,D=0;const M=G=>{const F=e.length;switch(i){case"start":return G.size;case"end":return F-1-G.size;case"center":{const z=Math.floor(F/2),B=Math.floor(G.size/2),U=G.size%2===0?z+B:z-B-1;if(U>=0&&U<F&&!G.has(U))return U;for(let O=0;O<F;O++)if(!G.has(O))return O;return 0}default:return G.size}},H=s?Array.from(new Set(e.split(""))).filter(G=>G!==" "):o.split(""),Q=(G,F)=>{if(s){const z=G.split("").map((O,V)=>({char:O,isSpace:O===" ",index:V,isRevealed:F.has(V)})),B=z.filter(O=>!O.isSpace&&!O.isRevealed).map(O=>O.char);for(let O=B.length-1;O>0;O--){const V=Math.floor(Math.random()*(O+1));[B[O],B[V]]=[B[V],B[O]]}let U=0;return z.map(O=>O.isSpace?" ":O.isRevealed?G[O.index]:B[U++]).join("")}else return G.split("").map((z,B)=>z===" "?" ":F.has(B)?G[B]:H[Math.floor(Math.random()*H.length)]).join("")};return x?(g(!0),j=setInterval(()=>{p(G=>{if(r)if(G.size<e.length){const F=M(G),z=new Set(G);return z.add(F),m(Q(e,z)),z}else return clearInterval(j),g(!1),G;else return m(Q(e,G)),D++,D>=n&&(clearInterval(j),g(!1),m(e)),G})},t)):(m(e),p(new Set),g(!1)),()=>{j&&clearInterval(j)}},[x,e,t,n,r,i,o,s]),S.useEffect(()=>{if(u!=="view")return;const j=Q=>{Q.forEach(G=>{G.isIntersecting&&!C&&(y(!0),E(!0))})},D={root:null,rootMargin:"0px",threshold:.1},M=new IntersectionObserver(j,D),H=N.current;return H&&M.observe(H),()=>{H&&M.unobserve(H)}},[u,C]);const k=u==="hover"?{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)}:{};return f.jsxs(Ht.span,{ref:N,className:`inline-block whitespace-pre-wrap ${l}`,...k,...d,children:[f.jsx("span",{className:"sr-only",children:h}),f.jsx("span",{"aria-hidden":"true",children:h.split("").map((j,D)=>{const M=b.has(D)||!_||!x;return f.jsx("span",{className:M?a:c,children:j},D)})})]})}function Mz({isOpen:e,onClose:t,eventTitle:n}){const[r,i]=S.useState("amount"),[s,o]=S.useState(""),[a,l]=S.useState(!1),[c,u]=S.useState(""),d="0x1234567890123456789012345678901234567890",h=()=>{s&&parseFloat(s)>0&&i("wallet")},m=async()=>{l(!0),u("Connecting to MetaMask...");try{if(!window.ethereum){u("MetaMask not found. Please install MetaMask extension."),l(!1);return}const _=await window.ethereum.request({method:"eth_requestAccounts"});if(_.length===0){u("No accounts found. Please unlock MetaMask."),l(!1);return}u("Connected! Preparing transaction...");const g=new window.Web3(window.ethereum),b=(parseFloat(s)*.001).toString(),p=g.utils.toWei(b,"ether"),C={to:d,from:_[0],value:p,data:"0x"};u("Please confirm the transaction in MetaMask...");const E=await window.ethereum.request({method:"eth_sendTransaction",params:[C]});u(`Transaction sent! Hash: ${E.substring(0,10)}...`),setTimeout(()=>{t(),u(""),l(!1),i("amount"),o("")},3e3)}catch(_){console.error("MetaMask connection error:",_);const g=_ instanceof Error?_.message:"Transaction failed";u(`Error: ${g}`),l(!1)}},x=()=>{u("Aztec wallet integration coming soon..."),setTimeout(()=>{u("")},2e3)},y=()=>{i("amount"),u(""),l(!1)};return S.useEffect(()=>{e||(i("amount"),o(""),u(""),l(!1))},[e]),f.jsx(e0,{children:e&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[f.jsx(Ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),f.jsx(Ht.div,{initial:{opacity:0,scale:.8,rotateX:-15},animate:{opacity:1,scale:1,rotateX:0},exit:{opacity:0,scale:.8,rotateX:15},transition:{type:"spring",damping:20,stiffness:300},className:"relative max-w-md w-full",children:f.jsxs("div",{className:"relative rounded-2xl border-4 border-amber-800 shadow-2xl",style:{backgroundColor:"#cbb287"},children:[f.jsx("div",{className:"absolute -top-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -bottom-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -left-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsx("div",{className:"absolute -right-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsxs("div",{className:"p-8 pt-12 pb-12",children:[f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-amber-900 hover:text-black transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r==="wallet"&&f.jsx("button",{onClick:y,className:"absolute top-4 left-4 text-amber-900 hover:text-black transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r==="amount"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-['Cinzel'] mb-2 drop-shadow-sm",children:"Enter Donation Amount"}),f.jsxs("div",{className:"mt-2 text-gray-800 font-['Cinzel'] text-xs italic",children:["For: ",n]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-gray-900 font-['Cinzel'] font-bold mb-3 text-lg",children:"Amount (USDC)"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-700 font-['Cinzel'] text-xl font-bold",children:"$"}),f.jsx("input",{type:"number",value:s,onChange:_=>o(_.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-4 bg-white/20 backdrop-blur-sm border-2 border-amber-600/50 rounded-xl text-gray-900 font-['Cinzel'] text-xl font-bold placeholder-gray-600 focus:outline-none focus:border-amber-700 focus:bg-white/30 transition-all"})]})]}),f.jsx("button",{onClick:h,disabled:!s||parseFloat(s)<=0,className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 disabled:text-gray-500 text-gray-900 font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel']",children:"Continue to Payment"})]}),r==="wallet"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-['Cinzel'] mb-2 drop-shadow-sm",children:"Choose your payment method"}),f.jsxs("div",{className:"mt-2 text-gray-800 font-['Cinzel'] text-sm",children:["Donating:"," ",f.jsxs("span",{className:"font-bold",children:["$",s," USDC"]})]}),f.jsxs("div",{className:"mt-1 text-gray-800 font-['Cinzel'] text-xs italic",children:["For: ",n]})]}),c&&f.jsx("div",{className:"mb-6 p-3 bg-amber-200/70 rounded-lg border border-amber-600/50",children:f.jsx("p",{className:"text-gray-900 font-['Cinzel'] text-sm text-center font-medium",children:c})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:m,disabled:a,className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 text-gray-900 font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel'] flex items-center justify-center",children:[f.jsx("img",{src:"/MetaMask.png",alt:"MetaMask",className:"w-6 h-6 mr-3"}),a?"Connecting...":"MetaMask Wallet"]}),f.jsxs("button",{onClick:x,disabled:a,className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 text-gray-900 font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel'] flex items-center justify-center",children:[f.jsx("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 10.93 5.16-1.19 9-5.38 9-10.93V7l-10-5z"})}),"Aztec Wallet (macOS only)"]})]})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-xs italic",children:"✨ Your generosity brings divine blessings ✨"})})]})]})})]})})}function Uz({isOpen:e,onClose:t,eventTitle:n,eventId:r,organization:i}){const[s,o]=S.useState(""),[a,l]=S.useState(!1),[c,u]=S.useState(""),[d,h]=S.useState(!1),m=er(),x=async()=>{if(!s.trim()){u("Please provide a reason for your funding request.");return}l(!0),u("Processing your request...");try{const y=Math.floor(Math.random()*5e5)+5e4,{error:_}=await m.from("claims").insert({event_id:r,org_id:i.id,claimed_amount:y,reason:s.trim(),claim_state:"voting"});if(_)throw _;u(`Success! Your funding request for $${y.toLocaleString()} has been submitted for community voting.`),h(!0),setTimeout(()=>{t(),o(""),u(""),l(!1),h(!1),window.location.reload()},3e3)}catch(y){console.error("Error submitting funding request:",y),u(`Error: ${y instanceof Error?y.message:"Failed to submit request"}`),l(!1)}};return S.useEffect(()=>{e||(o(""),u(""),l(!1),h(!1))},[e]),f.jsx(e0,{children:e&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{paddingTop:"120px"},children:[f.jsx(Ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),f.jsx(Ht.div,{initial:{opacity:0,scale:.8,rotateX:-15},animate:{opacity:1,scale:1,rotateX:0},exit:{opacity:0,scale:.8,rotateX:15},transition:{type:"spring",damping:20,stiffness:300},className:"relative max-w-5xl w-full h-fit",style:{maxHeight:"calc(100vh - 160px)"},children:f.jsxs("div",{className:"relative rounded-2xl border-4 border-amber-800 shadow-2xl",style:{backgroundColor:"#cbb287"},children:[f.jsx("div",{className:"absolute -top-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -bottom-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -left-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsx("div",{className:"absolute -right-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsxs("div",{className:"p-6",children:[f.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-amber-900 hover:text-black transition-colors z-10",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"text-center mb-4",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 font-['Cinzel'] mb-1 drop-shadow-sm",children:"Request Funds"}),f.jsxs("div",{className:"flex justify-center items-center gap-3 text-gray-800 font-['Cinzel'] text-xs",children:[f.jsxs("span",{children:["For: ",f.jsx("span",{className:"font-bold",children:n})]}),f.jsx("span",{children:"•"}),f.jsxs("span",{children:["Org:"," ",f.jsx("span",{className:"font-bold",children:i.organization_name})]})]})]}),c&&f.jsx("div",{className:`mb-4 p-3 rounded-lg border ${d?"bg-green-200/70 border-green-600/50":c.startsWith("Error")?"bg-red-200/70 border-red-600/50":"bg-amber-200/70 border-amber-600/50"}`,children:f.jsx("p",{className:"text-gray-900 font-['Cinzel'] text-xs text-center font-medium",children:c})}),!d&&f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-900 font-['Cinzel'] font-bold mb-3 text-lg text-center",children:"Funding Request Justification"}),f.jsx("textarea",{value:s,onChange:y=>o(y.target.value),placeholder:"Please provide a detailed explanation of why you need funding for this disaster relief effort. Include specific plans, activities, beneficiaries, timeline, and expected impact...",rows:10,maxLength:2e3,className:"w-full p-4 bg-white/20 backdrop-blur-sm border-2 border-amber-600/50 rounded-xl text-gray-900 font-['Cinzel'] placeholder-gray-600 focus:outline-none focus:border-amber-700 focus:bg-white/30 transition-all resize-none text-sm leading-relaxed"}),f.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[f.jsx("div",{className:"text-gray-700 font-['Cinzel'] text-xs italic",children:"💡 Include specific plans, timeline, beneficiaries, and expected outcomes"}),f.jsxs("div",{className:"text-gray-700 font-['Cinzel'] text-xs font-medium",children:[s.length,"/2000 characters"]})]})]})}),!d&&f.jsx("div",{className:"mt-4",children:f.jsx("button",{onClick:x,disabled:a||!s.trim(),className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 disabled:text-gray-500 text-gray-900 font-bold py-3 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel'] text-sm",children:a?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-900",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Request..."]}):"Submit Funding Request"})}),f.jsx("div",{className:"mt-3 text-center",children:f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-xs italic",children:"✨ May your efforts bring hope to those in need ✨"})})]})]})})]})})}var sS={};const Lz=[["AF","AFG","004","ISO 3166-2:AF"],["AL","ALB","008","ISO 3166-2:AL"],["DZ","DZA","012","ISO 3166-2:DZ"],["AS","ASM","016","ISO 3166-2:AS"],["AD","AND","020","ISO 3166-2:AD"],["AO","AGO","024","ISO 3166-2:AO"],["AI","AIA","660","ISO 3166-2:AI"],["AQ","ATA","010","ISO 3166-2:AQ"],["AG","ATG","028","ISO 3166-2:AG"],["AR","ARG","032","ISO 3166-2:AR"],["AM","ARM","051","ISO 3166-2:AM"],["AW","ABW","533","ISO 3166-2:AW"],["AU","AUS","036","ISO 3166-2:AU"],["AT","AUT","040","ISO 3166-2:AT"],["AZ","AZE","031","ISO 3166-2:AZ"],["BS","BHS","044","ISO 3166-2:BS"],["BH","BHR","048","ISO 3166-2:BH"],["BD","BGD","050","ISO 3166-2:BD"],["BB","BRB","052","ISO 3166-2:BB"],["BY","BLR","112","ISO 3166-2:BY"],["BE","BEL","056","ISO 3166-2:BE"],["BZ","BLZ","084","ISO 3166-2:BZ"],["BJ","BEN","204","ISO 3166-2:BJ"],["BM","BMU","060","ISO 3166-2:BM"],["BT","BTN","064","ISO 3166-2:BT"],["BO","BOL","068","ISO 3166-2:BO"],["BA","BIH","070","ISO 3166-2:BA"],["BW","BWA","072","ISO 3166-2:BW"],["BV","BVT","074","ISO 3166-2:BV"],["BR","BRA","076","ISO 3166-2:BR"],["IO","IOT","086","ISO 3166-2:IO"],["BN","BRN","096","ISO 3166-2:BN"],["BG","BGR","100","ISO 3166-2:BG"],["BF","BFA","854","ISO 3166-2:BF"],["BI","BDI","108","ISO 3166-2:BI"],["KH","KHM","116","ISO 3166-2:KH"],["CM","CMR","120","ISO 3166-2:CM"],["CA","CAN","124","ISO 3166-2:CA"],["CV","CPV","132","ISO 3166-2:CV"],["KY","CYM","136","ISO 3166-2:KY"],["CF","CAF","140","ISO 3166-2:CF"],["TD","TCD","148","ISO 3166-2:TD"],["CL","CHL","152","ISO 3166-2:CL"],["CN","CHN","156","ISO 3166-2:CN"],["CX","CXR","162","ISO 3166-2:CX"],["CC","CCK","166","ISO 3166-2:CC"],["CO","COL","170","ISO 3166-2:CO"],["KM","COM","174","ISO 3166-2:KM"],["CG","COG","178","ISO 3166-2:CG"],["CD","COD","180","ISO 3166-2:CD"],["CK","COK","184","ISO 3166-2:CK"],["CR","CRI","188","ISO 3166-2:CR"],["CI","CIV","384","ISO 3166-2:CI"],["HR","HRV","191","ISO 3166-2:HR"],["CU","CUB","192","ISO 3166-2:CU"],["CY","CYP","196","ISO 3166-2:CY"],["CZ","CZE","203","ISO 3166-2:CZ"],["DK","DNK","208","ISO 3166-2:DK"],["DJ","DJI","262","ISO 3166-2:DJ"],["DM","DMA","212","ISO 3166-2:DM"],["DO","DOM","214","ISO 3166-2:DO"],["EC","ECU","218","ISO 3166-2:EC"],["EG","EGY","818","ISO 3166-2:EG"],["SV","SLV","222","ISO 3166-2:SV"],["GQ","GNQ","226","ISO 3166-2:GQ"],["ER","ERI","232","ISO 3166-2:ER"],["EE","EST","233","ISO 3166-2:EE"],["ET","ETH","231","ISO 3166-2:ET"],["FK","FLK","238","ISO 3166-2:FK"],["FO","FRO","234","ISO 3166-2:FO"],["FJ","FJI","242","ISO 3166-2:FJ"],["FI","FIN","246","ISO 3166-2:FI"],["FR","FRA","250","ISO 3166-2:FR"],["GF","GUF","254","ISO 3166-2:GF"],["PF","PYF","258","ISO 3166-2:PF"],["TF","ATF","260","ISO 3166-2:TF"],["GA","GAB","266","ISO 3166-2:GA"],["GM","GMB","270","ISO 3166-2:GM"],["GE","GEO","268","ISO 3166-2:GE"],["DE","DEU","276","ISO 3166-2:DE"],["GH","GHA","288","ISO 3166-2:GH"],["GI","GIB","292","ISO 3166-2:GI"],["GR","GRC","300","ISO 3166-2:GR"],["GL","GRL","304","ISO 3166-2:GL"],["GD","GRD","308","ISO 3166-2:GD"],["GP","GLP","312","ISO 3166-2:GP"],["GU","GUM","316","ISO 3166-2:GU"],["GT","GTM","320","ISO 3166-2:GT"],["GN","GIN","324","ISO 3166-2:GN"],["GW","GNB","624","ISO 3166-2:GW"],["GY","GUY","328","ISO 3166-2:GY"],["HT","HTI","332","ISO 3166-2:HT"],["HM","HMD","334","ISO 3166-2:HM"],["VA","VAT","336","ISO 3166-2:VA"],["HN","HND","340","ISO 3166-2:HN"],["HK","HKG","344","ISO 3166-2:HK"],["HU","HUN","348","ISO 3166-2:HU"],["IS","ISL","352","ISO 3166-2:IS"],["IN","IND","356","ISO 3166-2:IN"],["ID","IDN","360","ISO 3166-2:ID"],["IR","IRN","364","ISO 3166-2:IR"],["IQ","IRQ","368","ISO 3166-2:IQ"],["IE","IRL","372","ISO 3166-2:IE"],["IL","ISR","376","ISO 3166-2:IL"],["IT","ITA","380","ISO 3166-2:IT"],["JM","JAM","388","ISO 3166-2:JM"],["JP","JPN","392","ISO 3166-2:JP"],["JO","JOR","400","ISO 3166-2:JO"],["KZ","KAZ","398","ISO 3166-2:KZ"],["KE","KEN","404","ISO 3166-2:KE"],["KI","KIR","296","ISO 3166-2:KI"],["KP","PRK","408","ISO 3166-2:KP"],["KR","KOR","410","ISO 3166-2:KR"],["KW","KWT","414","ISO 3166-2:KW"],["KG","KGZ","417","ISO 3166-2:KG"],["LA","LAO","418","ISO 3166-2:LA"],["LV","LVA","428","ISO 3166-2:LV"],["LB","LBN","422","ISO 3166-2:LB"],["LS","LSO","426","ISO 3166-2:LS"],["LR","LBR","430","ISO 3166-2:LR"],["LY","LBY","434","ISO 3166-2:LY"],["LI","LIE","438","ISO 3166-2:LI"],["LT","LTU","440","ISO 3166-2:LT"],["LU","LUX","442","ISO 3166-2:LU"],["MO","MAC","446","ISO 3166-2:MO"],["MG","MDG","450","ISO 3166-2:MG"],["MW","MWI","454","ISO 3166-2:MW"],["MY","MYS","458","ISO 3166-2:MY"],["MV","MDV","462","ISO 3166-2:MV"],["ML","MLI","466","ISO 3166-2:ML"],["MT","MLT","470","ISO 3166-2:MT"],["MH","MHL","584","ISO 3166-2:MH"],["MQ","MTQ","474","ISO 3166-2:MQ"],["MR","MRT","478","ISO 3166-2:MR"],["MU","MUS","480","ISO 3166-2:MU"],["YT","MYT","175","ISO 3166-2:YT"],["MX","MEX","484","ISO 3166-2:MX"],["FM","FSM","583","ISO 3166-2:FM"],["MD","MDA","498","ISO 3166-2:MD"],["MC","MCO","492","ISO 3166-2:MC"],["MN","MNG","496","ISO 3166-2:MN"],["MS","MSR","500","ISO 3166-2:MS"],["MA","MAR","504","ISO 3166-2:MA"],["MZ","MOZ","508","ISO 3166-2:MZ"],["MM","MMR","104","ISO 3166-2:MM"],["NA","NAM","516","ISO 3166-2:NA"],["NR","NRU","520","ISO 3166-2:NR"],["NP","NPL","524","ISO 3166-2:NP"],["NL","NLD","528","ISO 3166-2:NL"],["NC","NCL","540","ISO 3166-2:NC"],["NZ","NZL","554","ISO 3166-2:NZ"],["NI","NIC","558","ISO 3166-2:NI"],["NE","NER","562","ISO 3166-2:NE"],["NG","NGA","566","ISO 3166-2:NG"],["NU","NIU","570","ISO 3166-2:NU"],["NF","NFK","574","ISO 3166-2:NF"],["MP","MNP","580","ISO 3166-2:MP"],["MK","MKD","807","ISO 3166-2:MK"],["NO","NOR","578","ISO 3166-2:NO"],["OM","OMN","512","ISO 3166-2:OM"],["PK","PAK","586","ISO 3166-2:PK"],["PW","PLW","585","ISO 3166-2:PW"],["PS","PSE","275","ISO 3166-2:PS"],["PA","PAN","591","ISO 3166-2:PA"],["PG","PNG","598","ISO 3166-2:PG"],["PY","PRY","600","ISO 3166-2:PY"],["PE","PER","604","ISO 3166-2:PE"],["PH","PHL","608","ISO 3166-2:PH"],["PN","PCN","612","ISO 3166-2:PN"],["PL","POL","616","ISO 3166-2:PL"],["PT","PRT","620","ISO 3166-2:PT"],["PR","PRI","630","ISO 3166-2:PR"],["QA","QAT","634","ISO 3166-2:QA"],["RE","REU","638","ISO 3166-2:RE"],["RO","ROU","642","ISO 3166-2:RO"],["RU","RUS","643","ISO 3166-2:RU"],["RW","RWA","646","ISO 3166-2:RW"],["SH","SHN","654","ISO 3166-2:SH"],["KN","KNA","659","ISO 3166-2:KN"],["LC","LCA","662","ISO 3166-2:LC"],["PM","SPM","666","ISO 3166-2:PM"],["VC","VCT","670","ISO 3166-2:VC"],["WS","WSM","882","ISO 3166-2:WS"],["SM","SMR","674","ISO 3166-2:SM"],["ST","STP","678","ISO 3166-2:ST"],["SA","SAU","682","ISO 3166-2:SA"],["SN","SEN","686","ISO 3166-2:SN"],["SC","SYC","690","ISO 3166-2:SC"],["SL","SLE","694","ISO 3166-2:SL"],["SG","SGP","702","ISO 3166-2:SG"],["SK","SVK","703","ISO 3166-2:SK"],["SI","SVN","705","ISO 3166-2:SI"],["SB","SLB","090","ISO 3166-2:SB"],["SO","SOM","706","ISO 3166-2:SO"],["ZA","ZAF","710","ISO 3166-2:ZA"],["GS","SGS","239","ISO 3166-2:GS"],["ES","ESP","724","ISO 3166-2:ES"],["LK","LKA","144","ISO 3166-2:LK"],["SD","SDN","729","ISO 3166-2:SD"],["SR","SUR","740","ISO 3166-2:SR"],["SJ","SJM","744","ISO 3166-2:SJ"],["SZ","SWZ","748","ISO 3166-2:SZ"],["SE","SWE","752","ISO 3166-2:SE"],["CH","CHE","756","ISO 3166-2:CH"],["SY","SYR","760","ISO 3166-2:SY"],["TW","TWN","158","ISO 3166-2:TW"],["TJ","TJK","762","ISO 3166-2:TJ"],["TZ","TZA","834","ISO 3166-2:TZ"],["TH","THA","764","ISO 3166-2:TH"],["TL","TLS","626","ISO 3166-2:TL"],["TG","TGO","768","ISO 3166-2:TG"],["TK","TKL","772","ISO 3166-2:TK"],["TO","TON","776","ISO 3166-2:TO"],["TT","TTO","780","ISO 3166-2:TT"],["TN","TUN","788","ISO 3166-2:TN"],["TR","TUR","792","ISO 3166-2:TR"],["TM","TKM","795","ISO 3166-2:TM"],["TC","TCA","796","ISO 3166-2:TC"],["TV","TUV","798","ISO 3166-2:TV"],["UG","UGA","800","ISO 3166-2:UG"],["UA","UKR","804","ISO 3166-2:UA"],["AE","ARE","784","ISO 3166-2:AE"],["GB","GBR","826","ISO 3166-2:GB"],["US","USA","840","ISO 3166-2:US"],["UM","UMI","581","ISO 3166-2:UM"],["UY","URY","858","ISO 3166-2:UY"],["UZ","UZB","860","ISO 3166-2:UZ"],["VU","VUT","548","ISO 3166-2:VU"],["VE","VEN","862","ISO 3166-2:VE"],["VN","VNM","704","ISO 3166-2:VN"],["VG","VGB","092","ISO 3166-2:VG"],["VI","VIR","850","ISO 3166-2:VI"],["WF","WLF","876","ISO 3166-2:WF"],["EH","ESH","732","ISO 3166-2:EH"],["YE","YEM","887","ISO 3166-2:YE"],["ZM","ZMB","894","ISO 3166-2:ZM"],["ZW","ZWE","716","ISO 3166-2:ZW"],["AX","ALA","248","ISO 3166-2:AX"],["BQ","BES","535","ISO 3166-2:BQ"],["CW","CUW","531","ISO 3166-2:CW"],["GG","GGY","831","ISO 3166-2:GG"],["IM","IMN","833","ISO 3166-2:IM"],["JE","JEY","832","ISO 3166-2:JE"],["ME","MNE","499","ISO 3166-2:ME"],["BL","BLM","652","ISO 3166-2:BL"],["MF","MAF","663","ISO 3166-2:MF"],["RS","SRB","688","ISO 3166-2:RS"],["SX","SXM","534","ISO 3166-2:SX"],["SS","SSD","728","ISO 3166-2:SS"],["XK","XKK","983","ISO 3166-2:XK"]],Pz=["br","cy","dv","sw","eu","af","am","ha","ku","ml","mt","no","ps","sd","so","sq","ta","tg","tt","ug","ur","vi","ar","az","be","bg","bn","bs","ca","cs","da","de","el","en","es","et","fa","fi","fr","ga","gl","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","ko","ky","lt","lv","mk","mn","mr","ms","nb","nl","nn","pl","pt","ro","ru","sk","sl","sr","sv","th","tk","tr","uk","uz","zh"];var Wm={};Wm.remove=Fz;var Vf=[{base:" ",chars:" "},{base:"0",chars:"߀"},{base:"A",chars:"ⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",chars:"Ꜳ"},{base:"AE",chars:"ÆǼǢ"},{base:"AO",chars:"Ꜵ"},{base:"AU",chars:"Ꜷ"},{base:"AV",chars:"ꜸꜺ"},{base:"AY",chars:"Ꜽ"},{base:"B",chars:"ⒷＢḂḄḆɃƁ"},{base:"C",chars:"ⒸＣꜾḈĆCĈĊČÇƇȻ"},{base:"D",chars:"ⒹＤḊĎḌḐḒḎĐƊƉᴅꝹ"},{base:"Dh",chars:"Ð"},{base:"DZ",chars:"ǱǄ"},{base:"Dz",chars:"ǲǅ"},{base:"E",chars:"ɛⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎᴇ"},{base:"F",chars:"ꝼⒻＦḞƑꝻ"},{base:"G",chars:"ⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾɢ"},{base:"H",chars:"ⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",chars:"ⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",chars:"ⒿＪĴɈȷ"},{base:"K",chars:"ⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",chars:"ⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",chars:"Ǉ"},{base:"Lj",chars:"ǈ"},{base:"M",chars:"ⓂＭḾṀṂⱮƜϻ"},{base:"N",chars:"ꞤȠⓃＮǸŃÑṄŇṆŅṊṈƝꞐᴎ"},{base:"NJ",chars:"Ǌ"},{base:"Nj",chars:"ǋ"},{base:"O",chars:"ⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OE",chars:"Œ"},{base:"OI",chars:"Ƣ"},{base:"OO",chars:"Ꝏ"},{base:"OU",chars:"Ȣ"},{base:"P",chars:"ⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",chars:"ⓆＱꝖꝘɊ"},{base:"R",chars:"ⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",chars:"ⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",chars:"ⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"Th",chars:"Þ"},{base:"TZ",chars:"Ꜩ"},{base:"U",chars:"ⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",chars:"ⓋＶṼṾƲꝞɅ"},{base:"VY",chars:"Ꝡ"},{base:"W",chars:"ⓌＷẀẂŴẆẄẈⱲ"},{base:"X",chars:"ⓍＸẊẌ"},{base:"Y",chars:"ⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",chars:"ⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",chars:"ⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑ"},{base:"aa",chars:"ꜳ"},{base:"ae",chars:"æǽǣ"},{base:"ao",chars:"ꜵ"},{base:"au",chars:"ꜷ"},{base:"av",chars:"ꜹꜻ"},{base:"ay",chars:"ꜽ"},{base:"b",chars:"ⓑｂḃḅḇƀƃɓƂ"},{base:"c",chars:"ｃⓒćĉċčçḉƈȼꜿↄ"},{base:"d",chars:"ⓓｄḋďḍḑḓḏđƌɖɗƋᏧԁꞪ"},{base:"dh",chars:"ð"},{base:"dz",chars:"ǳǆ"},{base:"e",chars:"ⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇǝ"},{base:"f",chars:"ⓕｆḟƒ"},{base:"ff",chars:"ﬀ"},{base:"fi",chars:"ﬁ"},{base:"fl",chars:"ﬂ"},{base:"ffi",chars:"ﬃ"},{base:"ffl",chars:"ﬄ"},{base:"g",chars:"ⓖｇǵĝḡğġǧģǥɠꞡꝿᵹ"},{base:"h",chars:"ⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",chars:"ƕ"},{base:"i",chars:"ⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",chars:"ⓙｊĵǰɉ"},{base:"k",chars:"ⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",chars:"ⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇɭ"},{base:"lj",chars:"ǉ"},{base:"m",chars:"ⓜｍḿṁṃɱɯ"},{base:"n",chars:"ⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥлԉ"},{base:"nj",chars:"ǌ"},{base:"o",chars:"ⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿꝋꝍɵɔᴑ"},{base:"oe",chars:"œ"},{base:"oi",chars:"ƣ"},{base:"oo",chars:"ꝏ"},{base:"ou",chars:"ȣ"},{base:"p",chars:"ⓟｐṕṗƥᵽꝑꝓꝕρ"},{base:"q",chars:"ⓠｑɋꝗꝙ"},{base:"r",chars:"ⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",chars:"ⓢｓśṥŝṡšṧṣṩșşȿꞩꞅẛʂ"},{base:"ss",chars:"ß"},{base:"t",chars:"ⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"th",chars:"þ"},{base:"tz",chars:"ꜩ"},{base:"u",chars:"ⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",chars:"ⓥｖṽṿʋꝟʌ"},{base:"vy",chars:"ꝡ"},{base:"w",chars:"ⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",chars:"ⓧｘẋẍ"},{base:"y",chars:"ⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",chars:"ⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],oS={};for(var Zd=0;Zd<Vf.length;Zd+=1)for(var FA=Vf[Zd].chars,oy=0;oy<FA.length;oy+=1)oS[FA[oy]]=Vf[Zd].base;function Fz(e){return e.replace(/[^\u0000-\u007e]/g,function(t){return oS[t]||t})}Wm.replacementList=Vf;Wm.diacriticsMap=oS;(function(e){const t=Lz,n=Pz,r=Wm.remove,i={},s={},o={},a={},l={};t.forEach(function(E){const N=E;s[N[0]]=N[1],o[N[1]]=N[0],a[N[2]]=N[0],l[N[0]]=N[2]});function c(E){return("000"+(E||"")).slice(-3)}function u(E,N){return Object.prototype.hasOwnProperty.call(E,N)}function d(E,N){return Object.keys(E).reduce(function(k,j){const D=E[j];return k[j]=N(D,j),k},{})}function h(E,N){switch(E){case"official":return Array.isArray(N)?N[0]:N;case"all":return typeof N=="string"?[N]:N;case"alias":return Array.isArray(N)?N[1]||N[0]:N;default:throw new TypeError("LocaleNameType must be one of these: all, official, alias!")}}e.registerLocale=function(E){if(!E.locale)throw new TypeError("Missing localeData.locale");if(!E.countries)throw new TypeError("Missing localeData.countries");i[E.locale]=E.countries};function m(E){return o[E]}e.alpha3ToAlpha2=m;function x(E){return s[E]}e.alpha2ToAlpha3=x;function y(E){return l[m(E)]}e.alpha3ToNumeric=y;function _(E){return l[E]}e.alpha2ToNumeric=_;function g(E){const N=c(E);return x(a[N])}e.numericToAlpha3=g;function b(E){const N=c(E);return a[N]}e.numericToAlpha2=b;function p(E){if(typeof E=="string"){if(/^[0-9]*$/.test(E))return g(E);if(E.length===2)return x(E.toUpperCase());if(E.length===3)return E.toUpperCase()}if(typeof E=="number")return g(E)}e.toAlpha3=p;function C(E){if(typeof E=="string"){if(/^[0-9]*$/.test(E))return b(E);if(E.length===2)return E.toUpperCase();if(E.length===3)return m(E.toUpperCase())}if(typeof E=="number")return b(E)}e.toAlpha2=C,e.getName=function(E,N,k={}){"select"in k||(k.select="official");try{const D=i[N.toLowerCase()][C(E)];return h(k.select,D)}catch{return}},e.getNames=function(E,N={}){"select"in N||(N.select="official");const k=i[E.toLowerCase()];return k===void 0?{}:d(k,function(j){return h(N.select,j)})},e.getAlpha2Code=function(E,N){const k=D=>D.toLowerCase(),j=(D,M)=>k(D)===k(M);try{const D=i[N.toLowerCase()];for(const M in D)if(u(D,M)){if(typeof D[M]=="string"&&j(D[M],E))return M;if(Array.isArray(D[M])){for(const H of D[M])if(j(H,E))return M}}return}catch{return}},e.getSimpleAlpha2Code=function(E,N){const k=D=>r(D.toLowerCase()),j=(D,M)=>k(D)===k(M);try{const D=i[N.toLowerCase()];for(const M in D)if(u(D,M)){if(typeof D[M]=="string"&&j(D[M],E))return M;if(Array.isArray(D[M])){for(const H of D[M])if(j(H,E))return M}}return}catch{return}},e.getAlpha2Codes=function(){return s},e.getAlpha3Code=function(E,N){const k=e.getAlpha2Code(E,N);if(k)return e.toAlpha3(k)},e.getSimpleAlpha3Code=function(E,N){const k=e.getSimpleAlpha2Code(E,N);if(k)return e.toAlpha3(k)},e.getAlpha3Codes=function(){return o},e.getNumericCodes=function(){return a},e.langs=function(){return Object.keys(i)},e.getSupportedLanguages=function(){return n},e.isValid=function(E){if(!E)return!1;const N=E.toString().toUpperCase();return u(o,N)||u(s,N)||u(a,N)}})(sS);let Vz=class Ct{constructor(t){re(this,"bytes");this.bytes=Ct.convertToBytes(t)}static convertToBytes(t){var n,r;if(typeof t=="bigint"||typeof t=="number"){const i=t.toString(16),s=i.padStart(Math.ceil(i.length/2)*2,"0");return new Uint8Array(((n=s.match(/.{1,2}/g))==null?void 0:n.map(o=>parseInt(o,16)))||[])}if(t instanceof Uint8Array)return new Uint8Array(t);if(Buffer.isBuffer(t))return new Uint8Array(t);if(Array.isArray(t)){if(!t.every(i=>typeof i=="number"&&i>=0&&i<=255))throw new Error("Invalid byte array: values must be between 0 and 255");return new Uint8Array(t)}if(t instanceof ArrayBuffer)return new Uint8Array(t);if(typeof t=="string"){if(Ct.isHexString(t)){const i=t.startsWith("0x")?t.slice(2):t,s=i.padStart(Math.ceil(i.length/2)*2,"0");return new Uint8Array(((r=s.match(/.{1,2}/g))==null?void 0:r.map(o=>parseInt(o,16)))||[])}try{const i=BigInt(t);return Ct.convertToBytes(i)}catch{return new Uint8Array(Buffer.from(t,"ascii"))}}throw new Error("Unsupported data type")}static isHexString(t){const n=t.startsWith("0x")?t.slice(2):t;return/^[0-9a-fA-F]*$/.test(n)}static from(t){return new Ct(t)}static fromHex(t){if(!Ct.isHexString(t))throw new Error("Invalid hex string");return new Ct(t.startsWith("0x")?t:"0x"+t)}static fromBuffer(t){return new Ct(t)}static fromBase64(t){const n=atob(t);return new Ct(Uint8Array.from(n,r=>r.charCodeAt(0)))}static empty(){return new Ct(new Uint8Array(0))}static zero(t){return new Ct(new Uint8Array(t))}toBigInt(){return BigInt("0x"+this.toHex().slice(2))}toUInt8Array(){return new Uint8Array(this.bytes)}toNumberArray(){return Array.from(this.bytes)}toHex(){return"0x"+Array.from(this.bytes).map(t=>t.toString(16).padStart(2,"0")).join("")}toBuffer(){return Buffer.from(this.bytes)}toString(t="hex"){return t==="hex"?this.toHex().slice(2):Buffer.from(this.bytes).toString(t)}toBase64(){return btoa(String.fromCharCode(...this.bytes))}toJSON(){return this.toHex()}[Symbol.for("nodejs.util.inspect.custom")](){return`Binary(${this.toHex()})`}[Symbol.toPrimitive](t){switch(t){case"number":return Number(this.toBigInt());case"string":return`Binary(${this.toHex()})`;default:return this.toBigInt()}}valueOf(){return this.toBigInt()}get length(){return this.bytes.length}*[Symbol.iterator](){yield*this.bytes}equals(t){return this.length!==t.length?!1:this.bytes.every((n,r)=>n===t.bytes[r])}slice(t,n){return new Ct(this.bytes.slice(t,n))}concat(t){return new Ct([...this.toNumberArray(),...t.toNumberArray()])}[Symbol.for("+")](t){return this.concat(t)}compare(t){const n=Math.min(this.length,t.length);for(let r=0;r<n;r++){const i=this.bytes[r]-t.bytes[r];if(i!==0)return i}return this.length-t.length}xor(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for XOR operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]^t.bytes[r];return new Ct(n)}and(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for AND operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]&t.bytes[r];return new Ct(n)}or(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for OR operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]|t.bytes[r];return new Ct(n)}not(){const t=new Uint8Array(this.length);for(let n=0;n<this.length;n++)t[n]=~this.bytes[n]&255;return new Ct(t)}padStart(t,n=0){if(this.length>=t)return this;const r=new Uint8Array(t);return r.fill(n,0,t-this.length),r.set(this.bytes,t-this.length),new Ct(r)}padEnd(t,n=0){if(this.length>=t)return this;const r=new Uint8Array(t);return r.set(this.bytes),r.fill(n,this.length),new Ct(r)}};const Ea=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zz(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function VA(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function X0(e,...t){if(!zz(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Ite(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");VA(e.outputLen),VA(e.blockLen)}function zA(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function $z(e,t){X0(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Bte(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Ov(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ay(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Tr(e,t){return e<<32-t|e>>>t}const Hz=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Gz(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function qz(e){for(let t=0;t<e.length;t++)e[t]=Gz(e[t]);return e}const Nte=Hz?e=>e:qz,BB=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Kz=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function jte(e){if(X0(e),BB)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Kz[e[n]];return t}const oi={_0:48,_9:57,A:65,F:70,a:97,f:102};function $A(e){if(e>=oi._0&&e<=oi._9)return e-oi._0;if(e>=oi.A&&e<=oi.F)return e-(oi.A-10);if(e>=oi.a&&e<=oi.f)return e-(oi.a-10)}function Yz(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(BB)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=$A(e.charCodeAt(s)),a=$A(e.charCodeAt(s+1));if(o===void 0||a===void 0){const l=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function Wz(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function NB(e){return typeof e=="string"&&(e=Wz(e)),X0(e),e}function Rte(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];X0(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class Zz{}function Xz(e){const t=r=>e().update(NB(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ote(e=32){if(Ea&&typeof Ea.getRandomValues=="function")return Ea.getRandomValues(new Uint8Array(e));if(Ea&&typeof Ea.randomBytes=="function")return Uint8Array.from(Ea.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function Jz(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)}function Qz(e,t,n){return e&t^~e&n}function e$(e,t,n){return e&t^e&n^t&n}class t$ extends Zz{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=ay(this.buffer)}update(t){zA(this),t=NB(t),X0(t);const{view:n,buffer:r,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=ay(t);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){zA(this),$z(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Ov(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;Jz(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=ay(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const ts=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),n$=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ns=new Uint32Array(64);class r$ extends t${constructor(t=32){super(64,t,8,!1),this.A=ts[0]|0,this.B=ts[1]|0,this.C=ts[2]|0,this.D=ts[3]|0,this.E=ts[4]|0,this.F=ts[5]|0,this.G=ts[6]|0,this.H=ts[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[t,n,r,i,s,o,a,l]}set(t,n,r,i,s,o,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(t,n){for(let d=0;d<16;d++,n+=4)ns[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=ns[d-15],m=ns[d-2],x=Tr(h,7)^Tr(h,18)^h>>>3,y=Tr(m,17)^Tr(m,19)^m>>>10;ns[d]=y+ns[d-7]+x+ns[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const h=Tr(a,6)^Tr(a,11)^Tr(a,25),m=u+h+Qz(a,l,c)+n$[d]+ns[d]|0,y=(Tr(r,2)^Tr(r,13)^Tr(r,22))+e$(r,i,s)|0;u=c,c=l,l=a,a=o+m|0,o=s,s=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){Ov(ns)}destroy(){this.set(0,0,0,0,0,0,0,0),Ov(this.buffer)}}const fc=Xz(()=>new r$);/*!
 * MIT License
 * 
 * Copyright (c) 2017-2024 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const i$="[object ArrayBuffer]";class Te{static isArrayBuffer(t){return Object.prototype.toString.call(t)===i$}static toArrayBuffer(t){return this.isArrayBuffer(t)?t:t.byteLength===t.buffer.byteLength||t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:this.toUint8Array(t.buffer).slice(t.byteOffset,t.byteOffset+t.byteLength).buffer}static toUint8Array(t){return this.toView(t,Uint8Array)}static toView(t,n){if(t.constructor===n)return t;if(this.isArrayBuffer(t))return new n(t);if(this.isArrayBufferView(t))return new n(t.buffer,t.byteOffset,t.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(t){return this.isArrayBufferView(t)||this.isArrayBuffer(t)}static isArrayBufferView(t){return ArrayBuffer.isView(t)||t&&this.isArrayBuffer(t.buffer)}static isEqual(t,n){const r=Te.toUint8Array(t),i=Te.toUint8Array(n);if(r.length!==i.byteLength)return!1;for(let s=0;s<r.length;s++)if(r[s]!==i[s])return!1;return!0}static concat(...t){let n;Array.isArray(t[0])&&!(t[1]instanceof Function)||Array.isArray(t[0])&&t[1]instanceof Function?n=t[0]:t[t.length-1]instanceof Function?n=t.slice(0,t.length-1):n=t;let r=0;for(const o of n)r+=o.byteLength;const i=new Uint8Array(r);let s=0;for(const o of n){const a=this.toUint8Array(o);i.set(a,s),s+=a.length}return t[t.length-1]instanceof Function?this.toView(i,t[t.length-1]):i.buffer}}const ly="string",s$=/^[0-9a-f\s]+$/i,o$=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,a$=/^[a-zA-Z0-9-_]+$/;class HA{static fromString(t){const n=unescape(encodeURIComponent(t)),r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r.buffer}static toString(t){const n=Te.toUint8Array(t);let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return decodeURIComponent(escape(r))}}class kr{static toString(t,n=!1){const r=Te.toArrayBuffer(t),i=new DataView(r);let s="";for(let o=0;o<r.byteLength;o+=2){const a=i.getUint16(o,n);s+=String.fromCharCode(a)}return s}static fromString(t,n=!1){const r=new ArrayBuffer(t.length*2),i=new DataView(r);for(let s=0;s<t.length;s++)i.setUint16(s*2,t.charCodeAt(s),n);return r}}class rt{static isHex(t){return typeof t===ly&&s$.test(t)}static isBase64(t){return typeof t===ly&&o$.test(t)}static isBase64Url(t){return typeof t===ly&&a$.test(t)}static ToString(t,n="utf8"){const r=Te.toUint8Array(t);switch(n.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return kr.toString(r,!0);case"utf16":case"utf16be":return kr.toString(r);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromString(t,n="utf8"){if(!t)return new ArrayBuffer(0);switch(n.toLowerCase()){case"utf8":return this.FromUtf8String(t);case"binary":return this.FromBinary(t);case"hex":return this.FromHex(t);case"base64":return this.FromBase64(t);case"base64url":return this.FromBase64Url(t);case"utf16le":return kr.fromString(t,!0);case"utf16":case"utf16be":return kr.fromString(t);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToBase64(t){const n=Te.toUint8Array(t);if(typeof btoa<"u"){const r=this.ToString(n,"binary");return btoa(r)}else return Buffer.from(n).toString("base64")}static FromBase64(t){const n=this.formatString(t);if(!n)return new ArrayBuffer(0);if(!rt.isBase64(n))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(n)):new Uint8Array(Buffer.from(n,"base64")).buffer}static FromBase64Url(t){const n=this.formatString(t);if(!n)return new ArrayBuffer(0);if(!rt.isBase64Url(n))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(n.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(t){return this.ToBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(t,n=rt.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.FromBinary(t);case"utf8":return HA.fromString(t);case"utf16":case"utf16be":return kr.fromString(t);case"utf16le":case"usc2":return kr.fromString(t,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToUtf8String(t,n=rt.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.ToBinary(t);case"utf8":return HA.toString(t);case"utf16":case"utf16be":return kr.toString(t);case"utf16le":case"usc2":return kr.toString(t,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromBinary(t){const n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}static ToBinary(t){const n=Te.toUint8Array(t);let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}static ToHex(t){const n=Te.toUint8Array(t);let r="";const i=n.length;for(let s=0;s<i;s++){const o=n[s];o<16&&(r+="0"),r+=o.toString(16)}return r}static FromHex(t){let n=this.formatString(t);if(!n)return new ArrayBuffer(0);if(!rt.isHex(n))throw new TypeError("Argument 'hexString' is not HEX encoded");n.length%2&&(n=`0${n}`);const r=new Uint8Array(n.length/2);for(let i=0;i<n.length;i=i+2){const s=n.slice(i,i+2);r[i/2]=parseInt(s,16)}return r.buffer}static ToUtf16String(t,n=!1){return kr.toString(t,n)}static FromUtf16String(t,n=!1){return kr.fromString(t,n)}static Base64Padding(t){const n=4-t.length%4;if(n<4)for(let r=0;r<n;r++)t+="=";return t}static formatString(t){return(t==null?void 0:t.replace(/[\n\r\t ]/g,""))||""}}rt.DEFAULT_UTF8_ENCODING="utf8";function l$(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;const n=new Uint8Array(e),r=new Uint8Array(t);for(let i=0;i<e.byteLength;i++)if(n[i]!==r[i])return!1;return!0}/*!
 Copyright (c) Peculiar Ventures, LLC
*/function jl(e,t){let n=0;if(e.length===1)return e[0];for(let r=e.length-1;r>=0;r--)n+=e[e.length-1-r]*Math.pow(2,t*r);return n}function Zo(e,t,n=-1){const r=n;let i=e,s=0,o=Math.pow(2,t);for(let a=1;a<8;a++){if(e<o){let l;if(r<0)l=new ArrayBuffer(a),s=a;else{if(r<a)return new ArrayBuffer(0);l=new ArrayBuffer(r),s=r}const c=new Uint8Array(l);for(let u=a-1;u>=0;u--){const d=Math.pow(2,u*t);c[s-u-1]=Math.floor(i/d),i-=c[s-u-1]*d}return l}o*=Math.pow(2,t)}return new ArrayBuffer(0)}function Dv(...e){let t=0,n=0;for(const s of e)t+=s.length;const r=new ArrayBuffer(t),i=new Uint8Array(r);for(const s of e)i.set(s,n),n+=s.length;return i}function jB(){const e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const a=e[0]===255&&e[1]&128,l=e[0]===0&&(e[1]&128)===0;(a||l)&&this.warnings.push("Needlessly long format")}const t=new ArrayBuffer(this.valueHex.byteLength),n=new Uint8Array(t);for(let a=0;a<this.valueHex.byteLength;a++)n[a]=0;n[0]=e[0]&128;const r=jl(n,8),i=new ArrayBuffer(this.valueHex.byteLength),s=new Uint8Array(i);for(let a=0;a<this.valueHex.byteLength;a++)s[a]=e[a];return s[0]&=127,jl(s,8)-r}function c$(e){const t=e<0?e*-1:e;let n=128;for(let r=1;r<8;r++){if(t<=n){if(e<0){const o=n-t,a=Zo(o,8,r),l=new Uint8Array(a);return l[0]|=128,a}let i=Zo(t,8,r),s=new Uint8Array(i);if(s[0]&128){const o=i.slice(0),a=new Uint8Array(o);i=new ArrayBuffer(i.byteLength+1),s=new Uint8Array(i);for(let l=0;l<o.byteLength;l++)s[l+1]=a[l];s[0]=0}return i}n*=Math.pow(2,8)}return new ArrayBuffer(0)}function u$(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new Uint8Array(e),r=new Uint8Array(t);for(let i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}function Sn(e,t){const n=e.toString(10);if(t<n.length)return"";const r=t-n.length,i=new Array(r);for(let o=0;o<r;o++)i[o]="0";return i.join("").concat(n)}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function jh(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function aS(e){let t=0,n=0;for(let i=0;i<e.length;i++){const s=e[i];t+=s.byteLength}const r=new Uint8Array(t);for(let i=0;i<e.length;i++){const s=e[i];r.set(new Uint8Array(s),n),n+=s.byteLength}return r.buffer}function Yi(e,t,n,r){return t instanceof Uint8Array?t.byteLength?n<0?(e.error="Wrong parameter: inputOffset less than zero",!1):r<0?(e.error="Wrong parameter: inputLength less than zero",!1):t.byteLength-n-r<0?(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class Zm{constructor(){this.items=[]}write(t){this.items.push(t)}final(){return aS(this.items)}}const Pc=[new Uint8Array([1])],GA="0123456789",cy="name",qA="valueHexView",d$="isHexOnly",f$="idBlock",h$="tagClass",m$="tagNumber",p$="isConstructed",g$="fromBER",y$="toBER",b$="local",un="",Sr=new ArrayBuffer(0),Xm=new Uint8Array(0),s0="EndOfContent",RB="OCTET STRING",OB="BIT STRING";function Jr(e){var t;return t=class extends e{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(r){this.valueHexView=new Uint8Array(r)}constructor(...r){var i;super(...r);const s=r[0]||{};this.isHexOnly=(i=s.isHexOnly)!==null&&i!==void 0?i:!1,this.valueHexView=s.valueHex?Te.toUint8Array(s.valueHex):Xm}fromBER(r,i,s){const o=r instanceof ArrayBuffer?new Uint8Array(r):r;if(!Yi(this,o,i,s))return-1;const a=i+s;return this.valueHexView=o.subarray(i,a),this.valueHexView.length?(this.blockLength=s,a):(this.warnings.push("Zero buffer length"),i)}toBER(r=!1){return this.isHexOnly?r?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",Sr)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:rt.ToHex(this.valueHexView)}}},t.NAME="hexBlock",t}class ha{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(t){this.valueBeforeDecodeView=new Uint8Array(t)}constructor({blockLength:t=0,error:n=un,warnings:r=[],valueBeforeDecode:i=Xm}={}){this.blockLength=t,this.error=n,this.warnings=r,this.valueBeforeDecodeView=Te.toUint8Array(i)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:rt.ToHex(this.valueBeforeDecodeView)}}}ha.NAME="baseBlock";class sn extends ha{fromBER(t,n,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(t,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}sn.NAME="valueBlock";class DB extends Jr(ha){constructor({idBlock:t={}}={}){var n,r,i,s;super(),t?(this.isHexOnly=(n=t.isHexOnly)!==null&&n!==void 0?n:!1,this.valueHexView=t.valueHex?Te.toUint8Array(t.valueHex):Xm,this.tagClass=(r=t.tagClass)!==null&&r!==void 0?r:-1,this.tagNumber=(i=t.tagNumber)!==null&&i!==void 0?i:-1,this.isConstructed=(s=t.isConstructed)!==null&&s!==void 0?s:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(t=!1){let n=0;switch(this.tagClass){case 1:n|=0;break;case 2:n|=64;break;case 3:n|=128;break;case 4:n|=192;break;default:return this.error="Unknown tag class",Sr}if(this.isConstructed&&(n|=32),this.tagNumber<31&&!this.isHexOnly){const i=new Uint8Array(1);if(!t){let s=this.tagNumber;s&=31,n|=s,i[0]=n}return i.buffer}if(!this.isHexOnly){const i=Zo(this.tagNumber,7),s=new Uint8Array(i),o=i.byteLength,a=new Uint8Array(o+1);if(a[0]=n|31,!t){for(let l=0;l<o-1;l++)a[l+1]=s[l]|128;a[o]=s[o-1]}return a.buffer}const r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=n|31,!t){const i=this.valueHexView;for(let s=0;s<i.length-1;s++)r[s+1]=i[s]|128;r[this.valueHexView.byteLength]=i[i.length-1]}return r.buffer}fromBER(t,n,r){const i=Te.toUint8Array(t);if(!Yi(this,i,n,r))return-1;const s=i.subarray(n,n+r);if(s.length===0)return this.error="Zero buffer length",-1;switch(s[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(s[0]&32)===32,this.isHexOnly=!1;const a=s[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let l=1,c=this.valueHexView=new Uint8Array(255),u=255;for(;s[l]&128;){if(c[l-1]=s[l]&127,l++,l>=s.length)return this.error="End of input reached before message was fully decoded",-1;if(l===u){u+=255;const h=new Uint8Array(u);for(let m=0;m<c.length;m++)h[m]=c[m];c=this.valueHexView=new Uint8Array(u)}}this.blockLength=l+1,c[l-1]=s[l]&127;const d=new Uint8Array(l);for(let h=0;h<l;h++)d[h]=c[h];c=this.valueHexView=new Uint8Array(l),c.set(d),this.blockLength<=9?this.tagNumber=jl(c,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return n+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}DB.NAME="identificationBlock";class MB extends ha{constructor({lenBlock:t={}}={}){var n,r,i;super(),this.isIndefiniteForm=(n=t.isIndefiniteForm)!==null&&n!==void 0?n:!1,this.longFormUsed=(r=t.longFormUsed)!==null&&r!==void 0?r:!1,this.length=(i=t.length)!==null&&i!==void 0?i:0}fromBER(t,n,r){const i=Te.toUint8Array(t);if(!Yi(this,i,n,r))return-1;const s=i.subarray(n,n+r);if(s.length===0)return this.error="Zero buffer length",-1;if(s[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=s[0]===128,this.isIndefiniteForm)return this.blockLength=1,n+this.blockLength;if(this.longFormUsed=!!(s[0]&128),this.longFormUsed===!1)return this.length=s[0],this.blockLength=1,n+this.blockLength;const o=s[0]&127;if(o>8)return this.error="Too big integer",-1;if(o+1>s.length)return this.error="End of input reached before message was fully decoded",-1;const a=n+1,l=i.subarray(a,a+o);return l[o-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=jl(l,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=o+1,n+this.blockLength}toBER(t=!1){let n,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return n=new ArrayBuffer(1),t===!1&&(r=new Uint8Array(n),r[0]=128),n;if(this.longFormUsed){const i=Zo(this.length,8);if(i.byteLength>127)return this.error="Too big length",Sr;if(n=new ArrayBuffer(i.byteLength+1),t)return n;const s=new Uint8Array(i);r=new Uint8Array(n),r[0]=i.byteLength|128;for(let o=0;o<i.byteLength;o++)r[o+1]=s[o];return n}return n=new ArrayBuffer(1),t===!1&&(r=new Uint8Array(n),r[0]=this.length),n}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}MB.NAME="lengthBlock";const se={};class zt extends ha{constructor({name:t=un,optional:n=!1,primitiveSchema:r,...i}={},s){super(i),this.name=t,this.optional=n,r&&(this.primitiveSchema=r),this.idBlock=new DB(i),this.lenBlock=new MB(i),this.valueBlock=s?new s(i):new sn(i)}fromBER(t,n,r){const i=this.valueBlock.fromBER(t,n,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}toBER(t,n){const r=n||new Zm;n||UB(this);const i=this.idBlock.toBER(t);if(r.write(i),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(t,r),r.write(new ArrayBuffer(2));else{const s=this.valueBlock.toBER(t);this.lenBlock.length=s.byteLength;const o=this.lenBlock.toBER(t);r.write(o),r.write(s)}return n?Sr:r.final()}toJSON(){const t={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(t.primitiveSchema=this.primitiveSchema.toJSON()),t}toString(t="ascii"){return t==="ascii"?this.onAsciiEncoding():rt.ToHex(this.toBER())}onAsciiEncoding(){const t=this.constructor.NAME,n=rt.ToHex(this.valueBlock.valueBeforeDecodeView);return`${t} : ${n}`}isEqual(t){if(this===t)return!0;if(!(t instanceof this.constructor))return!1;const n=this.toBER(),r=t.toBER();return u$(n,r)}}zt.NAME="BaseBlock";function UB(e){var t;if(e instanceof se.Constructed)for(const n of e.valueBlock.value)UB(n)&&(e.lenBlock.isIndefiniteForm=!0);return!!(!((t=e.lenBlock)===null||t===void 0)&&t.isIndefiniteForm)}class lS extends zt{getValue(){return this.valueBlock.value}setValue(t){this.valueBlock.value=t}constructor({value:t=un,...n}={},r){super(n,r),t&&this.fromString(t)}fromBER(t,n,r){const i=this.valueBlock.fromBER(t,n,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}lS.NAME="BaseStringBlock";class LB extends Jr(sn){constructor({isHexOnly:t=!0,...n}={}){super(n),this.isHexOnly=t}}LB.NAME="PrimitiveValueBlock";var PB;let J0=class extends zt{constructor(t={}){super(t,LB),this.idBlock.isConstructed=!1}};PB=J0;se.Primitive=PB;J0.NAME="PRIMITIVE";function v$(e,t){if(e instanceof t)return e;const n=new t;return n.idBlock=e.idBlock,n.lenBlock=e.lenBlock,n.warnings=e.warnings,n.valueBeforeDecodeView=e.valueBeforeDecodeView,n}function hc(e,t=0,n=e.length){const r=t;let i=new zt({},sn);const s=new ha;if(!Yi(s,e,t,n))return i.error=s.error,{offset:-1,result:i};if(!e.subarray(t,t+n).length)return i.error="Zero buffer length",{offset:-1,result:i};let a=i.idBlock.fromBER(e,t,n);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),a===-1)return i.error=i.idBlock.error,{offset:-1,result:i};if(t=a,n-=i.idBlock.blockLength,a=i.lenBlock.fromBER(e,t,n),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),a===-1)return i.error=i.lenBlock.error,{offset:-1,result:i};if(t=a,n-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let l=zt;switch(i.idBlock.tagClass){case 1:if(i.idBlock.tagNumber>=37&&i.idBlock.isHexOnly===!1)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};l=se.EndOfContent;break;case 1:l=se.Boolean;break;case 2:l=se.Integer;break;case 3:l=se.BitString;break;case 4:l=se.OctetString;break;case 5:l=se.Null;break;case 6:l=se.ObjectIdentifier;break;case 10:l=se.Enumerated;break;case 12:l=se.Utf8String;break;case 13:l=se.RelativeObjectIdentifier;break;case 14:l=se.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:l=se.Sequence;break;case 17:l=se.Set;break;case 18:l=se.NumericString;break;case 19:l=se.PrintableString;break;case 20:l=se.TeletexString;break;case 21:l=se.VideotexString;break;case 22:l=se.IA5String;break;case 23:l=se.UTCTime;break;case 24:l=se.GeneralizedTime;break;case 25:l=se.GraphicString;break;case 26:l=se.VisibleString;break;case 27:l=se.GeneralString;break;case 28:l=se.UniversalString;break;case 29:l=se.CharacterString;break;case 30:l=se.BmpString;break;case 31:l=se.DATE;break;case 32:l=se.TimeOfDay;break;case 33:l=se.DateTime;break;case 34:l=se.Duration;break;default:{const c=i.idBlock.isConstructed?new se.Constructed:new se.Primitive;c.idBlock=i.idBlock,c.lenBlock=i.lenBlock,c.warnings=i.warnings,i=c}}break;case 2:case 3:case 4:default:l=i.idBlock.isConstructed?se.Constructed:se.Primitive}return i=v$(i,l),a=i.fromBER(e,t,i.lenBlock.isIndefiniteForm?n:i.lenBlock.length),i.valueBeforeDecodeView=e.subarray(r,r+i.blockLength),{offset:a,result:i}}function ml(e){if(!e.byteLength){const t=new zt({},sn);return t.error="Input buffer has zero length",{offset:-1,result:t}}return hc(Te.toUint8Array(e).slice(),0,e.byteLength)}function x$(e,t){return e?1:t}class Ms extends sn{constructor({value:t=[],isIndefiniteForm:n=!1,...r}={}){super(r),this.value=t,this.isIndefiniteForm=n}fromBER(t,n,r){const i=Te.toUint8Array(t);if(!Yi(this,i,n,r))return-1;if(this.valueBeforeDecodeView=i.subarray(n,n+r),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),n;let s=n;for(;x$(this.isIndefiniteForm,r)>0;){const o=hc(i,s,r);if(o.offset===-1)return this.error=o.result.error,this.warnings.concat(o.result.warnings),-1;if(s=o.offset,this.blockLength+=o.result.blockLength,r-=o.result.blockLength,this.value.push(o.result),this.isIndefiniteForm&&o.result.constructor.NAME===s0)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===s0?this.value.pop():this.warnings.push("No EndOfContent block encoded")),s}toBER(t,n){const r=n||new Zm;for(let i=0;i<this.value.length;i++)this.value[i].toBER(t,r);return n?Sr:r.final()}toJSON(){const t={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const n of this.value)t.value.push(n.toJSON());return t}}Ms.NAME="ConstructedValueBlock";var FB;class mn extends zt{constructor(t={}){super(t,Ms),this.idBlock.isConstructed=!0}fromBER(t,n,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const i=this.valueBlock.fromBER(t,n,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){const t=[];for(const r of this.valueBlock.value)t.push(r.toString("ascii").split(`
`).map(i=>`  ${i}`).join(`
`));const n=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return t.length?`${n} :
${t.join(`
`)}`:`${n} :`}}FB=mn;se.Constructed=FB;mn.NAME="CONSTRUCTED";class VB extends sn{fromBER(t,n,r){return n}toBER(t){return Sr}}VB.override="EndOfContentValueBlock";var zB;class cS extends zt{constructor(t={}){super(t,VB),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}zB=cS;se.EndOfContent=zB;cS.NAME=s0;var $B;class Xo extends zt{constructor(t={}){super(t,sn),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(t,n,r){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,n+r>t.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):n+r}toBER(t,n){const r=new ArrayBuffer(2);if(!t){const i=new Uint8Array(r);i[0]=5,i[1]=0}return n&&n.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}$B=Xo;se.Null=$B;Xo.NAME="NULL";class HB extends Jr(sn){get value(){for(const t of this.valueHexView)if(t>0)return!0;return!1}set value(t){this.valueHexView[0]=t?255:0}constructor({value:t,...n}={}){super(n),n.valueHex?this.valueHexView=Te.toUint8Array(n.valueHex):this.valueHexView=new Uint8Array(1),t&&(this.value=t)}fromBER(t,n,r){const i=Te.toUint8Array(t);return Yi(this,i,n,r)?(this.valueHexView=i.subarray(n,n+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,jB.call(this),this.blockLength=r,n+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}HB.NAME="BooleanValueBlock";var GB;let Jm=class extends zt{getValue(){return this.valueBlock.value}setValue(t){this.valueBlock.value=t}constructor(t={}){super(t,HB),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};GB=Jm;se.Boolean=GB;Jm.NAME="BOOLEAN";class qB extends Jr(Ms){constructor({isConstructed:t=!1,...n}={}){super(n),this.isConstructed=t}fromBER(t,n,r){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,i=Ms.prototype.fromBER.call(this,t,n,r),i===-1)return i;for(let s=0;s<this.value.length;s++){const o=this.value[s].constructor.NAME;if(o===s0){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(o!==RB)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(t,n,r),this.blockLength=r;return i}toBER(t,n){return this.isConstructed?Ms.prototype.toBER.call(this,t,n):t?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}qB.NAME="OctetStringValueBlock";var uS;let Vo=class extends zt{constructor({idBlock:t={},lenBlock:n={},...r}={}){var i,s;(i=r.isConstructed)!==null&&i!==void 0||(r.isConstructed=!!(!((s=r.value)===null||s===void 0)&&s.length)),super({idBlock:{isConstructed:r.isConstructed,...t},lenBlock:{...n,isIndefiniteForm:!!r.isIndefiniteForm},...r},qB),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(t,n,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,r===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),n;if(!this.valueBlock.isConstructed){const s=(t instanceof ArrayBuffer?new Uint8Array(t):t).subarray(n,n+r);try{if(s.byteLength){const o=hc(s,0,s.byteLength);o.offset!==-1&&o.offset===r&&(this.valueBlock.value=[o.result])}}catch{}}return super.fromBER(t,n,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return mn.prototype.onAsciiEncoding.call(this);const t=this.constructor.NAME,n=rt.ToHex(this.valueBlock.valueHexView);return`${t} : ${n}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const t=[];for(const n of this.valueBlock.value)n instanceof uS&&t.push(n.valueBlock.valueHexView);return Te.concat(t)}};uS=Vo;se.OctetString=uS;Vo.NAME=RB;class KB extends Jr(Ms){constructor({unusedBits:t=0,isConstructed:n=!1,...r}={}){super(r),this.unusedBits=t,this.isConstructed=n,this.blockLength=this.valueHexView.byteLength}fromBER(t,n,r){if(!r)return n;let i=-1;if(this.isConstructed){if(i=Ms.prototype.fromBER.call(this,t,n,r),i===-1)return i;for(const a of this.value){const l=a.constructor.NAME;if(l===s0){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(l!==OB)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const c=a.valueBlock;if(this.unusedBits>0&&c.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=c.unusedBits}return i}const s=Te.toUint8Array(t);if(!Yi(this,s,n,r))return-1;const o=s.subarray(n,n+r);if(this.unusedBits=o[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const a=o.subarray(1);try{if(a.byteLength){const l=hc(a,0,a.byteLength);l.offset!==-1&&l.offset===r-1&&(this.value=[l.result])}}catch{}}return this.valueHexView=o.subarray(1),this.blockLength=o.length,n+r}toBER(t,n){if(this.isConstructed)return Ms.prototype.toBER.call(this,t,n);if(t)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return Sr;const r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}KB.NAME="BitStringValueBlock";var YB;let zo=class extends zt{constructor({idBlock:t={},lenBlock:n={},...r}={}){var i,s;(i=r.isConstructed)!==null&&i!==void 0||(r.isConstructed=!!(!((s=r.value)===null||s===void 0)&&s.length)),super({idBlock:{isConstructed:r.isConstructed,...t},lenBlock:{...n,isIndefiniteForm:!!r.isIndefiniteForm},...r},KB),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(t,n,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(t,n,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return mn.prototype.onAsciiEncoding.call(this);{const t=[],n=this.valueBlock.valueHexView;for(const o of n)t.push(o.toString(2).padStart(8,"0"));const r=t.join(""),i=this.constructor.NAME,s=r.substring(0,r.length-this.valueBlock.unusedBits);return`${i} : ${s}`}}};YB=zo;se.BitString=YB;zo.NAME=OB;var WB;function w$(e,t){const n=new Uint8Array([0]),r=new Uint8Array(e),i=new Uint8Array(t);let s=r.slice(0);const o=s.length-1,a=i.slice(0),l=a.length-1;let c=0;const u=l<o?o:l;let d=0;for(let h=u;h>=0;h--,d++){switch(!0){case d<a.length:c=s[o-d]+a[l-d]+n[0];break;default:c=s[o-d]+n[0]}switch(n[0]=c/10,!0){case d>=s.length:s=Dv(new Uint8Array([c%10]),s);break;default:s[o-d]=c%10}}return n[0]>0&&(s=Dv(n,s)),s}function KA(e){if(e>=Pc.length)for(let t=Pc.length;t<=e;t++){const n=new Uint8Array([0]);let r=Pc[t-1].slice(0);for(let i=r.length-1;i>=0;i--){const s=new Uint8Array([(r[i]<<1)+n[0]]);n[0]=s[0]/10,r[i]=s[0]%10}n[0]>0&&(r=Dv(n,r)),Pc.push(r)}return Pc[e]}function S$(e,t){let n=0;const r=new Uint8Array(e),i=new Uint8Array(t),s=r.slice(0),o=s.length-1,a=i.slice(0),l=a.length-1;let c,u=0;for(let d=l;d>=0;d--,u++)switch(c=s[o-u]-a[l-u]-n,!0){case c<0:n=1,s[o-u]=c+10;break;default:n=0,s[o-u]=c}if(n>0)for(let d=o-l+1;d>=0;d--,u++)if(c=s[o-u]-n,c<0)n=1,s[o-u]=c+10;else{n=0,s[o-u]=c;break}return s.slice()}class dS extends Jr(sn){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=jB.call(this)))}constructor({value:t,...n}={}){super(n),this._valueDec=0,n.valueHex&&this.setValueHex(),t!==void 0&&(this.valueDec=t)}set valueDec(t){this._valueDec=t,this.isHexOnly=!1,this.valueHexView=new Uint8Array(c$(t))}get valueDec(){return this._valueDec}fromDER(t,n,r,i=0){const s=this.fromBER(t,n,r);if(s===-1)return s;const o=this.valueHexView;return o[0]===0&&o[1]&128?this.valueHexView=o.subarray(1):i!==0&&o.length<i&&(i-o.length>1&&(i=o.length+1),this.valueHexView=o.subarray(i-o.length)),s}toDER(t=!1){const n=this.valueHexView;switch(!0){case(n[0]&128)!==0:{const r=new Uint8Array(this.valueHexView.length+1);r[0]=0,r.set(n,1),this.valueHexView=r}break;case(n[0]===0&&(n[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(t)}fromBER(t,n,r){const i=super.fromBER(t,n,r);return i===-1||this.setValueHex(),i}toBER(t){return t?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const t=this.valueHexView.length*8-1;let n=new Uint8Array(this.valueHexView.length*8/3),r=0,i;const s=this.valueHexView;let o="",a=!1;for(let l=s.byteLength-1;l>=0;l--){i=s[l];for(let c=0;c<8;c++){if((i&1)===1)switch(r){case t:n=S$(KA(r),n),o="-";break;default:n=w$(n,KA(r))}r++,i>>=1}}for(let l=0;l<n.length;l++)n[l]&&(a=!0),a&&(o+=GA.charAt(n[l]));return a===!1&&(o+=GA.charAt(0)),o}}WB=dS;dS.NAME="IntegerValueBlock";Object.defineProperty(WB.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var Au;class mc extends zt{constructor(t={}){super(t,dS),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return jh(),BigInt(this.valueBlock.toString())}static fromBigInt(t){jh();const n=BigInt(t),r=new Zm,i=n.toString(16).replace(/^-/,""),s=new Uint8Array(rt.FromHex(i));if(n<0){const a=new Uint8Array(s.length+(s[0]&128?1:0));a[0]|=128;const c=BigInt(`0x${rt.ToHex(a)}`)+n,u=Te.toUint8Array(rt.FromHex(c.toString(16)));u[0]|=128,r.write(u)}else s[0]&128&&r.write(new Uint8Array([0])),r.write(s);return new Au({valueHex:r.final()})}convertToDER(){const t=new Au({valueHex:this.valueBlock.valueHexView});return t.valueBlock.toDER(),t}convertFromDER(){return new Au({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Au=mc;se.Integer=Au;mc.NAME="INTEGER";var ZB;class Qm extends mc{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}ZB=Qm;se.Enumerated=ZB;Qm.NAME="ENUMERATED";class Mv extends Jr(sn){constructor({valueDec:t=-1,isFirstSid:n=!1,...r}={}){super(r),this.valueDec=t,this.isFirstSid=n}fromBER(t,n,r){if(!r)return n;const i=Te.toUint8Array(t);if(!Yi(this,i,n,r))return-1;const s=i.subarray(n,n+r);this.valueHexView=new Uint8Array(r);for(let a=0;a<r&&(this.valueHexView[a]=s[a]&127,this.blockLength++,!!(s[a]&128));a++);const o=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)o[a]=this.valueHexView[a];return this.valueHexView=o,s[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=jl(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}set valueBigInt(t){jh();let n=BigInt(t).toString(2);for(;n.length%7;)n="0"+n;const r=new Uint8Array(n.length/7);for(let i=0;i<r.length;i++)r[i]=parseInt(n.slice(i*7,i*7+7),2)+(i+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);const i=this.valueHexView,s=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength-1;o++)s[o]=i[o]|128;return s[this.blockLength-1]=i[this.blockLength-1],s.buffer}const n=Zo(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",Sr;const r=new Uint8Array(n.byteLength);if(!t){const i=new Uint8Array(n),s=n.byteLength-1;for(let o=0;o<s;o++)r[o]=i[o]|128;r[s]=i[s]}return r}toString(){let t="";if(this.isHexOnly)t=rt.ToHex(this.valueHexView);else if(this.isFirstSid){let n=this.valueDec;this.valueDec<=39?t="0.":this.valueDec<=79?(t="1.",n-=40):(t="2.",n-=80),t+=n.toString()}else t=this.valueDec.toString();return t}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}Mv.NAME="sidBlock";class XB extends sn{constructor({value:t=un,...n}={}){super(n),this.value=[],t&&this.fromString(t)}fromBER(t,n,r){let i=n;for(;r>0;){const s=new Mv;if(i=s.fromBER(t,i,r),i===-1)return this.blockLength=0,this.error=s.error,i;this.value.length===0&&(s.isFirstSid=!0),this.blockLength+=s.blockLength,r-=s.blockLength,this.value.push(s)}return i}toBER(t){const n=[];for(let r=0;r<this.value.length;r++){const i=this.value[r].toBER(t);if(i.byteLength===0)return this.error=this.value[r].error,Sr;n.push(i)}return aS(n)}fromString(t){this.value=[];let n=0,r=0,i="",s=!1;do if(r=t.indexOf(".",n),r===-1?i=t.substring(n):i=t.substring(n,r),n=r+1,s){const o=this.value[0];let a=0;switch(o.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}const l=parseInt(i,10);if(isNaN(l))return;o.valueDec=l+a,s=!1}else{const o=new Mv;if(i>Number.MAX_SAFE_INTEGER){jh();const a=BigInt(i);o.valueBigInt=a}else if(o.valueDec=parseInt(i,10),isNaN(o.valueDec))return;this.value.length||(o.isFirstSid=!0,s=!0),this.value.push(o)}while(r!==-1)}toString(){let t="",n=!1;for(let r=0;r<this.value.length;r++){n=this.value[r].isHexOnly;let i=this.value[r].toString();r!==0&&(t=`${t}.`),n?(i=`{${i}}`,this.value[r].isFirstSid?t=`2.{${i} - 80}`:t+=i):t+=i}return t}toJSON(){const t={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)t.sidArray.push(this.value[n].toJSON());return t}}XB.NAME="ObjectIdentifierValueBlock";var JB;class ep extends zt{getValue(){return this.valueBlock.toString()}setValue(t){this.valueBlock.fromString(t)}constructor(t={}){super(t,XB),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}JB=ep;se.ObjectIdentifier=JB;ep.NAME="OBJECT IDENTIFIER";class Uv extends Jr(ha){constructor({valueDec:t=0,...n}={}){super(n),this.valueDec=t}fromBER(t,n,r){if(r===0)return n;const i=Te.toUint8Array(t);if(!Yi(this,i,n,r))return-1;const s=i.subarray(n,n+r);this.valueHexView=new Uint8Array(r);for(let a=0;a<r&&(this.valueHexView[a]=s[a]&127,this.blockLength++,!!(s[a]&128));a++);const o=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)o[a]=this.valueHexView[a];return this.valueHexView=o,s[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=jl(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}toBER(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);const i=this.valueHexView,s=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength-1;o++)s[o]=i[o]|128;return s[this.blockLength-1]=i[this.blockLength-1],s.buffer}const n=Zo(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",Sr;const r=new Uint8Array(n.byteLength);if(!t){const i=new Uint8Array(n),s=n.byteLength-1;for(let o=0;o<s;o++)r[o]=i[o]|128;r[s]=i[s]}return r.buffer}toString(){let t="";return this.isHexOnly?t=rt.ToHex(this.valueHexView):t=this.valueDec.toString(),t}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}Uv.NAME="relativeSidBlock";class QB extends sn{constructor({value:t=un,...n}={}){super(n),this.value=[],t&&this.fromString(t)}fromBER(t,n,r){let i=n;for(;r>0;){const s=new Uv;if(i=s.fromBER(t,i,r),i===-1)return this.blockLength=0,this.error=s.error,i;this.blockLength+=s.blockLength,r-=s.blockLength,this.value.push(s)}return i}toBER(t,n){const r=[];for(let i=0;i<this.value.length;i++){const s=this.value[i].toBER(t);if(s.byteLength===0)return this.error=this.value[i].error,Sr;r.push(s)}return aS(r)}fromString(t){this.value=[];let n=0,r=0,i="";do{r=t.indexOf(".",n),r===-1?i=t.substring(n):i=t.substring(n,r),n=r+1;const s=new Uv;if(s.valueDec=parseInt(i,10),isNaN(s.valueDec))return!0;this.value.push(s)}while(r!==-1);return!0}toString(){let t="",n=!1;for(let r=0;r<this.value.length;r++){n=this.value[r].isHexOnly;let i=this.value[r].toString();r!==0&&(t=`${t}.`),n&&(i=`{${i}}`),t+=i}return t}toJSON(){const t={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)t.sidArray.push(this.value[n].toJSON());return t}}QB.NAME="RelativeObjectIdentifierValueBlock";var eN;class fS extends zt{getValue(){return this.valueBlock.toString()}setValue(t){this.valueBlock.fromString(t)}constructor(t={}){super(t,QB),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}eN=fS;se.RelativeObjectIdentifier=eN;fS.NAME="RelativeObjectIdentifier";var tN;class ki extends mn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}tN=ki;se.Sequence=tN;ki.NAME="SEQUENCE";var nN;let Ii=class extends mn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};nN=Ii;se.Set=nN;Ii.NAME="SET";class rN extends Jr(sn){constructor({...t}={}){super(t),this.isHexOnly=!0,this.value=un}toJSON(){return{...super.toJSON(),value:this.value}}}rN.NAME="StringValueBlock";class iN extends rN{}iN.NAME="SimpleStringValueBlock";class Rn extends lS{constructor({...t}={}){super(t,iN)}fromBuffer(t){this.valueBlock.value=String.fromCharCode.apply(null,Te.toUint8Array(t))}fromString(t){const n=t.length,r=this.valueBlock.valueHexView=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);this.valueBlock.value=t}}Rn.NAME="SIMPLE STRING";class sN extends Rn{fromBuffer(t){this.valueBlock.valueHexView=Te.toUint8Array(t);try{this.valueBlock.value=rt.ToUtf8String(t)}catch(n){this.warnings.push(`Error during "decodeURIComponent": ${n}, using raw string`),this.valueBlock.value=rt.ToBinary(t)}}fromString(t){this.valueBlock.valueHexView=new Uint8Array(rt.FromUtf8String(t)),this.valueBlock.value=t}}sN.NAME="Utf8StringValueBlock";var oN;class Wi extends sN{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}oN=Wi;se.Utf8String=oN;Wi.NAME="UTF8String";class aN extends Rn{fromBuffer(t){this.valueBlock.value=rt.ToUtf16String(t),this.valueBlock.valueHexView=Te.toUint8Array(t)}fromString(t){this.valueBlock.value=t,this.valueBlock.valueHexView=new Uint8Array(rt.FromUtf16String(t))}}aN.NAME="BmpStringValueBlock";var lN;class tp extends aN{constructor({...t}={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}lN=tp;se.BmpString=lN;tp.NAME="BMPString";class cN extends Rn{fromBuffer(t){const n=ArrayBuffer.isView(t)?t.slice().buffer:t.slice(0),r=new Uint8Array(n);for(let i=0;i<r.length;i+=4)r[i]=r[i+3],r[i+1]=r[i+2],r[i+2]=0,r[i+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(n))}fromString(t){const n=t.length,r=this.valueBlock.valueHexView=new Uint8Array(n*4);for(let i=0;i<n;i++){const s=Zo(t.charCodeAt(i),8),o=new Uint8Array(s);if(o.length>4)continue;const a=4-o.length;for(let l=o.length-1;l>=0;l--)r[i*4+l+a]=o[l]}this.valueBlock.value=t}}cN.NAME="UniversalStringValueBlock";var uN;class np extends cN{constructor({...t}={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}uN=np;se.UniversalString=uN;np.NAME="UniversalString";var dN;class rp extends Rn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}dN=rp;se.NumericString=dN;rp.NAME="NumericString";var fN;class ip extends Rn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}fN=ip;se.PrintableString=fN;ip.NAME="PrintableString";var hN;class sp extends Rn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}hN=sp;se.TeletexString=hN;sp.NAME="TeletexString";var mN;class op extends Rn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}mN=op;se.VideotexString=mN;op.NAME="VideotexString";var pN;class ap extends Rn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}pN=ap;se.IA5String=pN;ap.NAME="IA5String";var gN;class lp extends Rn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}gN=lp;se.GraphicString=gN;lp.NAME="GraphicString";var yN;class Q0 extends Rn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}yN=Q0;se.VisibleString=yN;Q0.NAME="VisibleString";var bN;class cp extends Rn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}bN=cp;se.GeneralString=bN;cp.NAME="GeneralString";var vN;class up extends Rn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}vN=up;se.CharacterString=vN;up.NAME="CharacterString";var xN;class ed extends Q0{constructor({value:t,valueDate:n,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,t){this.fromString(t),this.valueBlock.valueHexView=new Uint8Array(t.length);for(let i=0;i<t.length;i++)this.valueBlock.valueHexView[i]=t.charCodeAt(i)}n&&(this.fromDate(n),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(t){this.fromString(String.fromCharCode.apply(null,Te.toUint8Array(t)))}toBuffer(){const t=this.toString(),n=new ArrayBuffer(t.length),r=new Uint8Array(n);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return n}fromDate(t){this.year=t.getUTCFullYear(),this.month=t.getUTCMonth()+1,this.day=t.getUTCDate(),this.hour=t.getUTCHours(),this.minute=t.getUTCMinutes(),this.second=t.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(t){const r=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(t);if(r===null){this.error="Wrong input string for conversion";return}const i=parseInt(r[1],10);i>=50?this.year=1900+i:this.year=2e3+i,this.month=parseInt(r[2],10),this.day=parseInt(r[3],10),this.hour=parseInt(r[4],10),this.minute=parseInt(r[5],10),this.second=parseInt(r[6],10)}toString(t="iso"){if(t==="iso"){const n=new Array(7);return n[0]=Sn(this.year<2e3?this.year-1900:this.year-2e3,2),n[1]=Sn(this.month,2),n[2]=Sn(this.day,2),n[3]=Sn(this.hour,2),n[4]=Sn(this.minute,2),n[5]=Sn(this.second,2),n[6]="Z",n.join("")}return super.toString(t)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}xN=ed;se.UTCTime=xN;ed.NAME="UTCTime";var wN;class dp extends ed{constructor(t={}){var n;super(t),(n=this.millisecond)!==null&&n!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(t){super.fromDate(t),this.millisecond=t.getUTCMilliseconds()}toDate(){const t=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(t)}fromString(t){let n=!1,r="",i="",s=0,o,a=0,l=0;if(t[t.length-1]==="Z")r=t.substring(0,t.length-1),n=!0;else{const d=new Number(t[t.length-1]);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");r=t}if(n){if(r.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(r.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let d=1,h=r.indexOf("+"),m="";if(h===-1&&(h=r.indexOf("-"),d=-1),h!==-1){if(m=r.substring(h+1),r=r.substring(0,h),m.length!==2&&m.length!==4)throw new Error("Wrong input string for conversion");let x=parseInt(m.substring(0,2),10);if(isNaN(x.valueOf()))throw new Error("Wrong input string for conversion");if(a=d*x,m.length===4){if(x=parseInt(m.substring(2,4),10),isNaN(x.valueOf()))throw new Error("Wrong input string for conversion");l=d*x}}}let c=r.indexOf(".");if(c===-1&&(c=r.indexOf(",")),c!==-1){const d=new Number(`0${r.substring(c)}`);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");s=d.valueOf(),i=r.substring(0,c)}else i=r;switch(!0){case i.length===8:if(o=/(\d{4})(\d{2})(\d{2})/ig,c!==-1)throw new Error("Wrong input string for conversion");break;case i.length===10:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,c!==-1){let d=60*s;this.minute=Math.floor(d),d=60*(d-this.minute),this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case i.length===12:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,c!==-1){let d=60*s;this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case i.length===14:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,c!==-1){const d=1e3*s;this.millisecond=Math.floor(d)}break;default:throw new Error("Wrong input string for conversion")}const u=o.exec(i);if(u===null)throw new Error("Wrong input string for conversion");for(let d=1;d<u.length;d++)switch(d){case 1:this.year=parseInt(u[d],10);break;case 2:this.month=parseInt(u[d],10);break;case 3:this.day=parseInt(u[d],10);break;case 4:this.hour=parseInt(u[d],10)+a;break;case 5:this.minute=parseInt(u[d],10)+l;break;case 6:this.second=parseInt(u[d],10);break;default:throw new Error("Wrong input string for conversion")}if(n===!1){const d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=d.getUTCFullYear(),this.month=d.getUTCMonth(),this.day=d.getUTCDay(),this.hour=d.getUTCHours(),this.minute=d.getUTCMinutes(),this.second=d.getUTCSeconds(),this.millisecond=d.getUTCMilliseconds()}}toString(t="iso"){if(t==="iso"){const n=[];return n.push(Sn(this.year,4)),n.push(Sn(this.month,2)),n.push(Sn(this.day,2)),n.push(Sn(this.hour,2)),n.push(Sn(this.minute,2)),n.push(Sn(this.second,2)),this.millisecond!==0&&(n.push("."),n.push(Sn(this.millisecond,3))),n.push("Z"),n.join("")}return super.toString(t)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}wN=dp;se.GeneralizedTime=wN;dp.NAME="GeneralizedTime";var SN;class hS extends Wi{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}SN=hS;se.DATE=SN;hS.NAME="DATE";var _N;class mS extends Wi{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}_N=mS;se.TimeOfDay=_N;mS.NAME="TimeOfDay";var CN;class pS extends Wi{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}CN=pS;se.DateTime=CN;pS.NAME="DateTime";var EN;class gS extends Wi{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}EN=gS;se.Duration=EN;gS.NAME="Duration";var AN;let yS=class extends Wi{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}};AN=yS;se.TIME=AN;yS.NAME="TIME";class Jo{constructor({name:t=un,optional:n=!1}={}){this.name=t,this.optional=n}}class bS extends Jo{constructor({value:t=[],...n}={}){super(n),this.value=t}}class Rh extends Jo{constructor({value:t=new Jo,local:n=!1,...r}={}){super(r),this.value=t,this.local=n}}class _${get data(){return this.dataView.slice().buffer}set data(t){this.dataView=Te.toUint8Array(t)}constructor({data:t=Xm}={}){this.dataView=Te.toUint8Array(t)}fromBER(t,n,r){const i=n+r;return this.dataView=Te.toUint8Array(t).subarray(n,i),i}toBER(t){return this.dataView.slice().buffer}}function To(e,t,n){if(n instanceof bS){for(const s of n.value)if(To(e,t,s).verified)return{verified:!0,result:e};{const s={verified:!1,result:{error:"Wrong values for Choice type"}};return n.hasOwnProperty(cy)&&(s.name=n.name),s}}if(n instanceof Jo)return n.hasOwnProperty(cy)&&(e[n.name]=t),{verified:!0,result:e};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(n instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(f$ in n))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(g$ in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(y$ in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const r=n.idBlock.toBER(!1);if(r.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(n.idBlock.fromBER(r,0,r.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(n.idBlock.hasOwnProperty(h$)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(n.idBlock.hasOwnProperty(m$)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(n.idBlock.hasOwnProperty(p$)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!(d$ in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(n.idBlock.isHexOnly){if(!(qA in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=n.idBlock.valueHexView,o=t.idBlock.valueHexView;if(s.length!==o.length)return{verified:!1,result:e};for(let a=0;a<s.length;a++)if(s[a]!==o[1])return{verified:!1,result:e}}if(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,un),n.name&&(e[n.name]=t)),n instanceof se.Constructed){let s=0,o={verified:!1,result:{error:"Unknown error"}},a=n.valueBlock.value.length;if(a>0&&n.valueBlock.value[0]instanceof Rh&&(a=t.valueBlock.value.length),a===0)return{verified:!0,result:e};if(t.valueBlock.value.length===0&&n.valueBlock.value.length!==0){let l=!0;for(let c=0;c<n.valueBlock.value.length;c++)l=l&&(n.valueBlock.value[c].optional||!1);return l?{verified:!0,result:e}:(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,un),n.name&&delete e[n.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let l=0;l<a;l++)if(l-s>=t.valueBlock.value.length){if(n.valueBlock.value[l].optional===!1){const c={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,un),n.name&&(delete e[n.name],c.name=n.name)),c}}else if(n.valueBlock.value[0]instanceof Rh){if(o=To(e,t.valueBlock.value[l],n.valueBlock.value[0].value),o.verified===!1)if(n.valueBlock.value[0].optional)s++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,un),n.name&&delete e[n.name]),o;if(cy in n.valueBlock.value[0]&&n.valueBlock.value[0].name.length>0){let c={};b$ in n.valueBlock.value[0]&&n.valueBlock.value[0].local?c=t:c=e,typeof c[n.valueBlock.value[0].name]>"u"&&(c[n.valueBlock.value[0].name]=[]),c[n.valueBlock.value[0].name].push(t.valueBlock.value[l])}}else if(o=To(e,t.valueBlock.value[l-s],n.valueBlock.value[l]),o.verified===!1)if(n.valueBlock.value[l].optional)s++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,un),n.name&&delete e[n.name]),o;if(o.verified===!1){const l={verified:!1,result:e};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,un),n.name&&(delete e[n.name],l.name=n.name)),l}return{verified:!0,result:e}}if(n.primitiveSchema&&qA in t.valueBlock){const s=hc(t.valueBlock.valueHexView);if(s.offset===-1){const o={verified:!1,result:s.result};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,un),n.name&&(delete e[n.name],o.name=n.name)),o}return To(e,s.result,n.primitiveSchema)}return{verified:!0,result:e}}function C$(e,t){if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const n=hc(Te.toUint8Array(e));return n.offset===-1?{verified:!1,result:n.result}:To(n.result,n.result,t)}const TN=Object.freeze(Object.defineProperty({__proto__:null,Any:Jo,BaseBlock:zt,BaseStringBlock:lS,BitString:zo,BmpString:tp,Boolean:Jm,CharacterString:up,Choice:bS,Constructed:mn,DATE:hS,DateTime:pS,Duration:gS,EndOfContent:cS,Enumerated:Qm,GeneralString:cp,GeneralizedTime:dp,GraphicString:lp,HexBlock:Jr,IA5String:ap,Integer:mc,Null:Xo,NumericString:rp,ObjectIdentifier:ep,OctetString:Vo,Primitive:J0,PrintableString:ip,RawData:_$,RelativeObjectIdentifier:fS,Repeated:Rh,Sequence:ki,Set:Ii,TIME:yS,TeletexString:sp,TimeOfDay:mS,UTCTime:ed,UniversalString:np,Utf8String:Wi,ValueBlock:sn,VideotexString:op,ViewWriter:Zm,VisibleString:Q0,compareSchema:To,fromBER:ml,verifySchema:C$},Symbol.toStringTag,{value:"Module"}));var ne;(function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"})(ne||(ne={}));var P;(function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"})(P||(P={}));class vS{constructor(t,n=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),t)if(typeof t=="number")this.fromNumber(t);else if(Te.isBufferSource(t))this.unusedBits=n,this.value=Te.toArrayBuffer(t);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(t){if(!(t instanceof zo))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=t.valueBlock.unusedBits,this.value=t.valueBlock.valueHex,this}toASN(){return new zo({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(t){return new zo({name:t})}toNumber(){let t="";const n=new Uint8Array(this.value);for(const r of n)t+=r.toString(2).padStart(8,"0");return t=t.split("").reverse().join(""),this.unusedBits&&(t=t.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(t,2)}fromNumber(t){let n=t.toString(2);const r=n.length+7>>3;this.unusedBits=(r<<3)-n.length;const i=new Uint8Array(r);n=n.padStart(r<<3,"0").split("").reverse().join("");let s=0;for(;s<r;)i[s]=parseInt(n.slice(s<<3,(s<<3)+8),2),s++;this.value=i.buffer}}class qe{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(t){typeof t=="number"?this.buffer=new ArrayBuffer(t):Te.isBufferSource(t)?this.buffer=Te.toArrayBuffer(t):Array.isArray(t)?this.buffer=new Uint8Array(t):this.buffer=new ArrayBuffer(0)}fromASN(t){if(!(t instanceof Vo))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=t.valueBlock.valueHex,this}toASN(){return new Vo({valueHex:this.buffer})}toSchema(t){return new Vo({name:t})}}const E$={fromASN:e=>e instanceof Xo?null:e.valueBeforeDecodeView,toASN:e=>{if(e===null)return new Xo;const t=ml(e);if(t.result.error)throw new Error(t.result.error);return t.result}},A$={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new mc({value:+e})},T$={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new Qm({value:e})},Qe={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new mc({valueHex:e})},k$={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new zo({valueHex:e})},I$={fromASN:e=>e.valueBlock.toString(),toASN:e=>new ep({value:e})},B$={fromASN:e=>e.valueBlock.value,toASN:e=>new Jm({value:e})},Oh={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new Vo({valueHex:e})},N$={fromASN:e=>new qe(e.getValue()),toASN:e=>e.toASN()};function tr(e){return{fromASN:t=>t.valueBlock.value,toASN:t=>new e({value:t})}}const j$=tr(Wi),R$=tr(tp),O$=tr(np),D$=tr(rp),M$=tr(ip),U$=tr(sp),L$=tr(op),P$=tr(ap),F$=tr(lp),V$=tr(Q0),z$=tr(cp),$$=tr(up),H$={fromASN:e=>e.toDate(),toASN:e=>new ed({valueDate:e})},G$={fromASN:e=>e.toDate(),toASN:e=>new dp({valueDate:e})},q$={fromASN:()=>null,toASN:()=>new Xo};function xS(e){switch(e){case P.Any:return E$;case P.BitString:return k$;case P.BmpString:return R$;case P.Boolean:return B$;case P.CharacterString:return $$;case P.Enumerated:return T$;case P.GeneralString:return z$;case P.GeneralizedTime:return G$;case P.GraphicString:return F$;case P.IA5String:return P$;case P.Integer:return A$;case P.Null:return q$;case P.NumericString:return D$;case P.ObjectIdentifier:return I$;case P.OctetString:return Oh;case P.PrintableString:return M$;case P.TeletexString:return U$;case P.UTCTime:return H$;case P.UniversalString:return O$;case P.Utf8String:return j$;case P.VideotexString:return L$;case P.VisibleString:return V$;default:return null}}function Ei(e){return typeof e=="function"&&e.prototype?e.prototype.toASN&&e.prototype.fromASN?!0:Ei(e.prototype):!!(e&&typeof e=="object"&&"toASN"in e&&"fromASN"in e)}function kN(e){var t;if(e){const n=Object.getPrototypeOf(e);return((t=n==null?void 0:n.prototype)===null||t===void 0?void 0:t.constructor)===Array?!0:kN(n)}return!1}function K$(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;const n=new Uint8Array(e),r=new Uint8Array(t);for(let i=0;i<e.byteLength;i++)if(n[i]!==r[i])return!1;return!0}class Y${constructor(){this.items=new WeakMap}has(t){return this.items.has(t)}get(t,n=!1){const r=this.items.get(t);if(!r)throw new Error(`Cannot get schema for '${t.prototype.constructor.name}' target`);if(n&&!r.schema)throw new Error(`Schema '${t.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(t){const n=this.get(t);n.schema||(n.schema=this.create(t,!0))}createDefault(t){const n={type:ne.Sequence,items:{}},r=this.findParentSchema(t);return r&&(Object.assign(n,r),n.items=Object.assign({},n.items,r.items)),n}create(t,n){const r=this.items.get(t)||this.createDefault(t),i=[];for(const s in r.items){const o=r.items[s],a=n?s:"";let l;if(typeof o.type=="number"){const u=P[o.type],d=TN[u];if(!d)throw new Error(`Cannot get ASN1 class by name '${u}'`);l=new d({name:a})}else Ei(o.type)?l=new o.type().toSchema(a):o.optional?this.get(o.type).type===ne.Choice?l=new Jo({name:a}):(l=this.create(o.type,!1),l.name=a):l=new Jo({name:a});const c=!!o.optional||o.defaultValue!==void 0;if(o.repeated){l.name="";const u=o.repeated==="set"?Ii:ki;l=new u({name:"",value:[new Rh({name:a,value:l})]})}if(o.context!==null&&o.context!==void 0)if(o.implicit)if(typeof o.type=="number"||Ei(o.type)){const u=o.repeated?mn:J0;i.push(new u({name:a,optional:c,idBlock:{tagClass:3,tagNumber:o.context}}))}else{this.cache(o.type);const u=!!o.repeated;let d=u?l:this.get(o.type,!0).schema;d="valueBlock"in d?d.valueBlock.value:d.value,i.push(new mn({name:u?"":a,optional:c,idBlock:{tagClass:3,tagNumber:o.context},value:d}))}else i.push(new mn({optional:c,idBlock:{tagClass:3,tagNumber:o.context},value:[l]}));else l.optional=c,i.push(l)}switch(r.type){case ne.Sequence:return new ki({value:i,name:""});case ne.Set:return new Ii({value:i,name:""});case ne.Choice:return new bS({value:i,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(t,n){return this.items.set(t,n),this}findParentSchema(t){const n=Object.getPrototypeOf(t);return n?this.items.get(n)||this.findParentSchema(n):null}}const Kn=new Y$,ie=e=>t=>{let n;Kn.has(t)?n=Kn.get(t):(n=Kn.createDefault(t),Kn.set(t,n)),Object.assign(n,e)},I=e=>(t,n)=>{let r;Kn.has(t.constructor)?r=Kn.get(t.constructor):(r=Kn.createDefault(t.constructor),Kn.set(t.constructor,r));const i=Object.assign({},e);if(typeof i.type=="number"&&!i.converter){const s=xS(e.type);if(!s)throw new Error(`Cannot get default converter for property '${n}' of ${t.constructor.name}`);i.converter=s}r.items[n]=i};class YA extends Error{constructor(){super(...arguments),this.schemas=[]}}class W${static parse(t,n){const r=ml(t);if(r.result.error)throw new Error(r.result.error);return this.fromASN(r.result,n)}static fromASN(t,n){var r;try{if(Ei(n))return new n().fromASN(t);const i=Kn.get(n);Kn.cache(n);let s=i.schema;if(t.constructor===mn&&i.type!==ne.Choice){s=new mn({idBlock:{tagClass:3,tagNumber:t.idBlock.tagNumber},value:i.schema.valueBlock.value});for(const l in i.items)delete t[l]}const o=To({},t,s);if(!o.verified)throw new YA(`Data does not match to ${n.name} ASN1 schema. ${o.result.error}`);const a=new n;if(kN(n)){if(!("value"in t.valueBlock&&Array.isArray(t.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const l=i.itemType;if(typeof l=="number"){const c=xS(l);if(!c)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);return n.from(t.valueBlock.value,u=>c.fromASN(u))}else return n.from(t.valueBlock.value,c=>this.fromASN(c,l))}for(const l in i.items){const c=o.result[l];if(!c)continue;const u=i.items[l],d=u.type;if(typeof d=="number"||Ei(d)){const h=(r=u.converter)!==null&&r!==void 0?r:Ei(d)?new d:null;if(!h)throw new Error("Converter is empty");if(u.repeated)if(u.implicit){const m=u.repeated==="sequence"?ki:Ii,x=new m;x.valueBlock=c.valueBlock;const y=ml(x.toBER(!1));if(y.offset===-1)throw new Error(`Cannot parse the child item. ${y.result.error}`);if(!("value"in y.result.valueBlock&&Array.isArray(y.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const _=y.result.valueBlock.value;a[l]=Array.from(_,g=>h.fromASN(g))}else a[l]=Array.from(c,m=>h.fromASN(m));else{let m=c;if(u.implicit){let x;if(Ei(d))x=new d().toSchema("");else{const y=P[d],_=TN[y];if(!_)throw new Error(`Cannot get '${y}' class from asn1js module`);x=new _}x.valueBlock=m.valueBlock,m=ml(x.toBER(!1)).result}a[l]=h.fromASN(m)}}else if(u.repeated){if(!Array.isArray(c))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");a[l]=Array.from(c,h=>this.fromASN(h,d))}else a[l]=this.fromASN(c,d)}return a}catch(i){throw i instanceof YA&&i.schemas.push(n.name),i}}}class wS{static serialize(t){return t instanceof zt?t.toBER(!1):this.toASN(t).toBER(!1)}static toASN(t){if(t&&typeof t=="object"&&Ei(t))return t.toASN();if(!(t&&typeof t=="object"))throw new TypeError("Parameter 1 should be type of Object.");const n=t.constructor,r=Kn.get(n);Kn.cache(n);let i=[];if(r.itemType){if(!Array.isArray(t))throw new TypeError("Parameter 1 should be type of Array.");if(typeof r.itemType=="number"){const o=xS(r.itemType);if(!o)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);i=t.map(a=>o.toASN(a))}else i=t.map(o=>this.toAsnItem({type:r.itemType},"[]",n,o))}else for(const o in r.items){const a=r.items[o],l=t[o];if(l===void 0||a.defaultValue===l||typeof a.defaultValue=="object"&&typeof l=="object"&&K$(this.serialize(a.defaultValue),this.serialize(l)))continue;const c=wS.toAsnItem(a,o,n,l);if(typeof a.context=="number")if(a.implicit)if(!a.repeated&&(typeof a.type=="number"||Ei(a.type))){const u={};u.valueHex=c instanceof Xo?c.valueBeforeDecodeView:c.valueBlock.toBER(),i.push(new J0({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...u}))}else i.push(new mn({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:c.valueBlock.value}));else i.push(new mn({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[c]}));else a.repeated?i=i.concat(c):i.push(c)}let s;switch(r.type){case ne.Sequence:s=new ki({value:i});break;case ne.Set:s=new Ii({value:i});break;case ne.Choice:if(!i[0])throw new Error(`Schema '${n.name}' has wrong data. Choice cannot be empty.`);s=i[0];break}return s}static toAsnItem(t,n,r,i){let s;if(typeof t.type=="number"){const o=t.converter;if(!o)throw new Error(`Property '${n}' doesn't have converter for type ${P[t.type]} in schema '${r.name}'`);if(t.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");const a=Array.from(i,c=>o.toASN(c)),l=t.repeated==="sequence"?ki:Ii;s=new l({value:a})}else s=o.toASN(i)}else if(t.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");const o=Array.from(i,l=>this.toASN(l)),a=t.repeated==="sequence"?ki:Ii;s=new a({value:o})}else s=this.toASN(i);return s}}class et extends Array{constructor(t=[]){if(typeof t=="number")super(t);else{super();for(const n of t)this.push(n)}}}class to{static serialize(t){return wS.serialize(t)}static parse(t,n){return W$.parse(t,n)}static toString(t){const n=Te.isBufferSource(t)?Te.toArrayBuffer(t):to.serialize(t),r=ml(n);if(r.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${r.result.error}`);return r.result.toString()}}var jr=function(){return jr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},jr.apply(this,arguments)};function IN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function A(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Z$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}class WA{static isIPv4(t){return/^(\d{1,3}\.){3}\d{1,3}$/.test(t)}static parseIPv4(t){const n=t.split(".");if(n.length!==4)throw new Error("Invalid IPv4 address");return n.map(r=>{const i=parseInt(r,10);if(isNaN(i)||i<0||i>255)throw new Error("Invalid IPv4 address part");return i})}static parseIPv6(t){const r=this.expandIPv6(t).split(":");if(r.length!==8)throw new Error("Invalid IPv6 address");return r.reduce((i,s)=>{const o=parseInt(s,16);if(isNaN(o)||o<0||o>65535)throw new Error("Invalid IPv6 address part");return i.push(o>>8&255),i.push(o&255),i},[])}static expandIPv6(t){if(!t.includes("::"))return t;const n=t.split("::");if(n.length>2)throw new Error("Invalid IPv6 address");const r=n[0]?n[0].split(":"):[],i=n[1]?n[1].split(":"):[],s=8-(r.length+i.length);if(s<0)throw new Error("Invalid IPv6 address");return[...r,...Array(s).fill("0"),...i].join(":")}static formatIPv6(t){const n=[];for(let r=0;r<16;r+=2)n.push((t[r]<<8|t[r+1]).toString(16));return this.compressIPv6(n.join(":"))}static compressIPv6(t){const n=t.split(":");let r=-1,i=0,s=-1,o=0;for(let a=0;a<n.length;a++)n[a]==="0"?(s===-1&&(s=a),o++):(o>i&&(r=s,i=o),s=-1,o=0);if(o>i&&(r=s,i=o),i>1){const a=n.slice(0,r).join(":"),l=n.slice(r+i).join(":");return`${a}::${l}`}return t}static parseCIDR(t){const[n,r]=t.split("/"),i=parseInt(r,10);if(this.isIPv4(n)){if(i<0||i>32)throw new Error("Invalid IPv4 prefix length");return[this.parseIPv4(n),i]}else{if(i<0||i>128)throw new Error("Invalid IPv6 prefix length");return[this.parseIPv6(n),i]}}static decodeIP(t){if(t.length===64&&parseInt(t,16)===0)return"::/0";if(t.length!==16)return t;const n=parseInt(t.slice(8),16).toString(2).split("").reduce((i,s)=>i+ +s,0);let r=t.slice(0,8).replace(/(.{2})/g,i=>`${parseInt(i,16)}.`);return r=r.slice(0,-1),`${r}/${n}`}static toString(t){const n=new Uint8Array(t);if(n.length===4)return Array.from(n).join(".");if(n.length===16)return this.formatIPv6(n);if(n.length===8||n.length===32){const r=n.length/2,i=n.slice(0,r),s=n.slice(r);if(n.every(l=>l===0))return n.length===8?"0.0.0.0/0":"::/0";const a=s.reduce((l,c)=>l+(c.toString(2).match(/1/g)||[]).length,0);return n.length===8?`${Array.from(i).join(".")}/${a}`:`${this.formatIPv6(i)}/${a}`}return this.decodeIP(rt.ToHex(t))}static fromString(t){if(t.includes("/")){const[r,i]=this.parseCIDR(t),s=new Uint8Array(r.length);let o=i;for(let l=0;l<s.length;l++)o>=8?(s[l]=255,o-=8):o>0&&(s[l]=255<<8-o,o=0);const a=new Uint8Array(r.length*2);return a.set(r,0),a.set(s,r.length),a.buffer}const n=this.isIPv4(t)?this.parseIPv4(t):this.parseIPv6(t);return new Uint8Array(n).buffer}}var Lv,Pv,Fv;let gr=class{constructor(t={}){Object.assign(this,t)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};A([I({type:P.TeletexString})],gr.prototype,"teletexString",void 0);A([I({type:P.PrintableString})],gr.prototype,"printableString",void 0);A([I({type:P.UniversalString})],gr.prototype,"universalString",void 0);A([I({type:P.Utf8String})],gr.prototype,"utf8String",void 0);A([I({type:P.BmpString})],gr.prototype,"bmpString",void 0);gr=A([ie({type:ne.Choice})],gr);let Rl=class extends gr{constructor(t={}){super(t),Object.assign(this,t)}toString(){return this.ia5String||(this.anyValue?rt.ToHex(this.anyValue):super.toString())}};A([I({type:P.IA5String})],Rl.prototype,"ia5String",void 0);A([I({type:P.Any})],Rl.prototype,"anyValue",void 0);Rl=A([ie({type:ne.Choice})],Rl);class SS{constructor(t={}){this.type="",this.value=new Rl,Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],SS.prototype,"type",void 0);A([I({type:Rl})],SS.prototype,"value",void 0);let Dh=Lv=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,Lv.prototype)}};Dh=Lv=A([ie({type:ne.Set,itemType:SS})],Dh);let Vv=Pv=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,Pv.prototype)}};Vv=Pv=A([ie({type:ne.Sequence,itemType:Dh})],Vv);let yr=Fv=class extends Vv{constructor(t){super(t),Object.setPrototypeOf(this,Fv.prototype)}};yr=Fv=A([ie({type:ne.Sequence})],yr);const X$={fromASN:e=>WA.toString(Oh.fromASN(e)),toASN:e=>Oh.toASN(WA.fromString(e))};class _S{constructor(t={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],_S.prototype,"typeId",void 0);A([I({type:P.Any,context:0})],_S.prototype,"value",void 0);class CS{constructor(t={}){this.partyName=new gr,Object.assign(this,t)}}A([I({type:gr,optional:!0,context:0,implicit:!0})],CS.prototype,"nameAssigner",void 0);A([I({type:gr,context:1,implicit:!0})],CS.prototype,"partyName",void 0);let Me=class{constructor(t={}){Object.assign(this,t)}};A([I({type:_S,context:0,implicit:!0})],Me.prototype,"otherName",void 0);A([I({type:P.IA5String,context:1,implicit:!0})],Me.prototype,"rfc822Name",void 0);A([I({type:P.IA5String,context:2,implicit:!0})],Me.prototype,"dNSName",void 0);A([I({type:P.Any,context:3,implicit:!0})],Me.prototype,"x400Address",void 0);A([I({type:yr,context:4,implicit:!1})],Me.prototype,"directoryName",void 0);A([I({type:CS,context:5})],Me.prototype,"ediPartyName",void 0);A([I({type:P.IA5String,context:6,implicit:!0})],Me.prototype,"uniformResourceIdentifier",void 0);A([I({type:P.OctetString,context:7,implicit:!0,converter:X$})],Me.prototype,"iPAddress",void 0);A([I({type:P.ObjectIdentifier,context:8,implicit:!0})],Me.prototype,"registeredID",void 0);Me=A([ie({type:ne.Choice})],Me);var zv;class fp{constructor(t={}){this.accessMethod="",this.accessLocation=new Me,Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],fp.prototype,"accessMethod",void 0);A([I({type:Me})],fp.prototype,"accessLocation",void 0);let ZA=zv=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,zv.prototype)}};ZA=zv=A([ie({type:ne.Sequence,itemType:fp})],ZA);class BN extends qe{}class ES{constructor(t={}){t&&Object.assign(this,t)}}A([I({type:BN,context:0,optional:!0,implicit:!0})],ES.prototype,"keyIdentifier",void 0);A([I({type:Me,context:1,optional:!0,implicit:!0,repeated:"sequence"})],ES.prototype,"authorityCertIssuer",void 0);A([I({type:P.Integer,context:2,optional:!0,implicit:!0,converter:Qe})],ES.prototype,"authorityCertSerialNumber",void 0);class NN{constructor(t={}){this.cA=!1,Object.assign(this,t)}}A([I({type:P.Boolean,defaultValue:!1})],NN.prototype,"cA",void 0);A([I({type:P.Integer,optional:!0})],NN.prototype,"pathLenConstraint",void 0);var $v;let br=$v=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,$v.prototype)}};br=$v=A([ie({type:ne.Sequence,itemType:Me})],br);var Hv;let XA=Hv=class extends br{constructor(t){super(t),Object.setPrototypeOf(this,Hv.prototype)}};XA=Hv=A([ie({type:ne.Sequence})],XA);var Gv;let Li=class{constructor(t={}){Object.assign(this,t)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};A([I({type:P.IA5String})],Li.prototype,"ia5String",void 0);A([I({type:P.VisibleString})],Li.prototype,"visibleString",void 0);A([I({type:P.BmpString})],Li.prototype,"bmpString",void 0);A([I({type:P.Utf8String})],Li.prototype,"utf8String",void 0);Li=A([ie({type:ne.Choice})],Li);class AS{constructor(t={}){this.organization=new Li,this.noticeNumbers=[],Object.assign(this,t)}}A([I({type:Li})],AS.prototype,"organization",void 0);A([I({type:P.Integer,repeated:"sequence"})],AS.prototype,"noticeNumbers",void 0);class TS{constructor(t={}){Object.assign(this,t)}}A([I({type:AS,optional:!0})],TS.prototype,"noticeRef",void 0);A([I({type:Li,optional:!0})],TS.prototype,"explicitText",void 0);let Mh=class{constructor(t={}){Object.assign(this,t)}};A([I({type:P.IA5String})],Mh.prototype,"cPSuri",void 0);A([I({type:TS})],Mh.prototype,"userNotice",void 0);Mh=A([ie({type:ne.Choice})],Mh);class kS{constructor(t={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],kS.prototype,"policyQualifierId",void 0);A([I({type:P.Any})],kS.prototype,"qualifier",void 0);class IS{constructor(t={}){this.policyIdentifier="",Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],IS.prototype,"policyIdentifier",void 0);A([I({type:kS,repeated:"sequence",optional:!0})],IS.prototype,"policyQualifiers",void 0);let JA=Gv=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,Gv.prototype)}};JA=Gv=A([ie({type:ne.Sequence,itemType:IS})],JA);let Uh=class{constructor(t=0){this.value=t}};A([I({type:P.Integer})],Uh.prototype,"value",void 0);Uh=A([ie({type:ne.Choice})],Uh);let QA=class extends Uh{};QA=A([ie({type:ne.Choice})],QA);var qv,cr;(function(e){e[e.unused=1]="unused",e[e.keyCompromise=2]="keyCompromise",e[e.cACompromise=4]="cACompromise",e[e.affiliationChanged=8]="affiliationChanged",e[e.superseded=16]="superseded",e[e.cessationOfOperation=32]="cessationOfOperation",e[e.certificateHold=64]="certificateHold",e[e.privilegeWithdrawn=128]="privilegeWithdrawn",e[e.aACompromise=256]="aACompromise"})(cr||(cr={}));class jN extends vS{toJSON(){const t=[],n=this.toNumber();return n&cr.aACompromise&&t.push("aACompromise"),n&cr.affiliationChanged&&t.push("affiliationChanged"),n&cr.cACompromise&&t.push("cACompromise"),n&cr.certificateHold&&t.push("certificateHold"),n&cr.cessationOfOperation&&t.push("cessationOfOperation"),n&cr.keyCompromise&&t.push("keyCompromise"),n&cr.privilegeWithdrawn&&t.push("privilegeWithdrawn"),n&cr.superseded&&t.push("superseded"),n&cr.unused&&t.push("unused"),t}toString(){return`[${this.toJSON().join(", ")}]`}}let Ol=class{constructor(t={}){Object.assign(this,t)}};A([I({type:Me,context:0,repeated:"sequence",implicit:!0})],Ol.prototype,"fullName",void 0);A([I({type:Dh,context:1,implicit:!0})],Ol.prototype,"nameRelativeToCRLIssuer",void 0);Ol=A([ie({type:ne.Choice})],Ol);class td{constructor(t={}){Object.assign(this,t)}}A([I({type:Ol,context:0,optional:!0})],td.prototype,"distributionPoint",void 0);A([I({type:jN,context:1,optional:!0,implicit:!0})],td.prototype,"reasons",void 0);A([I({type:Me,context:2,optional:!0,repeated:"sequence",implicit:!0})],td.prototype,"cRLIssuer",void 0);let Kv=qv=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,qv.prototype)}};Kv=qv=A([ie({type:ne.Sequence,itemType:td})],Kv);var Yv;let e2=Yv=class extends Kv{constructor(t){super(t),Object.setPrototypeOf(this,Yv.prototype)}};e2=Yv=A([ie({type:ne.Sequence,itemType:td})],e2);class Kt{constructor(t={}){this.onlyContainsUserCerts=Kt.ONLY,this.onlyContainsCACerts=Kt.ONLY,this.indirectCRL=Kt.ONLY,this.onlyContainsAttributeCerts=Kt.ONLY,Object.assign(this,t)}}Kt.ONLY=!1;A([I({type:Ol,context:0,optional:!0})],Kt.prototype,"distributionPoint",void 0);A([I({type:P.Boolean,context:1,defaultValue:Kt.ONLY,implicit:!0})],Kt.prototype,"onlyContainsUserCerts",void 0);A([I({type:P.Boolean,context:2,defaultValue:Kt.ONLY,implicit:!0})],Kt.prototype,"onlyContainsCACerts",void 0);A([I({type:jN,context:3,optional:!0,implicit:!0})],Kt.prototype,"onlySomeReasons",void 0);A([I({type:P.Boolean,context:4,defaultValue:Kt.ONLY,implicit:!0})],Kt.prototype,"indirectCRL",void 0);A([I({type:P.Boolean,context:5,defaultValue:Kt.ONLY,implicit:!0})],Kt.prototype,"onlyContainsAttributeCerts",void 0);var Tu;(function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"})(Tu||(Tu={}));let Wv=class{constructor(t=Tu.unspecified){this.reason=Tu.unspecified,this.reason=t}toJSON(){return Tu[this.reason]}toString(){return this.toJSON()}};A([I({type:P.Enumerated})],Wv.prototype,"reason",void 0);Wv=A([ie({type:ne.Choice})],Wv);var Zv;let t2=Zv=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,Zv.prototype)}};t2=Zv=A([ie({type:ne.Sequence,itemType:P.ObjectIdentifier})],t2);let Xv=class{constructor(t=new ArrayBuffer(0)){this.value=t}};A([I({type:P.Integer,converter:Qe})],Xv.prototype,"value",void 0);Xv=A([ie({type:ne.Choice})],Xv);let Jv=class{constructor(t){this.value=new Date,t&&(this.value=t)}};A([I({type:P.GeneralizedTime})],Jv.prototype,"value",void 0);Jv=A([ie({type:ne.Choice})],Jv);var Qv;let n2=Qv=class extends br{constructor(t){super(t),Object.setPrototypeOf(this,Qv.prototype)}};n2=Qv=A([ie({type:ne.Sequence})],n2);var r2;(function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"})(r2||(r2={}));var e1;class hp{constructor(t={}){this.base=new Me,this.minimum=0,Object.assign(this,t)}}A([I({type:Me})],hp.prototype,"base",void 0);A([I({type:P.Integer,context:0,defaultValue:0,implicit:!0})],hp.prototype,"minimum",void 0);A([I({type:P.Integer,context:1,optional:!0,implicit:!0})],hp.prototype,"maximum",void 0);let Lh=e1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,e1.prototype)}};Lh=e1=A([ie({type:ne.Sequence,itemType:hp})],Lh);class RN{constructor(t={}){Object.assign(this,t)}}A([I({type:Lh,context:0,optional:!0,implicit:!0})],RN.prototype,"permittedSubtrees",void 0);A([I({type:Lh,context:1,optional:!0,implicit:!0})],RN.prototype,"excludedSubtrees",void 0);class ON{constructor(t={}){Object.assign(this,t)}}A([I({type:P.Integer,context:0,implicit:!0,optional:!0,converter:Qe})],ON.prototype,"requireExplicitPolicy",void 0);A([I({type:P.Integer,context:1,implicit:!0,optional:!0,converter:Qe})],ON.prototype,"inhibitPolicyMapping",void 0);var t1;class BS{constructor(t={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],BS.prototype,"issuerDomainPolicy",void 0);A([I({type:P.ObjectIdentifier})],BS.prototype,"subjectDomainPolicy",void 0);let i2=t1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,t1.prototype)}};i2=t1=A([ie({type:ne.Sequence,itemType:BS})],i2);var n1;let s2=n1=class extends br{constructor(t){super(t),Object.setPrototypeOf(this,n1.prototype)}};s2=n1=A([ie({type:ne.Sequence})],s2);let nd=class{constructor(t={}){this.type="",this.values=[],Object.assign(this,t)}};A([I({type:P.ObjectIdentifier})],nd.prototype,"type",void 0);A([I({type:P.Any,repeated:"set"})],nd.prototype,"values",void 0);var r1;let o2=r1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,r1.prototype)}};o2=r1=A([ie({type:ne.Sequence,itemType:nd})],o2);class rd extends BN{}class DN{constructor(t={}){Object.assign(this,t)}}A([I({type:P.GeneralizedTime,context:0,implicit:!0,optional:!0})],DN.prototype,"notBefore",void 0);A([I({type:P.GeneralizedTime,context:1,implicit:!0,optional:!0})],DN.prototype,"notAfter",void 0);var ku;(function(e){e[e.keyUpdateAllowed=1]="keyUpdateAllowed",e[e.newExtensions=2]="newExtensions",e[e.pKIXCertificate=4]="pKIXCertificate"})(ku||(ku={}));class MN extends vS{toJSON(){const t=[],n=this.toNumber();return n&ku.pKIXCertificate&&t.push("pKIXCertificate"),n&ku.newExtensions&&t.push("newExtensions"),n&ku.keyUpdateAllowed&&t.push("keyUpdateAllowed"),t}toString(){return`[${this.toJSON().join(", ")}]`}}class UN{constructor(t={}){this.entrustVers="",this.entrustInfoFlags=new MN,Object.assign(this,t)}}A([I({type:P.GeneralString})],UN.prototype,"entrustVers",void 0);A([I({type:MN})],UN.prototype,"entrustInfoFlags",void 0);var i1;let a2=i1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,i1.prototype)}};a2=i1=A([ie({type:ne.Sequence,itemType:fp})],a2);class pe{constructor(t={}){this.algorithm="",Object.assign(this,t)}isEqual(t){return t instanceof pe&&t.algorithm==this.algorithm&&(t.parameters&&this.parameters&&l$(t.parameters,this.parameters)||t.parameters===this.parameters)}}A([I({type:P.ObjectIdentifier})],pe.prototype,"algorithm",void 0);A([I({type:P.Any,optional:!0})],pe.prototype,"parameters",void 0);class mp{constructor(t={}){this.algorithm=new pe,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:pe})],mp.prototype,"algorithm",void 0);A([I({type:P.BitString})],mp.prototype,"subjectPublicKey",void 0);let Yt=class{constructor(t){if(t)if(typeof t=="string"||typeof t=="number"||t instanceof Date){const n=new Date(t);n.getUTCFullYear()>2049?this.generalTime=n:this.utcTime=n}else Object.assign(this,t)}getTime(){const t=this.utcTime||this.generalTime;if(!t)throw new Error("Cannot get time from CHOICE object");return t}};A([I({type:P.UTCTime})],Yt.prototype,"utcTime",void 0);A([I({type:P.GeneralizedTime})],Yt.prototype,"generalTime",void 0);Yt=A([ie({type:ne.Choice})],Yt);class pp{constructor(t){this.notBefore=new Yt(new Date),this.notAfter=new Yt(new Date),t&&(this.notBefore=new Yt(t.notBefore),this.notAfter=new Yt(t.notAfter))}}A([I({type:Yt})],pp.prototype,"notBefore",void 0);A([I({type:Yt})],pp.prototype,"notAfter",void 0);var s1;class Kr{constructor(t={}){this.extnID="",this.critical=Kr.CRITICAL,this.extnValue=new qe,Object.assign(this,t)}}Kr.CRITICAL=!1;A([I({type:P.ObjectIdentifier})],Kr.prototype,"extnID",void 0);A([I({type:P.Boolean,defaultValue:Kr.CRITICAL})],Kr.prototype,"critical",void 0);A([I({type:qe})],Kr.prototype,"extnValue",void 0);let Ph=s1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,s1.prototype)}};Ph=s1=A([ie({type:ne.Sequence,itemType:Kr})],Ph);var Fh;(function(e){e[e.v1=0]="v1",e[e.v2=1]="v2",e[e.v3=2]="v3"})(Fh||(Fh={}));class nr{constructor(t={}){this.version=Fh.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new pe,this.issuer=new yr,this.validity=new pp,this.subject=new yr,this.subjectPublicKeyInfo=new mp,Object.assign(this,t)}}A([I({type:P.Integer,context:0,defaultValue:Fh.v1})],nr.prototype,"version",void 0);A([I({type:P.Integer,converter:Qe})],nr.prototype,"serialNumber",void 0);A([I({type:pe})],nr.prototype,"signature",void 0);A([I({type:yr})],nr.prototype,"issuer",void 0);A([I({type:pp})],nr.prototype,"validity",void 0);A([I({type:yr})],nr.prototype,"subject",void 0);A([I({type:mp})],nr.prototype,"subjectPublicKeyInfo",void 0);A([I({type:P.BitString,context:1,implicit:!0,optional:!0})],nr.prototype,"issuerUniqueID",void 0);A([I({type:P.BitString,context:2,implicit:!0,optional:!0})],nr.prototype,"subjectUniqueID",void 0);A([I({type:Ph,context:3,optional:!0})],nr.prototype,"extensions",void 0);class pc{constructor(t={}){this.tbsCertificate=new nr,this.signatureAlgorithm=new pe,this.signatureValue=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:nr})],pc.prototype,"tbsCertificate",void 0);A([I({type:pe})],pc.prototype,"signatureAlgorithm",void 0);A([I({type:P.BitString})],pc.prototype,"signatureValue",void 0);class gp{constructor(t={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new Yt,Object.assign(this,t)}}A([I({type:P.Integer,converter:Qe})],gp.prototype,"userCertificate",void 0);A([I({type:Yt})],gp.prototype,"revocationDate",void 0);A([I({type:Kr,optional:!0,repeated:"sequence"})],gp.prototype,"crlEntryExtensions",void 0);class Zi{constructor(t={}){this.signature=new pe,this.issuer=new yr,this.thisUpdate=new Yt,Object.assign(this,t)}}A([I({type:P.Integer,optional:!0})],Zi.prototype,"version",void 0);A([I({type:pe})],Zi.prototype,"signature",void 0);A([I({type:yr})],Zi.prototype,"issuer",void 0);A([I({type:Yt})],Zi.prototype,"thisUpdate",void 0);A([I({type:Yt,optional:!0})],Zi.prototype,"nextUpdate",void 0);A([I({type:gp,repeated:"sequence",optional:!0})],Zi.prototype,"revokedCertificates",void 0);A([I({type:Kr,optional:!0,context:0,repeated:"sequence"})],Zi.prototype,"crlExtensions",void 0);class NS{constructor(t={}){this.tbsCertList=new Zi,this.signatureAlgorithm=new pe,this.signature=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:Zi})],NS.prototype,"tbsCertList",void 0);A([I({type:pe})],NS.prototype,"signatureAlgorithm",void 0);A([I({type:P.BitString})],NS.prototype,"signature",void 0);class J${constructor(t){this.zero=BigInt(0),this.one=BigInt(1),this.prime=t}e(t){return typeof t=="bigint"?t%this.prime:BigInt(t)%this.prime}add(t,n){return(t+n)%this.prime}sub(t,n){return(this.prime+t-n)%this.prime}mul(t,n){return t*n%this.prime}square(t){return t*t%this.prime}div(t,n){return t/n%this.prime}}class Q${constructor(t,n){this.params=t,this.primeField=n}getT(){return this.params.t}sbox(t){return t.map(n=>this.sboxP(n))}sboxP(t){const n=this.primeField.square(t);if(this.params.d==3)return this.primeField.mul(n,t);if(this.params.d==5)return this.primeField.mul(this.primeField.square(n),t);if(this.params.d==7)return this.primeField.mul(this.primeField.square(n),this.primeField.mul(n,t));throw new Error("Invalid d paramter, must be 3, 5 or 7")}matmulExternal(t){const n=this.params.t;if(n==2){const r=this.primeField.add(t[0],t[1]);t[0]=this.primeField.add(t[0],r),t[1]=this.primeField.add(t[1],r)}else if(n==3){const r=this.primeField.add(this.primeField.add(t[0],t[1]),t[2]);t[0]=this.primeField.add(t[0],r),t[1]=this.primeField.add(t[1],r),t[2]=this.primeField.add(t[2],r)}else if(n==4||n==8||n==12||n==16||n==20||n==24){const r=n/4;for(let i=0;i<r;i++){const s=i*4;let o=t[s];o=this.primeField.add(o,t[s+1]);let a=t[s+2];a=this.primeField.add(a,t[s+3]);let l=t[s+1];l=this.primeField.add(l,l),l=this.primeField.add(l,a);let c=t[s+3];c=this.primeField.add(c,c),c=this.primeField.add(c,o);let u=a;u=this.primeField.add(u,u),u=this.primeField.add(u,u),u=this.primeField.add(u,c);let d=o;d=this.primeField.add(d,d),d=this.primeField.add(d,d),d=this.primeField.add(d,l);let h=c;h=this.primeField.add(h,d);let m=l;m=this.primeField.add(m,u),t[s]=h,t[s+1]=d,t[s+2]=m,t[s+3]=u}if(n>4){const i=[this.primeField.zero,this.primeField.zero,this.primeField.zero,this.primeField.zero];for(let s=0;s<4;s++){i[s]=t[s];for(let o=1;o<r;o++)i[s]=this.primeField.add(i[s],t[4*o+s])}for(let s=0;s<t.length;s++)t[s]=this.primeField.add(t[s],i[s%4])}}else throw new Error("Invalid t parameter, must be 2, 3, 4, 8, 12, 16, 20 or 24");return t}matmulInternal(t){const n=this.params.t;if(n==2){const r=this.primeField.add(t[0],t[1]);t[0]=this.primeField.add(t[0],r),t[1]=this.primeField.add(this.primeField.add(t[1],t[1]),r)}else if(n==3){const r=this.primeField.add(this.primeField.add(t[0],t[1]),t[2]);t[0]=this.primeField.add(t[0],r),t[1]=this.primeField.add(t[1],r),t[2]=this.primeField.add(this.primeField.add(t[2],t[2]),r)}else if(n==4||n==8||n==12||n==16||n==20||n==24){let r=t[0];for(let i=1;i<n;i++)r=this.primeField.add(r,t[i]);for(let i=0;i<t.length;i++)t[i]=this.primeField.add(this.primeField.mul(this.params.mat_internal_diag_m_1[i],t[i]),r)}else throw new Error("Invalid t parameter, must be 2, 3, 4, 8, 12, 16, 20 or 24");return t}permute(t){const n=this.params.t;if(t.length!=n)throw new Error("Invalid input length");let r=t;this.matmulExternal(r);for(let s=0;s<this.params.rounds_f_beginning;s++)r=this.addRc(r,this.params.round_constants[s]),r=this.sbox(r),this.matmulExternal(r);const i=this.params.rounds_f_beginning+this.params.rounds_p;for(let s=this.params.rounds_f_beginning;s<i;s++)r[0]=this.primeField.add(r[0],this.params.round_constants[s][0]),r[0]=this.sboxP(r[0]),this.matmulInternal(r);for(let s=i;s<this.params.rounds;s++)r=this.addRc(r,this.params.round_constants[s]),r=this.sbox(r),this.matmulExternal(r);return r}addRc(t,n){return t.map((r,i)=>this.primeField.add(r,n[i]))}}function eH(e,t,n,r,i,s,o){const a=n/2,l=n+r;return{t:e,d:t,rounds_f_beginning:a,rounds_p:r,rounds_f_end:a,rounds:l,mat_internal_diag_m_1:i,_mat_internal:s,round_constants:o}}const tH=[BigInt("0x10dc6e9c006ea38b04b1e03b4bd9490c0d03f98929ca1d7fb56821fd19d3b6e7"),BigInt("0x0c28145b6a44df3e0149b3d0a30b3bb599df9756d4dd9b84a86b38cfb45a740b"),BigInt("0x00544b8338791518b2c7645a50392798b21f75bb60e3596170067d00141cac15"),BigInt("0x222c01175718386f2e2e82eb122789e352e105a3b8fa852613bc534433ee428b")],nH=[[BigInt("0x10dc6e9c006ea38b04b1e03b4bd9490c0d03f98929ca1d7fb56821fd19d3b6e8"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001")],[BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0c28145b6a44df3e0149b3d0a30b3bb599df9756d4dd9b84a86b38cfb45a740c"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001")],[BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x00544b8338791518b2c7645a50392798b21f75bb60e3596170067d00141cac16"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001")],[BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x222c01175718386f2e2e82eb122789e352e105a3b8fa852613bc534433ee428c")]],rH=[[BigInt("0x19b849f69450b06848da1d39bd5e4a4302bb86744edc26238b0878e269ed23e5"),BigInt("0x265ddfe127dd51bd7239347b758f0a1320eb2cc7450acc1dad47f80c8dcf34d6"),BigInt("0x199750ec472f1809e0f66a545e1e51624108ac845015c2aa3dfc36bab497d8aa"),BigInt("0x157ff3fe65ac7208110f06a5f74302b14d743ea25067f0ffd032f787c7f1cdf8")],[BigInt("0x2e49c43c4569dd9c5fd35ac45fca33f10b15c590692f8beefe18f4896ac94902"),BigInt("0x0e35fb89981890520d4aef2b6d6506c3cb2f0b6973c24fa82731345ffa2d1f1e"),BigInt("0x251ad47cb15c4f1105f109ae5e944f1ba9d9e7806d667ffec6fe723002e0b996"),BigInt("0x13da07dc64d428369873e97160234641f8beb56fdd05e5f3563fa39d9c22df4e")],[BigInt("0x0c009b84e650e6d23dc00c7dccef7483a553939689d350cd46e7b89055fd4738"),BigInt("0x011f16b1c63a854f01992e3956f42d8b04eb650c6d535eb0203dec74befdca06"),BigInt("0x0ed69e5e383a688f209d9a561daa79612f3f78d0467ad45485df07093f367549"),BigInt("0x04dba94a7b0ce9e221acad41472b6bbe3aec507f5eb3d33f463672264c9f789b")],[BigInt("0x0a3f2637d840f3a16eb094271c9d237b6036757d4bb50bf7ce732ff1d4fa28e8"),BigInt("0x259a666f129eea198f8a1c502fdb38fa39b1f075569564b6e54a485d1182323f"),BigInt("0x28bf7459c9b2f4c6d8e7d06a4ee3a47f7745d4271038e5157a32fdf7ede0d6a1"),BigInt("0x0a1ca941f057037526ea200f489be8d4c37c85bbcce6a2aeec91bd6941432447")],[BigInt("0x0c6f8f958be0e93053d7fd4fc54512855535ed1539f051dcb43a26fd926361cf"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x123106a93cd17578d426e8128ac9d90aa9e8a00708e296e084dd57e69caaf811"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x26e1ba52ad9285d97dd3ab52f8e840085e8fa83ff1e8f1877b074867cd2dee75"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1cb55cad7bd133de18a64c5c47b9c97cbe4d8b7bf9e095864471537e6a4ae2c5"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1dcd73e46acd8f8e0e2c7ce04bde7f6d2a53043d5060a41c7143f08e6e9055d0"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x011003e32f6d9c66f5852f05474a4def0cda294a0eb4e9b9b12b9bb4512e5574"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2b1e809ac1d10ab29ad5f20d03a57dfebadfe5903f58bafed7c508dd2287ae8c"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2539de1785b735999fb4dac35ee17ed0ef995d05ab2fc5faeaa69ae87bcec0a5"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0c246c5a2ef8ee0126497f222b3e0a0ef4e1c3d41c86d46e43982cb11d77951d"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x192089c4974f68e95408148f7c0632edbb09e6a6ad1a1c2f3f0305f5d03b527b"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1eae0ad8ab68b2f06a0ee36eeb0d0c058529097d91096b756d8fdc2fb5a60d85"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x179190e5d0e22179e46f8282872abc88db6e2fdc0dee99e69768bd98c5d06bfb"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x29bb9e2c9076732576e9a81c7ac4b83214528f7db00f31bf6cafe794a9b3cd1c"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x225d394e42207599403efd0c2464a90d52652645882aac35b10e590e6e691e08"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x064760623c25c8cf753d238055b444532be13557451c087de09efd454b23fd59"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x10ba3a0e01df92e87f301c4b716d8a394d67f4bf42a75c10922910a78f6b5b87"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0e070bf53f8451b24f9c6e96b0c2a801cb511bc0c242eb9d361b77693f21471c"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1b94cd61b051b04dd39755ff93821a73ccd6cb11d2491d8aa7f921014de252fb"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1d7cb39bafb8c744e148787a2e70230f9d4e917d5713bb050487b5aa7d74070b"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2ec93189bd1ab4f69117d0fe980c80ff8785c2961829f701bb74ac1f303b17db"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2db366bfdd36d277a692bb825b86275beac404a19ae07a9082ea46bd83517926"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x062100eb485db06269655cf186a68532985275428450359adc99cec6960711b8"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0761d33c66614aaa570e7f1e8244ca1120243f92fa59e4f900c567bf41f5a59b"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x20fc411a114d13992c2705aa034e3f315d78608a0f7de4ccf7a72e494855ad0d"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x25b5c004a4bdfcb5add9ec4e9ab219ba102c67e8b3effb5fc3a30f317250bc5a"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x23b1822d278ed632a494e58f6df6f5ed038b186d8474155ad87e7dff62b37f4b"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x22734b4c5c3f9493606c4ba9012499bf0f14d13bfcfcccaa16102a29cc2f69e0"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x26c0c8fe09eb30b7e27a74dc33492347e5bdff409aa3610254413d3fad795ce5"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x070dd0ccb6bd7bbae88eac03fa1fbb26196be3083a809829bbd626df348ccad9"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x12b6595bdb329b6fb043ba78bb28c3bec2c0a6de46d8c5ad6067c4ebfd4250da"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x248d97d7f76283d63bec30e7a5876c11c06fca9b275c671c5e33d95bb7e8d729"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1a306d439d463b0816fc6fd64cc939318b45eb759ddde4aa106d15d9bd9baaaa"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x28a8f8372e3c38daced7c00421cb4621f4f1b54ddc27821b0d62d3d6ec7c56cf"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0094975717f9a8a8bb35152f24d43294071ce320c829f388bc852183e1e2ce7e"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x04d5ee4c3aa78f7d80fde60d716480d3593f74d4f653ae83f4103246db2e8d65"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2a6cf5e9aa03d4336349ad6fb8ed2269c7bef54b8822cc76d08495c12efde187"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2304d31eaab960ba9274da43e19ddeb7f792180808fd6e43baae48d7efcba3f3"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x03fd9ac865a4b2a6d5e7009785817249bff08a7e0726fcb4e1c11d39d199f0b0"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x00b7258ded52bbda2248404d55ee5044798afc3a209193073f7954d4d63b0b64"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x159f81ada0771799ec38fca2d4bf65ebb13d3a74f3298db36272c5ca65e92d9a"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1ef90e67437fbc8550237a75bc28e3bb9000130ea25f0c5471e144cf4264431f"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1e65f838515e5ff0196b49aa41a2d2568df739bc176b08ec95a79ed82932e30d"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2b1b045def3a166cec6ce768d079ba74b18c844e570e1f826575c1068c94c33f"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0832e5753ceb0ff6402543b1109229c165dc2d73bef715e3f1c6e07c168bb173"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x02f614e9cedfb3dc6b762ae0a37d41bab1b841c2e8b6451bc5a8e3c390b6ad16"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0e2427d38bd46a60dd640b8e362cad967370ebb777bedff40f6a0be27e7ed705"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0493630b7c670b6deb7c84d414e7ce79049f0ec098c3c7c50768bbe29214a53a"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x22ead100e8e482674decdab17066c5a26bb1515355d5461a3dc06cc85327cea9"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x25b3e56e655b42cdaae2626ed2554d48583f1ae35626d04de5084e0b6d2a6f16"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1e32752ada8836ef5837a6cde8ff13dbb599c336349e4c584b4fdc0a0cf6f9d0"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2fa2a871c15a387cc50f68f6f3c3455b23c00995f05078f672a9864074d412e5"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2f569b8a9a4424c9278e1db7311e889f54ccbf10661bab7fcd18e7c7a7d83505"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x044cb455110a8fdd531ade530234c518a7df93f7332ffd2144165374b246b43d"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x227808de93906d5d420246157f2e42b191fe8c90adfe118178ddc723a5319025"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x02fcca2934e046bc623adead873579865d03781ae090ad4a8579d2e7a6800355"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0ef915f0ac120b876abccceb344a1d36bad3f3c5ab91a8ddcbec2e060d8befac"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1797130f4b7a3e1777eb757bc6f287f6ab0fb85f6be63b09f3b16ef2b1405d38"),BigInt("0x0a76225dc04170ae3306c85abab59e608c7f497c20156d4d36c668555decc6e5"),BigInt("0x1fffb9ec1992d66ba1e77a7b93209af6f8fa76d48acb664796174b5326a31a5c"),BigInt("0x25721c4fc15a3f2853b57c338fa538d85f8fbba6c6b9c6090611889b797b9c5f")],[BigInt("0x0c817fd42d5f7a41215e3d07ba197216adb4c3790705da95eb63b982bfcaf75a"),BigInt("0x13abe3f5239915d39f7e13c2c24970b6df8cf86ce00a22002bc15866e52b5a96"),BigInt("0x2106feea546224ea12ef7f39987a46c85c1bc3dc29bdbd7a92cd60acb4d391ce"),BigInt("0x21ca859468a746b6aaa79474a37dab49f1ca5a28c748bc7157e1b3345bb0f959")],[BigInt("0x05ccd6255c1e6f0c5cf1f0df934194c62911d14d0321662a8f1a48999e34185b"),BigInt("0x0f0e34a64b70a626e464d846674c4c8816c4fb267fe44fe6ea28678cb09490a4"),BigInt("0x0558531a4e25470c6157794ca36d0e9647dbfcfe350d64838f5b1a8a2de0d4bf"),BigInt("0x09d3dca9173ed2faceea125157683d18924cadad3f655a60b72f5864961f1455")],[BigInt("0x0328cbd54e8c0913493f866ed03d218bf23f92d68aaec48617d4c722e5bd4335"),BigInt("0x2bf07216e2aff0a223a487b1a7094e07e79e7bcc9798c648ee3347dd5329d34b"),BigInt("0x1daf345a58006b736499c583cb76c316d6f78ed6a6dffc82111e11a63fe412df"),BigInt("0x176563472456aaa746b694c60e1823611ef39039b2edc7ff391e6f2293d2c404")]],iH=new J$(BigInt("21888242871839275222246405745257275088548364400416034343698204186575808495617"));let uy=null;function Pi(){return uy||(uy=new Q$(eH(4,5,8,56,tH,nH,rH),iH)),uy}Pi().primeField;Pi().permute.bind(Pi());var l2;(function(e){e[e.ABSORB=0]="ABSORB",e[e.SQUEEZE=1]="SQUEEZE"})(l2||(l2={}));const sH=Pi().primeField,oH=Pi().permute.bind(Pi());var ur;(function(e){e[e.ABSORB=0]="ABSORB",e[e.SQUEEZE=1]="SQUEEZE"})(ur||(ur={}));class jS{constructor(t=0n){this.rate=Pi().getT()-1,this.t=Pi().getT(),this.state=new Array(this.t).fill(0n),this.state[this.rate]=t,this.cache=new Array(this.rate).fill(0n),this.cacheSize=0,this.mode=ur.ABSORB}async performDuplex(){for(let t=this.cacheSize;t<this.rate;t++)this.cache[t]=0n;for(let t=0;t<this.rate;t++)this.state[t]=sH.add(this.state[t],this.cache[t]);return this.state=oH(this.state),await Promise.resolve(),this.state.slice(0,this.rate)}async absorb(t){this.mode===ur.ABSORB&&this.cacheSize===this.rate?(await this.performDuplex(),this.cache[0]=t,this.cacheSize=1):this.mode===ur.ABSORB&&this.cacheSize<this.rate?(this.cache[this.cacheSize]=t,this.cacheSize+=1):this.mode===ur.SQUEEZE&&(this.cache[0]=t,this.cacheSize=1,this.mode=ur.ABSORB)}async squeeze(){if(this.mode===ur.SQUEEZE&&this.cacheSize===0&&(this.mode=ur.ABSORB,this.cacheSize=0),this.mode===ur.ABSORB){const n=await this.performDuplex();this.mode=ur.SQUEEZE;for(let r=0;r<this.rate;r++)this.cache[r]=n[r];this.cacheSize=this.rate}const t=this.cache[0];for(let n=1;n<this.cacheSize;n++)this.cache[n-1]=this.cache[n];return this.cacheSize-=1,this.cache[this.cacheSize]=0n,t}static async hashInternal(t,n,r){const i=(BigInt(t.length)<<64n)+BigInt(n-1),s=new jS(i),o=100;for(let l=0;l<t.length;l+=o){const c=t.slice(l,Math.min(l+o,t.length));for(const u of c)await s.absorb(u)}r&&await s.absorb(1n);const a=[];for(let l=0;l<n;l++)a.push(await s.squeeze());return a}static async hashFixedLength(t,n=1){return this.hashInternal(t,n,!1)}static async hashVariableLength(t,n=1){return this.hashInternal(t,n,!0)}}async function Fi(e){return(await jS.hashFixedLength(e))[0]}Pi().primeField;var ko={},yp={};yp.byteLength=cH;yp.toByteArray=dH;yp.fromByteArray=mH;var Rr=[],Un=[],aH=typeof Uint8Array<"u"?Uint8Array:Array,dy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Aa=0,lH=dy.length;Aa<lH;++Aa)Rr[Aa]=dy[Aa],Un[dy.charCodeAt(Aa)]=Aa;Un[45]=62;Un[95]=63;function LN(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function cH(e){var t=LN(e),n=t[0],r=t[1];return(n+r)*3/4-r}function uH(e,t,n){return(t+n)*3/4-n}function dH(e){var t,n=LN(e),r=n[0],i=n[1],s=new aH(uH(e,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)t=Un[e.charCodeAt(l)]<<18|Un[e.charCodeAt(l+1)]<<12|Un[e.charCodeAt(l+2)]<<6|Un[e.charCodeAt(l+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=Un[e.charCodeAt(l)]<<2|Un[e.charCodeAt(l+1)]>>4,s[o++]=t&255),i===1&&(t=Un[e.charCodeAt(l)]<<10|Un[e.charCodeAt(l+1)]<<4|Un[e.charCodeAt(l+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function fH(e){return Rr[e>>18&63]+Rr[e>>12&63]+Rr[e>>6&63]+Rr[e&63]}function hH(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(fH(r));return i.join("")}function mH(e){for(var t,n=e.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(hH(e,o,o+s>a?a:o+s));return r===1?(t=e[n-1],i.push(Rr[t>>2]+Rr[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Rr[t>>10]+Rr[t>>4&63]+Rr[t<<2&63]+"=")),i.join("")}var RS={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */RS.read=function(e,t,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,m=e[t+d];for(d+=h,s=m&(1<<-u)-1,m>>=-u,u+=a;u>0;s=s*256+e[t+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+e[t+d],d+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(m?-1:1)*o*Math.pow(2,s-r)};RS.write=function(e,t,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,d=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,x=r?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*l-1)*Math.pow(2,i),o=o+d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+m]=a&255,m+=x,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[n+m]=o&255,m+=x,o/=256,c-=8);e[n+m-x]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=yp,n=RS,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const T=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(T,v),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const v=new Uint8Array(T);return Object.setPrototypeOf(v,a.prototype),v}function a(T,v,w){if(typeof T=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(T)}return l(T,v,w)}a.poolSize=8192;function l(T,v,w){if(typeof T=="string")return h(T,v);if(ArrayBuffer.isView(T))return x(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(sr(T,ArrayBuffer)||T&&sr(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(sr(T,SharedArrayBuffer)||T&&sr(T.buffer,SharedArrayBuffer)))return y(T,v,w);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const R=T.valueOf&&T.valueOf();if(R!=null&&R!==T)return a.from(R,v,w);const L=_(T);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),v,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,v,w){return l(T,v,w)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function u(T,v,w){return c(T),T<=0?o(T):v!==void 0?typeof w=="string"?o(T).fill(v,w):o(T).fill(v):o(T)}a.alloc=function(T,v,w){return u(T,v,w)};function d(T){return c(T),o(T<0?0:g(T)|0)}a.allocUnsafe=function(T){return d(T)},a.allocUnsafeSlow=function(T){return d(T)};function h(T,v){if((typeof v!="string"||v==="")&&(v="utf8"),!a.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const w=p(T,v)|0;let R=o(w);const L=R.write(T,v);return L!==w&&(R=R.slice(0,L)),R}function m(T){const v=T.length<0?0:g(T.length)|0,w=o(v);for(let R=0;R<v;R+=1)w[R]=T[R]&255;return w}function x(T){if(sr(T,Uint8Array)){const v=new Uint8Array(T);return y(v.buffer,v.byteOffset,v.byteLength)}return m(T)}function y(T,v,w){if(v<0||T.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<v+(w||0))throw new RangeError('"length" is outside of buffer bounds');let R;return v===void 0&&w===void 0?R=new Uint8Array(T):w===void 0?R=new Uint8Array(T,v):R=new Uint8Array(T,v,w),Object.setPrototypeOf(R,a.prototype),R}function _(T){if(a.isBuffer(T)){const v=g(T.length)|0,w=o(v);return w.length===0||T.copy(w,0,0,v),w}if(T.length!==void 0)return typeof T.length!="number"||Cd(T.length)?o(0):m(T);if(T.type==="Buffer"&&Array.isArray(T.data))return m(T.data)}function g(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function b(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==a.prototype},a.compare=function(v,w){if(sr(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),sr(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(v)||!a.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===w)return 0;let R=v.length,L=w.length;for(let $=0,q=Math.min(R,L);$<q;++$)if(v[$]!==w[$]){R=v[$],L=w[$];break}return R<L?-1:L<R?1:0},a.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(v,w){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return a.alloc(0);let R;if(w===void 0)for(w=0,R=0;R<v.length;++R)w+=v[R].length;const L=a.allocUnsafe(w);let $=0;for(R=0;R<v.length;++R){let q=v[R];if(sr(q,Uint8Array))$+q.length>L.length?(a.isBuffer(q)||(q=a.from(q)),q.copy(L,$)):Uint8Array.prototype.set.call(L,q,$);else if(a.isBuffer(q))q.copy(L,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=q.length}return L};function p(T,v){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||sr(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const w=T.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&w===0)return 0;let L=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return ir(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return Tc(T).length;default:if(L)return R?-1:ir(T).length;v=(""+v).toLowerCase(),L=!0}}a.byteLength=p;function C(T,v,w){let R=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,v>>>=0,w<=v))return"";for(T||(T="utf8");;)switch(T){case"hex":return V(this,v,w);case"utf8":case"utf-8":return F(this,v,w);case"ascii":return U(this,v,w);case"latin1":case"binary":return O(this,v,w);case"base64":return G(this,v,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,v,w);default:if(R)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),R=!0}}a.prototype._isBuffer=!0;function E(T,v,w){const R=T[v];T[v]=T[w],T[w]=R}a.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<v;w+=2)E(this,w,w+1);return this},a.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<v;w+=4)E(this,w,w+3),E(this,w+1,w+2);return this},a.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<v;w+=8)E(this,w,w+7),E(this,w+1,w+6),E(this,w+2,w+5),E(this,w+3,w+4);return this},a.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?F(this,0,v):C.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(v){if(!a.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:a.compare(this,v)===0},a.prototype.inspect=function(){let v="";const w=e.INSPECT_MAX_BYTES;return v=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(v+=" ... "),"<Buffer "+v+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(v,w,R,L,$){if(sr(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(w===void 0&&(w=0),R===void 0&&(R=v?v.length:0),L===void 0&&(L=0),$===void 0&&($=this.length),w<0||R>v.length||L<0||$>this.length)throw new RangeError("out of range index");if(L>=$&&w>=R)return 0;if(L>=$)return-1;if(w>=R)return 1;if(w>>>=0,R>>>=0,L>>>=0,$>>>=0,this===v)return 0;let q=$-L,ve=R-w;const W=Math.min(q,ve),Se=this.slice(L,$),Ye=v.slice(w,R);for(let De=0;De<W;++De)if(Se[De]!==Ye[De]){q=Se[De],ve=Ye[De];break}return q<ve?-1:ve<q?1:0};function N(T,v,w,R,L){if(T.length===0)return-1;if(typeof w=="string"?(R=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,Cd(w)&&(w=L?0:T.length-1),w<0&&(w=T.length+w),w>=T.length){if(L)return-1;w=T.length-1}else if(w<0)if(L)w=0;else return-1;if(typeof v=="string"&&(v=a.from(v,R)),a.isBuffer(v))return v.length===0?-1:k(T,v,w,R,L);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(T,v,w):Uint8Array.prototype.lastIndexOf.call(T,v,w):k(T,[v],w,R,L);throw new TypeError("val must be string, number or Buffer")}function k(T,v,w,R,L){let $=1,q=T.length,ve=v.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(T.length<2||v.length<2)return-1;$=2,q/=2,ve/=2,w/=2}function W(Ye,De){return $===1?Ye[De]:Ye.readUInt16BE(De*$)}let Se;if(L){let Ye=-1;for(Se=w;Se<q;Se++)if(W(T,Se)===W(v,Ye===-1?0:Se-Ye)){if(Ye===-1&&(Ye=Se),Se-Ye+1===ve)return Ye*$}else Ye!==-1&&(Se-=Se-Ye),Ye=-1}else for(w+ve>q&&(w=q-ve),Se=w;Se>=0;Se--){let Ye=!0;for(let De=0;De<ve;De++)if(W(T,Se+De)!==W(v,De)){Ye=!1;break}if(Ye)return Se}return-1}a.prototype.includes=function(v,w,R){return this.indexOf(v,w,R)!==-1},a.prototype.indexOf=function(v,w,R){return N(this,v,w,R,!0)},a.prototype.lastIndexOf=function(v,w,R){return N(this,v,w,R,!1)};function j(T,v,w,R){w=Number(w)||0;const L=T.length-w;R?(R=Number(R),R>L&&(R=L)):R=L;const $=v.length;R>$/2&&(R=$/2);let q;for(q=0;q<R;++q){const ve=parseInt(v.substr(q*2,2),16);if(Cd(ve))return q;T[w+q]=ve}return q}function D(T,v,w,R){return ba(ir(v,T.length-w),T,w,R)}function M(T,v,w,R){return ba(ni(v),T,w,R)}function H(T,v,w,R){return ba(Tc(v),T,w,R)}function Q(T,v,w,R){return ba(Ji(v,T.length-w),T,w,R)}a.prototype.write=function(v,w,R,L){if(w===void 0)L="utf8",R=this.length,w=0;else if(R===void 0&&typeof w=="string")L=w,R=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(R)?(R=R>>>0,L===void 0&&(L="utf8")):(L=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-w;if((R===void 0||R>$)&&(R=$),v.length>0&&(R<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");let q=!1;for(;;)switch(L){case"hex":return j(this,v,w,R);case"utf8":case"utf-8":return D(this,v,w,R);case"ascii":case"latin1":case"binary":return M(this,v,w,R);case"base64":return H(this,v,w,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,v,w,R);default:if(q)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(T,v,w){return v===0&&w===T.length?t.fromByteArray(T):t.fromByteArray(T.slice(v,w))}function F(T,v,w){w=Math.min(T.length,w);const R=[];let L=v;for(;L<w;){const $=T[L];let q=null,ve=$>239?4:$>223?3:$>191?2:1;if(L+ve<=w){let W,Se,Ye,De;switch(ve){case 1:$<128&&(q=$);break;case 2:W=T[L+1],(W&192)===128&&(De=($&31)<<6|W&63,De>127&&(q=De));break;case 3:W=T[L+1],Se=T[L+2],(W&192)===128&&(Se&192)===128&&(De=($&15)<<12|(W&63)<<6|Se&63,De>2047&&(De<55296||De>57343)&&(q=De));break;case 4:W=T[L+1],Se=T[L+2],Ye=T[L+3],(W&192)===128&&(Se&192)===128&&(Ye&192)===128&&(De=($&15)<<18|(W&63)<<12|(Se&63)<<6|Ye&63,De>65535&&De<1114112&&(q=De))}}q===null?(q=65533,ve=1):q>65535&&(q-=65536,R.push(q>>>10&1023|55296),q=56320|q&1023),R.push(q),L+=ve}return B(R)}const z=4096;function B(T){const v=T.length;if(v<=z)return String.fromCharCode.apply(String,T);let w="",R=0;for(;R<v;)w+=String.fromCharCode.apply(String,T.slice(R,R+=z));return w}function U(T,v,w){let R="";w=Math.min(T.length,w);for(let L=v;L<w;++L)R+=String.fromCharCode(T[L]&127);return R}function O(T,v,w){let R="";w=Math.min(T.length,w);for(let L=v;L<w;++L)R+=String.fromCharCode(T[L]);return R}function V(T,v,w){const R=T.length;(!v||v<0)&&(v=0),(!w||w<0||w>R)&&(w=R);let L="";for(let $=v;$<w;++$)L+=Qp[T[$]];return L}function Z(T,v,w){const R=T.slice(v,w);let L="";for(let $=0;$<R.length-1;$+=2)L+=String.fromCharCode(R[$]+R[$+1]*256);return L}a.prototype.slice=function(v,w){const R=this.length;v=~~v,w=w===void 0?R:~~w,v<0?(v+=R,v<0&&(v=0)):v>R&&(v=R),w<0?(w+=R,w<0&&(w=0)):w>R&&(w=R),w<v&&(w=v);const L=this.subarray(v,w);return Object.setPrototypeOf(L,a.prototype),L};function ee(T,v,w){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+v>w)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(v,w,R){v=v>>>0,w=w>>>0,R||ee(v,w,this.length);let L=this[v],$=1,q=0;for(;++q<w&&($*=256);)L+=this[v+q]*$;return L},a.prototype.readUintBE=a.prototype.readUIntBE=function(v,w,R){v=v>>>0,w=w>>>0,R||ee(v,w,this.length);let L=this[v+--w],$=1;for(;w>0&&($*=256);)L+=this[v+--w]*$;return L},a.prototype.readUint8=a.prototype.readUInt8=function(v,w){return v=v>>>0,w||ee(v,1,this.length),this[v]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(v,w){return v=v>>>0,w||ee(v,2,this.length),this[v]|this[v+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(v,w){return v=v>>>0,w||ee(v,2,this.length),this[v]<<8|this[v+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},a.prototype.readBigUInt64LE=Er(function(v){v=v>>>0,ye(v,"offset");const w=this[v],R=this[v+7];(w===void 0||R===void 0)&&Ve(v,this.length-8);const L=w+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,$=this[++v]+this[++v]*2**8+this[++v]*2**16+R*2**24;return BigInt(L)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=Er(function(v){v=v>>>0,ye(v,"offset");const w=this[v],R=this[v+7];(w===void 0||R===void 0)&&Ve(v,this.length-8);const L=w*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],$=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+R;return(BigInt(L)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(v,w,R){v=v>>>0,w=w>>>0,R||ee(v,w,this.length);let L=this[v],$=1,q=0;for(;++q<w&&($*=256);)L+=this[v+q]*$;return $*=128,L>=$&&(L-=Math.pow(2,8*w)),L},a.prototype.readIntBE=function(v,w,R){v=v>>>0,w=w>>>0,R||ee(v,w,this.length);let L=w,$=1,q=this[v+--L];for(;L>0&&($*=256);)q+=this[v+--L]*$;return $*=128,q>=$&&(q-=Math.pow(2,8*w)),q},a.prototype.readInt8=function(v,w){return v=v>>>0,w||ee(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},a.prototype.readInt16LE=function(v,w){v=v>>>0,w||ee(v,2,this.length);const R=this[v]|this[v+1]<<8;return R&32768?R|4294901760:R},a.prototype.readInt16BE=function(v,w){v=v>>>0,w||ee(v,2,this.length);const R=this[v+1]|this[v]<<8;return R&32768?R|4294901760:R},a.prototype.readInt32LE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},a.prototype.readInt32BE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},a.prototype.readBigInt64LE=Er(function(v){v=v>>>0,ye(v,"offset");const w=this[v],R=this[v+7];(w===void 0||R===void 0)&&Ve(v,this.length-8);const L=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(R<<24);return(BigInt(L)<<BigInt(32))+BigInt(w+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),a.prototype.readBigInt64BE=Er(function(v){v=v>>>0,ye(v,"offset");const w=this[v],R=this[v+7];(w===void 0||R===void 0)&&Ve(v,this.length-8);const L=(w<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(L)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+R)}),a.prototype.readFloatLE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),n.read(this,v,!0,23,4)},a.prototype.readFloatBE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),n.read(this,v,!1,23,4)},a.prototype.readDoubleLE=function(v,w){return v=v>>>0,w||ee(v,8,this.length),n.read(this,v,!0,52,8)},a.prototype.readDoubleBE=function(v,w){return v=v>>>0,w||ee(v,8,this.length),n.read(this,v,!1,52,8)};function ue(T,v,w,R,L,$){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>L||v<$)throw new RangeError('"value" argument is out of bounds');if(w+R>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(v,w,R,L){if(v=+v,w=w>>>0,R=R>>>0,!L){const ve=Math.pow(2,8*R)-1;ue(this,v,w,R,ve,0)}let $=1,q=0;for(this[w]=v&255;++q<R&&($*=256);)this[w+q]=v/$&255;return w+R},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(v,w,R,L){if(v=+v,w=w>>>0,R=R>>>0,!L){const ve=Math.pow(2,8*R)-1;ue(this,v,w,R,ve,0)}let $=R-1,q=1;for(this[w+$]=v&255;--$>=0&&(q*=256);)this[w+$]=v/q&255;return w+R},a.prototype.writeUint8=a.prototype.writeUInt8=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,1,255,0),this[w]=v&255,w+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,2,65535,0),this[w]=v&255,this[w+1]=v>>>8,w+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,2,65535,0),this[w]=v>>>8,this[w+1]=v&255,w+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,4,4294967295,0),this[w+3]=v>>>24,this[w+2]=v>>>16,this[w+1]=v>>>8,this[w]=v&255,w+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,4,4294967295,0),this[w]=v>>>24,this[w+1]=v>>>16,this[w+2]=v>>>8,this[w+3]=v&255,w+4};function de(T,v,w,R,L){oe(v,R,L,T,w,7);let $=Number(v&BigInt(4294967295));T[w++]=$,$=$>>8,T[w++]=$,$=$>>8,T[w++]=$,$=$>>8,T[w++]=$;let q=Number(v>>BigInt(32)&BigInt(4294967295));return T[w++]=q,q=q>>8,T[w++]=q,q=q>>8,T[w++]=q,q=q>>8,T[w++]=q,w}function fe(T,v,w,R,L){oe(v,R,L,T,w,7);let $=Number(v&BigInt(4294967295));T[w+7]=$,$=$>>8,T[w+6]=$,$=$>>8,T[w+5]=$,$=$>>8,T[w+4]=$;let q=Number(v>>BigInt(32)&BigInt(4294967295));return T[w+3]=q,q=q>>8,T[w+2]=q,q=q>>8,T[w+1]=q,q=q>>8,T[w]=q,w+8}a.prototype.writeBigUInt64LE=Er(function(v,w=0){return de(this,v,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Er(function(v,w=0){return fe(this,v,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(v,w,R,L){if(v=+v,w=w>>>0,!L){const W=Math.pow(2,8*R-1);ue(this,v,w,R,W-1,-W)}let $=0,q=1,ve=0;for(this[w]=v&255;++$<R&&(q*=256);)v<0&&ve===0&&this[w+$-1]!==0&&(ve=1),this[w+$]=(v/q>>0)-ve&255;return w+R},a.prototype.writeIntBE=function(v,w,R,L){if(v=+v,w=w>>>0,!L){const W=Math.pow(2,8*R-1);ue(this,v,w,R,W-1,-W)}let $=R-1,q=1,ve=0;for(this[w+$]=v&255;--$>=0&&(q*=256);)v<0&&ve===0&&this[w+$+1]!==0&&(ve=1),this[w+$]=(v/q>>0)-ve&255;return w+R},a.prototype.writeInt8=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,1,127,-128),v<0&&(v=255+v+1),this[w]=v&255,w+1},a.prototype.writeInt16LE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,2,32767,-32768),this[w]=v&255,this[w+1]=v>>>8,w+2},a.prototype.writeInt16BE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,2,32767,-32768),this[w]=v>>>8,this[w+1]=v&255,w+2},a.prototype.writeInt32LE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,4,2147483647,-2147483648),this[w]=v&255,this[w+1]=v>>>8,this[w+2]=v>>>16,this[w+3]=v>>>24,w+4},a.prototype.writeInt32BE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[w]=v>>>24,this[w+1]=v>>>16,this[w+2]=v>>>8,this[w+3]=v&255,w+4},a.prototype.writeBigInt64LE=Er(function(v,w=0){return de(this,v,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Er(function(v,w=0){return fe(this,v,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fe(T,v,w,R,L,$){if(w+R>T.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function Ke(T,v,w,R,L){return v=+v,w=w>>>0,L||Fe(T,v,w,4),n.write(T,v,w,R,23,4),w+4}a.prototype.writeFloatLE=function(v,w,R){return Ke(this,v,w,!0,R)},a.prototype.writeFloatBE=function(v,w,R){return Ke(this,v,w,!1,R)};function J(T,v,w,R,L){return v=+v,w=w>>>0,L||Fe(T,v,w,8),n.write(T,v,w,R,52,8),w+8}a.prototype.writeDoubleLE=function(v,w,R){return J(this,v,w,!0,R)},a.prototype.writeDoubleBE=function(v,w,R){return J(this,v,w,!1,R)},a.prototype.copy=function(v,w,R,L){if(!a.isBuffer(v))throw new TypeError("argument should be a Buffer");if(R||(R=0),!L&&L!==0&&(L=this.length),w>=v.length&&(w=v.length),w||(w=0),L>0&&L<R&&(L=R),L===R||v.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),v.length-w<L-R&&(L=v.length-w+R);const $=L-R;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,R,L):Uint8Array.prototype.set.call(v,this.subarray(R,L),w),$},a.prototype.fill=function(v,w,R,L){if(typeof v=="string"){if(typeof w=="string"?(L=w,w=0,R=this.length):typeof R=="string"&&(L=R,R=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!a.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(v.length===1){const q=v.charCodeAt(0);(L==="utf8"&&q<128||L==="latin1")&&(v=q)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(w<0||this.length<w||this.length<R)throw new RangeError("Out of range index");if(R<=w)return this;w=w>>>0,R=R===void 0?this.length:R>>>0,v||(v=0);let $;if(typeof v=="number")for($=w;$<R;++$)this[$]=v;else{const q=a.isBuffer(v)?v:a.from(v,L),ve=q.length;if(ve===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for($=0;$<R-w;++$)this[$+w]=q[$%ve]}return this};const X={};function Ne(T,v,w){X[T]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(L){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:L,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(T,v){return`The "${T}" argument must be of type number. Received type ${typeof v}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(T,v,w){let R=`The value of "${T}" is out of range.`,L=w;return Number.isInteger(w)&&Math.abs(w)>2**32?L=K(String(w)):typeof w=="bigint"&&(L=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(L=K(L)),L+="n"),R+=` It must be ${v}. Received ${L}`,R},RangeError);function K(T){let v="",w=T.length;const R=T[0]==="-"?1:0;for(;w>=R+4;w-=3)v=`_${T.slice(w-3,w)}${v}`;return`${T.slice(0,w)}${v}`}function te(T,v,w){ye(v,"offset"),(T[v]===void 0||T[v+w]===void 0)&&Ve(v,T.length-(w+1))}function oe(T,v,w,R,L,$){if(T>w||T<v){const q=typeof v=="bigint"?"n":"";let ve;throw v===0||v===BigInt(0)?ve=`>= 0${q} and < 2${q} ** ${($+1)*8}${q}`:ve=`>= -(2${q} ** ${($+1)*8-1}${q}) and < 2 ** ${($+1)*8-1}${q}`,new X.ERR_OUT_OF_RANGE("value",ve,T)}te(R,L,$)}function ye(T,v){if(typeof T!="number")throw new X.ERR_INVALID_ARG_TYPE(v,"number",T)}function Ve(T,v,w){throw Math.floor(T)!==T?(ye(T,w),new X.ERR_OUT_OF_RANGE("offset","an integer",T)):v<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,T)}const Cr=/[^+/0-9A-Za-z-_]/g;function St(T){if(T=T.split("=")[0],T=T.trim().replace(Cr,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function ir(T,v){v=v||1/0;let w;const R=T.length;let L=null;const $=[];for(let q=0;q<R;++q){if(w=T.charCodeAt(q),w>55295&&w<57344){if(!L){if(w>56319){(v-=3)>-1&&$.push(239,191,189);continue}else if(q+1===R){(v-=3)>-1&&$.push(239,191,189);continue}L=w;continue}if(w<56320){(v-=3)>-1&&$.push(239,191,189),L=w;continue}w=(L-55296<<10|w-56320)+65536}else L&&(v-=3)>-1&&$.push(239,191,189);if(L=null,w<128){if((v-=1)<0)break;$.push(w)}else if(w<2048){if((v-=2)<0)break;$.push(w>>6|192,w&63|128)}else if(w<65536){if((v-=3)<0)break;$.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((v-=4)<0)break;$.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return $}function ni(T){const v=[];for(let w=0;w<T.length;++w)v.push(T.charCodeAt(w)&255);return v}function Ji(T,v){let w,R,L;const $=[];for(let q=0;q<T.length&&!((v-=2)<0);++q)w=T.charCodeAt(q),R=w>>8,L=w%256,$.push(L),$.push(R);return $}function Tc(T){return t.toByteArray(St(T))}function ba(T,v,w,R){let L;for(L=0;L<R&&!(L+w>=v.length||L>=T.length);++L)v[L+w]=T[L];return L}function sr(T,v){return T instanceof v||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===v.name}function Cd(T){return T!==T}const Qp=function(){const T="0123456789abcdef",v=new Array(256);for(let w=0;w<16;++w){const R=w*16;for(let L=0;L<16;++L)v[R+L]=T[w]+T[L]}return v}();function Er(T){return typeof BigInt>"u"?eg:T}function eg(){throw new Error("BigInt not supported")}})(ko);function pH(e){return BigInt("0x"+Buffer.from(e).toString("hex"))}function Dl(e,t){return e.concat(Array(t-e.length).fill(0))}function gH(e,t){return Array(t-e.length).fill(0).concat(e)}function id(e,t){let n=BigInt(0);for(let r=0;r<t;r++)n*=BigInt(256),n+=BigInt(e[r]);return n}function yH(e){return e.minAge}function bH(e){return e.maxAge}function vH(){return 5}async function c2(e,t,n){return await Fi([BigInt(ke.AGE),...Array.from(new TextEncoder().encode(e)).map(i=>BigInt(i)),BigInt(t),BigInt(n)])}async function xH(e,t,n){const r=fc(new Uint8Array([ke.AGE,...Array.from(new TextEncoder().encode(e)).map(s=>Number(s)),t,n]));return id(r,31)}const OS=fc;function sd(e){const t=Number(e.slice(0,4)),n=Number(e.slice(4,6)),r=Number(e.slice(6,8));return new Date(t,n-1,r)}function u2(e){return sd(e.minDate)}function d2(e){return sd(e.maxDate)}function wH(){return 5}async function Xd(e,t,n="11111111",r="11111111"){return await Fi([BigInt(e),...Array.from(new TextEncoder().encode(t)).map(s=>BigInt(s)),...Array.from(new TextEncoder().encode(n)).map(s=>BigInt(s)),...Array.from(new TextEncoder().encode(r)).map(s=>BigInt(s))])}async function f2(e,t,n="11111111",r="11111111"){const i=OS(new Uint8Array([e,...Array.from(new TextEncoder().encode(t)).map(o=>Number(o)),...Array.from(new TextEncoder().encode(n)).map(o=>Number(o)),...Array.from(new TextEncoder().encode(r)).map(o=>Number(o))]));return id(i,31)}function fy(e){return e.replace(/^<+|<+$/g,"").replace(/</g," ")}function pt(e){return e.replace(/<+/g," ").replace(/</g," ").replace(/\s+/g," ").replace(/[áàâäãå]/g,"a").replace(/[éèêë]/g,"e").replace(/[íìîï]/g,"i").replace(/[óòôöõ]/g,"o").replace(/[úùûü]/g,"u").replace(/[ñ]/g,"n").replace(/[ç]/g,"c").replace(/[æ]/g,"ae").replace(/[œ]/g,"oe").replace(/[ø]/g,"o").replace(/[æ]/g,"ae").replace(/[œ]/g,"oe").replace(/[ø]/g,"o").replace(/[^a-zA-Z ]/g,"").trim()}function hy(e){return e.startsWith("P")?"passport":e==="IR"||e==="AR"?"residence_permit":e.startsWith("I")?"id_card":"other"}class pl{constructor(t){re(this,"issuingCountry");re(this,"nationality");re(this,"documentType");re(this,"documentNumber");re(this,"dateOfExpiry");re(this,"dateOfBirth");re(this,"name");re(this,"firstName");re(this,"lastName");re(this,"gender");this.issuingCountry=t.issuingCountry,this.nationality=t.nationality,this.documentType=t.documentType,this.documentNumber=t.documentNumber,this.dateOfExpiry=t.dateOfExpiry,this.dateOfBirth=t.dateOfBirth,this.name=t.name,this.gender=t.gender,this.firstName=t.firstName,this.lastName=t.lastName}static fromDisclosedBytes(t,n){const r={issuingCountry:new Uint8Array(t.slice(2,5)),nationality:new Uint8Array(t.slice(n==="id_card"?45:54,n==="id_card"?48:57)),documentType:new Uint8Array(t.slice(0,2)),documentNumber:new Uint8Array(t.slice(n==="id_card"?5:44,n==="id_card"?14:53)),dateOfExpiry:new Uint8Array(t.slice(n==="id_card"?38:65,n==="id_card"?44:71)),dateOfBirth:new Uint8Array(t.slice(n==="id_card"?30:57,n==="id_card"?36:63)),name:new Uint8Array(t.slice(n==="id_card"?60:5,n==="id_card"?90:44)),gender:new Uint8Array(t.slice(n==="id_card"?37:64,n==="id_card"?38:65))},i=new TextDecoder,s=d=>i.decode(d).replace(/\0/g,""),o=r.name&&r.name.length>0?s(r.name):"",a=o.indexOf("<<"),l=a>=0?o.substring(0,a):"",c=a>=0?o.substring(a+2):"",u=c+" "+l;return new pl({issuingCountry:s(r.issuingCountry),nationality:s(r.nationality),documentType:hy(s(r.documentType)),documentNumber:fy(s(r.documentNumber)),dateOfExpiry:Ta(r.dateOfExpiry),dateOfBirth:Ta(r.dateOfBirth),name:pt(u),firstName:pt(c),lastName:pt(l),gender:s(r.gender)})}static fromFlagsProof(t){const n=t.publicInputs.slice(3,93).map(d=>parseInt(d,16)),r={issuingCountry:new Uint8Array(n.slice(0,3)),nationality:new Uint8Array(n.slice(3,6)),documentType:new Uint8Array(n.slice(6,8)),documentNumber:new Uint8Array(n.slice(8,17)),dateOfExpiry:new Uint8Array(n.slice(17,23)),dateOfBirth:new Uint8Array(n.slice(23,29)),name:new Uint8Array(n.slice(29,68)),gender:new Uint8Array(n.slice(68,69))},i=new TextDecoder,s=d=>i.decode(d).replace(/\0/g,""),o=r.name&&r.name.length>0?s(r.name):"",a=o.indexOf("<<"),l=a>0?o.substring(0,a):"",c=a>0?o.substring(a+2):"",u=c+" "+l;return new pl({issuingCountry:s(r.issuingCountry),nationality:s(r.nationality),documentType:hy(s(r.documentType)),documentNumber:fy(s(r.documentNumber)),dateOfExpiry:Ta(r.dateOfExpiry),dateOfBirth:Ta(r.dateOfBirth),name:pt(u),firstName:pt(c),lastName:pt(l),gender:s(r.gender)})}static fromBytesProof(t,n){const s=t.publicInputs.slice(93,182).map(x=>parseInt(x,16)),o={issuingCountry:new Uint8Array(s.slice(2,5)),nationality:new Uint8Array(s.slice(n==="id_card"?45:54,n==="id_card"?48:57)),documentType:new Uint8Array(s.slice(0,2)),documentNumber:new Uint8Array(s.slice(n==="id_card"?5:44,n==="id_card"?14:53)),dateOfExpiry:new Uint8Array(s.slice(n==="id_card"?38:65,n==="id_card"?44:71)),dateOfBirth:new Uint8Array(s.slice(n==="id_card"?30:57,n==="id_card"?36:63)),name:new Uint8Array(s.slice(n==="id_card"?60:5,n==="id_card"?90:44)),gender:new Uint8Array(s.slice(n==="id_card"?37:64,n==="id_card"?38:65))},a=new TextDecoder,l=x=>a.decode(x).replace(/\0/g,""),c=o.name&&o.name.length>0?l(o.name):"",u=c.indexOf("<<"),d=u>=0?c.substring(0,u):"",h=u>=0?c.substring(u+2):"",m=h+" "+d;return new pl({issuingCountry:l(o.issuingCountry),nationality:l(o.nationality),documentType:hy(l(o.documentType)),documentNumber:fy(l(o.documentNumber)),dateOfExpiry:Ta(o.dateOfExpiry),dateOfBirth:Ta(o.dateOfBirth),name:pt(m),firstName:pt(h),lastName:pt(d),gender:l(o.gender)})}}function Ta(e){const t=new TextDecoder().decode(e).replace(/\0/g,""),n=parseInt(t.substring(0,2)),r=parseInt(t.substring(2,4))-1,i=parseInt(t.substring(4,6)),s=new Date().getFullYear(),o=Math.floor(s/100)*100,a=o-100,l=n+(n+o>s+10?a:o);return new Date(Date.UTC(l,r,i,0,0,0,0))}function SH(){return 5}function _H(){return 73}async function h2(e,t){return await Fi([BigInt(ke.DISCLOSE),...e.map(r=>BigInt(r)),...t.map(r=>BigInt(r))])}async function CH(e,t){const n=OS(new Uint8Array([ke.DISCLOSE,...e.map(i=>Number(i)),...t.map(i=>Number(i))]));return id(n,31)}function EH(e){return BigInt(e.publicInputs[0])}function AH(e){return BigInt(e.publicInputs[1])}function TH(){return 2}function kH(e){return BigInt(e.publicInputs[e.publicInputs.length-2])}function IH(e){return BigInt(e.publicInputs[e.publicInputs.length-1])}function BH(e){const t=e.publicInputs.slice(0,8).map(r=>Number(r)-48).map(r=>r.toString());return sd(t.join(""))}function NH(){return 10}function jH(e){return e.charCodeAt(0)*65536+e.charCodeAt(1)*256+e.charCodeAt(2)}function RH(){return 5}function OH(){return 5}async function rs(e,t,n=!1){const r=t.map(o=>jH(o)),i=Dl(n?r.sort((o,a)=>o-a):r,200).map(o=>BigInt(o));return await Fi([BigInt(e),...i])}async function Jd(e,t,n=!1){n&&t.sort((o,a)=>o.localeCompare(a));const r=t.map(o=>Array.from(new TextEncoder().encode(o))).flat(),i=OS(new Uint8Array([e,...Dl(r,600)]));return id(i,31)}function DH(e){return BigInt(e.publicInputs[0])}function MH(e){return BigInt(e.publicInputs[1])}function UH(){return 2}function LH(){return 5}var Vh;(function(e){e[e.USER_ADDRESS=1]="USER_ADDRESS",e[e.CUSTOM_DATA=2]="CUSTOM_DATA"})(Vh||(Vh={}));function Qd(e){let t=[];if(e.user_address&&e.user_address.length>0){const n=Vz.fromHex(e.user_address).toNumberArray();t=[...t,Vh.USER_ADDRESS,...gH([n.length],2),...n]}if(e.custom_data&&e.custom_data.length>0){const n=new TextEncoder().encode(e.custom_data);t=[...t,Vh.CUSTOM_DATA,n.length>>8&255,n.length&255,...n]}if(t.length>500)throw new Error(`Data is too long: ${t.length} > 500`);return t}async function m2(e,t=500){const n=Dl(e,t);return await Fi([BigInt(ke.BIND),...n.map(i=>BigInt(i))])}async function PH(e,t=500){const n=Dl(e,t),r=fc(new Uint8Array([ke.BIND,...n]));return id(r,31)}function ai(e){return BigInt(e.publicInputs[e.publicInputs.length-1])}function li(e){return BigInt(e.publicInputs[e.publicInputs.length-2])}function is(e){return BigInt(e.publicInputs[0])}function my(e){return e.startsWith("disclose_bytes")?SH():e.startsWith("disclose_flags")?_H():e.startsWith("compare_age")?vH():e.startsWith("compare_birthdate")||e.startsWith("compare_expiry")?wH():e.startsWith("exclusion_check")?RH():e.startsWith("inclusion_check")?OH():e.startsWith("data_check_integrity")?NH():e.startsWith("sig_check_id_data")?UH():e.startsWith("sig_check_dsc")?TH():e.startsWith("bind")?LH():e.startsWith("outer")?13+(Number(e.substring(e.lastIndexOf("_")+1))-3):0}function FH(e){switch(e){case"compare_age_evm":return 11;case"compare_birthdate_evm":return 25;case"compare_expiry_evm":return 25;case"disclose_bytes_evm":return 181;case"inclusion_check_issuing_country_evm":return 601;case"inclusion_check_nationality_evm":return 601;case"exclusion_check_issuing_country_evm":return 601;case"exclusion_check_nationality_evm":return 601;case"compare_age":return 11;case"compare_birthdate":return 25;case"compare_expiry":return 25;case"disclose_bytes":return 181;case"inclusion_check_issuing_country":return 201;case"inclusion_check_nationality":return 201;case"exclusion_check_issuing_country":return 201;case"exclusion_check_nationality":return 201;case"bind":return 501;case"bind_evm":return 501;default:throw new Error(`Unknown circuit name: ${e}`)}}function py(e){return sd(e.currentDate)}var ke;(function(e){e[e.DISCLOSE=0]="DISCLOSE",e[e.AGE=1]="AGE",e[e.BIRTHDATE=2]="BIRTHDATE",e[e.EXPIRY_DATE=3]="EXPIRY_DATE",e[e.NATIONALITY_INCLUSION=4]="NATIONALITY_INCLUSION",e[e.NATIONALITY_EXCLUSION=5]="NATIONALITY_EXCLUSION",e[e.ISSUING_COUNTRY_INCLUSION=6]="ISSUING_COUNTRY_INCLUSION",e[e.ISSUING_COUNTRY_EXCLUSION=7]="ISSUING_COUNTRY_EXCLUSION",e[e.BIND=8]="BIND"})(ke||(ke={}));const VH="1.2.840.10045.4.1",zH="1.2.840.10045.4.3.1",$H="1.2.840.10045.4.3.2",HH="1.2.840.10045.4.3.3",GH="1.2.840.10045.4.3.4";function od(e){return new pe({algorithm:e})}od(VH);od(zH);od($H);od(HH);od(GH);let o0=class{constructor(t={}){Object.assign(this,t)}};A([I({type:P.ObjectIdentifier})],o0.prototype,"fieldType",void 0);A([I({type:P.Any})],o0.prototype,"parameters",void 0);o0=A([ie({type:ne.Sequence})],o0);class qH extends qe{}let Ml=class{constructor(t={}){Object.assign(this,t)}};A([I({type:P.OctetString})],Ml.prototype,"a",void 0);A([I({type:P.OctetString})],Ml.prototype,"b",void 0);A([I({type:P.BitString,optional:!0})],Ml.prototype,"seed",void 0);Ml=A([ie({type:ne.Sequence})],Ml);var o1;(function(e){e[e.ecpVer1=1]="ecpVer1"})(o1||(o1={}));let Vi=class{constructor(t={}){this.version=o1.ecpVer1,Object.assign(this,t)}};A([I({type:P.Integer})],Vi.prototype,"version",void 0);A([I({type:o0})],Vi.prototype,"fieldID",void 0);A([I({type:Ml})],Vi.prototype,"curve",void 0);A([I({type:qH})],Vi.prototype,"base",void 0);A([I({type:P.Integer,converter:Qe})],Vi.prototype,"order",void 0);A([I({type:P.Integer,optional:!0})],Vi.prototype,"cofactor",void 0);Vi=A([ie({type:ne.Sequence})],Vi);let Ul=class{constructor(t={}){Object.assign(this,t)}};A([I({type:P.ObjectIdentifier})],Ul.prototype,"namedCurve",void 0);A([I({type:P.Null})],Ul.prototype,"implicitCurve",void 0);A([I({type:Vi})],Ul.prototype,"specifiedCurve",void 0);Ul=A([ie({type:ne.Choice})],Ul);class bp{constructor(t={}){this.version=1,this.privateKey=new qe,Object.assign(this,t)}}A([I({type:P.Integer})],bp.prototype,"version",void 0);A([I({type:qe})],bp.prototype,"privateKey",void 0);A([I({type:Ul,context:0,optional:!0})],bp.prototype,"parameters",void 0);A([I({type:P.BitString,context:1,optional:!0})],bp.prototype,"publicKey",void 0);class PN{constructor(t={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.Integer,converter:Qe})],PN.prototype,"r",void 0);A([I({type:P.Integer,converter:Qe})],PN.prototype,"s",void 0);const rr="1.2.840.113549.1.1",KH=`${rr}.1`,YH=`${rr}.7`,WH=`${rr}.9`,ZH=`${rr}.10`,XH=`${rr}.2`,JH=`${rr}.4`,QH=`${rr}.5`,eG=`${rr}.12`,tG=`${rr}.13`,FN=`${rr}.15`,VN=`${rr}.16`,nG="1.3.14.3.2.26",rG="2.16.840.1.101.3.4.2.4",iG="2.16.840.1.101.3.4.2.1",sG="2.16.840.1.101.3.4.2.2",oG="2.16.840.1.101.3.4.2.3",aG="2.16.840.1.101.3.4.2.5",lG="2.16.840.1.101.3.4.2.6",cG="1.2.840.113549.2.2",uG="1.2.840.113549.2.5",DS=`${rr}.8`;function It(e){return new pe({algorithm:e,parameters:null})}It(cG);It(uG);const Qo=It(nG);It(rG);It(iG);It(sG);It(oG);It(aG);It(lG);const zN=new pe({algorithm:DS,parameters:to.serialize(Qo)}),$N=new pe({algorithm:WH,parameters:to.serialize(Oh.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});It(KH);It(XH);It(JH);It(QH);It(FN);It(VN);It(eG);It(tG);It(FN);It(VN);class vp{constructor(t={}){this.hashAlgorithm=new pe(Qo),this.maskGenAlgorithm=new pe({algorithm:DS,parameters:to.serialize(Qo)}),this.pSourceAlgorithm=new pe($N),Object.assign(this,t)}}A([I({type:pe,context:0,defaultValue:Qo})],vp.prototype,"hashAlgorithm",void 0);A([I({type:pe,context:1,defaultValue:zN})],vp.prototype,"maskGenAlgorithm",void 0);A([I({type:pe,context:2,defaultValue:$N})],vp.prototype,"pSourceAlgorithm",void 0);new pe({algorithm:YH,parameters:to.serialize(new vp)});class ad{constructor(t={}){this.hashAlgorithm=new pe(Qo),this.maskGenAlgorithm=new pe({algorithm:DS,parameters:to.serialize(Qo)}),this.saltLength=20,this.trailerField=1,Object.assign(this,t)}}A([I({type:pe,context:0,defaultValue:Qo})],ad.prototype,"hashAlgorithm",void 0);A([I({type:pe,context:1,defaultValue:zN})],ad.prototype,"maskGenAlgorithm",void 0);A([I({type:P.Integer,context:2,defaultValue:20})],ad.prototype,"saltLength",void 0);A([I({type:P.Integer,context:3,defaultValue:1})],ad.prototype,"trailerField",void 0);new pe({algorithm:ZH,parameters:to.serialize(new ad)});class HN{constructor(t={}){this.digestAlgorithm=new pe,this.digest=new qe,Object.assign(this,t)}}A([I({type:pe})],HN.prototype,"digestAlgorithm",void 0);A([I({type:qe})],HN.prototype,"digest",void 0);var a1;class xp{constructor(t={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.Integer,converter:Qe})],xp.prototype,"prime",void 0);A([I({type:P.Integer,converter:Qe})],xp.prototype,"exponent",void 0);A([I({type:P.Integer,converter:Qe})],xp.prototype,"coefficient",void 0);let l1=a1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,a1.prototype)}};l1=a1=A([ie({type:ne.Sequence,itemType:xp})],l1);class Qr{constructor(t={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.Integer})],Qr.prototype,"version",void 0);A([I({type:P.Integer,converter:Qe})],Qr.prototype,"modulus",void 0);A([I({type:P.Integer,converter:Qe})],Qr.prototype,"publicExponent",void 0);A([I({type:P.Integer,converter:Qe})],Qr.prototype,"privateExponent",void 0);A([I({type:P.Integer,converter:Qe})],Qr.prototype,"prime1",void 0);A([I({type:P.Integer,converter:Qe})],Qr.prototype,"prime2",void 0);A([I({type:P.Integer,converter:Qe})],Qr.prototype,"exponent1",void 0);A([I({type:P.Integer,converter:Qe})],Qr.prototype,"exponent2",void 0);A([I({type:P.Integer,converter:Qe})],Qr.prototype,"coefficient",void 0);A([I({type:l1,optional:!0})],Qr.prototype,"otherPrimeInfos",void 0);class GN{constructor(t={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.Integer,converter:Qe})],GN.prototype,"modulus",void 0);A([I({type:P.Integer,converter:Qe})],GN.prototype,"publicExponent",void 0);class gc{constructor(t={}){this.issuer=new yr,this.serialNumber=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:yr})],gc.prototype,"issuer",void 0);A([I({type:P.Integer,converter:Qe})],gc.prototype,"serialNumber",void 0);let Ll=class{constructor(t={}){Object.assign(this,t)}};A([I({type:rd,context:0,implicit:!0})],Ll.prototype,"subjectKeyIdentifier",void 0);A([I({type:gc})],Ll.prototype,"issuerAndSerialNumber",void 0);Ll=A([ie({type:ne.Choice})],Ll);var zi;(function(e){e[e.v0=0]="v0",e[e.v1=1]="v1",e[e.v2=2]="v2",e[e.v3=3]="v3",e[e.v4=4]="v4",e[e.v5=5]="v5"})(zi||(zi={}));let $i=class extends pe{};$i=A([ie({type:ne.Sequence})],$i);let zh=class extends pe{};zh=A([ie({type:ne.Sequence})],zh);let Yr=class extends pe{};Yr=A([ie({type:ne.Sequence})],Yr);let $h=class extends pe{};$h=A([ie({type:ne.Sequence})],$h);let p2=class extends pe{};p2=A([ie({type:ne.Sequence})],p2);let c1=class extends pe{};c1=A([ie({type:ne.Sequence})],c1);class ma{constructor(t={}){this.attrType="",this.attrValues=[],Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],ma.prototype,"attrType",void 0);A([I({type:P.Any,repeated:"set"})],ma.prototype,"attrValues",void 0);var u1;class Xi{constructor(t={}){this.version=zi.v0,this.sid=new Ll,this.digestAlgorithm=new $i,this.signatureAlgorithm=new zh,this.signature=new qe,Object.assign(this,t)}}A([I({type:P.Integer})],Xi.prototype,"version",void 0);A([I({type:Ll})],Xi.prototype,"sid",void 0);A([I({type:$i})],Xi.prototype,"digestAlgorithm",void 0);A([I({type:ma,repeated:"set",context:0,implicit:!0,optional:!0})],Xi.prototype,"signedAttrs",void 0);A([I({type:zh})],Xi.prototype,"signatureAlgorithm",void 0);A([I({type:qe})],Xi.prototype,"signature",void 0);A([I({type:ma,repeated:"set",context:1,implicit:!0,optional:!0})],Xi.prototype,"unsignedAttrs",void 0);let Hh=u1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,u1.prototype)}};Hh=u1=A([ie({type:ne.Set,itemType:Xi})],Hh);let g2=class extends Yt{};g2=A([ie({type:ne.Choice})],g2);let y2=class extends Xi{};y2=A([ie({type:ne.Sequence})],y2);class MS{constructor(t={}){this.acIssuer=new Me,this.acSerial=0,this.attrs=[],Object.assign(this,t)}}A([I({type:Me})],MS.prototype,"acIssuer",void 0);A([I({type:P.Integer})],MS.prototype,"acSerial",void 0);A([I({type:nd,repeated:"sequence"})],MS.prototype,"attrs",void 0);var d1;let Gh=d1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,d1.prototype)}};Gh=d1=A([ie({type:ne.Sequence,itemType:P.ObjectIdentifier})],Gh);class wp{constructor(t={}){this.permitUnSpecified=!0,Object.assign(this,t)}}A([I({type:P.Integer,optional:!0})],wp.prototype,"pathLenConstraint",void 0);A([I({type:Gh,implicit:!0,context:0,optional:!0})],wp.prototype,"permittedAttrs",void 0);A([I({type:Gh,implicit:!0,context:1,optional:!0})],wp.prototype,"excludedAttrs",void 0);A([I({type:P.Boolean,defaultValue:!0})],wp.prototype,"permitUnSpecified",void 0);class pa{constructor(t={}){this.issuer=new br,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:br})],pa.prototype,"issuer",void 0);A([I({type:P.Integer,converter:Qe})],pa.prototype,"serial",void 0);A([I({type:P.BitString,optional:!0})],pa.prototype,"issuerUID",void 0);var f1;(function(e){e[e.publicKey=0]="publicKey",e[e.publicKeyCert=1]="publicKeyCert",e[e.otherObjectTypes=2]="otherObjectTypes"})(f1||(f1={}));class ga{constructor(t={}){this.digestedObjectType=f1.publicKey,this.digestAlgorithm=new pe,this.objectDigest=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.Enumerated})],ga.prototype,"digestedObjectType",void 0);A([I({type:P.ObjectIdentifier,optional:!0})],ga.prototype,"otherObjectTypeID",void 0);A([I({type:pe})],ga.prototype,"digestAlgorithm",void 0);A([I({type:P.BitString})],ga.prototype,"objectDigest",void 0);class Sp{constructor(t={}){Object.assign(this,t)}}A([I({type:br,optional:!0})],Sp.prototype,"issuerName",void 0);A([I({type:pa,context:0,implicit:!0,optional:!0})],Sp.prototype,"baseCertificateID",void 0);A([I({type:ga,context:1,implicit:!0,optional:!0})],Sp.prototype,"objectDigestInfo",void 0);let Pl=class{constructor(t={}){Object.assign(this,t)}};A([I({type:Me,repeated:"sequence"})],Pl.prototype,"v1Form",void 0);A([I({type:Sp,context:0,implicit:!0})],Pl.prototype,"v2Form",void 0);Pl=A([ie({type:ne.Choice})],Pl);class _p{constructor(t={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,t)}}A([I({type:P.GeneralizedTime})],_p.prototype,"notBeforeTime",void 0);A([I({type:P.GeneralizedTime})],_p.prototype,"notAfterTime",void 0);class ld{constructor(t={}){Object.assign(this,t)}}A([I({type:pa,implicit:!0,context:0,optional:!0})],ld.prototype,"baseCertificateID",void 0);A([I({type:br,implicit:!0,context:1,optional:!0})],ld.prototype,"entityName",void 0);A([I({type:ga,implicit:!0,context:2,optional:!0})],ld.prototype,"objectDigestInfo",void 0);var h1;(function(e){e[e.v2=1]="v2"})(h1||(h1={}));class _r{constructor(t={}){this.version=h1.v2,this.holder=new ld,this.issuer=new Pl,this.signature=new pe,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new _p,this.attributes=[],Object.assign(this,t)}}A([I({type:P.Integer})],_r.prototype,"version",void 0);A([I({type:ld})],_r.prototype,"holder",void 0);A([I({type:Pl})],_r.prototype,"issuer",void 0);A([I({type:pe})],_r.prototype,"signature",void 0);A([I({type:P.Integer,converter:Qe})],_r.prototype,"serialNumber",void 0);A([I({type:_p})],_r.prototype,"attrCertValidityPeriod",void 0);A([I({type:nd,repeated:"sequence"})],_r.prototype,"attributes",void 0);A([I({type:P.BitString,optional:!0})],_r.prototype,"issuerUniqueID",void 0);A([I({type:Ph,optional:!0})],_r.prototype,"extensions",void 0);class Cp{constructor(t={}){this.acinfo=new _r,this.signatureAlgorithm=new pe,this.signatureValue=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:_r})],Cp.prototype,"acinfo",void 0);A([I({type:pe})],Cp.prototype,"signatureAlgorithm",void 0);A([I({type:P.BitString})],Cp.prototype,"signatureValue",void 0);var qh;(function(e){e[e.unmarked=1]="unmarked",e[e.unclassified=2]="unclassified",e[e.restricted=4]="restricted",e[e.confidential=8]="confidential",e[e.secret=16]="secret",e[e.topSecret=32]="topSecret"})(qh||(qh={}));class m1 extends vS{}class US{constructor(t={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier,implicit:!0,context:0})],US.prototype,"type",void 0);A([I({type:P.Any,implicit:!0,context:1})],US.prototype,"value",void 0);class LS{constructor(t={}){this.policyId="",this.classList=new m1(qh.unclassified),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],LS.prototype,"policyId",void 0);A([I({type:m1,defaultValue:new m1(qh.unclassified)})],LS.prototype,"classList",void 0);A([I({type:US,repeated:"set"})],LS.prototype,"securityCategories",void 0);class Ep{constructor(t={}){Object.assign(this,t)}}A([I({type:qe})],Ep.prototype,"cotets",void 0);A([I({type:P.ObjectIdentifier})],Ep.prototype,"oid",void 0);A([I({type:P.Utf8String})],Ep.prototype,"string",void 0);class qN{constructor(t={}){this.values=[],Object.assign(this,t)}}A([I({type:br,implicit:!0,context:0,optional:!0})],qN.prototype,"policyAuthority",void 0);A([I({type:Ep,repeated:"sequence"})],qN.prototype,"values",void 0);var p1;class Ap{constructor(t={}){this.targetCertificate=new pa,Object.assign(this,t)}}A([I({type:pa})],Ap.prototype,"targetCertificate",void 0);A([I({type:Me,optional:!0})],Ap.prototype,"targetName",void 0);A([I({type:ga,optional:!0})],Ap.prototype,"certDigestInfo",void 0);let Fl=class{constructor(t={}){Object.assign(this,t)}};A([I({type:Me,context:0,implicit:!0})],Fl.prototype,"targetName",void 0);A([I({type:Me,context:1,implicit:!0})],Fl.prototype,"targetGroup",void 0);A([I({type:Ap,context:2,implicit:!0})],Fl.prototype,"targetCert",void 0);Fl=A([ie({type:ne.Choice})],Fl);let g1=p1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,p1.prototype)}};g1=p1=A([ie({type:ne.Sequence,itemType:Fl})],g1);var y1;let b2=y1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,y1.prototype)}};b2=y1=A([ie({type:ne.Sequence,itemType:g1})],b2);class KN{constructor(t={}){Object.assign(this,t)}}A([I({type:br,implicit:!0,context:0,optional:!0})],KN.prototype,"roleAuthority",void 0);A([I({type:Me,implicit:!0,context:1})],KN.prototype,"roleName",void 0);class PS{constructor(t={}){this.service=new Me,this.ident=new Me,Object.assign(this,t)}}A([I({type:Me})],PS.prototype,"service",void 0);A([I({type:Me})],PS.prototype,"ident",void 0);A([I({type:qe,optional:!0})],PS.prototype,"authInfo",void 0);var b1;class FS{constructor(t={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],FS.prototype,"otherCertFormat",void 0);A([I({type:P.Any})],FS.prototype,"otherCert",void 0);let Vl=class{constructor(t={}){Object.assign(this,t)}};A([I({type:pc})],Vl.prototype,"certificate",void 0);A([I({type:Cp,context:2,implicit:!0})],Vl.prototype,"v2AttrCert",void 0);A([I({type:FS,context:3,implicit:!0})],Vl.prototype,"other",void 0);Vl=A([ie({type:ne.Choice})],Vl);let Kh=b1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,b1.prototype)}};Kh=b1=A([ie({type:ne.Set,itemType:Vl})],Kh);class YN{constructor(t={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],YN.prototype,"contentType",void 0);A([I({type:P.Any,context:0})],YN.prototype,"content",void 0);let a0=class{constructor(t={}){Object.assign(this,t)}};A([I({type:qe})],a0.prototype,"single",void 0);A([I({type:P.Any})],a0.prototype,"any",void 0);a0=A([ie({type:ne.Choice})],a0);class Tp{constructor(t={}){this.eContentType="",Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],Tp.prototype,"eContentType",void 0);A([I({type:a0,context:0,optional:!0})],Tp.prototype,"eContent",void 0);let l0=class{constructor(t={}){Object.assign(this,t)}};A([I({type:qe,context:0,implicit:!0,optional:!0})],l0.prototype,"value",void 0);A([I({type:qe,converter:N$,context:0,implicit:!0,optional:!0,repeated:"sequence"})],l0.prototype,"constructedValue",void 0);l0=A([ie({type:ne.Choice})],l0);class cd{constructor(t={}){this.contentType="",this.contentEncryptionAlgorithm=new $h,Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],cd.prototype,"contentType",void 0);A([I({type:$h})],cd.prototype,"contentEncryptionAlgorithm",void 0);A([I({type:l0,optional:!0})],cd.prototype,"encryptedContent",void 0);class kp{constructor(t={}){this.keyAttrId="",Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],kp.prototype,"keyAttrId",void 0);A([I({type:P.Any,optional:!0})],kp.prototype,"keyAttr",void 0);var v1;class Ip{constructor(t={}){this.subjectKeyIdentifier=new rd,Object.assign(this,t)}}A([I({type:rd})],Ip.prototype,"subjectKeyIdentifier",void 0);A([I({type:P.GeneralizedTime,optional:!0})],Ip.prototype,"date",void 0);A([I({type:kp,optional:!0})],Ip.prototype,"other",void 0);let zl=class{constructor(t={}){Object.assign(this,t)}};A([I({type:Ip,context:0,implicit:!0,optional:!0})],zl.prototype,"rKeyId",void 0);A([I({type:gc,optional:!0})],zl.prototype,"issuerAndSerialNumber",void 0);zl=A([ie({type:ne.Choice})],zl);class VS{constructor(t={}){this.rid=new zl,this.encryptedKey=new qe,Object.assign(this,t)}}A([I({type:zl})],VS.prototype,"rid",void 0);A([I({type:qe})],VS.prototype,"encryptedKey",void 0);let Yh=v1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,v1.prototype)}};Yh=v1=A([ie({type:ne.Sequence,itemType:VS})],Yh);class zS{constructor(t={}){this.algorithm=new pe,this.publicKey=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:pe})],zS.prototype,"algorithm",void 0);A([I({type:P.BitString})],zS.prototype,"publicKey",void 0);let ea=class{constructor(t={}){Object.assign(this,t)}};A([I({type:rd,context:0,implicit:!0,optional:!0})],ea.prototype,"subjectKeyIdentifier",void 0);A([I({type:zS,context:1,implicit:!0,optional:!0})],ea.prototype,"originatorKey",void 0);A([I({type:gc,optional:!0})],ea.prototype,"issuerAndSerialNumber",void 0);ea=A([ie({type:ne.Choice})],ea);class yc{constructor(t={}){this.version=zi.v3,this.originator=new ea,this.keyEncryptionAlgorithm=new Yr,this.recipientEncryptedKeys=new Yh,Object.assign(this,t)}}A([I({type:P.Integer})],yc.prototype,"version",void 0);A([I({type:ea,context:0})],yc.prototype,"originator",void 0);A([I({type:qe,context:1,optional:!0})],yc.prototype,"ukm",void 0);A([I({type:Yr})],yc.prototype,"keyEncryptionAlgorithm",void 0);A([I({type:Yh})],yc.prototype,"recipientEncryptedKeys",void 0);let $l=class{constructor(t={}){Object.assign(this,t)}};A([I({type:rd,context:0,implicit:!0})],$l.prototype,"subjectKeyIdentifier",void 0);A([I({type:gc})],$l.prototype,"issuerAndSerialNumber",void 0);$l=A([ie({type:ne.Choice})],$l);class ud{constructor(t={}){this.version=zi.v0,this.rid=new $l,this.keyEncryptionAlgorithm=new Yr,this.encryptedKey=new qe,Object.assign(this,t)}}A([I({type:P.Integer})],ud.prototype,"version",void 0);A([I({type:$l})],ud.prototype,"rid",void 0);A([I({type:Yr})],ud.prototype,"keyEncryptionAlgorithm",void 0);A([I({type:qe})],ud.prototype,"encryptedKey",void 0);class dd{constructor(t={}){this.keyIdentifier=new qe,Object.assign(this,t)}}A([I({type:qe})],dd.prototype,"keyIdentifier",void 0);A([I({type:P.GeneralizedTime,optional:!0})],dd.prototype,"date",void 0);A([I({type:kp,optional:!0})],dd.prototype,"other",void 0);class fd{constructor(t={}){this.version=zi.v4,this.kekid=new dd,this.keyEncryptionAlgorithm=new Yr,this.encryptedKey=new qe,Object.assign(this,t)}}A([I({type:P.Integer})],fd.prototype,"version",void 0);A([I({type:dd})],fd.prototype,"kekid",void 0);A([I({type:Yr})],fd.prototype,"keyEncryptionAlgorithm",void 0);A([I({type:qe})],fd.prototype,"encryptedKey",void 0);class hd{constructor(t={}){this.version=zi.v0,this.keyEncryptionAlgorithm=new Yr,this.encryptedKey=new qe,Object.assign(this,t)}}A([I({type:P.Integer})],hd.prototype,"version",void 0);A([I({type:c1,context:0,optional:!0})],hd.prototype,"keyDerivationAlgorithm",void 0);A([I({type:Yr})],hd.prototype,"keyEncryptionAlgorithm",void 0);A([I({type:qe})],hd.prototype,"encryptedKey",void 0);class $S{constructor(t={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],$S.prototype,"oriType",void 0);A([I({type:P.Any})],$S.prototype,"oriValue",void 0);let Gs=class{constructor(t={}){Object.assign(this,t)}};A([I({type:ud,optional:!0})],Gs.prototype,"ktri",void 0);A([I({type:yc,context:1,implicit:!0,optional:!0})],Gs.prototype,"kari",void 0);A([I({type:fd,context:2,implicit:!0,optional:!0})],Gs.prototype,"kekri",void 0);A([I({type:hd,context:3,implicit:!0,optional:!0})],Gs.prototype,"pwri",void 0);A([I({type:$S,context:4,implicit:!0,optional:!0})],Gs.prototype,"ori",void 0);Gs=A([ie({type:ne.Choice})],Gs);var x1;let Wh=x1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,x1.prototype)}};Wh=x1=A([ie({type:ne.Set,itemType:Gs})],Wh);var w1;class Bp{constructor(t={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],Bp.prototype,"otherRevInfoFormat",void 0);A([I({type:P.Any})],Bp.prototype,"otherRevInfo",void 0);let Zh=class{constructor(t={}){this.other=new Bp,Object.assign(this,t)}};A([I({type:Bp,context:1,implicit:!0})],Zh.prototype,"other",void 0);Zh=A([ie({type:ne.Choice})],Zh);let Xh=w1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,w1.prototype)}};Xh=w1=A([ie({type:ne.Set,itemType:Zh})],Xh);class HS{constructor(t={}){Object.assign(this,t)}}A([I({type:Kh,context:0,implicit:!0,optional:!0})],HS.prototype,"certs",void 0);A([I({type:Xh,context:1,implicit:!0,optional:!0})],HS.prototype,"crls",void 0);var S1;let _1=S1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,S1.prototype)}};_1=S1=A([ie({type:ne.Set,itemType:ma})],_1);class md{constructor(t={}){this.version=zi.v0,this.recipientInfos=new Wh,this.encryptedContentInfo=new cd,Object.assign(this,t)}}A([I({type:P.Integer})],md.prototype,"version",void 0);A([I({type:HS,context:0,implicit:!0,optional:!0})],md.prototype,"originatorInfo",void 0);A([I({type:Wh})],md.prototype,"recipientInfos",void 0);A([I({type:cd})],md.prototype,"encryptedContentInfo",void 0);A([I({type:_1,context:1,implicit:!0,optional:!0})],md.prototype,"unprotectedAttrs",void 0);var C1;let Jh=C1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,C1.prototype)}};Jh=C1=A([ie({type:ne.Set,itemType:$i})],Jh);class bc{constructor(t={}){this.version=zi.v0,this.digestAlgorithms=new Jh,this.encapContentInfo=new Tp,this.signerInfos=new Hh,Object.assign(this,t)}}A([I({type:P.Integer})],bc.prototype,"version",void 0);A([I({type:Jh})],bc.prototype,"digestAlgorithms",void 0);A([I({type:Tp})],bc.prototype,"encapContentInfo",void 0);A([I({type:Kh,context:0,implicit:!0,optional:!0})],bc.prototype,"certificates",void 0);A([I({type:Xh,context:1,implicit:!0,optional:!0})],bc.prototype,"crls",void 0);A([I({type:Hh})],bc.prototype,"signerInfos",void 0);var E1;let v2=E1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,E1.prototype)}};v2=E1=A([ie({type:ne.Set,itemType:ma})],v2);var A1;(function(e){e[e.dataGroup1=1]="dataGroup1",e[e.dataGroup2=2]="dataGroup2",e[e.dataGroup3=3]="dataGroup3",e[e.dataGroup4=4]="dataGroup4",e[e.dataGroup5=5]="dataGroup5",e[e.dataGroup6=6]="dataGroup6",e[e.dataGroup7=7]="dataGroup7",e[e.dataGroup8=8]="dataGroup8",e[e.dataGroup9=9]="dataGroup9",e[e.dataGroup10=10]="dataGroup10",e[e.dataGroup11=11]="dataGroup11",e[e.dataGroup12=12]="dataGroup12",e[e.dataGroup13=13]="dataGroup13",e[e.dataGroup14=14]="dataGroup14",e[e.dataGroup15=15]="dataGroup15",e[e.dataGroup16=16]="dataGroup16"})(A1||(A1={}));let GS=class{constructor(t={}){re(this,"number",A1.dataGroup1);re(this,"hash",new ArrayBuffer(0));Object.assign(this,t)}};A([I({type:P.Integer})],GS.prototype,"number",void 0);A([I({type:P.OctetString})],GS.prototype,"hash",void 0);var T1;(function(e){e[e.v0=0]="v0",e[e.v1=1]="v1",e[e.v2=2]="v2"})(T1||(T1={}));let qS=class{constructor(t={}){re(this,"ldsVersion","");re(this,"unicodeVersion","");Object.assign(this,t)}};A([I({type:P.PrintableString})],qS.prototype,"ldsVersion",void 0);A([I({type:P.PrintableString})],qS.prototype,"unicodeVersion",void 0);let k1=class{constructor(t){re(this,"value","");t&&(typeof t=="string"?this.value=t:Object.assign(this,t))}};A([I({type:P.ObjectIdentifier})],k1.prototype,"value",void 0);k1=A([ie({type:ne.Choice})],k1);let Np=class{constructor(t={}){re(this,"version",T1.v1);re(this,"hashAlgorithm",new $i);re(this,"dataGroups",[]);re(this,"versionInfo");Object.assign(this,t)}};A([I({type:P.Integer})],Np.prototype,"version",void 0);A([I({type:$i})],Np.prototype,"hashAlgorithm",void 0);A([I({type:GS,repeated:"sequence"})],Np.prototype,"dataGroups",void 0);A([I({type:qS,optional:!0})],Np.prototype,"versionInfo",void 0);let Qh=class{constructor(t={}){re(this,"version",0);re(this,"certificates",[]);Object.assign(this,t)}};A([I({type:P.Integer})],Qh.prototype,"version",void 0);A([I({type:pc,repeated:"set"})],Qh.prototype,"certificates",void 0);Qh=A([ie({type:ne.Sequence})],Qh);function Zc(e){if(!e)return 0n;const t=fc(e).slice(0,31);return pH(Array.from(t))}function ef(e,t){const n=t?`${e}:chain-${t}`:e;return Zc(n)}function dG(e,t=4){const n=[];for(let r=t;r<e.length;r+=32){const i=new Uint8Array(32),s=Math.min(r+32,e.length);for(let o=0;o<s-r;o++)i[o]=e[r+o];n.push(Buffer.from(i))}return n.map(r=>r.toString("hex"))}function fG(e,t){return e.slice(0,t)}function hG(e,t){return e.slice(t)}function gy(e,t,n=4){const r=dG(Buffer.from(e,"hex"),n),i=hG(r,t),s=fG(r,t);return{proof:i,publicInputs:s.map(o=>o.startsWith("0x")?o:`0x${o}`)}}function mG(e){return BigInt(e.publicInputs[0])}function pG(e){return BigInt(e.publicInputs[1])}function gG(e){const t=e.publicInputs.slice(2,10).map(r=>Number(r)-48).map(r=>r.toString());return sd(t.join(""))}function x2(e){return BigInt(e.publicInputs[10])}function w2(e){return BigInt(e.publicInputs[11])}function yG(e){return BigInt(e.publicInputs[e.publicInputs.length-1])}function bG(e){return e.publicInputs.slice(12,e.publicInputs.length-1).map(BigInt)}if(typeof window>"u")try{const e=require("crypto");crypto=e}catch{}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function WN(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Jt(e,...t){if(!WN(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function em(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ZN(e,t){Jt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function vG(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function Bi(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Hi(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function jp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const xG=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,wG=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",SG=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tm(e){if(Jt(e),wG)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=SG[e[n]];return t}function XN(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function c0(e){if(typeof e=="string")e=XN(e);else if(WN(e))e=u0(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function _G(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const CG=(e,t)=>{function n(r,...i){if(Jt(r),!xG)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");e.varSizeNonce?Jt(u):Jt(u,e.nonceLength)}const s=e.tagLength;s&&i[1]!==void 0&&Jt(i[1]);const o=t(r,...i),a=(u,d)=>{if(d!==void 0){if(u!==2)throw new Error("cipher output not supported");Jt(d)}};let l=!1;return{encrypt(u,d){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Jt(u),a(o.encrypt.length,d),o.encrypt(u,d)},decrypt(u,d){if(Jt(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,d),o.decrypt(u,d)}}}return Object.assign(n,e),n};function EG(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!nm(t))throw new Error("invalid output, must be aligned");return t}function I1(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=0,c=4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)}function AG(e,t,n){const r=new Uint8Array(16),i=jp(r);return I1(i,0,BigInt(t),n),I1(i,8,BigInt(e),n),r}function nm(e){return e.byteOffset%4===0}function u0(e){return Uint8Array.from(e)}const TG="en",kG={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:["People's Republic of China","China"],CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:["Republic of the Congo","Congo"],CD:["Democratic Republic of the Congo","Congo"],CK:"Cook Islands",CR:"Costa Rica",CI:["Cote d'Ivoire","Côte d'Ivoire","Ivory Coast"],HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:["Czech Republic","Czechia"],DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:["Republic of The Gambia","The Gambia","Gambia"],GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:["Islamic Republic of Iran","Iran"],IQ:"Iraq",IE:"Ireland",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"North Korea",KR:["South Korea","Korea, Republic of","Republic of Korea"],KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:["Netherlands","The Netherlands","Netherlands (Kingdom of the)"],NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MK:["The Republic of North Macedonia","North Macedonia"],MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:["State of Palestine","Palestine"],PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:["Pitcairn","Pitcairn Islands"],PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:["Russian Federation","Russia"],RW:"Rwanda",SH:"Saint Helena",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Eswatini",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:["Taiwan, Province of China","Taiwan"],TJ:"Tajikistan",TZ:["United Republic of Tanzania","Tanzania"],TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:["Türkiye","Turkey"],TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:["United Arab Emirates","UAE"],GB:["United Kingdom","UK","Great Britain"],US:["United States of America","United States","USA","U.S.A.","US","U.S."],UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Vietnam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe",AX:["Åland Islands","Aland Islands"],BQ:"Bonaire, Sint Eustatius and Saba",CW:"Curaçao",GG:"Guernsey",IM:"Isle of Man",JE:"Jersey",ME:"Montenegro",BL:"Saint Barthélemy",MF:"Saint Martin (French part)",RS:"Serbia",SX:"Sint Maarten (Dutch part)",SS:"South Sudan",XK:"Kosovo"},IG={locale:TG,countries:kG},BG=[{type:"constructor",inputs:[{name:"_rootRegistry",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"CERTIFICATE_REGISTRY_ID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"CIRCUIT_REGISTRY_ID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"addCertificateRegistryRoot",inputs:[{name:"certificateRegistryRoot",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"addVerifiers",inputs:[{name:"vkeyHashes",type:"bytes32[]",internalType:"bytes32[]"},{name:"verifiers",type:"address[]",internalType:"address[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"admin",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getAgeProofInputs",inputs:[{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"currentDate",type:"uint256",internalType:"uint256"},{name:"minAge",type:"uint8",internalType:"uint8"},{name:"maxAge",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"getBindProofInputs",inputs:[{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"data",type:"bytes",internalType:"bytes"}],stateMutability:"pure"},{type:"function",name:"getBoundData",inputs:[{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"senderAddress",type:"address",internalType:"address"},{name:"customData",type:"string",internalType:"string"}],stateMutability:"pure"},{type:"function",name:"getCountryProofInputs",inputs:[{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"},{name:"proofType",type:"uint8",internalType:"enum ProofType"}],outputs:[{name:"countryList",type:"string[]",internalType:"string[]"}],stateMutability:"pure"},{type:"function",name:"getDateProofInputs",inputs:[{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"},{name:"proofType",type:"uint8",internalType:"enum ProofType"}],outputs:[{name:"currentDate",type:"uint256",internalType:"uint256"},{name:"minDate",type:"uint256",internalType:"uint256"},{name:"maxDate",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"getDiscloseProofInputs",inputs:[{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"discloseMask",type:"bytes",internalType:"bytes"},{name:"discloseBytes",type:"bytes",internalType:"bytes"}],stateMutability:"pure"},{type:"function",name:"getDisclosedData",inputs:[{name:"discloseBytes",type:"bytes",internalType:"bytes"},{name:"isIDCard",type:"bool",internalType:"bool"}],outputs:[{name:"name",type:"string",internalType:"string"},{name:"issuingCountry",type:"string",internalType:"string"},{name:"nationality",type:"string",internalType:"string"},{name:"gender",type:"string",internalType:"string"},{name:"birthDate",type:"string",internalType:"string"},{name:"expiryDate",type:"string",internalType:"string"},{name:"documentNumber",type:"string",internalType:"string"},{name:"documentType",type:"string",internalType:"string"}],stateMutability:"pure"},{type:"function",name:"isValidCertificateRegistryRoot",inputs:[{name:"",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"removeCertificateRegistryRoot",inputs:[{name:"certificateRegistryRoot",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"removeVerifiers",inputs:[{name:"vkeyHashes",type:"bytes32[]",internalType:"bytes32[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"rootRegistry",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IRootRegistry"}],stateMutability:"view"},{type:"function",name:"setPaused",inputs:[{name:"_paused",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferAdmin",inputs:[{name:"newAdmin",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateRootRegistry",inputs:[{name:"_rootRegistry",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"verifyProof",inputs:[{name:"params",type:"tuple",internalType:"struct ProofVerificationParams",components:[{name:"vkeyHash",type:"bytes32",internalType:"bytes32"},{name:"proof",type:"bytes",internalType:"bytes"},{name:"publicInputs",type:"bytes32[]",internalType:"bytes32[]"},{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"},{name:"validityPeriodInDays",type:"uint256",internalType:"uint256"},{name:"domain",type:"string",internalType:"string"},{name:"scope",type:"string",internalType:"string"},{name:"devMode",type:"bool",internalType:"bool"}]}],outputs:[{name:"",type:"bool",internalType:"bool"},{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"verifyScopes",inputs:[{name:"publicInputs",type:"bytes32[]",internalType:"bytes32[]"},{name:"domain",type:"string",internalType:"string"},{name:"scope",type:"string",internalType:"string"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"vkeyHashToVerifier",inputs:[{name:"",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"AdminUpdated",inputs:[{name:"oldAdmin",type:"address",indexed:!0,internalType:"address"},{name:"newAdmin",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"CertificateRegistryRootAdded",inputs:[{name:"certificateRegistryRoot",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"CertificateRegistryRootRemoved",inputs:[{name:"certificateRegistryRoot",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"PausedStatusChanged",inputs:[{name:"paused",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"VerifierAdded",inputs:[{name:"vkeyHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"verifier",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"VerifierRemoved",inputs:[{name:"vkeyHash",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"ZKPassportVerifierDeployed",inputs:[{name:"admin",type:"address",indexed:!0,internalType:"address"},{name:"timestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],NG={abi:BG};class at{constructor(t){re(this,"bytes");this.bytes=at.convertToBytes(t)}static convertToBytes(t){var n,r;if(typeof t=="bigint"||typeof t=="number"){const i=t.toString(16),s=i.padStart(Math.ceil(i.length/2)*2,"0");return new Uint8Array(((n=s.match(/.{1,2}/g))==null?void 0:n.map(o=>parseInt(o,16)))||[])}if(t instanceof Uint8Array)return new Uint8Array(t);if(Buffer.isBuffer(t))return new Uint8Array(t);if(Array.isArray(t)){if(!t.every(i=>typeof i=="number"&&i>=0&&i<=255))throw new Error("Invalid byte array: values must be between 0 and 255");return new Uint8Array(t)}if(t instanceof ArrayBuffer)return new Uint8Array(t);if(typeof t=="string"){if(at.isHexString(t)){const i=t.startsWith("0x")?t.slice(2):t,s=i.padStart(Math.ceil(i.length/2)*2,"0");return new Uint8Array(((r=s.match(/.{1,2}/g))==null?void 0:r.map(o=>parseInt(o,16)))||[])}try{const i=BigInt(t);return at.convertToBytes(i)}catch{return new Uint8Array(Buffer.from(t,"ascii"))}}throw new Error("Unsupported data type")}static isHexString(t){const n=t.startsWith("0x")?t.slice(2):t;return/^[0-9a-fA-F]*$/.test(n)}static from(t){return new at(t)}static fromHex(t){if(!at.isHexString(t))throw new Error("Invalid hex string");return new at(t.startsWith("0x")?t:"0x"+t)}static fromBuffer(t){return new at(t)}static fromBase64(t){const n=atob(t);return new at(Uint8Array.from(n,r=>r.charCodeAt(0)))}static empty(){return new at(new Uint8Array(0))}static zero(t){return new at(new Uint8Array(t))}toBigInt(){return BigInt("0x"+this.toHex().slice(2))}toUInt8Array(){return new Uint8Array(this.bytes)}toNumberArray(){return Array.from(this.bytes)}toHex(){return"0x"+Array.from(this.bytes).map(t=>t.toString(16).padStart(2,"0")).join("")}toBuffer(){return Buffer.from(this.bytes)}toString(t="hex"){return t==="hex"?this.toHex().slice(2):Buffer.from(this.bytes).toString(t)}toBase64(){return btoa(String.fromCharCode(...this.bytes))}toJSON(){return this.toHex()}[Symbol.for("nodejs.util.inspect.custom")](){return`Binary(${this.toHex()})`}[Symbol.toPrimitive](t){switch(t){case"number":return Number(this.toBigInt());case"string":return`Binary(${this.toHex()})`;default:return this.toBigInt()}}valueOf(){return this.toBigInt()}get length(){return this.bytes.length}*[Symbol.iterator](){yield*this.bytes}equals(t){return this.length!==t.length?!1:this.bytes.every((n,r)=>n===t.bytes[r])}slice(t,n){return new at(this.bytes.slice(t,n))}concat(t){return new at([...this.toNumberArray(),...t.toNumberArray()])}[Symbol.for("+")](t){return this.concat(t)}compare(t){const n=Math.min(this.length,t.length);for(let r=0;r<n;r++){const i=this.bytes[r]-t.bytes[r];if(i!==0)return i}return this.length-t.length}xor(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for XOR operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]^t.bytes[r];return new at(n)}and(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for AND operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]&t.bytes[r];return new at(n)}or(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for OR operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]|t.bytes[r];return new at(n)}not(){const t=new Uint8Array(this.length);for(let n=0;n<this.length;n++)t[n]=~this.bytes[n]&255;return new at(t)}padStart(t,n=0){if(this.length>=t)return this;const r=new Uint8Array(t);return r.fill(n,0,t-this.length),r.set(this.bytes,t-this.length),new at(r)}padEnd(t,n=0){if(this.length>=t)return this;const r=new Uint8Array(t);return r.set(this.bytes),r.fill(n,this.length),new at(r)}}function yy(e,t){if(!e)throw new Error(t)}function S2(e,t){if(e.length===0)return[];const n=Math.ceil(e.length/t),r=new Array(n),i=e.length%t||t;let s=0;for(let o=n-1;o>=0;o--){const a=o===n-1?i:t;let l=0n;for(let u=0;u<a;u++)l=l<<8n|BigInt(e[s++]);const c=l.toString(16);r[o]="0x"+(c.length%2?"0":"")+c}return r}function ka(e,t){const n=e.bytes.slice(0,t);return e.bytes=e.bytes.slice(t),{bytes:n}}function lo(e){return"0x"+Buffer.from(e).toString("hex").padStart(64,"0")}function jG(e){const t=[],n={bytes:e},r=ka(n,8);t.push(lo(r.bytes)),ka(n,8);const i=ka(n,8);t.push(lo(i.bytes));const s=ka(n,8);t.push(lo(s.bytes));const o=n.bytes.slice(0,1);if(o[0]===0||o[0]===1){ka(n,1),t.push(lo(o));for(let l=0;l<64;l+=4){const c=ka(n,4);t.push(lo(c.bytes))}}else for(let l=0;l<17;l++)t.push("0x"+"0".repeat(64));const a=n.bytes;for(let l=0;l<a.length;l+=32){const c=a.slice(l,l+32);if(c.length===0)break;t.push(lo(c.slice(15,32))),t.push(lo(c.slice(0,15)))}return t}var _2;(function(e){e[e.USER_ADDRESS=1]="USER_ADDRESS",e[e.CUSTOM_DATA=2]="CUSTOM_DATA"})(_2||(_2={}));var C2;(function(e){e[e.DISCLOSE=0]="DISCLOSE",e[e.AGE=1]="AGE",e[e.BIRTHDATE=2]="BIRTHDATE",e[e.EXPIRY_DATE=3]="EXPIRY_DATE",e[e.NATIONALITY_INCLUSION=4]="NATIONALITY_INCLUSION",e[e.NATIONALITY_EXCLUSION=5]="NATIONALITY_EXCLUSION",e[e.ISSUING_COUNTRY_INCLUSION=6]="ISSUING_COUNTRY_INCLUSION",e[e.ISSUING_COUNTRY_EXCLUSION=7]="ISSUING_COUNTRY_EXCLUSION",e[e.BIND=8]="BIND"})(C2||(C2={}));var B1;let E2=B1=class extends et{constructor(t){super(t),Object.setPrototypeOf(this,B1.prototype)}};E2=B1=A([ie({type:ne.Set,itemType:ma})],E2);var N1;(function(e){e[e.dataGroup1=1]="dataGroup1",e[e.dataGroup2=2]="dataGroup2",e[e.dataGroup3=3]="dataGroup3",e[e.dataGroup4=4]="dataGroup4",e[e.dataGroup5=5]="dataGroup5",e[e.dataGroup6=6]="dataGroup6",e[e.dataGroup7=7]="dataGroup7",e[e.dataGroup8=8]="dataGroup8",e[e.dataGroup9=9]="dataGroup9",e[e.dataGroup10=10]="dataGroup10",e[e.dataGroup11=11]="dataGroup11",e[e.dataGroup12=12]="dataGroup12",e[e.dataGroup13=13]="dataGroup13",e[e.dataGroup14=14]="dataGroup14",e[e.dataGroup15=15]="dataGroup15",e[e.dataGroup16=16]="dataGroup16"})(N1||(N1={}));class KS{constructor(t={}){re(this,"number",N1.dataGroup1);re(this,"hash",new ArrayBuffer(0));Object.assign(this,t)}}A([I({type:P.Integer})],KS.prototype,"number",void 0);A([I({type:P.OctetString})],KS.prototype,"hash",void 0);var j1;(function(e){e[e.v0=0]="v0",e[e.v1=1]="v1",e[e.v2=2]="v2"})(j1||(j1={}));class YS{constructor(t={}){re(this,"ldsVersion","");re(this,"unicodeVersion","");Object.assign(this,t)}}A([I({type:P.PrintableString})],YS.prototype,"ldsVersion",void 0);A([I({type:P.PrintableString})],YS.prototype,"unicodeVersion",void 0);let R1=class{constructor(t){re(this,"value","");t&&(typeof t=="string"?this.value=t:Object.assign(this,t))}};A([I({type:P.ObjectIdentifier})],R1.prototype,"value",void 0);R1=A([ie({type:ne.Choice})],R1);class Rp{constructor(t={}){re(this,"version",j1.v1);re(this,"hashAlgorithm",new $i);re(this,"dataGroups",[]);re(this,"versionInfo");Object.assign(this,t)}}A([I({type:P.Integer})],Rp.prototype,"version",void 0);A([I({type:$i})],Rp.prototype,"hashAlgorithm",void 0);A([I({type:KS,repeated:"sequence"})],Rp.prototype,"dataGroups",void 0);A([I({type:YS,optional:!0})],Rp.prototype,"versionInfo",void 0);let rm=class{constructor(t={}){re(this,"version",0);re(this,"certificates",[]);Object.assign(this,t)}};A([I({type:P.Integer})],rm.prototype,"version",void 0);A([I({type:pc,repeated:"set"})],rm.prototype,"certificates",void 0);rm=A([ie({type:ne.Sequence})],rm);class JN{constructor(t,n=2){re(this,"nodes");re(this,"zeroes");re(this,"depth");re(this,"arity");this.depth=t,this.arity=n,this.zeroes=[],this.nodes=[]}get root(){return`0x${this.nodes[this.depth][0].toString(16).padStart(64,"0")}`}get leaves(){return this.nodes[0].slice()}async initialize(t,n=[]){if(n.length>this.arity**this.depth)throw new Error(`The tree cannot contain more than ${this.arity**this.depth} leaves`);if(new Set(n.map(i=>i.toString())).size!==n.length)throw new Error("Duplicate leaves");for(let i=0;i<this.depth;i+=1)this.zeroes.push(t),this.nodes[i]=[],t=await Fi(Array(this.arity).fill(t).map(s=>BigInt(s)));if(this.nodes[this.depth]=[],n.length>0){this.nodes[0]=n;for(let i=0;i<this.depth;i+=1)for(let s=0;s<Math.ceil(this.nodes[i].length/this.arity);s+=1){const o=s*this.arity,a=[];for(let l=0;l<this.arity;l+=1)a.push(this.nodes[i][o+l]??this.zeroes[i]);this.nodes[i+1][s]=await Fi(a.map(l=>BigInt(l)))}}else this.nodes[this.depth][0]=t}serialize(){return this.nodes.map(t=>t.map(n=>`0x${n.toString(16).padStart(64,"0")}`))}}const RG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",OG=34,A2=[18,32];function DG(e){if(!(e instanceof Uint8Array))throw new Error("Input must be a Uint8Array");if(e.length===0)return"";let t=0;for(;t<e.length&&e[t]===0;)t++;let n=BigInt(0);for(let s=t;s<e.length;s++)n=n*BigInt(256)+BigInt(e[s]);let r="";for(;n>0n;){const s=Number(n%BigInt(58));r=RG[s]+r,n=n/BigInt(58)}return"1".repeat(t)+r}function T2(e){if(!e||typeof e!="string")throw new Error("Input must be a non-empty hex string");if(!e.match(/^(0x)?[0-9a-fA-F]+$/i))throw new Error("Invalid hex string format");e=e.startsWith("0x")?e.substring(2):e,e.length>64?e=e.substring(e.length-64):e.length<64&&(e=e.padStart(64,"0"));const t=new Uint8Array(OG);t[0]=A2[0],t[1]=A2[1];for(let n=0;n<e.length;n+=2){const r=parseInt(e.substring(n,n+2),16);t[2+n/2]=r}return DG(t)}const MG=16,UG=12,LG=1,PG=2,FG=3,VG=4,zG=5,$G=1,HG=["ICAO","DE","NL","IT","ES"],co=1,uo=2;function GG(e){let t=0n;for(const n of e){const r=HG.indexOf(n);if(r===-1)throw new Error(`Invalid tag: ${n}`);t|=0xffn<<BigInt(r*8)}return t}function qG(e){const t={"SHA-1":LG,"SHA-224":VG,"SHA-256":PG,"SHA-384":FG,"SHA-512":zG};if(t[e]===void 0)throw new Error(`Unsupported hash algorithm: ${e}`);return t[e]}function KG(e){if(e.type==="RSA")return at.from(e.modulus).toUInt8Array();if(e.type==="EC")return at.from(e.public_key_x).concat(at.from(e.public_key_y)).toUInt8Array();throw new Error("Unsupported signature algorithm")}async function YG(e,t){var o;const n=e!=null&&e.tags?GG(e.tags):0n,r=$G;yy(r<=255,`Certificate type must fit in a single byte: ${r}`),yy(((o=e==null?void 0:e.country)==null?void 0:o.length)===3,`Country code must be 3 characters: ${e==null?void 0:e.country}`);const i=qG(e==null?void 0:e.hash_algorithm);yy(i>=0&&i<=255,`Hash algorithm identifier must fit in a single byte: ${i}`);const s=KG(e.public_key);return Fi([n,BigInt(S2(new Uint8Array([r,e.country.charCodeAt(0),e.country.charCodeAt(1),e.country.charCodeAt(2),i]),31)[0]),...S2(s,31).map(a=>BigInt(a))])}async function WG(e){const t=await Promise.all(e.map(n=>YG(n)));return t.sort((n,r)=>n>r?1:n<r?-1:0),t}async function ZG(e){const t=await WG(e),n=new JN(MG,2);return await n.initialize(0n,t),n}async function XG(e){let t;if(e.circuits!==void 0)t=e.circuits.map(r=>BigInt(r.vkey_hash));else if(e.hashes!==void 0)t=e.hashes.map(r=>BigInt(r));else throw new Error("Either circuits or hashes must be provided");t.sort((r,i)=>r>i?1:r<i?-1:0);const n=new JN(UG,2);return await n.initialize(0n,t),n.root}if(typeof window>"u")try{const e=require("crypto");crypto=e}catch{}var O1={exports:{}},by,k2;function JG(){if(k2)return by;k2=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,s=r*365.25;by=function(u,d){d=d||{};var h=typeof u;if(h==="string"&&u.length>0)return o(u);if(h==="number"&&isFinite(u))return d.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var h=parseFloat(d[1]),m=(d[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(u){var d=Math.abs(u);return d>=r?Math.round(u/r)+"d":d>=n?Math.round(u/n)+"h":d>=t?Math.round(u/t)+"m":d>=e?Math.round(u/e)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=r?c(u,d,r,"day"):d>=n?c(u,d,n,"hour"):d>=t?c(u,d,t,"minute"):d>=e?c(u,d,e,"second"):u+" ms"}function c(u,d,h,m){var x=d>=h*1.5;return Math.round(u/h)+" "+m+(x?"s":"")}return by}function QG(e){n.debug=n,n.default=n,n.coerce=l,n.disable=o,n.enable=i,n.enabled=a,n.humanize=JG(),n.destroy=c,Object.keys(e).forEach(u=>{n[u]=e[u]}),n.names=[],n.skips=[],n.formatters={};function t(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){let d,h=null,m,x;function y(..._){if(!y.enabled)return;const g=y,b=Number(new Date),p=b-(d||b);g.diff=p,g.prev=d,g.curr=b,d=b,_[0]=n.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let C=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(N,k)=>{if(N==="%%")return"%";C++;const j=n.formatters[k];if(typeof j=="function"){const D=_[C];N=j.call(g,D),_.splice(C,1),C--}return N}),n.formatArgs.call(g,_),(g.log||n.log).apply(g,_)}return y.namespace=u,y.useColors=n.useColors(),y.color=n.selectColor(u),y.extend=r,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(m!==n.namespaces&&(m=n.namespaces,x=n.enabled(u)),x),set:_=>{h=_}}),typeof n.init=="function"&&n.init(y),y}function r(u,d){const h=n(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function i(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];const d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h of d)h[0]==="-"?n.skips.push(h.slice(1)):n.names.push(h)}function s(u,d){let h=0,m=0,x=-1,y=0;for(;h<u.length;)if(m<d.length&&(d[m]===u[h]||d[m]==="*"))d[m]==="*"?(x=m,y=h,m++):(h++,m++);else if(x!==-1)m=x+1,y++,h=y;else return!1;for(;m<d.length&&d[m]==="*";)m++;return m===d.length}function o(){const u=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),u}function a(u){for(const d of n.skips)if(s(u,d))return!1;for(const d of n.names)if(s(u,d))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var eq=QG;(function(e,t){var n={};t.formatArgs=i,t.save=s,t.load=o,t.useColors=r,t.storage=a(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,h=0;c[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(d++,m==="%c"&&(h=d))}),c.splice(h,0,u)}t.log=console.debug||console.log||(()=>{});function s(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function o(){let c;try{c=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function a(){try{return localStorage}catch{}}e.exports=eq(t);const{formatters:l}=e.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(O1,O1.exports);var tq=O1.exports;const d0=ym(tq);function hi(e){return e.startsWith("0x")?e.slice(2):e}function fr(e){return typeof e=="bigint"?`0x${e.toString(16).toLowerCase().padStart(64,"0")}`:`0x${hi(e).toLowerCase().padStart(64,"0")}`}const nq="https://certificates.zkpassport.id/mainnet",rq="https://certificates.zkpassport.id/sepolia",iq="http://localhost:3000/certificates",vy=(e,t,n)=>n?`https://ipfs.infura.io/ipfs/${n}`:(t=fr(t),e===1?`${nq}/${t}.json`:e===11155111?`${rq}/${t}.json`:`${iq}/${t}.json`),D1="https://circuits2.zkpassport.id/mainnet",M1="https://circuits2.zkpassport.id/sepolia",U1="http://localhost:3000",xy=(e,{root:t,version:n,cid:r})=>{if(t)return t=fr(t),e===1?`${D1}/by-root/${t}/manifest.json`:e===11155111?`${M1}/by-root/${t}/manifest.json`:`${U1}/by-root/${t}/manifest.json`;if(n)return e===1?`${D1}/by-version/${n}/manifest.json`:e===11155111?`${M1}/by-version/${n}/manifest.json`:`${U1}/by-version/${n}/manifest.json`;if(r)return`https://ipfs.infura.io/ipfs/${r}`;throw new Error("No root, version or cid provided")},wy=(e,t,n)=>n?`https://ipfs.infura.io/ipfs/${n}`:(t=fr(t),e===1?`${D1}/by-hash/${t}.json`:e===11155111?`${M1}/by-hash/${t}.json`:`${U1}/by-hash/${t}.json`),tf=100,I2="0xc3bc16e8",B2="0x06ac4103",N2="0xcb0c82c7",j2="0x76785af8",sq="0x5d8d57a6",R2="0xbb3dd539",O2="0x83578c11",ct=d0("zkpassport:registry"),oq={1:{rpcUrl:"https://eth-mainnet.g.alchemy.com/v2/in6UjcATST36yyKuk83yb1yukKs65u8G",rootRegistry:"0x0000000000000000000000000000000000000000",registryHelper:"0x0000000000000000000000000000000000000000",packagedCertsUrlGenerator:vy,circuitManifestUrlGenerator:xy,packagedCircuitUrlGenerator:wy},11155111:{rpcUrl:"https://eth-sepolia.g.alchemy.com/v2/in6UjcATST36yyKuk83yb1yukKs65u8G",rootRegistry:"0xB6bF4a45D5Ed1363C45BD0e4cbaDCcd48F8D3FaB",registryHelper:"0x5b3318632f71ba1017cca8f995aac33a847ef127",packagedCertsUrlGenerator:vy,circuitManifestUrlGenerator:xy,packagedCircuitUrlGenerator:wy},31337:{rpcUrl:"http://localhost:8545",rootRegistry:"0x5FbDB2315678afecb367f032d93F642f64180aa3",registryHelper:"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",packagedCertsUrlGenerator:vy,circuitManifestUrlGenerator:xy,packagedCircuitUrlGenerator:wy}};class Iu{constructor({rpcUrl:t,rootRegistry:n,chainId:r,registryHelper:i,packagedCertsUrlGenerator:s,circuitManifestUrlGenerator:o,packagedCircuitUrlGenerator:a}={}){re(this,"chainId");re(this,"rpcUrl");re(this,"rootRegistry");re(this,"registryHelper");re(this,"packagedCertsUrlGenerator");re(this,"circuitManifestUrlGenerator");re(this,"packagedCircuitUrlGenerator");if(r===void 0)throw new Error("chainId is required");this.chainId=r;const l=oq[r];this.rpcUrl=t||(l==null?void 0:l.rpcUrl),this.rootRegistry=n||(l==null?void 0:l.rootRegistry),this.registryHelper=i||(l==null?void 0:l.registryHelper),this.packagedCertsUrlGenerator=s||(l==null?void 0:l.packagedCertsUrlGenerator),this.circuitManifestUrlGenerator=o||(l==null?void 0:l.circuitManifestUrlGenerator),this.packagedCircuitUrlGenerator=a||(l==null?void 0:l.packagedCircuitUrlGenerator)}async getLatestCertificateRoot(){ct("Getting latest certificate root",{registry:this.rootRegistry});const t=await this.rpcRequest(this.rootRegistry,I2+co.toString(16).padStart(64,"0"));if(!t.ok)throw new Error(`Failed to get latest certificate root: ${t.status} ${t.statusText}`);const n=await t.json();if(n.error)throw new Error(`Error from blockchain: ${n.error.message}`);return ct(`Got latest certificates root: ${n.result}`),n.result}async isCertificateRootValid(t){t=fr(t);const n=await this.rpcRequest(this.rootRegistry,O2+co.toString(16).padStart(64,"0")+hi(t));if(!n.ok)throw new Error(`Error checking if certificate root is valid: ${n.status} ${n.statusText}`);const r=await n.json();if(r.error)throw new Error(`Error from blockchain: ${r.error.message}`);return parseInt(hi(r.result))===1}async getCertificates(t,{validate:n=!0,ipfs:r=!1}={}){var a;if(t?t=fr(t):t=await this.getLatestCertificateRoot(),r)throw new Error("IPFS flag not implemented");const i=this.packagedCertsUrlGenerator(this.chainId,t);ct("Getting certificates from:",i);const s=await fetch(i);if(!s.ok)throw new Error(`Failed to get certificates for root ${t}: ${s.status} ${s.statusText}`);const o=await s.json();if(ct(`Got ${((a=o.certificates)==null?void 0:a.length)||0} packaged certificates`),!o.certificates||!Array.isArray(o.certificates))throw new Error("Invalid certificates returned");if(!o.serialised||!Array.isArray(o.serialised))throw new Error("Invalid serialised certificates tree returned");if(n&&!await this.validateCertificates(o.certificates,t))throw new Error(`Validation failed for packaged certificates: ${t}`);return o}async validateCertificates(t,n){try{const{root:r}=await ZG(t),i=n.startsWith("0x")?n:`0x${n}`,s=r.toLowerCase()===i.toLowerCase();return ct(s?`Validated packaged certificates against root ${r}`:`Error validating packaged certificates. Expected: ${i} Got: ${r}`),s}catch(r){return console.error("Error validating circuit manifest:",r),!1}}async getHistoricalCertificateRoots(t,n=tf){if(!this.registryHelper)throw new Error("Historical roots helper address not configured");const r=typeof t=="string"?hi(t):t??1,i=typeof r=="number"?`${B2}${co.toString(16).padStart(64,"0")}${r.toString(16).padStart(64,"0")}${n.toString(16).padStart(64,"0")}`:`${N2}${co.toString(16).padStart(64,"0")}${r.padStart(64,"0")}${n.toString(16).padStart(64,"0")}`;try{const s=await this.rpcRequest(this.registryHelper,i);return this._handleHistoricalRootsResponse(s)}catch(s){throw s instanceof Error?s:new Error(String(s))}}async getAllHistoricalCertificateRoots(t=tf,n){if(!this.registryHelper)throw new Error("Historical roots helper address is not configured");let r=0,i=!1,s=1;const o=[];for(;!i;){const{roots:a,isLastPage:l}=await this.getHistoricalCertificateRoots(s,t);if(o.push(...a),i=l,r++,a.length>0&&(s+=a.length),n&&n(r,a,o.length,i),a.length===0)break}return o}async getCertificateRootDetails(t){if(t){ct("Getting certificate root details");const r=await this.rpcRequest(this.registryHelper,R2+co.toString(16).padStart(64,"0")+hi(t).padStart(64,"0"));if(!r.ok)throw new Error(`Failed to get certificate root details: ${r.status} ${r.statusText}`);return this._handleRootDetailsResponse(r)}ct("Getting latest certificate root details");const n=await this.rpcRequest(this.registryHelper,j2+co.toString(16).padStart(64,"0"));if(!n.ok)throw new Error(`Failed to get latest certificate root details: ${n.status} ${n.statusText}`);return this._handleRootDetailsResponse(n)}async getLatestCircuitRoot(){ct("Getting latest circuit root",{registry:this.rootRegistry});const t=await this.rpcRequest(this.rootRegistry,I2+uo.toString(16).padStart(64,"0"));if(!t.ok)throw new Error(`Failed to get latest circuit root: ${t.status} ${t.statusText}`);const n=await t.json();if(n.error)throw new Error(`Error from blockchain: ${n.error.message}`);return ct(`Got latest circuit root: ${n.result}`),n.result}async isCircuitRootValid(t){t=fr(t);const n=await this.rpcRequest(this.rootRegistry,O2+uo.toString(16).padStart(64,"0")+hi(t));if(!n.ok)throw new Error(`Error checking if circuit root is valid: ${n.status} ${n.statusText}`);const r=await n.json();if(r.error)throw new Error(`Error from blockchain: ${r.error.message}`);return parseInt(hi(r.result))===1}async getCircuitManifest(t,{validate:n=!0,ipfs:r=!1,version:i=void 0}={}){if(!t&&!i?t=await this.getLatestCircuitRoot():t&&(t=fr(t)),r)throw new Error("IPFS flag not implemented");const s=this.circuitManifestUrlGenerator(this.chainId,{root:t,version:i});ct("Getting circuit manifest from:",s);const o=await fetch(s);if(!o.ok)throw new Error(`Failed to get circuit manifest for root ${t}: ${o.status} ${o.statusText}`);const a=await o.json();if(!a.version||!a.root||!a.circuits)throw new Error("Invalid circuit manifest returned");if(ct(`Got circuit manifest for root ${t}`),n&&!await this.validateCircuitManifest(a,t))throw new Error(`Validation failed for circuit manifest: ${t}`);return a}async validateCircuitManifest(t,n){try{const r=Object.values(t.circuits).map(a=>a.hash),i=fr(await XG({hashes:r})),s=fr(n||t.root),o=i.toLowerCase()===s.toLowerCase();return ct(o?`Validated circuit manifest against root ${i}`:`Error validating circuit manifest. Expected: ${s} Got: ${i}`),o}catch(r){return console.error("Error validating circuit manifest:",r),!1}}static async validatePackagedCircuit(t,n){const r=fr(n||t.vkey_hash),i=jG(at.fromBase64(t.vkey).toUInt8Array()),s=fr((await Fi(i.map(BigInt))).toString(16)),o=s===r;return ct(o?`Validated packaged circuit against hash ${r}`:`Error validating packaged circuit. Expected: ${r} Got: ${s}`),o}async getPackagedCircuit(t,n,{validate:r=!0,ipfs:i=!1}={}){var c;if(i)throw new Error("IPFS flag not implemented");const s=((c=n.circuits[t])==null?void 0:c.hash)||null;if(!s)throw new Error(`Circuit ${t} not found in manifest`);const o=this.packagedCircuitUrlGenerator(this.chainId,s);ct("Getting packaged circuit from:",o);const a=await fetch(o);if(!a.ok)throw new Error(`Failed to get packaged circuit for ${t}: ${a.status} ${a.statusText}`);const l=await a.json();if(!l.name||!l.hash||!l.noir_version||!l.bb_version)throw new Error(`Invalid packaged circuit returned for ${t}`);if(ct(`Got packaged circuit for ${t}`),r&&!await Iu.validatePackagedCircuit(l,s))throw new Error(`Validation failed for packaged circuit: ${t}`);return l}async getHistoricalCircuitRoots(t,n=tf){if(!this.registryHelper)throw new Error("Historical roots helper address not configured");const r=typeof t=="string"?hi(t):t??1,i=typeof r=="number"?`${B2}${uo.toString(16).padStart(64,"0")}${r.toString(16).padStart(64,"0")}${n.toString(16).padStart(64,"0")}`:`${N2}${uo.toString(16).padStart(64,"0")}${r.padStart(64,"0")}${n.toString(16).padStart(64,"0")}`;try{const s=await this.rpcRequest(this.registryHelper,i);return this._handleHistoricalRootsResponse(s)}catch(s){throw s instanceof Error?s:new Error(String(s))}}async getAllHistoricalCircuitRoots(t=tf,n){if(!this.registryHelper)throw new Error("Historical roots helper address is not configured");let r=0,i=!1,s=1;const o=[];for(;!i;){const{roots:a,isLastPage:l}=await this.getHistoricalCircuitRoots(s,t);if(o.push(...a),i=l,r++,a.length>0&&(s+=a.length),n&&n(r,a,o.length,i),a.length===0)break}return o}async getCircuitRootDetails(t){if(t){ct("Getting circuit root details");const r=await this.rpcRequest(this.registryHelper,R2+uo.toString(16).padStart(64,"0")+hi(t).padStart(64,"0"));if(!r.ok)throw new Error(`Failed to get circuit root details: ${r.status} ${r.statusText}`);return this._handleRootDetailsResponse(r)}ct("Getting latest circuit root details");const n=await this.rpcRequest(this.registryHelper,j2+uo.toString(16).padStart(64,"0"));if(!n.ok)throw new Error(`Failed to get latest circuit root details: ${n.status} ${n.statusText}`);return this._handleRootDetailsResponse(n)}async getRegistryAddress(t){ct(`Getting registry address for ID ${t} from root registry ${this.rootRegistry}`);let n;if(typeof t=="string"&&t.startsWith("0x"))n=`0x${t.substring(2).padStart(64,"0")}`;else if(typeof t=="number")n=`0x${t.toString(16).padStart(64,"0")}`;else throw new Error(`Invalid registry ID: ${t}`);try{const r=await this.rpcRequest(this.rootRegistry,`${sq}${n.slice(2)}`);if(!r.ok)throw new Error(`Error getting address for registry ID ${t}: ${r.status} ${r.statusText}`);const i=await r.json();if(i.error)throw new Error(`Error getting address for registry ID ${t}: ${i.error.message}`);if(i.result==="0x0000000000000000000000000000000000000000000000000000000000000000")throw new Error(`Registry ID ${t} doesn't exist`);const s=`0x${i.result.slice(-40)}`;return ct(`Got address for registry ID ${t}: ${s}`),s}catch(r){throw new Error(`Error getting address for registry ID ${t}: ${r}`)}}getRootRegistryAddress(){return this.rootRegistry}async getCertificateRegistryAddress(){return this.getRegistryAddress(co)}async getCircuitRegistryAddress(){return this.getRegistryAddress(uo)}getUrlForPackagedCertificates(t,n){return this.packagedCertsUrlGenerator(this.chainId,t,n)}getUrlForCircuitManifestByRoot(t){return this.circuitManifestUrlGenerator(this.chainId,{root:t})}getUrlForCircuitManifestByVersion(t){return this.circuitManifestUrlGenerator(this.chainId,{version:t})}getUrlForCircuitManifestByCid(t){return this.circuitManifestUrlGenerator(this.chainId,{cid:t})}getUrlForPackagedCircuits(t,n){return this.packagedCircuitUrlGenerator(this.chainId,t,n)}rpcRequest(t,n){return fetch(this.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Math.floor(Math.random()*1e6),method:"eth_call",params:[{to:t,data:n},"latest"]})})}async _handleRootDetailsResponse(t){const n=await t.json();if(n.error)throw new Error(`Error from node: ${n.error.message}`);if(n.result){const r=n.result.slice(2),i=parseInt(r.slice(0,64),16),s=`0x${r.slice(64,128)}`,o=new Date(parseInt(r.slice(128,192),16)*1e3),a=parseInt(r.slice(192,256),16),l=a===0?void 0:new Date(a*1e3),c=parseInt(r.slice(256,320),16)===1,u=parseInt(r.slice(320,384),16),d=T2(`0x${r.slice(384,448)}`);return{index:i,root:s,validFrom:o,validTo:l,revoked:c,leaves:u,cid:d,isLatest:l===void 0}}else throw new Error("No result returned from node")}async _handleHistoricalRootsResponse(t){var r;const n=await t.json();if(n.error)throw new Error(((r=n==null?void 0:n.error)==null?void 0:r.message)||"Error getting roots");if(n.result){const i=n.result.slice(2),s=parseInt(i.slice(0,64),16),o=parseInt(i.slice(64,128),16)===1,a=i.slice(s*2),l=parseInt(a.slice(0,64),16),c=[];for(let u=0;u<l;u++){const d=64+u*7*64,h=parseInt(a.slice(d,d+64),16),m=`0x${a.slice(d+64,d+128)}`,x=new Date(parseInt(a.slice(d+128,d+192),16)*1e3),y=parseInt(a.slice(d+192,d+256),16),_=y===0?void 0:new Date(y*1e3),g=parseInt(a.slice(d+256,d+320),16)===1,b=parseInt(a.slice(d+320,d+384),16),p=T2(`0x${a.slice(d+384,d+448)}`);c.push({root:m,validFrom:x,validTo:_,revoked:g,cid:p,leaves:b,isLatest:u===l-1&&o,index:h})}return{roots:c,isLastPage:o}}return{roots:[],isLastPage:!0}}}const aq=typeof window<"u"?{getRandomValues:e=>window.crypto.getRandomValues(e)}:globalThis.crypto,Sy=typeof window<"u"?window.crypto:typeof globalThis<"u"&&globalThis.crypto?globalThis.crypto:aq;function WS(e){const t=new Uint8Array(e);if(Sy&&typeof Sy.getRandomValues=="function")return Sy.getRandomValues(t),t;throw new Error("No secure random number generator available in this environment. Make sure you're in a secure context that provides crypto APIs.")}const gi=16,ZS=new Uint8Array(16),Or=Bi(ZS),lq=225,cq=(e,t,n,r)=>{const i=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^lq<<24&-(i&1)}},Pn=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function uq(e){e.reverse();const t=e[15]&1;let n=0;for(let r=0;r<e.length;r++){const i=e[r];e[r]=i>>>1|n,n=(i&1)<<7}return e[0]^=-t&225,e}const dq=e=>e>64*1024?8:e>1024?4:2;class QN{constructor(t,n){this.blockLen=gi,this.outputLen=gi,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=c0(t),Jt(t,16);const r=jp(t);let i=r.getUint32(0,!1),s=r.getUint32(4,!1),o=r.getUint32(8,!1),a=r.getUint32(12,!1);const l=[];for(let x=0;x<128;x++)l.push({s0:Pn(i),s1:Pn(s),s2:Pn(o),s3:Pn(a)}),{s0:i,s1:s,s2:o,s3:a}=cq(i,s,o,a);const c=dq(n||1024);if(![1,2,4,8].includes(c))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=c;const d=128/c,h=this.windowSize=2**c,m=[];for(let x=0;x<d;x++)for(let y=0;y<h;y++){let _=0,g=0,b=0,p=0;for(let C=0;C<c;C++){if(!(y>>>c-C-1&1))continue;const{s0:N,s1:k,s2:j,s3:D}=l[c*x+C];_^=N,g^=k,b^=j,p^=D}m.push({s0:_,s1:g,s2:b,s3:p})}this.t=m}_updateBlock(t,n,r,i){t^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:s,t:o,windowSize:a}=this;let l=0,c=0,u=0,d=0;const h=(1<<s)-1;let m=0;for(const x of[t,n,r,i])for(let y=0;y<4;y++){const _=x>>>8*y&255;for(let g=8/s-1;g>=0;g--){const b=_>>>s*g&h,{s0:p,s1:C,s2:E,s3:N}=o[m*a+b];l^=p,c^=C,u^=E,d^=N,m+=1}}this.s0=l,this.s1=c,this.s2=u,this.s3=d}update(t){em(this),t=c0(t),Jt(t);const n=Bi(t),r=Math.floor(t.length/gi),i=t.length%gi;for(let s=0;s<r;s++)this._updateBlock(n[s*4+0],n[s*4+1],n[s*4+2],n[s*4+3]);return i&&(ZS.set(t.subarray(r*gi)),this._updateBlock(Or[0],Or[1],Or[2],Or[3]),Hi(Or)),this}destroy(){const{t}=this;for(const n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){em(this),ZN(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:s}=this,o=Bi(t);return o[0]=n,o[1]=r,o[2]=i,o[3]=s,t}digest(){const t=new Uint8Array(gi);return this.digestInto(t),this.destroy(),t}}class fq extends QN{constructor(t,n){t=c0(t),Jt(t);const r=uq(u0(t));super(r,n),Hi(r)}update(t){t=c0(t),em(this);const n=Bi(t),r=t.length%gi,i=Math.floor(t.length/gi);for(let s=0;s<i;s++)this._updateBlock(Pn(n[s*4+3]),Pn(n[s*4+2]),Pn(n[s*4+1]),Pn(n[s*4+0]));return r&&(ZS.set(t.subarray(i*gi)),this._updateBlock(Pn(Or[3]),Pn(Or[2]),Pn(Or[1]),Pn(Or[0])),Hi(Or)),this}digestInto(t){em(this),ZN(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:s}=this,o=Bi(t);return o[0]=n,o[1]=r,o[2]=i,o[3]=s,t.reverse()}}function e8(e){const t=(r,i)=>e(i,r.length).update(c0(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,i)=>e(r,i),t}const D2=e8((e,t)=>new QN(e,t));e8((e,t)=>new fq(e,t));const L1=16,hq=4,nf=new Uint8Array(L1),mq=283;function XS(e){return e<<1^mq&-(e>>7)}function M2(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=XS(e);return n}const pq=(()=>{const e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=XS(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return Hi(e),t})(),gq=e=>e<<24|e>>>8,_y=e=>e<<8|e>>>24;function yq(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((c,u)=>t(e[u])),r=n.map(_y),i=r.map(_y),s=i.map(_y),o=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let c=0;c<256;c++)for(let u=0;u<256;u++){const d=c*256+u;o[d]=n[c]^r[u],a[d]=i[c]^s[u],l[d]=e[c]<<8|e[u]}return{sbox:e,sbox2:l,T0:n,T1:r,T2:i,T3:s,T01:o,T23:a}}const t8=yq(pq,e=>M2(e,3)<<24|e<<16|e<<8|M2(e,2)),bq=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=XS(n))e[t]=n;return e})();function vq(e){Jt(e);const t=e.length;if(![16,24,32].includes(t))throw new Error("aes: invalid key size, should be 16, 24 or 32, got "+t);const{sbox2:n}=t8,r=[];nm(e)||r.push(e=u0(e));const i=Bi(e),s=i.length,o=l=>Xc(n,l,l,l,l),a=new Uint32Array(t+28);a.set(i);for(let l=s;l<a.length;l++){let c=a[l-1];l%s===0?c=o(gq(c))^bq[l/s-1]:s>6&&l%s===4&&(c=o(c)),a[l]=a[l-s]^c}return Hi(...r),a}function rf(e,t,n,r,i,s){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|s>>>24&255]}function Xc(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function U2(e,t,n,r,i){const{sbox2:s,T01:o,T23:a}=t8;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const c=e.length/4-2;for(let x=0;x<c;x++){const y=e[l++]^rf(o,a,t,n,r,i),_=e[l++]^rf(o,a,n,r,i,t),g=e[l++]^rf(o,a,r,i,t,n),b=e[l++]^rf(o,a,i,t,n,r);t=y,n=_,r=g,i=b}const u=e[l++]^Xc(s,t,n,r,i),d=e[l++]^Xc(s,n,r,i,t),h=e[l++]^Xc(s,r,i,t,n),m=e[l++]^Xc(s,i,t,n,r);return{s0:u,s1:d,s2:h,s3:m}}function sf(e,t,n,r,i){Jt(n,L1),Jt(r),i=EG(r.length,i);const s=n,o=Bi(s),a=jp(s),l=Bi(r),c=Bi(i),u=t?0:12,d=r.length;let h=a.getUint32(u,t),{s0:m,s1:x,s2:y,s3:_}=U2(e,o[0],o[1],o[2],o[3]);for(let b=0;b+4<=l.length;b+=4)c[b+0]=l[b+0]^m,c[b+1]=l[b+1]^x,c[b+2]=l[b+2]^y,c[b+3]=l[b+3]^_,h=h+1>>>0,a.setUint32(u,h,t),{s0:m,s1:x,s2:y,s3:_}=U2(e,o[0],o[1],o[2],o[3]);const g=L1*Math.floor(l.length/hq);if(g<d){const b=new Uint32Array([m,x,y,_]),p=vG(b);for(let C=g,E=0;C<d;C++,E++)i[C]=r[C]^p[E];Hi(b)}return i}function xq(e,t,n,r,i){const s=i?i.length:0,o=e.create(n,r.length+s);i&&o.update(i);const a=AG(8*r.length,8*s,t);o.update(r),o.update(a);const l=o.digest();return Hi(a),l}const n8=CG({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(t,n,r){if(n.length<8)throw new Error("aes/gcm: invalid nonce length");const i=16;function s(a,l,c){const u=xq(D2,!1,a,c,r);for(let d=0;d<l.length;d++)u[d]^=l[d];return u}function o(){const a=vq(t),l=nf.slice(),c=nf.slice();if(sf(a,!1,c,c,l),n.length===12)c.set(n);else{const d=nf.slice(),h=jp(d);I1(h,8,BigInt(n.length*8),!1);const m=D2.create(l).update(n).update(d);m.digestInto(c),m.destroy()}const u=sf(a,!1,c,nf);return{xk:a,authKey:l,counter:c,tagMask:u}}return{encrypt(a){const{xk:l,authKey:c,counter:u,tagMask:d}=o(),h=new Uint8Array(a.length+i),m=[l,c,u,d];nm(a)||m.push(a=u0(a)),sf(l,!1,u,a,h.subarray(0,a.length));const x=s(c,d,h.subarray(0,h.length-i));return m.push(x),h.set(x,a.length),Hi(...m),h},decrypt(a){const{xk:l,authKey:c,counter:u,tagMask:d}=o(),h=[l,c,d,u];nm(a)||h.push(a=u0(a));const m=a.subarray(0,-i),x=a.subarray(-i),y=s(c,d,m);if(h.push(y),!_G(y,x))throw new Error("aes/gcm: invalid ghash tag");const _=sf(l,!1,u,m);return Hi(...h),_}}});/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const wq={p:0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,n:0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n,b:7n,Gx:0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,Gy:0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n},{p:$o,n:JS,Gx:Sq,Gy:_q,b:r8}=wq,Ho=32,P1=64,Bn=(e="")=>{throw new Error(e)},i8=e=>typeof e=="bigint",s8=e=>typeof e=="string",Cq=e=>e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array",f0=(e,t)=>!Cq(e)||typeof t=="number"&&t>0&&e.length!==t?Bn("Uint8Array expected"):e,QS=e=>new Uint8Array(e),Eq=e=>Uint8Array.from(e),o8=(e,t)=>e.toString(16).padStart(t,"0"),a8=e=>Array.from(f0(e)).map(t=>o8(t,2)).join(""),ci={_0:48,_9:57,A:65,F:70,a:97,f:102},L2=e=>{if(e>=ci._0&&e<=ci._9)return e-ci._0;if(e>=ci.A&&e<=ci.F)return e-(ci.A-10);if(e>=ci.a&&e<=ci.f)return e-(ci.a-10)},l8=e=>{const t="hex invalid";if(!s8(e))return Bn(t);const n=e.length,r=n/2;if(n%2)return Bn(t);const i=QS(r);for(let s=0,o=0;s<r;s++,o+=2){const a=L2(e.charCodeAt(o)),l=L2(e.charCodeAt(o+1));if(a===void 0||l===void 0)return Bn(t);i[s]=a*16+l}return i},Op=(e,t)=>f0(s8(e)?l8(e):Eq(f0(e)),t),Aq=()=>globalThis==null?void 0:globalThis.crypto,P2=(...e)=>{const t=QS(e.reduce((r,i)=>r+f0(i).length,0));let n=0;return e.forEach(r=>{t.set(r,n),n+=r.length}),t},Tq=(e=Ho)=>Aq().getRandomValues(QS(e)),im=BigInt,pd=(e,t,n,r="bad number: out of range")=>i8(e)&&t<=e&&e<n?e:Bn(r),ce=(e,t=$o)=>{const n=e%t;return n>=0n?n:t+n},kq=(e,t)=>{(e===0n||t<=0n)&&Bn("no inverse n="+e+" mod="+t);let n=ce(e,t),r=t,i=0n,s=1n;for(;n!==0n;){const o=r/n,a=r%n,l=i-s*o;r=n,n=a,i=s,s=l}return r===1n?ce(i,t):Bn("no inverse")},F2=e=>e instanceof qs?e:Bn("Point expected"),c8=e=>ce(ce(e*e)*e+r8),V2=e=>pd(e,0n,$o),zf=e=>pd(e,1n,$o),Iq=e=>pd(e,1n,JS),F1=e=>(e&1n)===0n,u8=e=>Uint8Array.of(e),Bq=e=>u8(F1(e)?2:3),Nq=e=>{const t=c8(zf(e));let n=1n;for(let r=t,i=($o+1n)/4n;i>0n;i>>=1n)i&1n&&(n=n*r%$o),r=r*r%$o;return ce(n*n)===t?n:Bn("sqrt invalid")},Br=class Br{constructor(t,n,r){re(this,"px");re(this,"py");re(this,"pz");this.px=V2(t),this.py=zf(n),this.pz=V2(r),Object.freeze(this)}static fromBytes(t){f0(t);let n;const r=t[0],i=t.subarray(1),s=z2(i,0,Ho),o=t.length;if(o===Ho+1&&[2,3].includes(r)){let a=Nq(s);const l=F1(a);F1(im(r))!==l&&(a=ce(-a)),n=new Br(s,a,1n)}return o===P1+1&&r===4&&(n=new Br(s,z2(i,Ho,P1),1n)),n?n.assertValidity():Bn("bad point: not on curve")}equals(t){const{px:n,py:r,pz:i}=this,{px:s,py:o,pz:a}=F2(t),l=ce(n*a),c=ce(s*i),u=ce(r*a),d=ce(o*i);return l===c&&u===d}is0(){return this.equals(Co)}negate(){return new Br(this.px,ce(-this.py),this.pz)}double(){return this.add(this)}add(t){const{px:n,py:r,pz:i}=this,{px:s,py:o,pz:a}=F2(t),l=0n,c=r8;let u=0n,d=0n,h=0n;const m=ce(c*3n);let x=ce(n*s),y=ce(r*o),_=ce(i*a),g=ce(n+r),b=ce(s+o);g=ce(g*b),b=ce(x+y),g=ce(g-b),b=ce(n+i);let p=ce(s+a);return b=ce(b*p),p=ce(x+_),b=ce(b-p),p=ce(r+i),u=ce(o+a),p=ce(p*u),u=ce(y+_),p=ce(p-u),h=ce(l*b),u=ce(m*_),h=ce(u+h),u=ce(y-h),h=ce(y+h),d=ce(u*h),y=ce(x+x),y=ce(y+x),_=ce(l*_),b=ce(m*b),y=ce(y+_),_=ce(x-_),_=ce(l*_),b=ce(b+_),x=ce(y*b),d=ce(d+x),x=ce(p*b),u=ce(g*u),u=ce(u-x),x=ce(g*y),h=ce(p*h),h=ce(h+x),new Br(u,d,h)}multiply(t,n=!0){if(!n&&t===0n)return Co;if(Iq(t),t===1n)return this;if(this.equals(Us))return Fq(t).p;let r=Co,i=Us;for(let s=this;t>0n;s=s.double(),t>>=1n)t&1n?r=r.add(s):n&&(i=i.add(s));return r}toAffine(){const{px:t,py:n,pz:r}=this;if(this.equals(Co))return{x:0n,y:0n};if(r===1n)return{x:t,y:n};const i=kq(r,$o);return ce(r*i)!==1n&&Bn("inverse invalid"),{x:ce(t*i),y:ce(n*i)}}assertValidity(){const{x:t,y:n}=this.toAffine();return zf(t),zf(n),ce(n*n)===c8(t)?this:Bn("bad point: not on curve")}toBytes(t=!0){const{x:n,y:r}=this.assertValidity().toAffine(),i=V1(n);return t?P2(Bq(r),i):P2(u8(4),i,V1(r))}static fromAffine(t){const{x:n,y:r}=t;return n===0n&&r===0n?Co:new Br(n,r,1n)}toHex(t){return a8(this.toBytes(t))}static fromPrivateKey(t){return Us.multiply(h0(t))}static fromHex(t){return Br.fromBytes(Op(t))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}toRawBytes(t){return this.toBytes(t)}};re(Br,"BASE"),re(Br,"ZERO");let qs=Br;const Us=new qs(Sq,_q,1n),Co=new qs(0n,1n,0n);qs.BASE=Us;qs.ZERO=Co;const e_=e=>im("0x"+(a8(e)||"0")),z2=(e,t,n)=>e_(e.subarray(t,n)),jq=2n**256n,V1=e=>l8(o8(pd(e,0n,jq),P1)),h0=e=>{const t=i8(e)?e:e_(Op(e,Ho));return pd(t,1n,JS,"private key invalid 3")},Rq=(e,t=!0)=>Us.multiply(h0(e)).toBytes(t),Oq=(e,t,n=!0)=>qs.fromBytes(Op(t)).multiply(h0(e)).toBytes(n),Dq=e=>{e=Op(e),(e.length<Ho+8||e.length>1024)&&Bn("expected 40-1024b");const t=ce(e_(e),JS-1n);return V1(t+1n)},Mq=()=>Dq(Tq(Ho+16)),Uq={normPrivateKeyToScalar:h0,isValidPrivateKey:e=>{try{return!!h0(e)}catch{return!1}},randomPrivateKey:Mq,precompute:(e=8,t=Us)=>(t.multiply(3n),t)},sm=8,Lq=256,d8=Math.ceil(Lq/sm)+1,z1=2**(sm-1),Pq=()=>{const e=[];let t=Us,n=t;for(let r=0;r<d8;r++){n=t,e.push(n);for(let i=1;i<z1;i++)n=n.add(t),e.push(n);t=n.double()}return e};let $2;const H2=(e,t)=>{const n=t.negate();return e?n:t},Fq=e=>{const t=$2||($2=Pq());let n=Co,r=Us;const i=2**sm,s=i,o=im(i-1),a=im(sm);for(let l=0;l<d8;l++){let c=Number(e&o);e>>=a,c>z1&&(c-=s,e+=1n);const u=l*z1,d=u,h=u+Math.abs(c)-1,m=l%2!==0,x=c<0;c===0?r=r.add(H2(m,t[d])):n=n.add(H2(x,t[h]))}return{p:n,f:r}};async function f8(e){const n=new TextEncoder().encode(e),r=await fc(n);return new Uint8Array(r).slice(0,12)}async function Cy(){const e=Uq.randomPrivateKey(),t=Rq(e);return{privateKey:e,publicKey:t}}async function G2(e,t){return Oq(e,t).slice(0,32)}async function $1(e,t,n){const r=await f8(n),i=n8(t,r),s=XN(e);return i.encrypt(s)}async function q2(e,t,n){const r=await f8(n),s=n8(t,r).decrypt(e);return new TextDecoder().decode(s)}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Vq=4,K2=0,Y2=1,zq=2;function vc(e){let t=e.length;for(;--t>=0;)e[t]=0}const $q=0,h8=1,Hq=2,Gq=3,qq=258,t_=29,gd=256,m0=gd+1+t_,gl=30,n_=19,m8=2*m0+1,Io=15,Ey=16,Kq=7,r_=256,p8=16,g8=17,y8=18,H1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),$f=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Yq=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),b8=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Wq=512,yi=new Array((m0+2)*2);vc(yi);const Bu=new Array(gl*2);vc(Bu);const p0=new Array(Wq);vc(p0);const g0=new Array(qq-Gq+1);vc(g0);const i_=new Array(t_);vc(i_);const om=new Array(gl);vc(om);function Ay(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let v8,x8,w8;function Ty(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const S8=e=>e<256?p0[e]:p0[256+(e>>>7)],y0=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},hn=(e,t,n)=>{e.bi_valid>Ey-n?(e.bi_buf|=t<<e.bi_valid&65535,y0(e,e.bi_buf),e.bi_buf=t>>Ey-e.bi_valid,e.bi_valid+=n-Ey):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Dr=(e,t,n)=>{hn(e,n[t*2],n[t*2+1])},_8=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},Zq=e=>{e.bi_valid===16?(y0(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Xq=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,d,h,m,x,y=0;for(h=0;h<=Io;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<m8;c++)u=e.heap[c],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,y++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,m=0,u>=a&&(m=o[u-a]),x=n[u*2],e.opt_len+=x*(h+m),s&&(e.static_len+=x*(i[u*2+1]+m)));if(y!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,y-=2}while(y>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==h&&(e.opt_len+=(h-n[d*2+1])*n[d*2],n[d*2+1]=h),u--)}},C8=(e,t,n)=>{const r=new Array(Io+1);let i=0,s,o;for(s=1;s<=Io;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=_8(r[a]++,a))}},Jq=()=>{let e,t,n,r,i;const s=new Array(Io+1);for(n=0,r=0;r<t_-1;r++)for(i_[r]=n,e=0;e<1<<H1[r];e++)g0[n++]=r;for(g0[n-1]=r,i=0,r=0;r<16;r++)for(om[r]=i,e=0;e<1<<$f[r];e++)p0[i++]=r;for(i>>=7;r<gl;r++)for(om[r]=i<<7,e=0;e<1<<$f[r]-7;e++)p0[256+i++]=r;for(t=0;t<=Io;t++)s[t]=0;for(e=0;e<=143;)yi[e*2+1]=8,e++,s[8]++;for(;e<=255;)yi[e*2+1]=9,e++,s[9]++;for(;e<=279;)yi[e*2+1]=7,e++,s[7]++;for(;e<=287;)yi[e*2+1]=8,e++,s[8]++;for(C8(yi,m0+1,s),e=0;e<gl;e++)Bu[e*2+1]=5,Bu[e*2]=_8(e,5);v8=new Ay(yi,H1,gd+1,m0,Io),x8=new Ay(Bu,$f,0,gl,Io),w8=new Ay(new Array(0),Yq,0,n_,Kq)},E8=e=>{let t;for(t=0;t<m0;t++)e.dyn_ltree[t*2]=0;for(t=0;t<gl;t++)e.dyn_dtree[t*2]=0;for(t=0;t<n_;t++)e.bl_tree[t*2]=0;e.dyn_ltree[r_*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},A8=e=>{e.bi_valid>8?y0(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},W2=(e,t,n,r)=>{const i=t*2,s=n*2;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},ky=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&W2(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!W2(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},Z2=(e,t,n)=>{let r,i,s=0,o,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+s++]&255,r+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],r===0?Dr(e,i,t):(o=g0[i],Dr(e,o+gd+1,t),a=H1[o],a!==0&&(i-=i_[o],hn(e,i,a)),r--,o=S8(r),Dr(e,o,n),a=$f[o],a!==0&&(r-=om[o],hn(e,r,a)));while(s<e.sym_next);Dr(e,r_,t)},G1=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,a,l=-1,c;for(e.heap_len=0,e.heap_max=m8,o=0;o<s;o++)n[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)ky(e,n,o);c=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ky(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,n[c*2]=n[o*2]+n[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,n[o*2+1]=n[a*2+1]=c,e.heap[1]=c++,ky(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Xq(e,t),C8(n,l,e.bl_count)},X2=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=t[(r+1)*2+1],!(++a<l&&s===o)&&(a<c?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[p8*2]++):a<=10?e.bl_tree[g8*2]++:e.bl_tree[y8*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},J2=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(s=o,o=t[(r+1)*2+1],!(++a<l&&s===o)){if(a<c)do Dr(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Dr(e,s,e.bl_tree),a--),Dr(e,p8,e.bl_tree),hn(e,a-3,2)):a<=10?(Dr(e,g8,e.bl_tree),hn(e,a-3,3)):(Dr(e,y8,e.bl_tree),hn(e,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},Qq=e=>{let t;for(X2(e,e.dyn_ltree,e.l_desc.max_code),X2(e,e.dyn_dtree,e.d_desc.max_code),G1(e,e.bl_desc),t=n_-1;t>=3&&e.bl_tree[b8[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},eK=(e,t,n,r)=>{let i;for(hn(e,t-257,5),hn(e,n-1,5),hn(e,r-4,4),i=0;i<r;i++)hn(e,e.bl_tree[b8[i]*2+1],3);J2(e,e.dyn_ltree,t-1),J2(e,e.dyn_dtree,n-1)},tK=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return K2;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Y2;for(n=32;n<gd;n++)if(e.dyn_ltree[n*2]!==0)return Y2;return K2};let Q2=!1;const nK=e=>{Q2||(Jq(),Q2=!0),e.l_desc=new Ty(e.dyn_ltree,v8),e.d_desc=new Ty(e.dyn_dtree,x8),e.bl_desc=new Ty(e.bl_tree,w8),e.bi_buf=0,e.bi_valid=0,E8(e)},T8=(e,t,n,r)=>{hn(e,($q<<1)+(r?1:0),3),A8(e),y0(e,n),y0(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},rK=e=>{hn(e,h8<<1,3),Dr(e,r_,yi),Zq(e)},iK=(e,t,n,r)=>{let i,s,o=0;e.level>0?(e.strm.data_type===zq&&(e.strm.data_type=tK(e)),G1(e,e.l_desc),G1(e,e.d_desc),o=Qq(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&t!==-1?T8(e,t,n,r):e.strategy===Vq||s===i?(hn(e,(h8<<1)+(r?1:0),3),Z2(e,yi,Bu)):(hn(e,(Hq<<1)+(r?1:0),3),eK(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Z2(e,e.dyn_ltree,e.dyn_dtree)),E8(e),r&&A8(e)},sK=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(g0[n]+gd+1)*2]++,e.dyn_dtree[S8(t)*2]++),e.sym_next===e.sym_end);var oK=nK,aK=T8,lK=iK,cK=sK,uK=rK,dK={_tr_init:oK,_tr_stored_block:aK,_tr_flush_block:lK,_tr_tally:cK,_tr_align:uK};const fK=(e,t,n,r)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var b0=fK;const hK=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},mK=new Uint32Array(hK()),pK=(e,t,n,r)=>{const i=mK,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Nt=pK,ta={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Dp={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:gK,_tr_stored_block:q1,_tr_flush_block:yK,_tr_tally:Ls,_tr_align:bK}=dK,{Z_NO_FLUSH:Ps,Z_PARTIAL_FLUSH:vK,Z_FULL_FLUSH:xK,Z_FINISH:Gn,Z_BLOCK:e6,Z_OK:Ut,Z_STREAM_END:t6,Z_STREAM_ERROR:Hr,Z_DATA_ERROR:wK,Z_BUF_ERROR:Iy,Z_DEFAULT_COMPRESSION:SK,Z_FILTERED:_K,Z_HUFFMAN_ONLY:of,Z_RLE:CK,Z_FIXED:EK,Z_DEFAULT_STRATEGY:AK,Z_UNKNOWN:TK,Z_DEFLATED:Mp}=Dp,kK=9,IK=15,BK=8,NK=29,jK=256,K1=jK+1+NK,RK=30,OK=19,DK=2*K1+1,MK=15,Ie=3,Es=258,Gr=Es+Ie+1,UK=32,Hl=42,s_=57,Y1=69,W1=73,Z1=91,X1=103,Bo=113,Jc=666,nn=1,xc=2,na=3,wc=4,LK=3,No=(e,t)=>(e.msg=ta[t],t),n6=e=>e*2-(e>4?9:0),vs=e=>{let t=e.length;for(;--t>=0;)e[t]=0},PK=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let FK=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Fs=FK;const xn=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},En=(e,t)=>{yK(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,xn(e.strm)},je=(e,t)=>{e.pending_buf[e.pending++]=t},Fc=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},J1=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=b0(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Nt(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},k8=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,s,o=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-Gr?e.strstart-(e.w_size-Gr):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+Es;let m=c[r+o-1],x=c[r+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+o]!==x||c[i+o-1]!==m||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(s=Es-(h-r),r=h-Es,s>o){if(e.match_start=t,o=s,s>=a)break;m=c[r+o-1],x=c[r+o]}}while((t=d[t&u])>l&&--n!==0);return o<=e.lookahead?o:e.lookahead},Gl=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Gr)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),PK(e),r+=t),e.strm.avail_in===0)break;if(n=J1(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Ie)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Fs(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Fs(e,e.ins_h,e.window[i+Ie-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Ie)););}while(e.lookahead<Gr&&e.strm.avail_in!==0)},I8=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,s,o=0,a=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&t!==Gn||t===Ps||r!==i+e.strm.avail_in)))break;o=t===Gn&&r===i+e.strm.avail_in?1:0,q1(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,xn(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(J1(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?wc:t!==Ps&&t!==Gn&&e.strm.avail_in===0&&e.strstart===e.block_start?xc:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(J1(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=n||(i||t===Gn)&&t!==Ps&&e.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=t===Gn&&e.strm.avail_in===0&&r===i?1:0,q1(e,e.block_start,r,o),e.block_start+=r,xn(e.strm)),o?na:nn)},By=(e,t)=>{let n,r;for(;;){if(e.lookahead<Gr){if(Gl(e),e.lookahead<Gr&&t===Ps)return nn;if(e.lookahead===0)break}if(n=0,e.lookahead>=Ie&&(e.ins_h=Fs(e,e.ins_h,e.window[e.strstart+Ie-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Gr&&(e.match_length=k8(e,n)),e.match_length>=Ie)if(r=Ls(e,e.strstart-e.match_start,e.match_length-Ie),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ie){e.match_length--;do e.strstart++,e.ins_h=Fs(e,e.ins_h,e.window[e.strstart+Ie-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Fs(e,e.ins_h,e.window[e.strstart+1]);else r=Ls(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(En(e,!1),e.strm.avail_out===0))return nn}return e.insert=e.strstart<Ie-1?e.strstart:Ie-1,t===Gn?(En(e,!0),e.strm.avail_out===0?na:wc):e.sym_next&&(En(e,!1),e.strm.avail_out===0)?nn:xc},Ia=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Gr){if(Gl(e),e.lookahead<Gr&&t===Ps)return nn;if(e.lookahead===0)break}if(n=0,e.lookahead>=Ie&&(e.ins_h=Fs(e,e.ins_h,e.window[e.strstart+Ie-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ie-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Gr&&(e.match_length=k8(e,n),e.match_length<=5&&(e.strategy===_K||e.match_length===Ie&&e.strstart-e.match_start>4096)&&(e.match_length=Ie-1)),e.prev_length>=Ie&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ie,r=Ls(e,e.strstart-1-e.prev_match,e.prev_length-Ie),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Fs(e,e.ins_h,e.window[e.strstart+Ie-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ie-1,e.strstart++,r&&(En(e,!1),e.strm.avail_out===0))return nn}else if(e.match_available){if(r=Ls(e,0,e.window[e.strstart-1]),r&&En(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return nn}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Ls(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ie-1?e.strstart:Ie-1,t===Gn?(En(e,!0),e.strm.avail_out===0?na:wc):e.sym_next&&(En(e,!1),e.strm.avail_out===0)?nn:xc},VK=(e,t)=>{let n,r,i,s;const o=e.window;for(;;){if(e.lookahead<=Es){if(Gl(e),e.lookahead<=Es&&t===Ps)return nn;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ie&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=e.strstart+Es;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);e.match_length=Es-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ie?(n=Ls(e,1,e.match_length-Ie),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Ls(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(En(e,!1),e.strm.avail_out===0))return nn}return e.insert=0,t===Gn?(En(e,!0),e.strm.avail_out===0?na:wc):e.sym_next&&(En(e,!1),e.strm.avail_out===0)?nn:xc},zK=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Gl(e),e.lookahead===0)){if(t===Ps)return nn;break}if(e.match_length=0,n=Ls(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(En(e,!1),e.strm.avail_out===0))return nn}return e.insert=0,t===Gn?(En(e,!0),e.strm.avail_out===0?na:wc):e.sym_next&&(En(e,!1),e.strm.avail_out===0)?nn:xc};function Ir(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const Qc=[new Ir(0,0,0,0,I8),new Ir(4,4,8,4,By),new Ir(4,5,16,8,By),new Ir(4,6,32,32,By),new Ir(4,4,16,16,Ia),new Ir(8,16,32,32,Ia),new Ir(8,16,128,128,Ia),new Ir(8,32,128,256,Ia),new Ir(32,128,258,1024,Ia),new Ir(32,258,258,4096,Ia)],$K=e=>{e.window_size=2*e.w_size,vs(e.head),e.max_lazy_match=Qc[e.level].max_lazy,e.good_match=Qc[e.level].good_length,e.nice_match=Qc[e.level].nice_length,e.max_chain_length=Qc[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ie-1,e.match_available=0,e.ins_h=0};function HK(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Mp,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(DK*2),this.dyn_dtree=new Uint16Array((2*RK+1)*2),this.bl_tree=new Uint16Array((2*OK+1)*2),vs(this.dyn_ltree),vs(this.dyn_dtree),vs(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MK+1),this.heap=new Uint16Array(2*K1+1),vs(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*K1+1),vs(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const yd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Hl&&t.status!==s_&&t.status!==Y1&&t.status!==W1&&t.status!==Z1&&t.status!==X1&&t.status!==Bo&&t.status!==Jc?1:0},B8=e=>{if(yd(e))return No(e,Hr);e.total_in=e.total_out=0,e.data_type=TK;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?s_:t.wrap?Hl:Bo,e.adler=t.wrap===2?0:1,t.last_flush=-2,gK(t),Ut},N8=e=>{const t=B8(e);return t===Ut&&$K(e.state),t},GK=(e,t)=>yd(e)||e.state.wrap!==2?Hr:(e.state.gzhead=t,Ut),j8=(e,t,n,r,i,s)=>{if(!e)return Hr;let o=1;if(t===SK&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>kK||n!==Mp||r<8||r>15||t<0||t>9||s<0||s>EK||r===8&&o!==1)return No(e,Hr);r===8&&(r=9);const a=new HK;return e.state=a,a.strm=e,a.status=Hl,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Ie-1)/Ie),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=s,a.method=n,N8(e)},qK=(e,t)=>j8(e,t,Mp,IK,BK,AK),KK=(e,t)=>{if(yd(e)||t>e6||t<0)return e?No(e,Hr):Hr;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Jc&&t!==Gn)return No(e,e.avail_out===0?Iy:Hr);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(xn(e),e.avail_out===0)return n.last_flush=-1,Ut}else if(e.avail_in===0&&n6(t)<=n6(r)&&t!==Gn)return No(e,Iy);if(n.status===Jc&&e.avail_in!==0)return No(e,Iy);if(n.status===Hl&&n.wrap===0&&(n.status=Bo),n.status===Hl){let i=Mp+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=of||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=UK),i+=31-i%31,Fc(n,i),n.strstart!==0&&(Fc(n,e.adler>>>16),Fc(n,e.adler&65535)),e.adler=1,n.status=Bo,xn(e),n.pending!==0)return n.last_flush=-1,Ut}if(n.status===s_){if(e.adler=0,je(n,31),je(n,139),je(n,8),n.gzhead)je(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),je(n,n.gzhead.time&255),je(n,n.gzhead.time>>8&255),je(n,n.gzhead.time>>16&255),je(n,n.gzhead.time>>24&255),je(n,n.level===9?2:n.strategy>=of||n.level<2?4:0),je(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(je(n,n.gzhead.extra.length&255),je(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Nt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Y1;else if(je(n,0),je(n,0),je(n,0),je(n,0),je(n,0),je(n,n.level===9?2:n.strategy>=of||n.level<2?4:0),je(n,LK),n.status=Bo,xn(e),n.pending!==0)return n.last_flush=-1,Ut}if(n.status===Y1){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,xn(e),n.pending!==0)return n.last_flush=-1,Ut;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=W1}if(n.status===W1){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),xn(e),n.pending!==0)return n.last_flush=-1,Ut;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,je(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Z1}if(n.status===Z1){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i)),xn(e),n.pending!==0)return n.last_flush=-1,Ut;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,je(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Nt(e.adler,n.pending_buf,n.pending-i,i))}n.status=X1}if(n.status===X1){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(xn(e),n.pending!==0))return n.last_flush=-1,Ut;je(n,e.adler&255),je(n,e.adler>>8&255),e.adler=0}if(n.status=Bo,xn(e),n.pending!==0)return n.last_flush=-1,Ut}if(e.avail_in!==0||n.lookahead!==0||t!==Ps&&n.status!==Jc){let i=n.level===0?I8(n,t):n.strategy===of?zK(n,t):n.strategy===CK?VK(n,t):Qc[n.level].func(n,t);if((i===na||i===wc)&&(n.status=Jc),i===nn||i===na)return e.avail_out===0&&(n.last_flush=-1),Ut;if(i===xc&&(t===vK?bK(n):t!==e6&&(q1(n,0,0,!1),t===xK&&(vs(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),xn(e),e.avail_out===0))return n.last_flush=-1,Ut}return t!==Gn?Ut:n.wrap<=0?t6:(n.wrap===2?(je(n,e.adler&255),je(n,e.adler>>8&255),je(n,e.adler>>16&255),je(n,e.adler>>24&255),je(n,e.total_in&255),je(n,e.total_in>>8&255),je(n,e.total_in>>16&255),je(n,e.total_in>>24&255)):(Fc(n,e.adler>>>16),Fc(n,e.adler&65535)),xn(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Ut:t6)},YK=e=>{if(yd(e))return Hr;const t=e.state.status;return e.state=null,t===Bo?No(e,wK):Ut},WK=(e,t)=>{let n=t.length;if(yd(e))return Hr;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==Hl||r.lookahead)return Hr;if(i===1&&(e.adler=b0(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(vs(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Gl(r);r.lookahead>=Ie;){let l=r.strstart,c=r.lookahead-(Ie-1);do r.ins_h=Fs(r,r.ins_h,r.window[l+Ie-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=Ie-1,Gl(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Ie-1,r.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,r.wrap=i,Ut};var ZK=qK,XK=j8,JK=N8,QK=B8,eY=GK,tY=KK,nY=YK,rY=WK,iY="pako deflate (from Nodeca project)",Nu={deflateInit:ZK,deflateInit2:XK,deflateReset:JK,deflateResetKeep:QK,deflateSetHeader:eY,deflate:tY,deflateEnd:nY,deflateSetDictionary:rY,deflateInfo:iY};const sY=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var oY=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)sY(n,r)&&(e[r]=n[r])}}return e},aY=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let o=e[r];n.set(o,i),i+=o.length}return n},Up={assign:oY,flattenChunks:aY};let R8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{R8=!1}const v0=new Uint8Array(256);for(let e=0;e<256;e++)v0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;v0[254]=v0[254]=1;var lY=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,o=e.length,a=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const cY=(e,t)=>{if(t<65534&&e.subarray&&R8)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var uY=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){s[i++]=o;continue}let a=v0[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|e[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return cY(s,i)},dY=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+v0[e[n]]>t?n:t},x0={string2buf:lY,buf2string:uY,utf8border:dY};function fY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var O8=fY;const D8=Object.prototype.toString,{Z_NO_FLUSH:hY,Z_SYNC_FLUSH:mY,Z_FULL_FLUSH:pY,Z_FINISH:gY,Z_OK:am,Z_STREAM_END:yY,Z_DEFAULT_COMPRESSION:bY,Z_DEFAULT_STRATEGY:vY,Z_DEFLATED:xY}=Dp;function Lp(e){this.options=Up.assign({level:bY,method:xY,chunkSize:16384,windowBits:15,memLevel:8,strategy:vY},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O8,this.strm.avail_out=0;let n=Nu.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==am)throw new Error(ta[n]);if(t.header&&Nu.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=x0.string2buf(t.dictionary):D8.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Nu.deflateSetDictionary(this.strm,r),n!==am)throw new Error(ta[n]);this._dict_set=!0}}Lp.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?gY:hY,typeof e=="string"?n.input=x0.string2buf(e):D8.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===mY||s===pY)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Nu.deflate(n,s),i===yY)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Nu.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===am;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Lp.prototype.onData=function(e){this.chunks.push(e)};Lp.prototype.onEnd=function(e){e===am&&(this.result=Up.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function wY(e,t){const n=new Lp(t);if(n.push(e,!0),n.err)throw n.msg||ta[n.err];return n.result}var SY=wY,_Y={deflate:SY};const af=16209,CY=16191;var EY=function(t,n){let r,i,s,o,a,l,c,u,d,h,m,x,y,_,g,b,p,C,E,N,k,j,D,M;const H=t.state;r=t.next_in,D=t.input,i=r+(t.avail_in-5),s=t.next_out,M=t.output,o=s-(n-t.avail_out),a=s+(t.avail_out-257),l=H.dmax,c=H.wsize,u=H.whave,d=H.wnext,h=H.window,m=H.hold,x=H.bits,y=H.lencode,_=H.distcode,g=(1<<H.lenbits)-1,b=(1<<H.distbits)-1;e:do{x<15&&(m+=D[r++]<<x,x+=8,m+=D[r++]<<x,x+=8),p=y[m&g];t:for(;;){if(C=p>>>24,m>>>=C,x-=C,C=p>>>16&255,C===0)M[s++]=p&65535;else if(C&16){E=p&65535,C&=15,C&&(x<C&&(m+=D[r++]<<x,x+=8),E+=m&(1<<C)-1,m>>>=C,x-=C),x<15&&(m+=D[r++]<<x,x+=8,m+=D[r++]<<x,x+=8),p=_[m&b];n:for(;;){if(C=p>>>24,m>>>=C,x-=C,C=p>>>16&255,C&16){if(N=p&65535,C&=15,x<C&&(m+=D[r++]<<x,x+=8,x<C&&(m+=D[r++]<<x,x+=8)),N+=m&(1<<C)-1,N>l){t.msg="invalid distance too far back",H.mode=af;break e}if(m>>>=C,x-=C,C=s-o,N>C){if(C=N-C,C>u&&H.sane){t.msg="invalid distance too far back",H.mode=af;break e}if(k=0,j=h,d===0){if(k+=c-C,C<E){E-=C;do M[s++]=h[k++];while(--C);k=s-N,j=M}}else if(d<C){if(k+=c+d-C,C-=d,C<E){E-=C;do M[s++]=h[k++];while(--C);if(k=0,d<E){C=d,E-=C;do M[s++]=h[k++];while(--C);k=s-N,j=M}}}else if(k+=d-C,C<E){E-=C;do M[s++]=h[k++];while(--C);k=s-N,j=M}for(;E>2;)M[s++]=j[k++],M[s++]=j[k++],M[s++]=j[k++],E-=3;E&&(M[s++]=j[k++],E>1&&(M[s++]=j[k++]))}else{k=s-N;do M[s++]=M[k++],M[s++]=M[k++],M[s++]=M[k++],E-=3;while(E>2);E&&(M[s++]=M[k++],E>1&&(M[s++]=M[k++]))}}else if(C&64){t.msg="invalid distance code",H.mode=af;break e}else{p=_[(p&65535)+(m&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){H.mode=CY;break e}else{t.msg="invalid literal/length code",H.mode=af;break e}else{p=y[(p&65535)+(m&(1<<C)-1)];continue t}break}}while(r<i&&s<a);E=x>>3,r-=E,x-=E<<3,m&=(1<<x)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<a?257+(a-s):257-(s-a),H.hold=m,H.bits=x};const Ba=15,r6=852,i6=592,s6=0,Ny=1,o6=2,AY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),TY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),IY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),BY=(e,t,n,r,i,s,o,a)=>{const l=a.bits;let c=0,u=0,d=0,h=0,m=0,x=0,y=0,_=0,g=0,b=0,p,C,E,N,k,j=null,D;const M=new Uint16Array(Ba+1),H=new Uint16Array(Ba+1);let Q=null,G,F,z;for(c=0;c<=Ba;c++)M[c]=0;for(u=0;u<r;u++)M[t[n+u]]++;for(m=l,h=Ba;h>=1&&M[h]===0;h--);if(m>h&&(m=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<h&&M[d]===0;d++);for(m<d&&(m=d),_=1,c=1;c<=Ba;c++)if(_<<=1,_-=M[c],_<0)return-1;if(_>0&&(e===s6||h!==1))return-1;for(H[1]=0,c=1;c<Ba;c++)H[c+1]=H[c]+M[c];for(u=0;u<r;u++)t[n+u]!==0&&(o[H[t[n+u]]++]=u);if(e===s6?(j=Q=o,D=20):e===Ny?(j=AY,Q=TY,D=257):(j=kY,Q=IY,D=0),b=0,u=0,c=d,k=s,x=m,y=0,E=-1,g=1<<m,N=g-1,e===Ny&&g>r6||e===o6&&g>i6)return 1;for(;;){G=c-y,o[u]+1<D?(F=0,z=o[u]):o[u]>=D?(F=Q[o[u]-D],z=j[o[u]-D]):(F=96,z=0),p=1<<c-y,C=1<<x,d=C;do C-=p,i[k+(b>>y)+C]=G<<24|F<<16|z|0;while(C!==0);for(p=1<<c-1;b&p;)p>>=1;if(p!==0?(b&=p-1,b+=p):b=0,u++,--M[c]===0){if(c===h)break;c=t[n+o[u]]}if(c>m&&(b&N)!==E){for(y===0&&(y=m),k+=d,x=c-y,_=1<<x;x+y<h&&(_-=M[x+y],!(_<=0));)x++,_<<=1;if(g+=1<<x,e===Ny&&g>r6||e===o6&&g>i6)return 1;E=b&N,i[E]=m<<24|x<<16|k-s|0}}return b!==0&&(i[k+b]=c-y<<24|64<<16|0),a.bits=m,0};var ju=BY;const NY=0,M8=1,U8=2,{Z_FINISH:a6,Z_BLOCK:jY,Z_TREES:lf,Z_OK:ra,Z_STREAM_END:RY,Z_NEED_DICT:OY,Z_STREAM_ERROR:Qn,Z_DATA_ERROR:L8,Z_MEM_ERROR:P8,Z_BUF_ERROR:DY,Z_DEFLATED:l6}=Dp,Pp=16180,c6=16181,u6=16182,d6=16183,f6=16184,h6=16185,m6=16186,p6=16187,g6=16188,y6=16189,lm=16190,ui=16191,jy=16192,b6=16193,Ry=16194,v6=16195,x6=16196,w6=16197,S6=16198,cf=16199,uf=16200,_6=16201,C6=16202,E6=16203,A6=16204,T6=16205,Oy=16206,k6=16207,I6=16208,tt=16209,F8=16210,V8=16211,MY=852,UY=592,LY=15,PY=LY,B6=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function FY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ya=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Pp||t.mode>V8?1:0},z8=e=>{if(ya(e))return Qn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Pp,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(MY),t.distcode=t.distdyn=new Int32Array(UY),t.sane=1,t.back=-1,ra},$8=e=>{if(ya(e))return Qn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,z8(e)},H8=(e,t)=>{let n;if(ya(e))return Qn;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Qn:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,$8(e))},G8=(e,t)=>{if(!e)return Qn;const n=new FY;e.state=n,n.strm=e,n.window=null,n.mode=Pp;const r=H8(e,t);return r!==ra&&(e.state=null),r},VY=e=>G8(e,PY);let N6=!0,Dy,My;const zY=e=>{if(N6){Dy=new Int32Array(512),My=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ju(M8,e.lens,0,288,Dy,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ju(U8,e.lens,0,32,My,0,e.work,{bits:5}),N6=!1}e.lencode=Dy,e.lenbits=9,e.distcode=My,e.distbits=5},q8=(e,t,n,r)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},$Y=(e,t)=>{let n,r,i,s,o,a,l,c,u,d,h,m,x,y,_=0,g,b,p,C,E,N,k,j;const D=new Uint8Array(4);let M,H;const Q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ya(e)||!e.output||!e.input&&e.avail_in!==0)return Qn;n=e.state,n.mode===ui&&(n.mode=jy),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,h=l,j=ra;e:for(;;)switch(n.mode){case Pp:if(n.wrap===0){n.mode=jy;break}for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,D[0]=c&255,D[1]=c>>>8&255,n.check=Nt(n.check,D,2,0),c=0,u=0,n.mode=c6;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=tt;break}if((c&15)!==l6){e.msg="unknown compression method",n.mode=tt;break}if(c>>>=4,u-=4,k=(c&15)+8,n.wbits===0&&(n.wbits=k),k>15||k>n.wbits){e.msg="invalid window size",n.mode=tt;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?y6:ui,c=0,u=0;break;case c6:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==l6){e.msg="unknown compression method",n.mode=tt;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=tt;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=Nt(n.check,D,2,0)),c=0,u=0,n.mode=u6;case u6:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,D[2]=c>>>16&255,D[3]=c>>>24&255,n.check=Nt(n.check,D,4,0)),c=0,u=0,n.mode=d6;case d6:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=Nt(n.check,D,2,0)),c=0,u=0,n.mode=f6;case f6:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=Nt(n.check,D,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=h6;case h6:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+m),k)),n.flags&512&&n.wrap&4&&(n.check=Nt(n.check,r,m,s)),a-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=m6;case m6:if(n.flags&2048){if(a===0)break e;m=0;do k=r[s+m++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k));while(k&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Nt(n.check,r,m,s)),a-=m,s+=m,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=p6;case p6:if(n.flags&4096){if(a===0)break e;m=0;do k=r[s+m++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k));while(k&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Nt(n.check,r,m,s)),a-=m,s+=m,k)break e}else n.head&&(n.head.comment=null);n.mode=g6;case g6:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=tt;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=ui;break;case y6:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}e.adler=n.check=B6(c),c=0,u=0,n.mode=lm;case lm:if(n.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,OY;e.adler=n.check=1,n.mode=ui;case ui:if(t===jY||t===lf)break e;case jy:if(n.last){c>>>=u&7,u-=u&7,n.mode=Oy;break}for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=b6;break;case 1:if(zY(n),n.mode=cf,t===lf){c>>>=2,u-=2;break e}break;case 2:n.mode=x6;break;case 3:e.msg="invalid block type",n.mode=tt}c>>>=2,u-=2;break;case b6:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=tt;break}if(n.length=c&65535,c=0,u=0,n.mode=Ry,t===lf)break e;case Ry:n.mode=v6;case v6:if(m=n.length,m){if(m>a&&(m=a),m>l&&(m=l),m===0)break e;i.set(r.subarray(s,s+m),o),a-=m,s+=m,l-=m,o+=m,n.length-=m;break}n.mode=ui;break;case x6:for(;u<14;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=tt;break}n.have=0,n.mode=w6;case w6:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.lens[Q[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[Q[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},j=ju(NY,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,j){e.msg="invalid code lengths set",n.mode=tt;break}n.have=0,n.mode=S6;case S6:for(;n.have<n.nlen+n.ndist;){for(;_=n.lencode[c&(1<<n.lenbits)-1],g=_>>>24,b=_>>>16&255,p=_&65535,!(g<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(p<16)c>>>=g,u-=g,n.lens[n.have++]=p;else{if(p===16){for(H=g+2;u<H;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(c>>>=g,u-=g,n.have===0){e.msg="invalid bit length repeat",n.mode=tt;break}k=n.lens[n.have-1],m=3+(c&3),c>>>=2,u-=2}else if(p===17){for(H=g+3;u<H;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=g,u-=g,k=0,m=3+(c&7),c>>>=3,u-=3}else{for(H=g+7;u<H;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=g,u-=g,k=0,m=11+(c&127),c>>>=7,u-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=tt;break}for(;m--;)n.lens[n.have++]=k}}if(n.mode===tt)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=tt;break}if(n.lenbits=9,M={bits:n.lenbits},j=ju(M8,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,j){e.msg="invalid literal/lengths set",n.mode=tt;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},j=ju(U8,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,j){e.msg="invalid distances set",n.mode=tt;break}if(n.mode=cf,t===lf)break e;case cf:n.mode=uf;case uf:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,EY(e,h),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===ui&&(n.back=-1);break}for(n.back=0;_=n.lencode[c&(1<<n.lenbits)-1],g=_>>>24,b=_>>>16&255,p=_&65535,!(g<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(b&&!(b&240)){for(C=g,E=b,N=p;_=n.lencode[N+((c&(1<<C+E)-1)>>C)],g=_>>>24,b=_>>>16&255,p=_&65535,!(C+g<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=C,u-=C,n.back+=C}if(c>>>=g,u-=g,n.back+=g,n.length=p,b===0){n.mode=T6;break}if(b&32){n.back=-1,n.mode=ui;break}if(b&64){e.msg="invalid literal/length code",n.mode=tt;break}n.extra=b&15,n.mode=_6;case _6:if(n.extra){for(H=n.extra;u<H;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=C6;case C6:for(;_=n.distcode[c&(1<<n.distbits)-1],g=_>>>24,b=_>>>16&255,p=_&65535,!(g<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(!(b&240)){for(C=g,E=b,N=p;_=n.distcode[N+((c&(1<<C+E)-1)>>C)],g=_>>>24,b=_>>>16&255,p=_&65535,!(C+g<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=C,u-=C,n.back+=C}if(c>>>=g,u-=g,n.back+=g,b&64){e.msg="invalid distance code",n.mode=tt;break}n.offset=p,n.extra=b&15,n.mode=E6;case E6:if(n.extra){for(H=n.extra;u<H;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=tt;break}n.mode=A6;case A6:if(l===0)break e;if(m=h-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=tt;break}m>n.wnext?(m-=n.wnext,x=n.wsize-m):x=n.wnext-m,m>n.length&&(m=n.length),y=n.window}else y=i,x=o-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do i[o++]=y[x++];while(--m);n.length===0&&(n.mode=uf);break;case T6:if(l===0)break e;i[o++]=n.length,l--,n.mode=uf;break;case Oy:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[s++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?Nt(n.check,i,h,o-h):b0(n.check,i,h,o-h)),h=l,n.wrap&4&&(n.flags?c:B6(c))!==n.check){e.msg="incorrect data check",n.mode=tt;break}c=0,u=0}n.mode=k6;case k6:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=tt;break}c=0,u=0}n.mode=I6;case I6:j=RY;break e;case tt:j=L8;break e;case F8:return P8;case V8:default:return Qn}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<tt&&(n.mode<Oy||t!==a6))&&q8(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?Nt(n.check,i,h,e.next_out-h):b0(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===ui?128:0)+(n.mode===cf||n.mode===Ry?256:0),(d===0&&h===0||t===a6)&&j===ra&&(j=DY),j},HY=e=>{if(ya(e))return Qn;let t=e.state;return t.window&&(t.window=null),e.state=null,ra},GY=(e,t)=>{if(ya(e))return Qn;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,ra):Qn},qY=(e,t)=>{const n=t.length;let r,i,s;return ya(e)||(r=e.state,r.wrap!==0&&r.mode!==lm)?Qn:r.mode===lm&&(i=1,i=b0(i,t,n,0),i!==r.check)?L8:(s=q8(e,t,n,n),s?(r.mode=F8,P8):(r.havedict=1,ra))};var KY=$8,YY=H8,WY=z8,ZY=VY,XY=G8,JY=$Y,QY=HY,eW=GY,tW=qY,nW="pako inflate (from Nodeca project)",bi={inflateReset:KY,inflateReset2:YY,inflateResetKeep:WY,inflateInit:ZY,inflateInit2:XY,inflate:JY,inflateEnd:QY,inflateGetHeader:eW,inflateSetDictionary:tW,inflateInfo:nW};function rW(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var iW=rW;const K8=Object.prototype.toString,{Z_NO_FLUSH:sW,Z_FINISH:oW,Z_OK:w0,Z_STREAM_END:Uy,Z_NEED_DICT:Ly,Z_STREAM_ERROR:aW,Z_DATA_ERROR:j6,Z_MEM_ERROR:lW}=Dp;function Fp(e){this.options=Up.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O8,this.strm.avail_out=0;let n=bi.inflateInit2(this.strm,t.windowBits);if(n!==w0)throw new Error(ta[n]);if(this.header=new iW,bi.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=x0.string2buf(t.dictionary):K8.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=bi.inflateSetDictionary(this.strm,t.dictionary),n!==w0)))throw new Error(ta[n])}Fp.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?oW:sW,K8.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=bi.inflate(n,o),s===Ly&&i&&(s=bi.inflateSetDictionary(n,i),s===w0?s=bi.inflate(n,o):s===j6&&(s=Ly));n.avail_in>0&&s===Uy&&n.state.wrap>0&&e[n.next_in]!==0;)bi.inflateReset(n),s=bi.inflate(n,o);switch(s){case aW:case j6:case Ly:case lW:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===Uy))if(this.options.to==="string"){let l=x0.utf8border(n.output,n.next_out),c=n.next_out-l,u=x0.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===w0&&a===0)){if(s===Uy)return s=bi.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Fp.prototype.onData=function(e){this.chunks.push(e)};Fp.prototype.onEnd=function(e){e===w0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Up.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function cW(e,t){const n=new Fp(t);if(n.push(e),n.err)throw n.msg||ta[n.err];return n.result}var uW=cW,dW={inflate:uW};const{deflate:fW}=_Y,{inflate:hW}=dW;var mW=fW,R6=hW;const pW=d0("bridge"),O6=32*1024,Py=1024*16,gW=50;function D6(e,t){const n=WS(16);return{jsonrpc:"2.0",id:Array.from(n).map(i=>i.toString(16).padStart(2,"0")).join(""),method:e,params:t}}async function yW(e,t,n,r){const i=[];if(t){const s=Buffer.from(mW(JSON.stringify(t))).toString("base64"),o=Math.ceil(s.length/Py),a=Array.from(WS(16)).map(l=>l.toString(16).padStart(2,"0")).join("");for(let l=0;l<o;l++){const c=l*Py,u=Math.min(c+Py,s.length),d=s.slice(c,u),h=JSON.stringify({method:e,params:d,chunk:{id:a,index:l,length:o}}),m=await $1(h,n,r),x=D6("encryptedMessage",{payload:Buffer.from(m).toString("base64")});i.push(JSON.stringify(x))}}else{const s=JSON.stringify({method:e,params:t||{}}),o=await $1(s,n,r),a=D6("encryptedMessage",{payload:Buffer.from(o).toString("base64")});i.push(JSON.stringify(a))}return i}async function M6(e,t,n,r,i){try{const s=await yW(e,t,n,r);for(const o of s){if(o.length>O6)throw new Error(`Payload exceeds max size of ${O6} bytes`);i.send(o),await new Promise(a=>setTimeout(a,gW))}return!0}catch(s){return pW("Error sending encrypted message:",s),!1}}async function df(e,t){if(typeof window<"u"&&window.WebSocket)return new WebSocket(e);try{const n=await Yn(()=>import("./browser-BAGHmbrr.js").then(i=>i.b),[]).catch(()=>{try{return{default:require("ws")}}catch{throw new Error("WebSocket implementation 'ws' not found. Please install it with: npm install ws")}}),r=n.default||n.WebSocket||n;return new r(e,{headers:{Origin:t||"nodejs"}})}catch(n){throw console.error("Failed to create WebSocket client:",n),new Error("WebSocket implementation 'ws' not found. Please install it with: npm install ws")}}const bW=10;var _e;(function(e){e.Connected="connected",e.SecureChannelEstablished="secure-channel-established",e.MessageReceived="message-received",e.ChunkRecieved="chunk-received",e.Error="error",e.Disconnected="disconnected"})(_e||(_e={}));class U6{constructor(t){re(this,"log");re(this,"role");re(this,"origin");re(this,"_bridgeOrigin");re(this,"bridgeId");re(this,"keyPair");re(this,"remotePublicKey");re(this,"sharedSecret");re(this,"websocket");re(this,"secureChannelEstablished",!1);re(this,"intentionalClose",!1);re(this,"keepalive");re(this,"reconnect");re(this,"reconnectAttempts",0);re(this,"maxReconnectAttempts");re(this,"reconnectTimer");re(this,"pingTimer");re(this,"pingInterval",3e4);re(this,"isReconnecting",!1);re(this,"isConnected",!1);re(this,"resumedSession",!1);re(this,"bridgeUrl");re(this,"eventListeners");re(this,"incompleteMessages",new Map);this.role=t.role,this.origin=t.origin,this._bridgeOrigin=t.domain,this.log=d0(`bridge:${this.role}`),this.bridgeId=t.bridgeId||Buffer.from(WS(16)).toString("hex"),this.keyPair=t.keyPair,this.reconnect=t.reconnect??!0,this.keepalive=t.keepalive??!0,this.maxReconnectAttempts=t.reconnectAttempts||bW,this.pingInterval=t.pingInterval||3e4,this.bridgeUrl=t.bridgeUrl??"wss://bridge.zkpassport.id",this.eventListeners={[_e.Connected]:[],[_e.SecureChannelEstablished]:[],[_e.MessageReceived]:[],[_e.ChunkRecieved]:[],[_e.Error]:[],[_e.Disconnected]:[]}}resume(){this.log("Resuming bridge session"),this.secureChannelEstablished=!0,this.resumedSession=!0}on(t,n){return this.eventListeners[t].push(n),()=>this.off(t,n)}off(t,n){const r=this.eventListeners[t].indexOf(n);r!==-1&&this.eventListeners[t].splice(r,1)}async emit(t,...n){await Promise.all(this.eventListeners[t].map(async r=>{try{await r(...n)}catch(i){this.log(`Error in ${t} listener:`,i)}}))}setupWebSocketHandlers(t){t.onopen=async()=>{this.isConnected=!0,this.pingTimer&&clearInterval(this.pingTimer),this.pingTimer=setInterval(()=>{this.websocket&&this.websocket.send(JSON.stringify({method:"ping",params:{}}))},this.pingInterval),this.isReconnecting?(this.log("Reconnected to bridge"),this.resetReconnection(),await this.emit(_e.Connected,!0)):(this.log("Connected to bridge"),await this.emit(_e.Connected,!1),this.resumedSession&&(this.log("Resumed session, emitting secure channel established event"),await this.emit(_e.SecureChannelEstablished)))},t.onmessage=async n=>{try{const r=JSON.parse(n.data);await this.handleWebSocketMessage(r)}catch(r){this.log("Error parsing message:",r),await this.emit(_e.Error,`Error parsing message: ${r}`)}},t.onerror=async n=>{this.log("WebSocket Error:",n),await this.emit(_e.Error,`WebSocket error: ${n}`),this.reconnect&&!this.isConnected&&await this.handleReconnect()},t.onclose=async()=>{if(this.pingTimer&&clearInterval(this.pingTimer),!!this.isConnected){if(this.isConnected=!1,this.log("WebSocket closed"),await this.emit(_e.Disconnected),this.intentionalClose){this.log("Intentional close, not attempting to reconnect");return}this.reconnect&&await this.handleReconnect()}}}async handleWebSocketMessage(t){var n;if(this.role==="creator"&&t.method==="handshake"&&(this.log("Processing handshake message"),await this.handleHandshake(t)),t.method==="ping"&&(this.log("Received ping message, responding with pong"),(n=this.websocket)==null||n.send(JSON.stringify({method:"pong",params:{}}))),t.method==="encryptedMessage"){if(this.log("Processing encrypted message"),this.role==="joiner"&&this._bridgeOrigin){const r=t.origin?vW(t.origin):void 0;if(r!==this._bridgeOrigin){this.log(`WARNING: Origin differs from origin in connection string. Expected ${this._bridgeOrigin} but got ${r}`),this.log("Ignoring received message:",t),this.emit(_e.Error,`Origin ${r} does not match expected origin ${this._bridgeOrigin}`);return}}await this.handleEncryptedMessage(t)}}async handleHandshake(t){var n;this.log("Received handshake:",t);try{const r=new Uint8Array(Buffer.from(t.params.pubkey,"hex"));if(this.secureChannelEstablished&&this.remotePublicKey!==r){this.log("Secure channel already established, ignoring handshake"),this.emit(_e.Error,"Secure channel already established, ignoring handshake"),(n=this.websocket)==null||n.send(JSON.stringify({method:"error",params:{message:"Secure channel already established, ignoring handshake"}}));return}if(this.remotePublicKey=r,this.sharedSecret=await G2(this.keyPair.privateKey,r),await q2(Buffer.from(t.params.greeting,"hex"),this.sharedSecret,this.bridgeId)!=="hello")throw new Error("Invalid greeting");this.websocket&&await M6("hello",null,this.sharedSecret,this.bridgeId,this.websocket),this.secureChannelEstablished?this.log("Secure channel already established, sending handshake message again"):(this.secureChannelEstablished=!0,await this.emit(_e.SecureChannelEstablished))}catch(r){this.log("Error handling handshake:",r),await this.emit(_e.Error,`Error handling handshake: ${r}`)}}async handleEncryptedMessage(t){try{if(!this.sharedSecret)throw new Error("Shared secret not available");const n=new Uint8Array(Buffer.from(t.params.payload,"base64")),r=await q2(n,this.sharedSecret,this.bridgeId),i=JSON.parse(r);if(!i.chunk||i.chunk.length==1)if(i.method==="hello"&&!this.secureChannelEstablished)this.log(`Verified origin: ${t.origin}`),this.secureChannelEstablished=!0,await this.emit(_e.SecureChannelEstablished);else{try{if(i.params&&i.params.length>0){this.log("Received compressed single-part message");const s=Buffer.from(i.params,"base64"),o=R6(s),a=new TextDecoder().decode(o);i.params=JSON.parse(a),delete i.chunk}}catch(s){if(s!=="incorrect header check")throw console.error("Some error happened data:",s),new Error("Failed to parse data: ");this.log("Received uncompressed single-part message");try{i.params=JSON.parse(i.params)}catch{this.log("No JSON parsing needed")}}await this.emit(_e.MessageReceived,i)}else{const{index:s,length:o,id:a}=i.chunk;this.log(`Received chunk (${s+1}/${o}) for chunk id ${a}`),this.incompleteMessages.has(a)||this.incompleteMessages.set(a,{chunks:new Array(o),expectedChunks:o,timestamp:Date.now()});const l=this.incompleteMessages.get(a);if(l.expectedChunks!==o)throw this.log(`Chunk count mismatch for id ${a}. Expected ${l.expectedChunks}, got ${o}`),new Error(`Chunk count mismatch for id ${a}. Expected ${l.expectedChunks}, got ${o}`);if(l.chunks[s]=i.params,await this.emit(_e.ChunkRecieved,i.chunk),(()=>{for(let u=0;u<l.chunks.length;u++)if(l.chunks[u]===void 0)return!1;return!0})()){const u=l.chunks.join(""),d=Buffer.from(u,"base64"),h=R6(d),m=new TextDecoder().decode(h),x=JSON.parse(m);this.log(`Received all chunks for chunk id ${a}, reconstructing message`);const y={method:i.method,params:x};this.incompleteMessages.delete(a),await this.emit(_e.MessageReceived,y)}}}catch(n){this.log("Error decrypting message:",n),await this.emit(_e.Error,`Error decrypting message: ${n}`)}}async handleReconnect(){if(this.reconnectAttempts++,this.reconnectAttempts>this.maxReconnectAttempts){this.log(`WebSocket disconnected, max reconnection attempts (${this.maxReconnectAttempts}) reached`),this.resetReconnection();return}this.isReconnecting=!0,this.log(`WebSocket disconnected, attempting reconnect ${this.reconnectAttempts}/${this.maxReconnectAttempts}`);let t=0;this.reconnectAttempts>1&&(t=1e3*Math.pow(2,this.reconnectAttempts-2),this.log(`Waiting ${t}ms before reconnecting...`)),this.reconnectTimer=setTimeout(async()=>{try{const n=await this._getWsConnectionUrl();this.websocket=await(this.origin?df(n,this.origin):df(n)),this.setupWebSocketHandlers(this.websocket)}catch(n){this.log("Reconnection failed:",n),await this.handleReconnect()}},t)}resetReconnection(){this.log("Resetting reconnection state"),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0),this.reconnectAttempts=0,this.isReconnecting=!1}isBridgeConnected(){return this.websocket?this.websocket.readyState===WebSocket.OPEN:!1}isSecureChannelEstablished(){return this.secureChannelEstablished}async sendSecureMessage(t,n={}){return!this.isConnected||!this.secureChannelEstablished?(await this.emit(_e.Error,"Cannot send message: Secure channel not established"),!1):M6(t,n,this.sharedSecret,this.bridgeId,this.websocket)}onConnect(t){return this.on(_e.Connected,t)}onSecureChannelEstablished(t){return this.on(_e.SecureChannelEstablished,t)}onSecureMessage(t){return this.on(_e.MessageReceived,t)}onError(t){return this.on(_e.Error,t)}onDisconnect(t){return this.on(_e.Disconnected,t)}setRemotePublicKey(t){this.remotePublicKey=t}async computeSharedSecret(){if(!this.remotePublicKey)throw new Error("Remote public key not set");this.sharedSecret=await G2(this.keyPair.privateKey,this.remotePublicKey)}async createEncryptedGreeting(){if(!this.sharedSecret)throw new Error("Shared secret not available");const t=await $1("hello",this.sharedSecret,this.bridgeId);return Buffer.from(t).toString("hex")}async _getWsConnectionUrl(){if(this.role==="creator")return`${this.bridgeUrl}?topic=${this.getBridgeId()}`;if(this.isSecureChannelEstablished())return`${this.bridgeUrl}?topic=${this.getBridgeId()}`;{const t=await this.createEncryptedGreeting();return`${this.bridgeUrl}?topic=${this.getBridgeId()}&pubkey=${this.getPublicKey()}&greeting=${t}`}}getPublicKey(){return tm(this.keyPair.publicKey)}getRemotePublicKey(){if(!this.remotePublicKey)throw new Error("Remote public key not set");return tm(this.remotePublicKey)}getBridgeId(){return this.bridgeId}getWebSocket(){return this.websocket}get bridgeOrigin(){return this.role==="creator"?this.origin:this._bridgeOrigin}get connectionString(){return this.role==="creator"?`obsidion:${this.getPublicKey()}?d=${this.bridgeOrigin}`:`obsidion:${this.getBridgeId()}?d=${this.bridgeOrigin}`}async connect(t){try{this.log("Connecting to bridge",t);const n=await(this.origin?df(t,this.origin):df(t));this.websocket=n,this.setupWebSocketHandlers(n)}catch(n){throw this.log("Error connecting to bridge:",n),await this.emit(_e.Error,`Error connecting to bridge: ${n}`),n}}close(){this.log("Closing the bridge"),this.intentionalClose=!0,this.websocket&&(this.websocket.close(1e3,"Connection closed by user"),this.websocket.onopen=null,this.websocket.onmessage=null,this.websocket.onerror=null,this.websocket.onclose=null),this.emit(_e.Disconnected),this.websocket=void 0,this.secureChannelEstablished=!1,this.sharedSecret=void 0,this.remotePublicKey=void 0,this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0,this.pingTimer&&clearInterval(this.pingTimer),this.pingTimer=void 0,this.eventListeners={[_e.Connected]:[],[_e.SecureChannelEstablished]:[],[_e.MessageReceived]:[],[_e.ChunkRecieved]:[],[_e.Error]:[],[_e.Disconnected]:[]}}}function vW(e){try{const t=new URL(e);return`${t.protocol}//${t.host.split(":")[0]}`}catch{return e}}class o_{static async create(t={}){var a,l;t.debug&&d0.enable("bridge*");const n=t.autoconnect??!0;if(t.origin&&typeof window<"u")throw new Error("Origin can't be specified when running in browser");!t.origin&&typeof window>"u"&&(t.origin="nodejs");const r=t.origin||((a=window==null?void 0:window.location)==null?void 0:a.protocol)+"//"+((l=window==null?void 0:window.location)==null?void 0:l.hostname);if(t.remotePublicKey&&!t.resume)throw new Error("Can only provide remotePublicKey when resuming a bridge session");if(t.resume&&(!t.keyPair||!t.remotePublicKey))throw new Error("Resuming a bridge session requires a keyPair and remotePublicKey");const i=t.keyPair||await Cy(),s=tm(i.publicKey),o=new U6({role:"creator",origin:r,bridgeId:s,keyPair:i,reconnect:t.reconnect,keepalive:t.keepalive,pingInterval:t.pingInterval,bridgeUrl:t.bridgeUrl});return t.resume&&(o.setRemotePublicKey(t.remotePublicKey),await o.computeSharedSecret(),o.resume()),(t.resume||n)&&await o.connect(await o._getWsConnectionUrl()),{websocket:o.getWebSocket(),connection:o,onConnect:c=>o.onConnect(c),onSecureChannelEstablished:c=>o.onSecureChannelEstablished(c),onSecureMessage:c=>o.onSecureMessage(c),onError:c=>o.onError(c),onDisconnect:c=>o.onDisconnect(c),isBridgeConnected:()=>o.isBridgeConnected(),isSecureChannelEstablished:()=>o.isSecureChannelEstablished(),sendMessage:(c,u)=>o.sendSecureMessage(c,u||{}),connectionString:o.connectionString,origin:o.bridgeOrigin,getKeyPair:()=>o.keyPair,getPublicKey:()=>o.getPublicKey(),getRemotePublicKey:()=>o.getRemotePublicKey(),close:()=>o.close()}}static async join(t,n={}){if(n.debug&&d0.enable("bridge*"),n.resume&&!n.keyPair)throw new Error("Resuming a bridge session requires a keyPair");const r=n.keyPair||await Cy(),{domain:i,pubkey:s}=o_.parseConnectionString(t),o=new U6({role:"joiner",domain:i,bridgeId:s,keyPair:r,reconnect:n.reconnect,keepalive:n.keepalive,pingInterval:n.pingInterval,bridgeUrl:n.bridgeUrl});return o.setRemotePublicKey(new Uint8Array(Buffer.from(s,"hex"))),await o.computeSharedSecret(),n.resume&&o.resume(),await o.connect(await o._getWsConnectionUrl()),{websocket:o.getWebSocket(),connection:o,onConnect:a=>o.onConnect(a),onSecureChannelEstablished:a=>o.onSecureChannelEstablished(a),onSecureMessage:a=>o.onSecureMessage(a),onError:a=>o.onError(a),onDisconnect:a=>o.onDisconnect(a),isBridgeConnected:()=>o.isBridgeConnected(),isSecureChannelEstablished:()=>o.isSecureChannelEstablished(),sendMessage:(a,l)=>o.sendSecureMessage(a,l||{}),connectionString:o.connectionString,origin:o.bridgeOrigin,getKeyPair:()=>o.keyPair,getPublicKey:()=>o.getPublicKey(),getRemotePublicKey:()=>o.getRemotePublicKey(),close:()=>o.close()}}static parseConnectionString(t){const n=new URL(t),r=n.pathname;let i=n.searchParams.get("d");if(!i||!r)throw new Error("Invalid connection string: missing required parameters");return i!=="nodejs"&&!i.startsWith("http")&&(i="https://"+i),{domain:i,pubkey:r}}static async generateKeyPair(){return Cy()}}const xW="0.5.5",ss=new Date(1111,10,11);typeof globalThis.Buffer>"u"&&(globalThis.Buffer=ko.Buffer,typeof window<"u"&&(window.Buffer=ko.Buffer));function L6(e){if(e==="ethereum_sepolia")return 11155111;if(e==="local_anvil")return 31337;throw new Error(`Unsupported chain: ${e}`)}function wW(e){if(e===11155111)return"ethereum_sepolia";if(e===31337)return"local_anvil";throw new Error(`Unsupported chain ID: ${e}`)}sS.registerLocale(IG);function SW(e,t){const n=e[t];if(!(n!=null))return!1;for(const i in n)if(n[i]!==void 0&&n[i]!==null)return!0;return!1}function Fy(e){if(e==="Zero Knowledge Republic")return"ZKR";let t;return t=sS.getAlpha3Code(e,"en")||e||"ZKR",t}function Vy(e,t,n,r,i){i[r][t]={...i[r][t],[e]:n}}function _W(e,t,n,r){r[n][e]={...r[n][e],range:t}}function zy(e,t,n,r,i){i[r][t]={...i[r][t],[e]:n}}class CW{constructor(t){if(this.topicToConfig={},this.topicToLocalConfig={},this.topicToPublicKey={},this.topicToBridge={},this.topicToRequestReceived={},this.topicToService={},this.topicToProofs={},this.topicToExpectedProofCount={},this.topicToFailedProofCount={},this.topicToResults={},this.onRequestReceivedCallbacks={},this.onGeneratingProofCallbacks={},this.onBridgeConnectCallbacks={},this.onProofGeneratedCallbacks={},this.onResultCallbacks={},this.onRejectCallbacks={},this.onErrorCallbacks={},!t&&typeof window>"u")throw new Error("Domain argument is required in Node.js environment");this.domain=t||window.location.hostname}async handleResult(t){var a,l,c,u,d;const n=this.topicToResults[t];delete this.topicToResults[t];const{uniqueIdentifier:r,verified:i,queryResultErrors:s}=await this.verify({proofs:this.topicToProofs[t],queryResult:n,validity:(a=this.topicToLocalConfig[t])==null?void 0:a.validity,scope:(l=this.topicToService[t])==null?void 0:l.scope,evmChain:(c=this.topicToService[t])!=null&&c.chainId?wW((u=this.topicToService[t])==null?void 0:u.chainId):void 0,devMode:(d=this.topicToLocalConfig[t])==null?void 0:d.devMode});delete this.topicToProofs[t];const o=this.topicToFailedProofCount[t]>0;await Promise.all(this.onResultCallbacks[t].map(h=>h({uniqueIdentifier:o?void 0:r,verified:o?!1:i,result:n,queryResultErrors:s}))),delete this.topicToExpectedProofCount[t],delete this.topicToFailedProofCount[t]}setExpectedProofCount(t){if(this.topicToLocalConfig[t].mode!=="fast"){this.topicToExpectedProofCount[t]=1;return}const n=Object.keys(this.topicToConfig[t]).filter(i=>SW(this.topicToConfig[t],i)),r=[];for(const i of n)for(const s in this.topicToConfig[t][i])switch(s){case"eq":case"disclose":i!=="age"&&!r.includes("disclose_bytes")?r.push("disclose_bytes"):i==="age"&&!r.includes("compare_age")&&r.push("compare_age");break;case"gte":case"gt":case"lte":case"lt":case"range":i==="age"&&!r.includes("compare_age")?r.push("compare_age"):i==="expiry_date"&&!r.includes("compare_expiry")?r.push("compare_expiry"):i==="birthdate"&&!r.includes("compare_birthdate")&&r.push("compare_birthdate");break;case"in":i==="nationality"&&!r.includes("inclusion_check_nationality")?r.push("inclusion_check_nationality"):i==="issuing_country"&&!r.includes("inclusion_check_issuing_country")&&r.push("inclusion_check_issuing_country");break;case"out":i==="nationality"&&!r.includes("exclusion_check_nationality")?r.push("exclusion_check_nationality"):i==="issuing_country"&&!r.includes("exclusion_check_issuing_country")&&r.push("exclusion_check_issuing_country");break}this.topicToConfig[t].bind&&r.push("bind"),this.topicToExpectedProofCount[t]=r.length===0?4:3+r.length,this.topicToFailedProofCount[t]=0}async handleEncryptedMessage(t,n){if(n.method==="accept")await Promise.all(this.onGeneratingProofCallbacks[t].map(r=>r(t)));else if(n.method==="reject")await Promise.all(this.onRejectCallbacks[t].map(r=>r()));else if(n.method==="proof")this.topicToProofs[t].push(n.params),await Promise.all(this.onProofGeneratedCallbacks[t].map(r=>r(n.params))),this.topicToResults[t]&&this.topicToExpectedProofCount[t]===this.topicToProofs[t].length&&await this.handleResult(t);else if(n.method==="done"){const r=n.params;r.birthdate&&r.birthdate.disclose&&(r.birthdate.disclose.result=new Date(r.birthdate.disclose.result)),r.expiry_date&&r.expiry_date.disclose&&(r.expiry_date.disclose.result=new Date(r.expiry_date.disclose.result)),this.topicToResults[t]=r,this.topicToExpectedProofCount[t]===this.topicToProofs[t].length&&await this.handleResult(t)}else if(n.method==="error"){const r=n.params.error;r&&r==="This ID is not supported yet"?(this.topicToExpectedProofCount[t]=0,this.topicToFailedProofCount[t]+=this.topicToExpectedProofCount[t],this.topicToResults[t]&&await this.handleResult(t)):r&&r.startsWith("Cannot generate proof")&&(this.topicToExpectedProofCount[t]-=1,this.topicToFailedProofCount[t]+=1,this.topicToResults[t]&&this.topicToExpectedProofCount[t]===this.topicToProofs[t].length&&await this.handleResult(t)),await Promise.all(this.onErrorCallbacks[t].map(i=>i(r)))}}getZkPassportRequest(t){return{eq:(n,r)=>((n==="issuing_country"||n==="nationality")&&(r=Fy(r)),zy("eq",n,r,t,this.topicToConfig),this.getZkPassportRequest(t)),gte:(n,r)=>{if(Vy("gte",n,r,t,this.topicToConfig),n==="age"&&(r<1||r>=100))throw new Error("Age must be between 1 and 99 (inclusive)");return this.getZkPassportRequest(t)},lte:(n,r)=>(Vy("lte",n,r,t,this.topicToConfig),this.getZkPassportRequest(t)),lt:(n,r)=>(Vy("lt",n,r,t,this.topicToConfig),this.getZkPassportRequest(t)),range:(n,r,i)=>(_W(n,[r,i],t,this.topicToConfig),this.getZkPassportRequest(t)),in:(n,r)=>(r=r.map(i=>Fy(i)),zy("in",n,r,t,this.topicToConfig),this.getZkPassportRequest(t)),out:(n,r)=>(r=r.map(i=>Fy(i)),zy("out",n,r,t,this.topicToConfig),this.getZkPassportRequest(t)),disclose:n=>(this.topicToConfig[t][n]={...this.topicToConfig[t][n],disclose:!0},this.getZkPassportRequest(t)),bind:(n,r)=>(this.topicToConfig[t].bind={...this.topicToConfig[t].bind,[n]:r},this.getZkPassportRequest(t)),done:()=>(this.setExpectedProofCount(t),{url:this._getUrl(t),requestId:t,onRequestReceived:n=>this.onRequestReceivedCallbacks[t].push(n),onGeneratingProof:n=>this.onGeneratingProofCallbacks[t].push(n),onBridgeConnect:n=>this.onBridgeConnectCallbacks[t].push(n),onProofGenerated:n=>this.onProofGeneratedCallbacks[t].push(n),onResult:n=>this.onResultCallbacks[t].push(n),onReject:n=>this.onRejectCallbacks[t].push(n),onError:n=>this.onErrorCallbacks[t].push(n),isBridgeConnected:()=>this.topicToBridge[t].isBridgeConnected(),requestReceived:()=>this.topicToRequestReceived[t]===!0})}}async request({name:t,logo:n,purpose:r,scope:i,mode:s,evmChain:o,validity:a,devMode:l,topicOverride:c,keyPairOverride:u,cloudProverUrl:d,bridgeUrl:h}){const m=await o_.create({keyPair:u,bridgeId:c,bridgeUrl:h}),x=m.connection.getBridgeId();return this.topicToConfig[x]={},this.topicToService[x]={name:t,logo:n,purpose:r,scope:i,chainId:o?L6(o):void 0,cloudProverUrl:d,bridgeUrl:h},this.topicToProofs[x]=[],this.topicToExpectedProofCount[x]=0,this.topicToLocalConfig[x]={validity:a||6*30,mode:s||"fast",devMode:l||!1},this.onRequestReceivedCallbacks[x]=[],this.onGeneratingProofCallbacks[x]=[],this.onBridgeConnectCallbacks[x]=[],this.onProofGeneratedCallbacks[x]=[],this.onResultCallbacks[x]=[],this.onRejectCallbacks[x]=[],this.onErrorCallbacks[x]=[],this.topicToPublicKey[x]=m.getPublicKey(),this.topicToBridge[x]=m,m.onConnect(async y=>{await Promise.all(this.onBridgeConnectCallbacks[x].map(_=>_()))}),m.onSecureChannelEstablished(async()=>{await Promise.all(this.onRequestReceivedCallbacks[x].map(y=>y()))}),m.onSecureMessage(async y=>{this.handleEncryptedMessage(x,y)}),this.getZkPassportRequest(x)}checkDiscloseBytesPublicInputs(t,n){var a,l,c,u;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;const s=pl.fromDisclosedBytes(((a=t.committedInputs)==null?void 0:a.disclose_bytes).disclosedBytes,"passport"),o=pl.fromDisclosedBytes(((l=t.committedInputs)==null?void 0:l.disclose_bytes).disclosedBytes,"id_card");if(n.document_type&&(n.document_type.eq&&n.document_type.eq.result&&n.document_type.eq.expected!==s.documentType&&(console.warn("Document type does not match the expected document type"),i=!1,r.document_type.eq={expected:`${n.document_type.eq.expected}`,received:`${s.documentType??o.documentType}`,message:"Document type does not match the expected document type"}),((c=n.document_type.disclose)==null?void 0:c.result)!==o.documentType&&(console.warn("Document type does not match the disclosed document type in query result"),i=!1,r.document_type.disclose={expected:`${(u=n.document_type.disclose)==null?void 0:u.result}`,received:`${o.documentType??s.documentType}`,message:"Document type does not match the disclosed document type in query result"})),n.birthdate){const d=s.dateOfBirth,h=o.dateOfBirth;n.birthdate.eq&&n.birthdate.eq.result&&n.birthdate.eq.expected.getTime()!==d.getTime()&&n.birthdate.eq.expected.getTime()!==h.getTime()&&(console.warn("Birthdate does not match the expected birthdate"),i=!1,r.birthdate.eq={expected:`${n.birthdate.eq.expected.toISOString()}`,received:`${(d==null?void 0:d.toISOString())??(h==null?void 0:h.toISOString())}`,message:"Birthdate does not match the expected birthdate"}),n.birthdate.disclose&&n.birthdate.disclose.result.getTime()!==d.getTime()&&n.birthdate.disclose.result.getTime()!==h.getTime()&&(console.warn("Birthdate does not match the disclosed birthdate in query result"),i=!1,r.birthdate.disclose={expected:`${n.birthdate.disclose.result.toISOString()}`,received:`${(d==null?void 0:d.toISOString())??(h==null?void 0:h.toISOString())}`,message:"Birthdate does not match the disclosed birthdate in query result"})}if(n.expiry_date){const d=s.dateOfExpiry,h=o.dateOfExpiry;n.expiry_date.eq&&n.expiry_date.eq.result&&n.expiry_date.eq.expected.getTime()!==d.getTime()&&n.expiry_date.eq.expected.getTime()!==h.getTime()&&(console.warn("Expiry date does not match the expected expiry date"),i=!1,r.expiry_date.eq={expected:`${n.expiry_date.eq.expected.toISOString()}`,received:`${(d==null?void 0:d.toISOString())??(h==null?void 0:h.toISOString())}`,message:"Expiry date does not match the expected expiry date"}),n.expiry_date.disclose&&n.expiry_date.disclose.result.getTime()!==d.getTime()&&n.expiry_date.disclose.result.getTime()!==h.getTime()&&(console.warn("Expiry date does not match the disclosed expiry date in query result"),i=!1,r.expiry_date.disclose={expected:`${n.expiry_date.disclose.result.toISOString()}`,received:`${(d==null?void 0:d.toISOString())??(h==null?void 0:h.toISOString())}`,message:"Expiry date does not match the disclosed expiry date in query result"})}if(n.nationality){const d=s.nationality,h=o.nationality;n.nationality.eq&&n.nationality.eq.result&&n.nationality.eq.expected!==d&&n.nationality.eq.expected!==h&&(console.warn("Nationality does not match the expected nationality"),i=!1,r.nationality.eq={expected:`${n.nationality.eq.expected}`,received:`${d??h}`,message:"Nationality does not match the expected nationality"}),n.nationality.disclose&&n.nationality.disclose.result!==d&&n.nationality.disclose.result!==h&&(console.warn("Nationality does not match the disclosed nationality in query result"),i=!1,r.nationality.disclose={expected:`${n.nationality.disclose.result}`,received:`${d??h}`,message:"Nationality does not match the disclosed nationality in query result"})}if(n.document_number){const d=s.documentNumber,h=o.documentNumber;n.document_number.eq&&n.document_number.eq.result&&n.document_number.eq.expected!==d&&n.document_number.eq.expected!==h&&(console.warn("Document number does not match the expected document number"),i=!1,r.document_number.eq={expected:`${n.document_number.eq.expected}`,received:`${d??h}`,message:"Document number does not match the expected document number"}),n.document_number.disclose&&n.document_number.disclose.result!==d&&n.document_number.disclose.result!==h&&(console.warn("Document number does not match the disclosed document number in query result"),i=!1,r.document_number.disclose={expected:`${n.document_number.disclose.result}`,received:`${d??h}`,message:"Document number does not match the disclosed document number in query result"})}if(n.gender){const d=s.gender,h=o.gender;n.gender.eq&&n.gender.eq.result&&n.gender.eq.expected!==d&&n.gender.eq.expected!==h&&(console.warn("Gender does not match the expected gender"),i=!1,r.gender.eq={expected:`${n.gender.eq.expected}`,received:`${d??h}`,message:"Gender does not match the expected gender"}),n.gender.disclose&&n.gender.disclose.result!==d&&n.gender.disclose.result!==h&&(console.warn("Gender does not match the disclosed gender in query result"),i=!1,r.gender.disclose={expected:`${n.gender.disclose.result}`,received:`${d??h}`,message:"Gender does not match the disclosed gender in query result"})}if(n.issuing_country){const d=s.issuingCountry,h=o.issuingCountry;n.issuing_country.eq&&n.issuing_country.eq.result&&n.issuing_country.eq.expected!==d&&n.issuing_country.eq.expected!==h&&(console.warn("Issuing country does not match the expected issuing country"),i=!1,r.issuing_country.eq={expected:`${n.issuing_country.eq.expected}`,received:`${d??h}`,message:"Issuing country does not match the expected issuing country"}),n.issuing_country.disclose&&n.issuing_country.disclose.result!==d&&n.issuing_country.disclose.result!==h&&(console.warn("Issuing country does not match the disclosed issuing country in query result"),i=!1,r.issuing_country.disclose={expected:`${n.issuing_country.disclose.result}`,received:`${d??h}`,message:"Issuing country does not match the disclosed issuing country in query result"})}if(n.fullname){const d=s.name,h=o.name;n.fullname.eq&&n.fullname.eq.result&&pt(n.fullname.eq.expected).toLowerCase()!==d.toLowerCase()&&pt(n.fullname.eq.expected).toLowerCase()!==h.toLowerCase()&&(console.warn("Fullname does not match the expected fullname"),i=!1,r.fullname.eq={expected:`${n.fullname.eq.expected}`,received:`${d??h}`,message:"Fullname does not match the expected fullname"}),n.fullname.disclose&&pt(n.fullname.disclose.result).toLowerCase()!==d.toLowerCase()&&pt(n.fullname.disclose.result).toLowerCase()!==h.toLowerCase()&&(console.warn("Fullname does not match the disclosed fullname in query result"),i=!1,r.fullname.disclose={expected:`${n.fullname.disclose.result}`,received:`${d??h}`,message:"Fullname does not match the disclosed fullname in query result"})}if(n.firstname){const d=s.firstName&&s.firstName.length>0?s.firstName:s.name,h=o.firstName&&o.firstName.length>0?o.firstName:o.name;n.firstname.eq&&n.firstname.eq.result&&pt(n.firstname.eq.expected).toLowerCase()!==d.toLowerCase()&&pt(n.firstname.eq.expected).toLowerCase()!==h.toLowerCase()&&(console.warn("Firstname does not match the expected firstname"),i=!1,r.firstname.eq={expected:`${n.firstname.eq.expected}`,received:`${d??h}`,message:"Firstname does not match the expected firstname"}),n.firstname.disclose&&pt(n.firstname.disclose.result).toLowerCase()!==d.toLowerCase()&&pt(n.firstname.disclose.result).toLowerCase()!==h.toLowerCase()&&(console.warn("Firstname does not match the disclosed firstname in query result"),i=!1,r.firstname.disclose={expected:`${n.firstname.disclose.result}`,received:`${d??h}`,message:"Firstname does not match the disclosed firstname in query result"})}if(n.lastname){const d=s.lastName&&s.lastName.length>0?s.lastName:s.name,h=o.lastName&&o.lastName.length>0?o.lastName:o.name;n.lastname.eq&&n.lastname.eq.result&&pt(n.lastname.eq.expected).toLowerCase()!==d.toLowerCase()&&pt(n.lastname.eq.expected).toLowerCase()!==h.toLowerCase()&&(console.warn("Lastname does not match the expected lastname"),i=!1,r.lastname.eq={expected:`${n.lastname.eq.expected}`,received:`${d??h}`,message:"Lastname does not match the expected lastname"}),n.lastname.disclose&&pt(n.lastname.disclose.result).toLowerCase()!==d.toLowerCase()&&pt(n.lastname.disclose.result).toLowerCase()!==h.toLowerCase()&&(console.warn("Lastname does not match the disclosed lastname in query result"),i=!1,r.lastname.disclose={expected:`${n.lastname.disclose.result}`,received:`${d??h}`,message:"Lastname does not match the disclosed lastname in query result"})}return{isCorrect:i,queryResultErrors:r}}checkAgePublicInputs(t,n){var u,d,h;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;const s=new Date,o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0),a=yH((u=t.committedInputs)==null?void 0:u.compare_age),l=bH((d=t.committedInputs)==null?void 0:d.compare_age);n.age?(n.age.gte&&n.age.gte.result&&a!==n.age.gte.expected&&(console.warn("Age is not greater than or equal to the expected age"),i=!1,r.age.gte={expected:n.age.gte.expected,received:a,message:"Age is not greater than or equal to the expected age"}),n.age.lt&&n.age.lt.result&&l!==n.age.lt.expected&&(console.warn("Age is not less than the expected age"),i=!1,r.age.lt={expected:n.age.lt.expected,received:l,message:"Age is not less than the expected age"}),n.age.range&&n.age.range.result&&(a!==n.age.range.expected[0]||l!==n.age.range.expected[1])&&(console.warn("Age is not in the expected range"),i=!1,r.age.range={expected:n.age.range.expected,received:[a,l],message:"Age is not in the expected range"}),!n.age.lt&&!n.age.range&&l!=0&&(console.warn("Maximum age should be equal to 0"),i=!1,r.age.disclose={expected:0,received:l,message:"Maximum age should be equal to 0"}),!n.age.gte&&!n.age.range&&a!=0&&(console.warn("Minimum age should be equal to 0"),i=!1,r.age.disclose={expected:0,received:a,message:"Minimum age should be equal to 0"}),n.age.disclose&&(n.age.disclose.result!==a||n.age.disclose.result!==l)&&(console.warn("Age does not match the disclosed age in query result"),i=!1,r.age.disclose={expected:`${a}`,received:`${n.age.disclose.result}`,message:"Age does not match the disclosed age in query result"})):(console.warn("Age is not set in the query result"),i=!1,r.age.disclose={message:"Age is not set in the query result"});const c=py((h=t.committedInputs)==null?void 0:h.compare_age);return c.getTime()!==o.getTime()&&c.getTime()!==o.getTime()-864e5&&(console.warn("Current date in the proof is too old"),i=!1,r.age.disclose={expected:`${o.toISOString()}`,received:`${c.toISOString()}`,message:"Current date in the proof is too old"}),{isCorrect:i,queryResultErrors:r}}checkBirthdatePublicInputs(t,n){var u,d,h;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;const s=new Date,o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),a=u2((u=t.committedInputs)==null?void 0:u.compare_birthdate),l=d2((d=t.committedInputs)==null?void 0:d.compare_birthdate),c=py((h=t.committedInputs)==null?void 0:h.compare_birthdate);return n.birthdate?(n.birthdate.gte&&n.birthdate.gte.result&&a!==n.birthdate.gte.expected&&(console.warn("Birthdate is not greater than or equal to the expected birthdate"),i=!1,r.birthdate.gte={expected:n.birthdate.gte.expected,received:a,message:"Birthdate is not greater than or equal to the expected birthdate"}),n.birthdate.lte&&n.birthdate.lte.result&&l!==n.birthdate.lte.expected&&(console.warn("Birthdate is not less than the expected birthdate"),i=!1,r.birthdate.lte={expected:n.birthdate.lte.expected,received:l,message:"Birthdate is not less than the expected birthdate"}),n.birthdate.range&&n.birthdate.range.result&&(a!==n.birthdate.range.expected[0]||l!==n.birthdate.range.expected[1])&&(console.warn("Birthdate is not in the expected range"),i=!1,r.birthdate.range={expected:n.birthdate.range.expected,received:[a,l],message:"Birthdate is not in the expected range"}),!n.birthdate.lte&&!n.birthdate.range&&l.getTime()!=ss.getTime()&&(console.warn("Maximum birthdate should be equal to default date value"),i=!1,r.birthdate.disclose={expected:`${ss.toISOString()}`,received:`${l.toISOString()}`,message:"Maximum birthdate should be equal to default date value"}),!n.birthdate.gte&&!n.birthdate.range&&a.getTime()!=ss.getTime()&&(console.warn("Minimum birthdate should be equal to default date value"),i=!1,r.birthdate.disclose={expected:`${ss.toISOString()}`,received:`${a.toISOString()}`,message:"Minimum birthdate should be equal to default date value"})):(console.warn("Birthdate is not set in the query result"),i=!1,r.birthdate.disclose={message:"Birthdate is not set in the query result"}),c.getTime()!==o.getTime()&&c.getTime()!==o.getTime()-864e5&&(console.warn("Current date in the proof is too old"),i=!1,r.age.disclose={expected:`${o.toISOString()}`,received:`${c.toISOString()}`,message:"Current date in the proof is too old"}),{isCorrect:i,queryResultErrors:r}}checkExpiryDatePublicInputs(t,n){var u,d,h;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;const s=new Date,o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),a=u2((u=t.committedInputs)==null?void 0:u.compare_expiry),l=d2((d=t.committedInputs)==null?void 0:d.compare_expiry),c=py((h=t.committedInputs)==null?void 0:h.compare_expiry);return n.expiry_date?(n.expiry_date.gte&&n.expiry_date.gte.result&&a!==n.expiry_date.gte.expected&&(console.warn("Expiry date is not greater than or equal to the expected expiry date"),i=!1,r.expiry_date.gte={expected:n.expiry_date.gte.expected,received:a,message:"Expiry date is not greater than or equal to the expected expiry date"}),n.expiry_date.lte&&n.expiry_date.lte.result&&l!==n.expiry_date.lte.expected&&(console.warn("Expiry date is not less than the expected expiry date"),i=!1,r.expiry_date.lte={expected:n.expiry_date.lte.expected,received:l,message:"Expiry date is not less than the expected expiry date"}),n.expiry_date.range&&n.expiry_date.range.result&&(a!==n.expiry_date.range.expected[0]||l!==n.expiry_date.range.expected[1])&&(console.warn("Expiry date is not in the expected range"),i=!1,r.expiry_date.range={expected:n.expiry_date.range.expected,received:[a,l],message:"Expiry date is not in the expected range"}),!n.expiry_date.lte&&!n.expiry_date.range&&l.getTime()!=ss.getTime()&&(console.warn("Maximum expiry date should be equal to default date value"),i=!1,r.expiry_date.disclose={expected:`${ss.toISOString()}`,received:`${l.toISOString()}`,message:"Maximum expiry date should be equal to default date value"}),!n.expiry_date.gte&&!n.expiry_date.range&&a.getTime()!=ss.getTime()&&(console.warn("Minimum expiry date should be equal to default date value"),i=!1,r.expiry_date.disclose={expected:`${ss.toISOString()}`,received:`${a.toISOString()}`,message:"Minimum expiry date should be equal to default date value"})):(console.warn("Expiry date is not set in the query result"),i=!1,r.expiry_date.disclose={message:"Expiry date is not set in the query result"}),c.getTime()!==o.getTime()&&c.getTime()!==o.getTime()-864e5&&(console.warn("Current date in the proof is too old"),i=!1,r.age.disclose={expected:`${o.toISOString()}`,received:`${c.toISOString()}`,message:"Current date in the proof is too old"}),{isCorrect:i,queryResultErrors:r}}checkNationalityExclusionPublicInputs(t,n){var s;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;t.nationality&&t.nationality.out&&t.nationality.out.result?(s=t.nationality.out.expected)!=null&&s.every(o=>n.includes(o))||(console.warn("Nationality exclusion list does not match the one from the query results"),i=!1,r.nationality.out={expected:t.nationality.out.expected,received:n,message:"Nationality exclusion list does not match the one from the query results"}):(!t.nationality||!t.nationality.out)&&(console.warn("Nationality exclusion is not set in the query result"),i=!1,r.nationality.out={message:"Nationality exclusion is not set in the query result"});for(let o=1;o<n.length;o++)n[o]<n[o-1]&&(console.warn("The nationality exclusion list has not been sorted, and thus the proof cannot be trusted"),i=!1,r.nationality.out={message:"The nationality exclusion list has not been sorted, and thus the proof cannot be trusted"});return{isCorrect:i,queryResultErrors:r}}checkIssuingCountryExclusionPublicInputs(t,n){var s;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;t.issuing_country&&t.issuing_country.out&&t.issuing_country.out.result?(s=t.issuing_country.out.expected)!=null&&s.every(o=>n.includes(o))||(console.warn("Issuing country exclusion list does not match the one from the query results"),i=!1,r.issuing_country.out={expected:t.issuing_country.out.expected,received:n,message:"Issuing country exclusion list does not match the one from the query results"}):(!t.issuing_country||!t.issuing_country.out)&&(console.warn("Issuing country exclusion is not set in the query result"),i=!1,r.issuing_country.out={message:"Issuing country exclusion is not set in the query result"});for(let o=1;o<n.length;o++)n[o]<n[o-1]&&(console.warn("The issuing country exclusion list has not been sorted, and thus the proof cannot be trusted"),i=!1,r.issuing_country.out={message:"The issuing country exclusion list has not been sorted, and thus the proof cannot be trusted"});return{isCorrect:i,queryResultErrors:r}}checkNationalityInclusionPublicInputs(t,n){var s;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;return t.nationality&&t.nationality.in&&t.nationality.in.result?(s=t.nationality.in.expected)!=null&&s.every(o=>n.includes(o))||(console.warn("Nationality inclusion list does not match the one from the query results"),i=!1,r.nationality.in={expected:t.nationality.in.expected,received:n,message:"Nationality inclusion list does not match the one from the query results"}):(!t.nationality||!t.nationality.in)&&(console.warn("Nationality inclusion is not set in the query result"),i=!1,r.nationality.in={message:"Nationality inclusion is not set in the query result"}),{isCorrect:i,queryResultErrors:r}}checkIssuingCountryInclusionPublicInputs(t,n){var s;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;return t.issuing_country&&t.issuing_country.in&&t.issuing_country.in.result?(s=t.issuing_country.in.expected)!=null&&s.every(o=>n.includes(o))||(console.warn("Issuing country inclusion list does not match the one from the query results"),i=!1,r.issuing_country.in={expected:t.issuing_country.in.expected,received:n,message:"Issuing country inclusion list does not match the one from the query results"}):(!t.issuing_country||!t.issuing_country.in)&&(console.warn("Issuing country inclusion is not set in the query result"),i=!1,r.issuing_country.in={message:"Issuing country inclusion is not set in the query result"}),{isCorrect:i,queryResultErrors:r}}checkScopeFromDisclosureProof(t,n,r,i,s){let o=!0;return this.domain&&ef(this.domain,s)!==BigInt(t.publicInputs[1])&&(console.warn("The proof comes from a different domain than the one expected"),o=!1,n[r].scope={expected:`Scope: ${ef(this.domain,s).toString()}`,received:`Scope: ${BigInt(t.publicInputs[1]).toString()}`,message:"The proof comes from a different domain than the one expected"}),i&&Zc(i)!==BigInt(t.publicInputs[2])&&(console.warn("The proof uses a different scope than the one expected"),o=!1,n[r].scope={expected:`Scope: ${Zc(i).toString()}`,received:`Scope: ${BigInt(t.publicInputs[2]).toString()}`,message:"The proof uses a different scope than the one expected"}),{isCorrect:o,queryResultErrors:n}}async checkCertificateRegistryRoot(t,n,r){let i=!0;try{await new Iu({chainId:11155111}).isCertificateRootValid(t)||(console.warn("The ID was signed by an unrecognized root certificate"),i=!1,n[r?"outer":"sig_check_dsc"].certificate={expected:"A valid root from ZKPassport Registry",received:`Got invalid certificate registry root: ${t}`,message:"The ID was signed by an unrecognized root certificate"})}catch(s){console.warn(s),console.warn("The ID was signed by an unrecognized root certificate"),i=!1,n[r?"outer":"sig_check_dsc"].certificate={expected:"A valid root from ZKPassport Registry",received:`Got invalid certificate registry root: ${t}`,message:"The ID was signed by an unrecognized root certificate"}}return{isCorrect:i,queryResultErrors:n}}async checkCircuitRegistryRoot(t,n){let r=!0;try{await new Iu({chainId:11155111}).isCircuitRootValid(t)||(console.warn("The proof uses unrecognized circuits"),r=!1,n.outer.circuit={expected:"A valid circuit from ZKPassport Registry",received:`Got invalid circuit registry root: ${t}`,message:"The proof uses an unrecognized circuit"})}catch(i){console.warn(i),console.warn("The proof uses unrecognized circuits"),r=!1,n.outer.circuit={expected:"A valid circuit from ZKPassport Registry",received:`Got invalid circuit registry root: ${t}`,message:"The proof uses an unrecognized circuit"}}return{isCorrect:r,queryResultErrors:n}}checkBindPublicInputs(t,n){var s,o,a,l;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;return t.bind&&(((s=t.bind.user_address)==null?void 0:s.toLowerCase().replace("0x",""))!==((o=n.user_address)==null?void 0:o.toLowerCase().replace("0x",""))&&(console.warn("Bound user address does not match the one from the query results"),i=!1,r.bind.eq={expected:t.bind.user_address,received:n.user_address,message:"Bound user address does not match the one from the query results"}),((a=t.bind.custom_data)==null?void 0:a.trim().toLowerCase())!==((l=n.custom_data)==null?void 0:l.trim().toLowerCase())&&(console.warn("Bound custom data does not match the one from the query results"),i=!1,r.bind.eq={expected:t.bind.custom_data,received:n.custom_data,message:"Bound custom data does not match the one from the query results"})),{isCorrect:i,queryResultErrors:r}}async checkPublicInputs(t,n,r,i,s){var x,y,_,g,b,p,C,E,N,k,j,D,M,H,Q;let o,a,l=!0,c;const u=new Date,d=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0);let h={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};const m=t.sort((G,F)=>{const z=["sig_check_dsc","sig_check_id_data","data_check_integrity","disclose_bytes","compare_age","compare_birthdate","compare_expiry","exclusion_check_nationality","inclusion_check_nationality","exclusion_check_issuing_country","inclusion_check_issuing_country","bind"],B=U=>{const O=U.name||"";return z.findIndex(V=>O.startsWith(V))};return B(G)-B(F)});for(const G of m){const F=gy(G.proof,my(G.name));if((x=G.name)!=null&&x.startsWith("outer")){const z=(y=G.name)==null?void 0:y.startsWith("outer_evm"),B=mG(F),{isCorrect:U,queryResultErrors:O}=await this.checkCertificateRegistryRoot(B.toString(16),h,!0);l=l&&U,h={...h,...O};const V=pG(F),{isCorrect:Z,queryResultErrors:ee}=await this.checkCircuitRegistryRoot(V.toString(16),h);l=l&&Z,h={...h,...ee};const ue=gG(F),de=d.getTime()-ue.getTime(),fe=r??180,Fe=fe*864e5,Ke=d.getTime()-(d.getTime()-Fe);de>=Ke&&(console.warn(`The date used to check the validity of the ID is older than ${fe} days. You can ask the user to rescan their ID or ask them to disclose their expiry date`),l=!1,h.outer.date={expected:`Difference: ${fe} days`,received:`Difference: ${Math.round(de/864e5)} days`,message:"The date used to check the validity of the ID is older than the validity period"});const J=bG(F),X=G.committedInputs,Ne=Object.keys(X||{});if(Ne.length!==J.length&&(console.warn("The proof does not verify all the requested conditions and information"),l=!1,h.outer.commitment={expected:`Number of parameter commitments: ${J.length}`,received:`Number of disclosure proofs provided: ${Ne.length}`,message:"The proof does not verify all the requested conditions and information"}),this.domain&&ef(this.domain,s)!==x2(F)&&(console.warn("The proof comes from a different domain than the one expected"),l=!1,h.outer.scope={expected:`Scope: ${ef(this.domain,s).toString()}`,received:`Scope: ${x2(F).toString()}`,message:"The proof comes from a different domain than the one expected"}),i&&Zc(i)!==w2(F)&&(console.warn("The proof uses a different scope than the one expected"),l=!1,h.outer.scope={expected:`Scope: ${Zc(i).toString()}`,received:`Scope: ${w2(F).toString()}`,message:"The proof uses a different scope than the one expected"}),X!=null&&X.compare_age){const K=X==null?void 0:X.compare_age,te=z?await xH(K.currentDate,K.minAge,K.maxAge):await c2(K.currentDate,K.minAge,K.maxAge);J.includes(te)||(console.warn("This proof does not verify the age"),l=!1,h.age.commitment={expected:`Age parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the age"});const{isCorrect:oe,queryResultErrors:ye}=this.checkAgePublicInputs(G,n);l=l&&oe,h={...h,...ye}}else if(X!=null&&X.compare_birthdate){const K=X==null?void 0:X.compare_birthdate,te=z?await f2(ke.BIRTHDATE,K.currentDate,K.minDate,K.maxDate):await Xd(ke.BIRTHDATE,K.currentDate,K.minDate,K.maxDate);J.includes(te)||(console.warn("This proof does not verify the birthdate"),l=!1,h.birthdate.commitment={expected:`Birthdate parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the birthdate"});const{isCorrect:oe,queryResultErrors:ye}=this.checkBirthdatePublicInputs(G,n);l=l&&oe,h={...h,...ye}}else if(X!=null&&X.compare_expiry){const K=X==null?void 0:X.compare_expiry,te=z?await f2(ke.EXPIRY_DATE,K.currentDate,K.minDate,K.maxDate):await Xd(ke.EXPIRY_DATE,K.currentDate,K.minDate,K.maxDate);J.includes(te)||(console.warn("This proof does not verify the expiry date"),l=!1,h.expiry_date.commitment={expected:`Expiry date parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the expiry date"});const{isCorrect:oe,queryResultErrors:ye}=this.checkExpiryDatePublicInputs(G,n);l=l&&oe,h={...h,...ye}}else if(X!=null&&X.disclose_bytes){const K=X==null?void 0:X.disclose_bytes,te=z?await CH(K.discloseMask,K.disclosedBytes):await h2(K.discloseMask,K.disclosedBytes);J.includes(te)||(console.warn("This proof does not verify any of the data disclosed"),l=!1,h.disclose.commitment={expected:`Disclosure parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify any of the data disclosed"});const{isCorrect:oe,queryResultErrors:ye}=this.checkDiscloseBytesPublicInputs(G,n);l=l&&oe,h={...h,...ye}}else if(X!=null&&X.inclusion_check_nationality){const K=X==null?void 0:X.inclusion_check_nationality,te=z?await Jd(ke.NATIONALITY_INCLUSION,K.countries):await rs(ke.NATIONALITY_INCLUSION,K.countries);J.includes(te)||(console.warn("This proof does not verify the inclusion of the nationality"),l=!1,h.nationality.commitment={expected:`Nationality parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the inclusion of the nationality"});const oe=K.countries,{isCorrect:ye,queryResultErrors:Ve}=this.checkNationalityInclusionPublicInputs(n,oe);l=l&&ye,h={...h,...Ve}}else if(X!=null&&X.inclusion_check_issuing_country){const K=X==null?void 0:X.inclusion_check_issuing_country,te=z?await Jd(ke.ISSUING_COUNTRY_INCLUSION,K.countries):await rs(ke.ISSUING_COUNTRY_INCLUSION,K.countries);J.includes(te)||(console.warn("This proof does not verify the inclusion of the issuing country"),l=!1,h.issuing_country.commitment={expected:`Issuing country parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the inclusion of the issuing country"});const oe=K.countries,{isCorrect:ye,queryResultErrors:Ve}=this.checkIssuingCountryInclusionPublicInputs(n,oe);l=l&&ye,h={...h,...Ve}}else if(X!=null&&X.exclusion_check_nationality){const K=X==null?void 0:X.exclusion_check_nationality,te=z?await Jd(ke.NATIONALITY_EXCLUSION,K.countries):await rs(ke.NATIONALITY_EXCLUSION,K.countries);J.includes(te)||(console.warn("This proof does not verify the exclusion of the nationality"),l=!1,h.nationality.commitment={expected:`Nationality parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the exclusion of the nationality"});const oe=K.countries,{isCorrect:ye,queryResultErrors:Ve}=this.checkNationalityExclusionPublicInputs(n,oe);l=l&&ye,h={...h,...Ve}}else if(X!=null&&X.exclusion_check_issuing_country){const K=X==null?void 0:X.exclusion_check_issuing_country,te=z?await Jd(ke.ISSUING_COUNTRY_EXCLUSION,K.countries):await rs(ke.ISSUING_COUNTRY_EXCLUSION,K.countries);J.includes(te)||(console.warn("This proof does not verify the exclusion of the issuing country"),l=!1,h.issuing_country.commitment={expected:`Issuing country parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the exclusion of the issuing country"});const oe=K.countries,{isCorrect:ye,queryResultErrors:Ve}=this.checkIssuingCountryExclusionPublicInputs(n,oe);l=l&&ye,h={...h,...Ve}}else if(X!=null&&X.bind){const K=X==null?void 0:X.bind,te=z?await PH(Qd(K.data)):await m2(Qd(K.data));J.includes(te)||(console.warn("This proof does not verify the bound data"),l=!1,h.bind.commitment={expected:`Bind parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the bound data"});const{isCorrect:oe,queryResultErrors:ye}=this.checkBindPublicInputs(n,K.data);l=l&&oe,h={...h,...ye}}c=yG(F).toString(10)}else if((_=G.name)!=null&&_.startsWith("sig_check_dsc")){a=AH(F);const z=EH(F),{isCorrect:B,queryResultErrors:U}=await this.checkCertificateRegistryRoot(z.toString(16),h,!1);l=l&&B,h={...h,...U}}else if((g=G.name)!=null&&g.startsWith("sig_check_id_data"))o=DH(F),o!==a&&(console.warn("Failed to check the link between the certificate signature and ID signature"),l=!1,h.sig_check_id_data.commitment={expected:`Commitment: ${(a==null?void 0:a.toString())||"undefined"}`,received:`Commitment: ${(o==null?void 0:o.toString())||"undefined"}`,message:"Failed to check the link between the certificate signature and ID signature"}),a=MH(F);else if((b=G.name)!=null&&b.startsWith("data_check_integrity")){o=kH(F),o!==a&&(console.warn("Failed to check the link between the ID signature and the data signed"),l=!1,h.data_check_integrity.commitment={expected:`Commitment: ${(a==null?void 0:a.toString())||"undefined"}`,received:`Commitment: ${(o==null?void 0:o.toString())||"undefined"}`,message:"Failed to check the link between the ID signature and the data signed"}),a=IH(F);const z=BH(F),B=d.getTime()-z.getTime(),U=r??180,O=U*864e5,V=d.getTime()-(d.getTime()-O);B>=V&&(console.warn(`The date used to check the validity of the ID is older than ${U} days. You can ask the user to rescan their ID or ask them to disclose their expiry date`),l=!1,h.data_check_integrity.date={expected:`Difference: ${U} days`,received:`Difference: ${Math.round(B/864e5)} days`,message:"The date used to check the validity of the ID is older than the validity period"})}else if(G.name==="disclose_bytes"){o=is(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the data to disclose"),l=!1,h.disclose.commitment={expected:`Commitment: ${(a==null?void 0:a.toString())||"undefined"}`,received:`Commitment: ${(o==null?void 0:o.toString())||"undefined"}`,message:"Failed to check the link between the validity of the ID and the data to disclose"});const z=li(F),B=await h2(((p=G.committedInputs)==null?void 0:p.disclose_bytes).discloseMask,((C=G.committedInputs)==null?void 0:C.disclose_bytes).disclosedBytes);z!==B&&(console.warn("The disclosed data does not match the data committed by the proof"),l=!1,h.disclose.commitment={expected:`Commitment: ${B}`,received:`Commitment: ${z}`,message:"The disclosed data does not match the data committed by the proof"});const{isCorrect:U,queryResultErrors:O}=this.checkScopeFromDisclosureProof(F,h,"disclose",i);l=l&&U,h={...h,...O};const{isCorrect:V,queryResultErrors:Z}=this.checkDiscloseBytesPublicInputs(G,n);l=l&&V&&U,h={...h,...Z,...O},c=ai(F).toString(10)}else if(G.name==="compare_age"){o=is(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the age derived from it"),l=!1,h.age.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the age derived from it"});const z=li(F),B=(E=G.committedInputs)==null?void 0:E.compare_age,U=await c2(B.currentDate,B.minAge,B.maxAge);z!==U&&(console.warn("The conditions for the age check do not match the conditions checked by the proof"),l=!1,h.age.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${z}`,message:"The conditions for the age check do not match the conditions checked by the proof"});const{isCorrect:O,queryResultErrors:V}=this.checkScopeFromDisclosureProof(F,h,"age",i),{isCorrect:Z,queryResultErrors:ee}=this.checkAgePublicInputs(G,n);l=l&&Z&&O,h={...h,...ee,...V},c=ai(F).toString(10)}else if(G.name==="compare_birthdate"){o=is(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the birthdate derived from it"),l=!1,h.birthdate.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the birthdate derived from it"});const z=li(F),B=(N=G.committedInputs)==null?void 0:N.compare_birthdate,U=await Xd(ke.BIRTHDATE,B.currentDate,B.minDate,B.maxDate);z!==U&&(console.warn("The conditions for the birthdate check do not match the conditions checked by the proof"),l=!1,h.birthdate.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${z}`,message:"The conditions for the birthdate check do not match the conditions checked by the proof"});const{isCorrect:O,queryResultErrors:V}=this.checkScopeFromDisclosureProof(F,h,"birthdate",i),{isCorrect:Z,queryResultErrors:ee}=this.checkBirthdatePublicInputs(G,n);l=l&&Z&&O,h={...h,...ee,...V},c=ai(F).toString(10)}else if(G.name==="compare_expiry"){o=is(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and its expiry date"),l=!1,h.expiry_date.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and its expiry date"});const z=li(F),B=(k=G.committedInputs)==null?void 0:k.compare_expiry,U=await Xd(ke.EXPIRY_DATE,B.currentDate,B.minDate,B.maxDate);z!==U&&(console.warn("The conditions for the expiry date check do not match the conditions checked by the proof"),l=!1,h.expiry_date.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${z}`,message:"The conditions for the expiry date check do not match the conditions checked by the proof"});const{isCorrect:O,queryResultErrors:V}=this.checkScopeFromDisclosureProof(F,h,"expiry_date",i),{isCorrect:Z,queryResultErrors:ee}=this.checkExpiryDatePublicInputs(G,n);l=l&&Z&&O,h={...h,...ee,...V},c=ai(F).toString(10)}else if(G.name==="exclusion_check_nationality"){o=is(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the nationality exclusion check"),l=!1,h.nationality.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the nationality exclusion check"});const z=((j=G.committedInputs)==null?void 0:j.exclusion_check_nationality).countries,B=li(F),U=await rs(ke.NATIONALITY_EXCLUSION,z,!0);B!==U&&(console.warn("The committed country list for the exclusion check does not match the one from the proof"),l=!1,h.nationality.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${B}`,message:"The committed country list for the exclusion check does not match the one from the proof"});const{isCorrect:O,queryResultErrors:V}=this.checkScopeFromDisclosureProof(F,h,"nationality",i),{isCorrect:Z,queryResultErrors:ee}=this.checkNationalityExclusionPublicInputs(n,z);l=l&&Z&&O,h={...h,...ee,...V},c=ai(F).toString(10)}else if(G.name==="exclusion_check_issuing_country"){o=is(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the issuing country exclusion check"),l=!1,h.nationality.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the issuing country exclusion check"});const z=((D=G.committedInputs)==null?void 0:D.exclusion_check_issuing_country).countries,B=li(F),U=await rs(ke.ISSUING_COUNTRY_EXCLUSION,z,!0);B!==U&&(console.warn("The committed country list for the issuing country exclusion check does not match the one from the proof"),l=!1,h.issuing_country.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${B}`,message:"The committed country list for the issuing country exclusion check does not match the one from the proof"});const{isCorrect:O,queryResultErrors:V}=this.checkScopeFromDisclosureProof(F,h,"nationality",i),{isCorrect:Z,queryResultErrors:ee}=this.checkIssuingCountryExclusionPublicInputs(n,z);l=l&&Z&&O,h={...h,...ee,...V},c=ai(F).toString(10)}else if(G.name==="inclusion_check_nationality"){o=is(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the nationality inclusion check"),l=!1,h.nationality.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the nationality inclusion check"});const z=((M=G.committedInputs)==null?void 0:M.inclusion_check_nationality).countries,B=li(F),U=await rs(ke.NATIONALITY_INCLUSION,z,!1);B!==U&&(console.warn("The committed country list for the nationality inclusion check does not match the one from the proof"),l=!1,h.nationality.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${B}`,message:"The committed country list for the nationality inclusion check does not match the one from the proof"});const{isCorrect:O,queryResultErrors:V}=this.checkScopeFromDisclosureProof(F,h,"nationality",i),{isCorrect:Z,queryResultErrors:ee}=this.checkNationalityInclusionPublicInputs(n,z);l=l&&Z&&O,h={...h,...ee,...V},c=ai(F).toString(10)}else if(G.name==="inclusion_check_issuing_country"){o=is(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the issuing country inclusion check"),l=!1,h.nationality.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the issuing country inclusion check"});const z=((H=G.committedInputs)==null?void 0:H.inclusion_check_issuing_country).countries,B=li(F),U=await rs(ke.ISSUING_COUNTRY_INCLUSION,z,!1);B!==U&&(console.warn("The committed country list for the issuing country inclusion check does not match the one from the proof"),l=!1,h.issuing_country.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${B}`,message:"The committed country list for the issuing country inclusion check does not match the one from the proof"});const{isCorrect:O,queryResultErrors:V}=this.checkScopeFromDisclosureProof(F,h,"nationality",i),{isCorrect:Z,queryResultErrors:ee}=this.checkIssuingCountryInclusionPublicInputs(n,z);l=l&&Z&&O,h={...h,...ee,...V},c=ai(F).toString(10)}else if(G.name==="bind"){const z=(Q=G.committedInputs)==null?void 0:Q.bind,B=li(F),U=await m2(Qd(z.data));B!==U&&(console.warn("The bound data does not match the one from the proof"),l=!1,h.bind.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${B}`,message:"The bound data does not match the one from the proof"});const{isCorrect:O,queryResultErrors:V}=this.checkBindPublicInputs(n,z.data);l=l&&O,h={...h,...V},c=ai(F).toString(10)}}return{isCorrect:l,uniqueIdentifier:c,queryResultErrors:h}}async verify({proofs:t,queryResult:n,validity:r,scope:i,evmChain:s,devMode:o=!1,writingDirectory:a}){var b;if(!t||t.length===0)return{uniqueIdentifier:void 0,verified:!1};const l=n;l.birthdate&&l.birthdate.disclose&&(l.birthdate.disclose.result=new Date(l.birthdate.disclose.result)),l.expiry_date&&l.expiry_date.disclose&&(l.expiry_date.disclose.result=new Date(l.expiry_date.disclose.result));const{BarretenbergVerifier:c}=await Yn(async()=>{const{BarretenbergVerifier:p}=await import("./index-CjpIrwQO.js");return{BarretenbergVerifier:p}},[]);typeof window>"u"&&!a&&(a="/tmp");const u=new c({crsPath:a?a+"/.bb-crs":void 0});let d=!0,h,m;const x=s?L6(s):void 0,{isCorrect:y,uniqueIdentifier:_,queryResultErrors:g}=await this.checkPublicInputs(t,l,r,i,x);if(h=_,d=y,m=y?void 0:g,h&&(BigInt(h)===BigInt(1)||BigInt(h)===BigInt(0))&&!o&&(d=!1,console.warn("You are trying to verify a mock proof. This is only allowed in dev mode. To enable dev mode, set the `devMode` parameter to `true` in the request function parameters.")),d){const p=new Iu({chainId:11155111}),C=await p.getCircuitManifest(void 0,{version:t[0].version});for(const E of t){const N=gy(E.proof,my(E.name)),k=await p.getPackagedCircuit(E.name,C);if((b=E.name)!=null&&b.startsWith("outer_evm"))try{const{createPublicClient:j,http:D}=await Yn(async()=>{const{createPublicClient:O,http:V}=await import("./index-D25j6Rf9.js");return{createPublicClient:O,http:V}},__vite__mapDeps([3,4])),{sepolia:M}=await Yn(async()=>{const{sepolia:O}=await import("./index-BXoX4cjz.js");return{sepolia:O}},__vite__mapDeps([5,4])),{address:H,abi:Q,functionName:G}=this.getSolidityVerifierDetails("ethereum_sepolia"),F=j({chain:M,transport:D("https://ethereum-sepolia-rpc.publicnode.com")}),z=this.getSolidityVerifierParameters({proof:E,validityPeriodInDays:r,domain:this.domain,scope:i,devMode:o}),B=await F.readContract({address:H,abi:Q,functionName:G,args:[z]});d=Array.isArray(B)?!!B[0]:!1}catch(j){console.warn("Error verifying proof",j),d=!1}else{const j=ko.Buffer.from(k.vkey,"base64");try{d=await u.verifyUltraHonkProof({proof:ko.Buffer.from(N.proof.join(""),"hex"),publicInputs:N.publicInputs},new Uint8Array(j))}catch(D){console.warn("Error verifying proof",D),d=!1}}if(!d)break}}return h=d?h:void 0,{uniqueIdentifier:h,verified:d,queryResultErrors:m}}getSolidityVerifierDetails(t){const n={functionName:"verifyProof",abi:NG.abi};if(t==="ethereum_sepolia")return{...n,address:"0xDDeFf76024052D26B78A7Fac66FFbd6fbc5bd9Ad"};if(t==="local_anvil")return{...n,address:"0x0"};throw new Error(`Unsupported network: ${t}`)}getSolidityVerifierParameters({proof:t,validityPeriodInDays:n=7,domain:r,scope:i,devMode:s=!1}){var y,_;if(!((y=t.name)!=null&&y.startsWith("outer_evm")))throw new Error("This proof cannot be verified on an EVM chain. Please make sure to use the `compressed-evm` mode.");const o=gy(t.proof,my(t.name)),a=o.proof.slice(16),l=o.publicInputs.concat(o.proof.slice(0,16).map(g=>`0x${g}`));let c=[],u=[];for(const g in t.committedInputs){const b=FH(g),p=g;c.push({circuitName:p,count:b});let C="";if(p==="inclusion_check_issuing_country_evm"||p==="inclusion_check_nationality_evm"||p==="exclusion_check_issuing_country_evm"||p==="exclusion_check_nationality_evm"){const N=t.committedInputs[p].countries;(p==="exclusion_check_issuing_country_evm"||p==="exclusion_check_nationality_evm")&&N.sort((j,D)=>j.localeCompare(D)),C=(()=>{switch(p){case"exclusion_check_issuing_country_evm":return ke.ISSUING_COUNTRY_EXCLUSION;case"exclusion_check_nationality_evm":return ke.NATIONALITY_EXCLUSION;case"inclusion_check_issuing_country_evm":return ke.ISSUING_COUNTRY_INCLUSION;case"inclusion_check_nationality_evm":return ke.NATIONALITY_INCLUSION}})().toString(16).padStart(2,"0")+Dl(N.map(j=>Array.from(new TextEncoder().encode(j))).flat(),600).map(j=>j.toString(16).padStart(2,"0")).join("")}else if(p==="compare_age_evm"){const E=t.committedInputs[p],N=Array.from(new TextEncoder().encode(E.currentDate));C=ke.AGE.toString(16).padStart(2,"0")+N.map(k=>k.toString(16).padStart(2,"0")).join("")+E.minAge.toString(16).padStart(2,"0")+E.maxAge.toString(16).padStart(2,"0")}else if(p==="compare_birthdate_evm"){const E=t.committedInputs[p],N=Array.from(new TextEncoder().encode(E.currentDate)),k=Array.from(new TextEncoder().encode(E.minDate)),j=Array.from(new TextEncoder().encode(E.maxDate));C=ke.BIRTHDATE.toString(16).padStart(2,"0")+N.map(D=>D.toString(16).padStart(2,"0")).join("")+k.map(D=>D.toString(16).padStart(2,"0")).join("")+j.map(D=>D.toString(16).padStart(2,"0")).join("")}else if(p==="compare_expiry_evm"){const E=t.committedInputs[p],N=Array.from(new TextEncoder().encode(E.currentDate)),k=Array.from(new TextEncoder().encode(E.minDate)),j=Array.from(new TextEncoder().encode(E.maxDate));C=ke.EXPIRY_DATE.toString(16).padStart(2,"0")+N.map(D=>D.toString(16).padStart(2,"0")).join("")+k.map(D=>D.toString(16).padStart(2,"0")).join("")+j.map(D=>D.toString(16).padStart(2,"0")).join("")}else if(p==="disclose_bytes_evm"){const E=t.committedInputs[p];C=ke.DISCLOSE.toString(16).padStart(2,"0")+E.discloseMask.map(N=>N.toString(16).padStart(2,"0")).join("")+E.disclosedBytes.map(N=>N.toString(16).padStart(2,"0")).join("")}else if(p==="bind_evm"){const E=t.committedInputs[p];C=ke.BIND.toString(16).padStart(2,"0")+Dl(Qd(E.data),500).map(N=>N.toString(16).padStart(2,"0")).join("")}else throw new Error(`Unsupported circuit for EVM verification: ${p}`);u.push({circuitName:p,inputs:C})}const d=o.publicInputs.slice(12,o.publicInputs.length-1);let h="",m=[];for(const g of d){const b=u.find(p=>{const C=fc(Yz(p.inputs)),E=new Uint8Array(C.length);for(let N=0;N<C.length-1;N++)E[N+1]=C[N];return E[0]=0,tm(E)===g.replace("0x","")});if(b){const p=(_=c.find(C=>C.circuitName===b.circuitName))==null?void 0:_.count;if(p)m.push(p),h+=b.inputs;else throw new Error(`Unknown circuit name: ${b.circuitName}`)}else throw new Error(`Invalid commitment: ${g}`)}return{vkeyHash:`0x${t.vkeyHash.replace("0x","").padStart(64,"0")}`,proof:`0x${a.join("")}`,publicInputs:l,committedInputs:`0x${h}`,committedInputCounts:m,validityPeriodInDays:n,domain:r??this.domain,scope:i??"",devMode:s}}_getUrl(t){const n=ko.Buffer.from(JSON.stringify(this.topicToConfig[t])).toString("base64"),r=ko.Buffer.from(JSON.stringify(this.topicToService[t])).toString("base64"),i=this.topicToPublicKey[t];return`https://zkpassport.id/r?d=${this.domain}&t=${t}&c=${n}&s=${r}&p=${i}&m=${this.topicToLocalConfig[t].mode}&v=${xW}`}getUrl(t){return this._getUrl(t)}cancelRequest(t){this.topicToBridge[t]&&(this.topicToBridge[t].close(),delete this.topicToBridge[t]),delete this.topicToPublicKey[t],delete this.topicToConfig[t],delete this.topicToLocalConfig[t],delete this.topicToProofs[t],delete this.topicToExpectedProofCount[t],delete this.topicToFailedProofCount[t],delete this.topicToResults[t],this.onRequestReceivedCallbacks[t]=[],this.onGeneratingProofCallbacks[t]=[],this.onBridgeConnectCallbacks[t]=[],this.onProofGeneratedCallbacks[t]=[],this.onRejectCallbacks[t]=[],this.onErrorCallbacks[t]=[]}clearAllRequests(){for(const t in this.topicToBridge)this.cancelRequest(t)}}class EW{constructor(){this.zkPassport=new CW("http://localhost:3000")}async verifyAge(t=18){try{const n=await this.zkPassport.request({name:"ZKPassport",logo:"https://gods-hand.vercel.app/assets/hand.png",purpose:`Prove you are ${t}+ years old`,scope:"adult",devMode:!0}),{url:r,onResult:i}=n.gte("age",t).done();return{url:r,onResult:i}}catch(n){throw console.error("ZKPassport verification error:",n),n}}async verifyAgeForVoting(){return this.verifyAge(18)}}const AW=new EW;var bd={},TW=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Y8={},On={};let a_;const kW=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];On.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};On.getSymbolTotalCodewords=function(t){return kW[t]};On.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};On.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');a_=t};On.isKanjiModeEnabled=function(){return typeof a_<"u"};On.toSJIS=function(t){return a_(t)};var Vp={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(Vp);function W8(){this.buffer=[],this.length=0}W8.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var IW=W8;function vd(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}vd.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)};vd.prototype.get=function(e,t){return this.data[e*this.size+t]};vd.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};vd.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var BW=vd,Z8={};(function(e){const t=On.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(Z8);var X8={};const NW=On.getSymbolSize,P6=7;X8.getPositions=function(t){const n=NW(t);return[[0,0],[n-P6,0],[0,n-P6]]};var J8={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let d=0;d<s;d++){a=l=0,c=u=null;for(let h=0;h<s;h++){let m=i.get(d,h);m===c?a++:(a>=5&&(o+=t.N1+(a-5)),c=m,a=1),m=i.get(h,d),m===u?l++:(l>=5&&(o+=t.N1+(l-5)),u=m,l=1)}a>=5&&(o+=t.N1+(a-5)),l>=5&&(o+=t.N1+(l-5))}return o},e.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},e.getBestMask=function(i,s){const o=Object.keys(e.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),e.applyMask(c,i);const u=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(J8);var zp={};const As=Vp,ff=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],hf=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];zp.getBlocksCount=function(t,n){switch(n){case As.L:return ff[(t-1)*4+0];case As.M:return ff[(t-1)*4+1];case As.Q:return ff[(t-1)*4+2];case As.H:return ff[(t-1)*4+3];default:return}};zp.getTotalCodewordsCount=function(t,n){switch(n){case As.L:return hf[(t-1)*4+0];case As.M:return hf[(t-1)*4+1];case As.Q:return hf[(t-1)*4+2];case As.H:return hf[(t-1)*4+3];default:return}};var Q8={},$p={};const Ru=new Uint8Array(512),cm=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Ru[n]=t,cm[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Ru[n]=Ru[n-255]})();$p.log=function(t){if(t<1)throw new Error("log("+t+")");return cm[t]};$p.exp=function(t){return Ru[t]};$p.mul=function(t,n){return t===0||n===0?0:Ru[cm[t]+cm[n]]};(function(e){const t=$p;e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=t.mul(r[o],i[a]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=t.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}})(Q8);const e5=Q8;function l_(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}l_.prototype.initialize=function(t){this.degree=t,this.genPoly=e5.generateECPolynomial(this.degree)};l_.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=e5.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var jW=l_,t5={},no={},c_={};c_.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var ei={};const n5="[0-9]+",RW="[A-Z $%*+\\-./:]+";let S0="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";S0=S0.replace(/u/g,"\\u");const OW="(?:(?![A-Z0-9 $%*+\\-./:]|"+S0+`)(?:.|[\r
]))+`;ei.KANJI=new RegExp(S0,"g");ei.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ei.BYTE=new RegExp(OW,"g");ei.NUMERIC=new RegExp(n5,"g");ei.ALPHANUMERIC=new RegExp(RW,"g");const DW=new RegExp("^"+S0+"$"),MW=new RegExp("^"+n5+"$"),UW=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ei.testKanji=function(t){return DW.test(t)};ei.testNumeric=function(t){return MW.test(t)};ei.testAlphanumeric=function(t){return UW.test(t)};(function(e){const t=c_,n=ei;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,o){if(e.isValid(s))return s;try{return r(s)}catch{return o}}})(no);(function(e){const t=On,n=zp,r=Vp,i=no,s=c_,o=7973,a=t.getBCHDigit(o);function l(h,m,x){for(let y=1;y<=40;y++)if(m<=e.getCapacity(y,x,h))return y}function c(h,m){return i.getCharCountIndicator(h,m)+4}function u(h,m){let x=0;return h.forEach(function(y){const _=c(y.mode,m);x+=_+y.getBitsLength()}),x}function d(h,m){for(let x=1;x<=40;x++)if(u(h,x)<=e.getCapacity(x,m,i.MIXED))return x}e.from=function(m,x){return s.isValid(m)?parseInt(m,10):x},e.getCapacity=function(m,x,y){if(!s.isValid(m))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const _=t.getSymbolTotalCodewords(m),g=n.getTotalCodewordsCount(m,x),b=(_-g)*8;if(y===i.MIXED)return b;const p=b-c(y,m);switch(y){case i.NUMERIC:return Math.floor(p/10*3);case i.ALPHANUMERIC:return Math.floor(p/11*2);case i.KANJI:return Math.floor(p/13);case i.BYTE:default:return Math.floor(p/8)}},e.getBestVersionForData=function(m,x){let y;const _=r.from(x,r.M);if(Array.isArray(m)){if(m.length>1)return d(m,_);if(m.length===0)return 1;y=m[0]}else y=m;return l(y.mode,y.getLength(),_)},e.getEncodedBits=function(m){if(!s.isValid(m)||m<7)throw new Error("Invalid QR Code version");let x=m<<12;for(;t.getBCHDigit(x)-a>=0;)x^=o<<t.getBCHDigit(x)-a;return m<<12|x}})(t5);var r5={};const Q1=On,i5=1335,LW=21522,F6=Q1.getBCHDigit(i5);r5.getEncodedBits=function(t,n){const r=t.bit<<3|n;let i=r<<10;for(;Q1.getBCHDigit(i)-F6>=0;)i^=i5<<Q1.getBCHDigit(i)-F6;return(r<<10|i)^LW};var s5={};const PW=no;function ql(e){this.mode=PW.NUMERIC,this.data=e.toString()}ql.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};ql.prototype.getLength=function(){return this.data.length};ql.prototype.getBitsLength=function(){return ql.getBitsLength(this.data.length)};ql.prototype.write=function(t){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),t.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),t.put(i,s*3+1))};var FW=ql;const VW=no,$y=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Kl(e){this.mode=VW.ALPHANUMERIC,this.data=e}Kl.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Kl.prototype.getLength=function(){return this.data.length};Kl.prototype.getBitsLength=function(){return Kl.getBitsLength(this.data.length)};Kl.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=$y.indexOf(this.data[n])*45;r+=$y.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put($y.indexOf(this.data[n]),6)};var zW=Kl;const $W=no;function Yl(e){this.mode=$W.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Yl.getBitsLength=function(t){return t*8};Yl.prototype.getLength=function(){return this.data.length};Yl.prototype.getBitsLength=function(){return Yl.getBitsLength(this.data.length)};Yl.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var HW=Yl;const GW=no,qW=On;function Wl(e){this.mode=GW.KANJI,this.data=e}Wl.getBitsLength=function(t){return t*13};Wl.prototype.getLength=function(){return this.data.length};Wl.prototype.getBitsLength=function(){return Wl.getBitsLength(this.data.length)};Wl.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=qW.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var KW=Wl,o5={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var l,c,u,d,h,m,x,y,_;!a.empty();){l=a.pop(),c=l.value,d=l.cost,h=n[c]||{};for(u in h)h.hasOwnProperty(u)&&(m=h[u],x=d+m,y=o[u],_=typeof o[u]>"u",(_||y>x)&&(o[u]=x,a.push(u,x),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var g=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(g)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(o5);var YW=o5.exports;(function(e){const t=no,n=FW,r=zW,i=HW,s=KW,o=ei,a=On,l=YW;function c(g){return unescape(encodeURIComponent(g)).length}function u(g,b,p){const C=[];let E;for(;(E=g.exec(p))!==null;)C.push({data:E[0],index:E.index,mode:b,length:E[0].length});return C}function d(g){const b=u(o.NUMERIC,t.NUMERIC,g),p=u(o.ALPHANUMERIC,t.ALPHANUMERIC,g);let C,E;return a.isKanjiModeEnabled()?(C=u(o.BYTE,t.BYTE,g),E=u(o.KANJI,t.KANJI,g)):(C=u(o.BYTE_KANJI,t.BYTE,g),E=[]),b.concat(p,C,E).sort(function(k,j){return k.index-j.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function h(g,b){switch(b){case t.NUMERIC:return n.getBitsLength(g);case t.ALPHANUMERIC:return r.getBitsLength(g);case t.KANJI:return s.getBitsLength(g);case t.BYTE:return i.getBitsLength(g)}}function m(g){return g.reduce(function(b,p){const C=b.length-1>=0?b[b.length-1]:null;return C&&C.mode===p.mode?(b[b.length-1].data+=p.data,b):(b.push(p),b)},[])}function x(g){const b=[];for(let p=0;p<g.length;p++){const C=g[p];switch(C.mode){case t.NUMERIC:b.push([C,{data:C.data,mode:t.ALPHANUMERIC,length:C.length},{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.ALPHANUMERIC:b.push([C,{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.KANJI:b.push([C,{data:C.data,mode:t.BYTE,length:c(C.data)}]);break;case t.BYTE:b.push([{data:C.data,mode:t.BYTE,length:c(C.data)}])}}return b}function y(g,b){const p={},C={start:{}};let E=["start"];for(let N=0;N<g.length;N++){const k=g[N],j=[];for(let D=0;D<k.length;D++){const M=k[D],H=""+N+D;j.push(H),p[H]={node:M,lastCount:0},C[H]={};for(let Q=0;Q<E.length;Q++){const G=E[Q];p[G]&&p[G].node.mode===M.mode?(C[G][H]=h(p[G].lastCount+M.length,M.mode)-h(p[G].lastCount,M.mode),p[G].lastCount+=M.length):(p[G]&&(p[G].lastCount=M.length),C[G][H]=h(M.length,M.mode)+4+t.getCharCountIndicator(M.mode,b))}}E=j}for(let N=0;N<E.length;N++)C[E[N]].end=0;return{map:C,table:p}}function _(g,b){let p;const C=t.getBestModeForData(g);if(p=t.from(b,C),p!==t.BYTE&&p.bit<C.bit)throw new Error('"'+g+'" cannot be encoded with mode '+t.toString(p)+`.
 Suggested mode is: `+t.toString(C));switch(p===t.KANJI&&!a.isKanjiModeEnabled()&&(p=t.BYTE),p){case t.NUMERIC:return new n(g);case t.ALPHANUMERIC:return new r(g);case t.KANJI:return new s(g);case t.BYTE:return new i(g)}}e.fromArray=function(b){return b.reduce(function(p,C){return typeof C=="string"?p.push(_(C,null)):C.data&&p.push(_(C.data,C.mode)),p},[])},e.fromString=function(b,p){const C=d(b,a.isKanjiModeEnabled()),E=x(C),N=y(E,p),k=l.find_path(N.map,"start","end"),j=[];for(let D=1;D<k.length-1;D++)j.push(N.table[k[D]].node);return e.fromArray(m(j))},e.rawSplit=function(b){return e.fromArray(d(b,a.isKanjiModeEnabled()))}})(s5);const Hp=On,Hy=Vp,WW=IW,ZW=BW,XW=Z8,JW=X8,ex=J8,tx=zp,QW=jW,um=t5,eZ=r5,tZ=no,Gy=s5;function nZ(e,t){const n=e.size,r=JW.getPositions(t);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?e.set(s+a,o+l,!0,!0):e.set(s+a,o+l,!1,!0))}}function rZ(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function iZ(e,t){const n=XW.getPositions(t);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?e.set(i+o,s+a,!0,!0):e.set(i+o,s+a,!1,!0)}}function sZ(e,t){const n=e.size,r=um.getEncodedBits(t);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,e.set(i,s,o,!0),e.set(s,i,o,!0)}function qy(e,t,n){const r=e.size,i=eZ.getEncodedBits(t,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(r-15+s,8,o,!0),s<8?e.set(8,r-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(r-8,8,1,!0)}function oZ(e,t){const n=e.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!e.isReserved(i,a-l)){let c=!1;o<t.length&&(c=(t[o]>>>s&1)===1),e.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function aZ(e,t,n){const r=new WW;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),tZ.getCharCountIndicator(l.mode,e)),l.write(r)});const i=Hp.getSymbolTotalCodewords(e),s=tx.getTotalCodewordsCount(e,t),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return lZ(r,e,t)}function lZ(e,t,n){const r=Hp.getSymbolTotalCodewords(t),i=tx.getTotalCodewordsCount(t,n),s=r-i,o=tx.getBlocksCount(t,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),d=u+1,h=c-u,m=new QW(h);let x=0;const y=new Array(o),_=new Array(o);let g=0;const b=new Uint8Array(e.buffer);for(let k=0;k<o;k++){const j=k<l?u:d;y[k]=b.slice(x,x+j),_[k]=m.encode(y[k]),x+=j,g=Math.max(g,j)}const p=new Uint8Array(r);let C=0,E,N;for(E=0;E<g;E++)for(N=0;N<o;N++)E<y[N].length&&(p[C++]=y[N][E]);for(E=0;E<h;E++)for(N=0;N<o;N++)p[C++]=_[N][E];return p}function cZ(e,t,n,r){let i;if(Array.isArray(e))i=Gy.fromArray(e);else if(typeof e=="string"){let c=t;if(!c){const u=Gy.rawSplit(e);c=um.getBestVersionForData(u,n)}i=Gy.fromString(e,c||40)}else throw new Error("Invalid data");const s=um.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=aZ(t,n,i),a=Hp.getSymbolSize(t),l=new ZW(a);return nZ(l,t),rZ(l),iZ(l,t),qy(l,n,0),t>=7&&sZ(l,t),oZ(l,o),isNaN(r)&&(r=ex.getBestMask(l,qy.bind(null,l,n))),ex.applyMask(r,l),qy(l,n,r),{modules:l,version:t,errorCorrectionLevel:n,maskPattern:r,segments:i}}Y8.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Hy.M,i,s;return typeof n<"u"&&(r=Hy.from(n.errorCorrectionLevel,Hy.M),i=um.from(n.version),s=ex.from(n.maskPattern),n.toSJISFunc&&Hp.setToSJISFunction(n.toSJISFunc)),cZ(t,i,r,s)};var a5={},u_={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=e.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,d=[s.color.light,s.color.dark];for(let h=0;h<c;h++)for(let m=0;m<c;m++){let x=(h*c+m)*4,y=s.color.light;if(h>=u&&m>=u&&h<c-u&&m<c-u){const _=Math.floor((h-u)/l),g=Math.floor((m-u)/l);y=d[a[_*o+g]?1:0]}r[x++]=y.r,r[x++]=y.g,r[x++]=y.b,r[x]=y.a}}})(u_);(function(e){const t=u_;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=t.getOptions(l);const u=t.getImageWidth(s.modules.size,l),d=c.getContext("2d"),h=d.createImageData(u,u);return t.qrToImageData(h.data,s,l),n(d,c,u),d.putImageData(h,0,0),c},e.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=e.render(s,o,l),u=l.type||"image/png",d=l.rendererOpts||{};return c.toDataURL(u,d.quality)}})(a5);var l5={};const uZ=u_;function V6(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Ky(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function dZ(e,t,n){let r="",i=0,s=!1,o=0;for(let a=0;a<e.length;a++){const l=Math.floor(a%t),c=Math.floor(a/t);!l&&!s&&(s=!0),e[a]?(o++,a>0&&l>0&&e[a-1]||(r+=s?Ky("M",l+n,.5+c+n):Ky("m",i,0),i=0,s=!1),l+1<t&&e[a+1]||(r+=Ky("h",o),o=0)):i++}return r}l5.render=function(t,n,r){const i=uZ.getOptions(n),s=t.modules.size,o=t.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+V6(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+V6(i.color.dark,"stroke")+' d="'+dZ(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,h),h};const fZ=TW,nx=Y8,c5=a5,hZ=l5;function d_(e,t,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!fZ())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(l,c){try{const u=nx.create(n,r);l(e(u,t,r))}catch(u){c(u)}})}try{const l=nx.create(n,r);i(null,e(l,t,r))}catch(l){i(l)}}bd.create=nx.create;bd.toCanvas=d_.bind(null,c5.render);bd.toDataURL=d_.bind(null,c5.renderToDataURL);bd.toString=d_.bind(null,function(e,t,n){return hZ.render(e,n)});function mZ({isOpen:e,onClose:t,claimId:n,organizationName:r,claimedAmount:i,reason:s,onVoteComplete:o}){const[a,l]=S.useState("verification"),[c,u]=S.useState(!1),[d,h]=S.useState(""),[m,x]=S.useState(null),[y,_]=S.useState(!1),[g,b]=S.useState(""),p=er(),C=async()=>{u(!0),h("Generating QR code...");try{const{url:D,onResult:M}=await AW.verifyAgeForVoting(),H=document.getElementById("qr-canvas");H&&(await bd.toCanvas(H,D),h("Scan the QR code with your phone to verify your age")),M(({verified:Q,result:G})=>{var F,z;Q?((z=(F=G.age)==null?void 0:F.gte)==null?void 0:z.result)?(h("✅ Age verification successful! You can now vote."),setTimeout(()=>{l("voting"),u(!1),h("")},2e3)):(h("❌ You must be 18+ years old to vote on funding claims."),u(!1)):(h("❌ Verification failed. Please try again."),u(!1))})}catch(D){console.error("Verification error:",D),h(`❌ Error: ${D instanceof Error?D.message:"Verification failed"}`),u(!1)}},E=async()=>{if(m){_(!0),b("Submitting your vote...");try{const{error:D}=await p.from("votes").insert({claim_id:n,vote_type:m,voter_ip:null});if(D)throw D;b("✅ Vote submitted successfully!"),l("success"),o(m),setTimeout(()=>{t(),N()},2e3)}catch(D){console.error("Vote submission error:",D),b(`❌ Error: ${D instanceof Error?D.message:"Failed to submit vote"}`),_(!1)}}},N=()=>{l("verification"),u(!1),h(""),x(null),_(!1),b("")};S.useEffect(()=>{e||N()},[e]);const k=D=>{switch(D){case"accept":return"✓ Accept Request";case"reject":return"✗ Reject Request";case"raise_amount":return"↑ Raise Amount";case"lower_amount":return"↓ Lower Amount";default:return D}},j=D=>{switch(D){case"accept":return"Approve the funding request as submitted";case"reject":return"Reject the funding request entirely";case"raise_amount":return"Approve but suggest a higher amount";case"lower_amount":return"Approve but suggest a lower amount";default:return""}};return f.jsx(e0,{children:e&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{paddingTop:"120px"},children:[f.jsx(Ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),f.jsx(Ht.div,{initial:{opacity:0,scale:.8,rotateX:-15},animate:{opacity:1,scale:1,rotateX:0},exit:{opacity:0,scale:.8,rotateX:15},transition:{type:"spring",damping:20,stiffness:300},className:"relative max-w-3xl w-full h-fit",style:{maxHeight:"calc(100vh - 160px)"},children:f.jsxs("div",{className:"relative rounded-2xl border-4 border-amber-800 shadow-2xl",style:{backgroundColor:"#cbb287"},children:[f.jsx("div",{className:"absolute -top-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -bottom-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -left-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsx("div",{className:"absolute -right-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsxs("div",{className:"p-6",children:[f.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-amber-900 hover:text-black transition-colors z-10",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-['Cinzel'] mb-2 drop-shadow-sm",children:"Cast Your Vote"}),f.jsxs("div",{className:"text-gray-800 font-['Cinzel'] text-sm",children:[f.jsx("div",{className:"font-bold",children:r}),f.jsxs("div",{className:"text-xl font-black text-amber-800 mt-1",children:["$",i.toLocaleString()]})]})]}),f.jsxs(e0,{mode:"wait",children:[a==="verification"&&f.jsxs(Ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] mb-2",children:"Age Verification Required"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] mb-4 leading-relaxed",children:"Scan the QR code with your phone to verify you are 18+ using ZKPassport."})]}),c&&f.jsx("div",{className:"mb-4 text-center",children:f.jsx("canvas",{id:"qr-canvas",className:"mx-auto border-2 border-amber-600 rounded-lg bg-white p-4"})}),d&&f.jsx("div",{className:"mb-4 p-3 bg-amber-200/70 border border-amber-600/50 rounded-lg",children:f.jsx("p",{className:"text-gray-900 font-['Cinzel'] text-sm text-center font-medium",children:d})}),f.jsx("button",{onClick:C,disabled:c,className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 disabled:text-gray-500 text-gray-900 font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel']",children:c?"Waiting for verification...":"Generate QR Code"})]},"verification"),a==="voting"&&f.jsxs(Ht.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 font-['Cinzel'] mb-3 text-center",children:"Select Your Vote"}),f.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 mb-4",children:f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-sm leading-relaxed",children:s})})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:["accept","reject","raise_amount","lower_amount"].map(D=>f.jsxs("button",{onClick:()=>x(D),className:`p-4 rounded-lg border-2 transition-all duration-300 font-['Cinzel'] text-left ${m===D?"border-amber-600 bg-amber-100/50 shadow-lg":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:[f.jsx("div",{className:"font-bold text-gray-900 mb-1",children:k(D)}),f.jsx("div",{className:"text-gray-700 text-xs",children:j(D)})]},D))}),g&&f.jsx("div",{className:"mb-4 p-3 bg-amber-200/70 border border-amber-600/50 rounded-lg",children:f.jsx("p",{className:"text-gray-900 font-['Cinzel'] text-sm text-center font-medium",children:g})}),f.jsx("button",{onClick:E,disabled:!m||y,className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 disabled:text-gray-500 text-gray-900 font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel']",children:y?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-900",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Vote..."]}):`Submit Vote: ${m?k(m):"Select an option"}`})]},"voting"),a==="success"&&f.jsx(Ht.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100/60 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] mb-2",children:"Vote Submitted Successfully!"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] leading-relaxed",children:"Thank you for participating in the democratic funding process. Your vote has been recorded."})]})},"success")]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-xs italic",children:"✨ Your voice matters in disaster relief decisions ✨"})})]})]})})]})})}function pZ({user:e,organization:t,eventId:n}){const r=yn(),i=er(),[s,o]=S.useState(null),[a,l]=S.useState([]),[c,u]=S.useState(!0),[d,h]=S.useState({}),[m,x]=S.useState({}),[y,_]=S.useState("donations"),[g,b]=S.useState(!1),[p,C]=S.useState(!1),[E,N]=S.useState({isOpen:!1,claimId:"",organizationName:"",claimedAmount:0,reason:""}),k=e&&t?a.find(F=>F.org_id===t.id):null,j=F=>{const z=new Date(F),B=z.getFullYear(),U=String(z.getMonth()+1).padStart(2,"0");return`${String(z.getDate()).padStart(2,"0")}/${U}/${B}`},D=F=>{const z=new Date(F),B=z.getFullYear(),U=String(z.getMonth()+1).padStart(2,"0"),O=String(z.getDate()).padStart(2,"0"),V=String(z.getHours()).padStart(2,"0"),Z=String(z.getMinutes()).padStart(2,"0");return`${O}/${U}/${B} ${V}:${Z}`};S.useEffect(()=>{async function F(){try{u(!0);const{data:z,error:B}=await i.from("events").select("*").eq("id",n).single();if(B){console.error("Error fetching event:",B);return}o(z);const{data:U,error:O}=await i.from("claims").select(`
            *,
            organizations!claims_org_id_fkey (
              organization_name
            )
          `).eq("event_id",n).order("created_at",{ascending:!1});O?console.error("Error fetching claims:",O):l(U||[])}catch(z){console.error("Error fetching data:",z)}finally{u(!1)}}F()},[n,i]);const M=async(F,z)=>{h(B=>({...B,[F]:z})),x(B=>({...B,[F]:!0})),console.log(`Voted ${z} for claim ${F}`)},H=F=>{var z;N({isOpen:!0,claimId:F.id,organizationName:((z=F.organizations)==null?void 0:z.organization_name)||"Unknown Organization",claimedAmount:F.claimed_amount,reason:F.reason})},Q=F=>{switch(F){case"voting":return"bg-blue-100 text-blue-800 border-blue-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"waiting_for_ai":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"claimed":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},G=F=>{switch(F){case"voting":return"Open for Voting";case"approved":return"Approved";case"rejected":return"Rejected";case"waiting_for_ai":return"Under Review";case"claimed":return"Funds Claimed";default:return F}};return f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"}),f.jsx("div",{className:"absolute inset-0 opacity-60",children:f.jsx("img",{src:"/assets/clouds.PNG",alt:"Divine Clouds",className:"w-full h-full object-cover"})})]}),f.jsx(Ew,{}),f.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-6 py-8",style:{paddingTop:"100px"},children:[f.jsx("div",{className:"mb-6",children:f.jsxs("button",{onClick:()=>r(-1),className:"inline-flex items-center text-gray-700 hover:text-gray-900 font-['Cinzel'] transition-colors",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Events"]})}),c&&f.jsx(Dz,{message:"Loading Sacred Event Details...",size:"large"}),!c&&!s&&f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-6",children:f.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] text-lg",children:"Event not found."})]}),!c&&s&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl mb-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4 font-['Cinzel']",children:s.title}),f.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center text-gray-700 font-['Cinzel']",children:[f.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.disaster_location]}),f.jsxs("div",{className:"flex items-center text-gray-700 font-['Cinzel']",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),j(s.created_at)]})]}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] leading-relaxed mb-6",children:s.description}),f.jsxs("a",{href:s.source,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-white/20 hover:bg-white/30 text-gray-800 font-medium py-2 px-3 rounded-lg transition-colors font-['Cinzel'] text-sm backdrop-blur-sm border border-white/30",children:[f.jsx("svg",{className:"w-3 h-3 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Source"]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"text-center p-4 bg-amber-100/20 rounded-xl border border-amber-200/30 backdrop-blur-sm",children:[f.jsx("p",{className:"text-sm text-gray-700 font-['Cinzel'] mb-1",children:"Total Needed"}),f.jsxs("p",{className:"text-3xl font-bold text-gray-900 font-['Cinzel'] drop-shadow-sm",children:["$",s.estimated_amount_required.toLocaleString()]})]}),f.jsx("button",{onClick:()=>b(!0),className:"w-full bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] font-['Cinzel']",children:"Donate Now"})]})]})}),k&&f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl mb-8",children:[f.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 font-['Cinzel'] flex items-center drop-shadow-sm",children:[f.jsx("svg",{className:"w-8 h-8 mr-4 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"My Claim Status"]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] drop-shadow-sm",children:"Your Funding Request"}),f.jsxs("p",{className:"text-base text-gray-700 font-['Cinzel'] font-medium mt-1",children:["Requested: $",k.claimed_amount.toLocaleString()]})]}),f.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold border ${Q(k.claim_state)} font-['Cinzel'] drop-shadow-sm`,children:G(k.claim_state)})]}),f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-base mb-4 leading-relaxed font-medium",children:k.reason}),f.jsxs("div",{className:"text-sm text-gray-600 font-['Cinzel'] font-medium",children:["Submitted: ",D(k.created_at)]}),k.claim_state==="voting"&&f.jsx("div",{className:"mt-4 p-4 bg-blue-50/50 rounded-lg border border-blue-200/50",children:f.jsx("p",{className:"text-blue-800 font-['Cinzel'] font-medium text-center",children:"🗳️ Your claim is currently being reviewed by the community. Check the Fund Claims tab to see voting progress."})}),k.claim_state==="approved"&&f.jsx("div",{className:"mt-4 p-4 bg-green-50/50 rounded-lg border border-green-200/50",children:f.jsx("p",{className:"text-green-800 font-['Cinzel'] font-medium text-center",children:"✅ Congratulations! Your claim has been approved. Funds will be distributed shortly."})}),k.claim_state==="rejected"&&f.jsx("div",{className:"mt-4 p-4 bg-red-50/50 rounded-lg border border-red-200/50",children:f.jsx("p",{className:"text-red-800 font-['Cinzel'] font-medium text-center",children:"❌ Your claim was not approved by the community. You may submit a new request with additional justification."})})]})]}),f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"flex mb-6 bg-white/10 backdrop-blur-xl rounded-2xl p-2 border border-white/20 shadow-lg",children:[f.jsxs("button",{onClick:()=>_("donations"),className:`flex-1 flex items-center justify-center py-3 px-6 rounded-xl font-['Cinzel'] font-semibold transition-all duration-300 ${y==="donations"?"bg-amber-700 text-white shadow-lg":"text-gray-700 hover:bg-white/20"}`,children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Recent Donations"]}),f.jsxs("button",{onClick:()=>_("claims"),className:`flex-1 flex items-center justify-center py-3 px-6 rounded-xl font-['Cinzel'] font-semibold transition-all duration-300 ${y==="claims"?"bg-amber-700 text-white shadow-lg":"text-gray-700 hover:bg-white/20"}`,children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Fund Claims (",a.length,")"]})]}),f.jsx("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl overflow-hidden",children:f.jsx(e0,{mode:"wait",children:y==="donations"?f.jsxs(Ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:"easeInOut"},children:[f.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 font-['Cinzel'] flex items-center drop-shadow-sm",children:[f.jsx("svg",{className:"w-8 h-8 mr-4 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Recent Donations"]}),f.jsxs("div",{className:"bg-transparent rounded-lg p-4 border border-gray-300/50",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center py-2 border-b border-gray-300/30 mb-3",children:[f.jsx("div",{className:"font-mono text-black text-sm font-bold",children:"DONOR_ID"}),f.jsx("div",{className:"font-mono text-black text-sm font-bold",children:"AMOUNT_USD"}),f.jsx("div",{className:"font-mono text-black text-sm font-bold",children:"TIMESTAMP"})]}),f.jsx("div",{className:"space-y-2",children:[{donor:"X7K9#M2@P5L",amount:"$#@!%*&",time:"2024:##:##"},{donor:"Q3R8@N4$W7",amount:"*&%#$@!",time:"2024:##:##"},{donor:"Z9F2#K5@M8L",amount:"#$%&*@",time:"2024:##:##"},{donor:"B6H3@R7$Q2",amount:"@!#%*&",time:"2024:##:##"},{donor:"V4N8#L1@K9",amount:"*&#@%$",time:"2024:##:##"},{donor:"T2M7@F5#P8",amount:"%$#@!*",time:"2024:##:##"},{donor:"D1Q6#R3@N4",amount:"&*%#@$",time:"2024:##:##"},{donor:"S8L5@K2#M7",amount:"#@!%*&",time:"2024:##:##"}].map((F,z)=>f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center py-1 hover:bg-gray-100/20 transition-colors rounded",children:[f.jsx("div",{className:"font-mono text-black text-sm",children:f.jsx(sy,{text:F.donor,animateOn:"view",speed:60,maxIterations:12,characters:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%&*!?",className:"font-mono text-black",encryptedClassName:"text-black"})}),f.jsx("div",{className:"font-mono text-black text-sm",children:f.jsx(sy,{text:F.amount,animateOn:"view",speed:80,maxIterations:15,characters:"$@#%&*!?0123456789ABCDEF",className:"font-mono text-black",encryptedClassName:"text-black"})}),f.jsx("div",{className:"font-mono text-black text-sm",children:f.jsx(sy,{text:F.time,animateOn:"view",speed:70,maxIterations:10,characters:"0123456789:#-ABCDEF",className:"font-mono text-black",encryptedClassName:"text-black"})})]},z))})]})]},"donations"):f.jsxs(Ht.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeInOut"},children:[f.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 font-['Cinzel'] flex items-center drop-shadow-sm",children:[f.jsx("svg",{className:"w-8 h-8 mr-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Fund Claims (",a.length,")"]}),f.jsx("div",{className:"space-y-6 max-h-96 overflow-y-auto",children:a.map(F=>{var z;return f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 border border-white/30 hover:bg-white/25 transition-colors",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] drop-shadow-sm",children:((z=F.organizations)==null?void 0:z.organization_name)||"Unknown Organization"}),f.jsxs("div",{className:"text-2xl font-black text-amber-800 font-['Cinzel'] font-bold mt-2 drop-shadow-lg",children:["$",F.claimed_amount.toLocaleString()]})]}),f.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold border ${Q(F.claim_state)} font-['Cinzel'] drop-shadow-sm`,children:G(F.claim_state)})]}),f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-base mb-4 leading-relaxed font-medium",children:F.reason}),F.claim_state==="voting"&&f.jsxs("div",{className:"mt-4 p-4 bg-blue-50/50 rounded-lg border border-blue-200/50",children:[f.jsx("h4",{className:"font-bold text-gray-900 mb-3 font-['Cinzel'] text-lg",children:"Community Voting:"}),m[F.id]?f.jsx("div",{className:"text-center py-4",children:f.jsxs("div",{className:"inline-flex items-center text-green-700 font-['Cinzel'] font-bold text-lg",children:[f.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Vote submitted: ",d[F.id]]})}):f.jsxs("div",{className:"text-center",children:[f.jsx("button",{onClick:()=>H(F),className:"bg-amber-700 hover:bg-amber-800 text-white font-bold py-3 px-8 rounded-lg transition-colors font-['Cinzel'] shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Cast Your Vote"}),f.jsx("p",{className:"text-blue-700 font-['Cinzel'] text-xs mt-2 italic",children:"Age verification required via ZKPassport"})]})]}),f.jsxs("div",{className:"mt-4 text-sm text-gray-600 font-['Cinzel'] font-medium",children:["Submitted: ",D(F.created_at)]})]},F.id)})})]},"claims")})})]}),f.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 font-['Cinzel'] drop-shadow-lg bg-gradient-to-b from-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Request Relief Funds"}),f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-lg max-w-3xl mx-auto leading-relaxed font-medium",children:"Organizations can submit funding requests for relief efforts. All requests go through a transparent community voting process to ensure funds reach legitimate causes."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-100/60 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:f.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] mb-3 drop-shadow-sm",children:"1. Submit Request"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] font-medium",children:"Submit your funding request with detailed justification and required amount"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-amber-100/60 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:f.jsx("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] mb-3 drop-shadow-sm",children:"2. Community Review"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] font-medium",children:"The community votes to accept, reject, or adjust your funding request"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100/60 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] mb-3 drop-shadow-sm",children:"3. Receive Funds"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] font-medium",children:"Approved requests receive funds directly for disaster relief operations"})]})]}),e&&t?f.jsxs("div",{className:"text-center",children:[f.jsx("button",{onClick:()=>C(!0),disabled:!!k,className:`font-bold py-6 px-12 rounded-2xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] text-xl ${k?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white"}`,children:k?"Request Already Submitted":"Request Funds"}),f.jsx("p",{className:"text-gray-600 font-['Cinzel'] text-sm mt-4 italic",children:k?"✅ You have already submitted a funding request for this event":"💡 Anonymous voting ensures fair and transparent fund distribution"})]}):e&&!t?f.jsxs("div",{className:"text-center",children:[f.jsx(So,{to:"/kyb",className:"inline-block bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 text-white font-bold py-6 px-12 rounded-2xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] text-xl",children:"Complete KYB Verification"}),f.jsx("p",{className:"text-gray-600 font-['Cinzel'] text-sm mt-4 italic",children:"💡 Complete organization verification to submit funding requests"})]}):f.jsxs("div",{className:"text-center",children:[f.jsx(So,{to:"/login",className:"inline-block bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 text-white font-bold py-6 px-12 rounded-2xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] text-xl",children:"Sign In to Request Funds"}),f.jsx("p",{className:"text-gray-600 font-['Cinzel'] text-sm mt-4 italic",children:"💡 Register your organization to submit funding requests"})]})]})]})]}),f.jsx(Mz,{isOpen:g,onClose:()=>b(!1),eventTitle:(s==null?void 0:s.title)||"Disaster Relief Event"}),e&&t&&f.jsx(Uz,{isOpen:p,onClose:()=>C(!1),eventTitle:(s==null?void 0:s.title)||"Disaster Relief Event",eventId:(s==null?void 0:s.id)||"",user:e,organization:t}),E.isOpen&&f.jsx(mZ,{isOpen:E.isOpen,onClose:()=>N({isOpen:!1,claimId:"",organizationName:"",claimedAmount:0,reason:""}),claimId:E.claimId,organizationName:E.organizationName,claimedAmount:E.claimedAmount,reason:E.reason,onVoteComplete:F=>M(E.claimId,F)})]})}function gZ(){const{id:e}=_4(),[t,n]=S.useState(null),[r,i]=S.useState(null),[s,o]=S.useState(!0),a=er();return S.useEffect(()=>{async function l(){try{const{data:{user:c}}=await a.auth.getUser();if(n(c),c){const{data:u}=await a.from("organizations").select("*").eq("user_id",c.id).single();i(u)}}catch(c){console.error("Error loading data:",c)}finally{o(!1)}}l()},[a]),s?f.jsx("div",{children:"Loading..."}):e?f.jsx(pZ,{user:t,organization:r,eventId:e}):f.jsx("div",{children:"Event not found"})}function yZ({organization:e,petitions:t}){const n=yn(),r=i=>{switch(i){case"approved":return"bg-green-500/20 text-green-800 border border-green-500/30";case"funded":return"bg-blue-500/20 text-blue-800 border border-blue-500/30";case"rejected":return"bg-red-500/20 text-red-800 border border-red-500/30";case"under_review":return"bg-yellow-500/20 text-yellow-800 border border-yellow-500/30";default:return"bg-gray-500/20 text-gray-800 border border-gray-500/30"}};return f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"}),f.jsx("div",{className:"absolute inset-0 opacity-60",children:f.jsx("img",{src:"/assets/clouds.PNG",alt:"Divine Clouds",className:"w-full h-full object-cover"})})]}),f.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-6 py-8",children:[f.jsxs("div",{className:"mb-12",children:[f.jsxs("button",{onClick:()=>n("/events"),className:"text-gray-800 hover:text-gray-900 mb-6 flex items-center bg-white/20 backdrop-blur-md rounded-full px-4 py-2 transition-all duration-300 font-['Cinzel']",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Events"]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4 font-['Cinzel'] tracking-wide",children:"My Petitions"}),f.jsxs("p",{className:"text-gray-700 text-lg font-['Cinzel']",children:["Track the status of your fund requests for"," ",e.organization_name]})]})]}),t.length===0?f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-12 shadow-2xl text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx("svg",{className:"w-10 h-10 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4 font-['Cinzel']",children:"No Petitions Yet"}),f.jsx("p",{className:"text-gray-700 mb-8 text-lg font-['Cinzel']",children:"You haven't submitted any fund petitions yet. Visit the events page to browse available relief missions."}),f.jsx("button",{onClick:()=>n("/events"),className:"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] hover:from-[#ffed4e] hover:to-[#ffd700] text-gray-900 px-8 py-4 rounded-xl font-semibold font-['Cinzel'] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Browse Relief Missions"})]}):f.jsx("div",{className:"space-y-8",children:t.map(i=>{var s;return f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl hover:shadow-3xl transition-all duration-300",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-3 font-['Cinzel']",children:i.petition_title}),f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-700",children:[f.jsxs("span",{className:"font-['Cinzel']",children:["Fund: ",i.fund_vaults.vault_name]}),f.jsx("span",{children:"•"}),f.jsxs("span",{className:"font-['Cinzel']",children:["Submitted:"," ",new Date(i.created_at).toLocaleDateString()]})]})]}),f.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full font-['Cinzel'] ${r(i.status)}`,children:(s=i.status)==null?void 0:s.replace("_"," ").toUpperCase()})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 font-['Cinzel']",children:"Requested Amount"}),f.jsxs("p",{className:"text-xl font-bold text-gray-900 font-['Cinzel']",children:["$",i.requested_amount.toLocaleString()]})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 font-['Cinzel']",children:"Project Location"}),f.jsx("p",{className:"text-xl font-bold text-gray-900 font-['Cinzel']",children:i.project_location})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 font-['Cinzel']",children:"Beneficiaries"}),f.jsx("p",{className:"text-xl font-bold text-gray-900 font-['Cinzel']",children:i.beneficiaries_count.toLocaleString()})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 font-['Cinzel']",children:"Timeline"}),f.jsx("p",{className:"text-xl font-bold text-gray-900 font-['Cinzel']",children:i.project_timeline})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3 font-['Cinzel']",children:"Project Description"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] leading-relaxed",children:i.petition_description})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3 font-['Cinzel']",children:"Expected Impact"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] leading-relaxed",children:i.expected_impact})]}),i.approved_amount&&f.jsxs("div",{className:"bg-green-500/10 backdrop-blur-sm border border-green-500/20 rounded-2xl p-4 mb-6",children:[f.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2 font-['Cinzel']",children:"Approved Amount"}),f.jsxs("p",{className:"text-2xl font-bold text-green-900 font-['Cinzel']",children:["$",i.approved_amount.toLocaleString()]})]}),i.funded_amount&&f.jsxs("div",{className:"bg-blue-500/10 backdrop-blur-sm border border-blue-500/20 rounded-2xl p-4 mb-6",children:[f.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2 font-['Cinzel']",children:"Funded Amount"}),f.jsxs("p",{className:"text-2xl font-bold text-blue-900 font-['Cinzel']",children:["$",i.funded_amount.toLocaleString()]})]}),i.review_notes&&f.jsxs("div",{className:"bg-yellow-500/10 backdrop-blur-sm border border-yellow-500/20 rounded-2xl p-4",children:[f.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-2 font-['Cinzel']",children:"Review Notes"}),f.jsx("p",{className:"text-yellow-700 font-['Cinzel'] leading-relaxed",children:i.review_notes})]})]},i.id)})})]})]})}function bZ(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,s]=S.useState([]),[o,a]=S.useState(!0),l=yn(),c=er();return S.useEffect(()=>{async function u(){try{const{data:{user:d}}=await c.auth.getUser();if(!d){l("/login");return}t(d);const{data:h}=await c.from("organizations").select("*").eq("user_id",d.id).single();if(!h){l("/kyb");return}r(h);const{data:m}=await c.from("fund_petitions").select(`
            *,
            fund_vaults (
              vault_name,
              disaster_type,
              location
            )
          `).eq("organization_id",h.id).order("created_at",{ascending:!1});s(m||[])}catch(d){console.error("Error loading data:",d)}finally{a(!1)}}u()},[l,c]),o?f.jsx("div",{children:"Loading..."}):f.jsx(yZ,{user:e,organization:n,petitions:i})}function vZ(){const{id:e}=_4();return f.jsxs("div",{children:[f.jsx("h1",{children:"Petition Details"}),f.jsxs("p",{children:["Petition ID: ",e]})]})}function xZ(){const[e,t]=S.useState(""),[n,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState(!1),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[h,m]=S.useState(!1),[x,y]=S.useState(""),[_,g]=S.useState(""),[b,p]=S.useState(!1),[C,E]=S.useState(!1),[N,k]=S.useState(0),[j,D]=S.useState(!1),[M,H]=S.useState(""),[Q,G]=S.useState(!1),F=yn(),[z]=rU(),B=er(),U=()=>{const K=z.get("redirect");return K?decodeURIComponent(K):"/events"};S.useEffect(()=>{const K=z.get("error"),te=z.get("message");K&&g(decodeURIComponent(K)),te&&y(decodeURIComponent(te))},[z]),S.useEffect(()=>{let K;return N>0&&(K=setInterval(()=>{k(te=>te<=1?(E(!0),0):te-1)},1e3)),()=>clearInterval(K)},[N]);const O=n.length>=8,V=/[A-Z]/.test(n),Z=/[a-z]/.test(n),ee=/\d/.test(n),ue=O&&V&&Z&&ee,de=n===i,fe=async K=>{if(K.preventDefault(),d(!0),g(""),y(""),h){if(!O){g("Password must be at least 8 characters long"),d(!1);return}if(!ue){g("Password must contain uppercase, lowercase, and numbers"),d(!1);return}if(!de){g("Passwords do not match"),d(!1);return}}try{if(h){const{data:te,error:oe}=await B.auth.signUp({email:e,password:n,options:{emailRedirectTo:`${window.location.origin}/auth/confirm`}});oe?oe.message.includes("already registered")?(g("An account with this email already exists. Please sign in instead."),m(!1)):g(oe.message):te.user&&!te.user.email_confirmed_at?(p(!0),y(`We've sent a verification email to ${e}. Please check your inbox and click the verification link to complete your registration.`),k(60),E(!1)):te.user&&te.user.email_confirmed_at&&F(U())}else{const{data:te,error:oe}=await B.auth.signInWithPassword({email:e,password:n});oe?oe.message.includes("Invalid login credentials")?g("Invalid email or password. Please check your credentials and try again."):oe.message.includes("Email not confirmed")?(g("Please verify your email address before signing in. Check your inbox for the verification link."),p(!0),E(!0)):g(oe.message):te.user&&F(U())}}catch(te){console.log("err",te),g("An unexpected error occurred. Please try again.")}finally{d(!1)}},Fe=async()=>{if(!(!C||!e)){d(!0),g(""),y("");try{const{error:K}=await B.auth.resend({type:"signup",email:e,options:{emailRedirectTo:`${window.location.origin}/auth/confirm`}});K?g(K.message):(y(`Verification email resent to ${e}. Please check your inbox.`),k(60),E(!1))}catch(K){console.log("err",K),g("Failed to resend verification email. Please try again.")}finally{d(!1)}}},Ke=async K=>{if(K.preventDefault(),!!M){G(!0),g(""),y("");try{const{error:te}=await B.auth.resetPasswordForEmail(M,{redirectTo:`${window.location.origin}/auth/reset-password`});te?g(te.message):(y(`Password reset email sent to ${M}. Please check your inbox.`),D(!1),H(""))}catch(te){console.log("err",te),g("Failed to send reset email. Please try again.")}finally{G(!1)}}},J=()=>{m(!h),g(""),y(""),r(""),s(""),p(!1),E(!1),k(0),D(!1)},X=()=>n?ue?"bg-green-500":O?"bg-yellow-500":"bg-red-500":"bg-gray-300",Ne=()=>n?ue?"100%":O?"66%":"33%":"0%";return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 w-full max-w-md shadow-2xl border border-white/20",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:h?"Create Account":"Welcome Back"}),f.jsx("p",{className:"text-white/70",children:h?"Join the divine mission of global aid":"Continue your journey of giving"})]}),(_||x)&&f.jsx("div",{className:`mb-6 p-4 rounded-lg ${_?"bg-red-500/20 border border-red-500/30 text-red-200":"bg-green-500/20 border border-green-500/30 text-green-200"}`,children:_||x}),j?f.jsxs("form",{onSubmit:Ke,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"reset-email",className:"block text-white/80 mb-2",children:"Email Address"}),f.jsx("input",{id:"reset-email",type:"email",value:M,onChange:K=>H(K.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"button",onClick:()=>D(!1),className:"flex-1 py-3 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",children:"Back"}),f.jsx("button",{type:"submit",disabled:Q||!M,className:"flex-1 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 transition-all",children:Q?"Sending...":"Send Reset Email"})]})]}):f.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-white/80 mb-2",children:"Email Address"}),f.jsx("input",{id:"email",type:"email",value:e,onChange:K=>t(K.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-white/80 mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",type:o?"text":"password",value:n,onChange:K=>r(K.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-12",placeholder:"Enter your password"}),f.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white",children:o?"👁️":"👁️‍🗨️"})]}),h&&n&&f.jsxs("div",{className:"mt-2",children:[f.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2 mb-2",children:f.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${X()}`,style:{width:Ne()}})}),f.jsxs("div",{className:"text-xs text-white/70 space-y-1",children:[f.jsx("div",{className:O?"text-green-400":"text-red-400",children:"✓ At least 8 characters"}),f.jsx("div",{className:V?"text-green-400":"text-red-400",children:"✓ Uppercase letter"}),f.jsx("div",{className:Z?"text-green-400":"text-red-400",children:"✓ Lowercase letter"}),f.jsx("div",{className:ee?"text-green-400":"text-red-400",children:"✓ Number"})]})]})]}),h&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirm-password",className:"block text-white/80 mb-2",children:"Confirm Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"confirm-password",type:l?"text":"password",value:i,onChange:K=>s(K.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-12",placeholder:"Confirm your password"}),f.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white",children:l?"👁️":"👁️‍🗨️"})]}),i&&f.jsx("div",{className:"mt-2",children:f.jsx("div",{className:`text-xs ${de?"text-green-400":"text-red-400"}`,children:de?"✓ Passwords match":"✗ Passwords don't match"})})]}),!h&&f.jsx("div",{className:"text-right",children:f.jsx("button",{type:"button",onClick:()=>D(!0),className:"text-blue-300 hover:text-blue-200 text-sm",children:"Forgot password?"})}),f.jsx("button",{type:"submit",disabled:u||!e||!n||h&&(!i||!de),className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 transition-all transform hover:scale-105",children:u?"Loading...":h?"Create Account":"Sign In"}),b&&f.jsx("div",{className:"text-center",children:f.jsx("button",{type:"button",onClick:Fe,disabled:!C||u,className:"text-blue-300 hover:text-blue-200 disabled:text-white/50 text-sm",children:C?"Resend verification email":`Resend in ${N}s`})}),f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-white/70",children:h?"Already have an account?":"Don't have an account?"}),f.jsx("button",{type:"button",onClick:J,className:"ml-2 text-blue-300 hover:text-blue-200 font-medium",children:h?"Sign In":"Sign Up"})]})]})]})})}function wZ(){return f.jsx(S.Suspense,{fallback:f.jsx("div",{children:"Loading..."}),children:f.jsx(xZ,{})})}function SZ({organization:e,documents:t}){const n=yn(),r=o=>{switch(o){case"verified":return"bg-green-500/20 text-green-800 border border-green-500/30";case"rejected":return"bg-red-500/20 text-red-800 border border-red-500/30";default:return"bg-yellow-500/20 text-yellow-800 border border-yellow-500/30"}},i=o=>o.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase()),s=o=>{if(o===0)return"0 Bytes";const a=1024,l=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(o)/Math.log(a));return parseFloat((o/Math.pow(a,c)).toFixed(2))+" "+l[c]};return f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"}),f.jsx("div",{className:"absolute inset-0 opacity-60",children:f.jsx("img",{src:"/assets/clouds.PNG",alt:"Divine Clouds",className:"w-full h-full object-cover"})})]}),f.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-6 py-8",children:[f.jsxs("div",{className:"mb-12",children:[f.jsxs("button",{onClick:()=>n("/events"),className:"text-gray-800 hover:text-gray-900 mb-6 flex items-center bg-white/20 backdrop-blur-md rounded-full px-4 py-2 transition-all duration-300 font-['Cinzel']",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Events"]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4 font-['Cinzel'] tracking-wide",children:"Document Management"}),f.jsxs("p",{className:"text-gray-700 text-lg font-['Cinzel']",children:["Manage KYB verification documents for"," ",e.organization_name]})]})]}),t.length===0?f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-12 shadow-2xl text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx("svg",{className:"w-10 h-10 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4 font-['Cinzel']",children:"No Documents Uploaded"}),f.jsx("p",{className:"text-gray-700 mb-8 text-lg font-['Cinzel']",children:"You haven't uploaded any KYB documents yet. Complete your KYB form to upload required documents."}),f.jsx("button",{onClick:()=>n("/kyb"),className:"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] hover:from-[#ffed4e] hover:to-[#ffd700] text-gray-900 px-8 py-4 rounded-xl font-semibold font-['Cinzel'] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Complete KYB Form"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(o=>f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-6 shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-[1.02]",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 font-['Cinzel']",children:i(o.document_type)}),f.jsx("p",{className:"text-sm text-gray-700 truncate font-['Cinzel']",children:o.document_name})]}),f.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full font-['Cinzel'] ${r(o.verification_status||"pending")}`,children:(o.verification_status||"pending").toUpperCase()})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600 font-['Cinzel']",children:"File Size:"}),f.jsx("span",{className:"text-gray-900 font-semibold font-['Cinzel']",children:o.file_size?s(o.file_size):"Unknown"})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600 font-['Cinzel']",children:"Uploaded:"}),f.jsx("span",{className:"text-gray-900 font-semibold font-['Cinzel']",children:new Date(o.uploaded_at).toLocaleDateString()})]}),o.verified_at&&f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600 font-['Cinzel']",children:"Verified:"}),f.jsx("span",{className:"text-gray-900 font-semibold font-['Cinzel']",children:new Date(o.verified_at).toLocaleDateString()})]}),o.verification_notes&&f.jsxs("div",{className:"mt-4 p-4 bg-yellow-500/10 backdrop-blur-sm border border-yellow-500/20 rounded-2xl",children:[f.jsx("h4",{className:"text-xs font-semibold text-yellow-800 mb-2 font-['Cinzel']",children:"Verification Notes"}),f.jsx("p",{className:"text-yellow-700 text-xs font-['Cinzel']",children:o.verification_notes})]})]}),f.jsx("div",{className:"mt-6 pt-4 border-t border-white/30",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsx("span",{className:"font-['Cinzel']",children:o.mime_type||"Unknown type"})]}),o.verification_status==="verified"&&f.jsxs("div",{className:"flex items-center text-green-600",children:[f.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),f.jsx("span",{className:"text-xs font-semibold font-['Cinzel']",children:"Verified"})]})]})})]},o.id))}),t.length>0&&f.jsxs("div",{className:"mt-12 bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl text-center",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4 font-['Cinzel']",children:"Need to Upload More Documents?"}),f.jsx("p",{className:"text-gray-700 mb-6 text-lg font-['Cinzel']",children:"You can update your organization information and upload additional documents through the KYB form."}),f.jsx("button",{onClick:()=>n("/kyb"),className:"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] hover:from-[#ffed4e] hover:to-[#ffd700] text-gray-900 px-8 py-4 rounded-xl font-semibold font-['Cinzel'] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Update KYB Information"})]})]})]})}function _Z(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,s]=S.useState([]),[o,a]=S.useState(!0),l=yn(),c=er();return S.useEffect(()=>{async function u(){try{const{data:{user:d}}=await c.auth.getUser();if(!d){l("/login");return}t(d);const{data:h}=await c.from("organizations").select("*").eq("user_id",d.id).single();if(!h){l("/kyb");return}r(h);const{data:m}=await c.from("kyb_documents").select("*").eq("organization_id",h.id).order("uploaded_at",{ascending:!1});s(m||[])}catch(d){console.error("Error loading data:",d)}finally{a(!1)}}u()},[l,c]),o?f.jsx("div",{children:"Loading..."}):f.jsx(SZ,{user:e,organization:n,documents:i})}const CZ={CERTIFICATE_OF_INCORPORATION:"certificate_of_incorporation",ARTICLES_OF_ASSOCIATION:"articles_of_association",MEMORANDUM_OF_ASSOCIATION:"memorandum_of_association",BUSINESS_LICENSE:"business_license",TAX_CERTIFICATE:"tax_certificate",BANK_STATEMENT:"bank_statement",PROOF_OF_ADDRESS:"proof_of_address",AUDITED_FINANCIAL_STATEMENTS:"audited_financial_statements",BOARD_RESOLUTION:"board_resolution",SHAREHOLDER_REGISTER:"shareholder_register",GOOD_STANDING_CERTIFICATE:"good_standing_certificate",REGULATORY_LICENSE:"regulatory_license",UBO_DECLARATION:"ubo_declaration",DIRECTOR_IDENTIFICATION:"director_identification",POWER_OF_ATTORNEY:"power_of_attorney"},EZ={LLC:"Limited Liability Company (LLC)",CORPORATION:"Corporation",PARTNERSHIP:"Partnership",SOLE_PROPRIETORSHIP:"Sole Proprietorship",NON_PROFIT:"Non-Profit Organization",COOPERATIVE:"Cooperative",TRUST:"Trust",FOUNDATION:"Foundation",OTHER:"Other"},AZ={AGRICULTURE:"Agriculture, Forestry, Fishing and Hunting",MINING:"Mining, Quarrying, and Oil and Gas Extraction",UTILITIES:"Utilities",CONSTRUCTION:"Construction",MANUFACTURING:"Manufacturing",WHOLESALE_TRADE:"Wholesale Trade",RETAIL_TRADE:"Retail Trade",TRANSPORTATION:"Transportation and Warehousing",INFORMATION:"Information",FINANCE:"Finance and Insurance",REAL_ESTATE:"Real Estate and Rental and Leasing",PROFESSIONAL:"Professional, Scientific, and Technical Services",MANAGEMENT:"Management of Companies and Enterprises",ADMINISTRATIVE:"Administrative and Support and Waste Management Services",EDUCATIONAL:"Educational Services",HEALTHCARE:"Health Care and Social Assistance",ARTS:"Arts, Entertainment, and Recreation",ACCOMMODATION:"Accommodation and Food Services",OTHER_SERVICES:"Other Services",PUBLIC_ADMINISTRATION:"Public Administration",HUMANITARIAN:"Humanitarian and Relief Services"},Na=[{id:1,title:"Basic Information",description:"Organization details and structure"},{id:2,title:"Contact & Address",description:"Registered and operating addresses"},{id:3,title:"Business Details",description:"Industry, revenue, and operations"},{id:4,title:"Banking Information",description:"Financial account details"},{id:5,title:"Ultimate Beneficial Owners",description:"UBO information and ownership"},{id:6,title:"Documents Upload",description:"Required verification documents"},{id:7,title:"Review & Submit",description:"Final review and submission"}];function TZ({user:e,existingOrganization:t}){const[n,r]=S.useState(1),[i,s]=S.useState(!1),[o,a]=S.useState(""),[l,c]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState({}),[x,y]=S.useState([{first_name:"John",last_name:"Smith",ownership_percentage:60,position_title:"Executive Director"},{first_name:"Sarah",last_name:"Johnson",ownership_percentage:40,position_title:"Board Chairman"}]),_=yn(),g=er(),b=S.useRef(null),[p,C]=S.useState({organization_name:(t==null?void 0:t.organization_name)||"Global Relief Foundation",legal_name:(t==null?void 0:t.legal_name)||"Global Relief Foundation Inc.",trading_name:(t==null?void 0:t.trading_name)||"GRF",registration_number:(t==null?void 0:t.registration_number)||"REG-2024-001234",tax_identification_number:(t==null?void 0:t.tax_identification_number)||"12-3456789",vat_number:(t==null?void 0:t.vat_number)||"VAT123456789",legal_structure:(t==null?void 0:t.legal_structure)||"non_profit",incorporation_date:(t==null?void 0:t.incorporation_date)||"2020-01-15",incorporation_country:(t==null?void 0:t.incorporation_country)||"US",incorporation_state:(t==null?void 0:t.incorporation_state)||"California",registered_address_line1:(t==null?void 0:t.registered_address_line1)||"123 Charity Lane",registered_address_line2:(t==null?void 0:t.registered_address_line2)||"Suite 100",registered_city:(t==null?void 0:t.registered_city)||"San Francisco",registered_state:(t==null?void 0:t.registered_state)||"CA",registered_postal_code:(t==null?void 0:t.registered_postal_code)||"94102",registered_country:(t==null?void 0:t.registered_country)||"US",operating_address_line1:(t==null?void 0:t.operating_address_line1)||"456 Relief Street",operating_address_line2:(t==null?void 0:t.operating_address_line2)||"Floor 2",operating_city:(t==null?void 0:t.operating_city)||"Los Angeles",operating_state:(t==null?void 0:t.operating_state)||"CA",operating_postal_code:(t==null?void 0:t.operating_postal_code)||"90210",operating_country:(t==null?void 0:t.operating_country)||"US",phone_number:(t==null?void 0:t.phone_number)||"+1-555-123-4567",email:(t==null?void 0:t.email)||"info@globalrelief.org",website:(t==null?void 0:t.website)||"https://www.globalrelief.org",industry_sector:(t==null?void 0:t.industry_sector)||"humanitarian_aid",business_description:(t==null?void 0:t.business_description)||"A non-profit organization dedicated to providing disaster relief and humanitarian aid to communities in need around the world.",naics_code:(t==null?void 0:t.naics_code)||"813212",sic_code:(t==null?void 0:t.sic_code)||"8399",annual_revenue:(t==null?void 0:t.annual_revenue)||25e5,number_of_employees:(t==null?void 0:t.number_of_employees)||25,bank_name:(t==null?void 0:t.bank_name)||"Bank of America",bank_account_number:(t==null?void 0:t.bank_account_number)||"****1234",bank_routing_number:(t==null?void 0:t.bank_routing_number)||"021000322",iban:(t==null?void 0:t.iban)||"US12BOFA21000012345678",swift_code:(t==null?void 0:t.swift_code)||"BOFAUS3N",politically_exposed:(t==null?void 0:t.politically_exposed)||!1,high_risk_jurisdiction:(t==null?void 0:t.high_risk_jurisdiction)||!1}),E=(B,U)=>{C(O=>({...O,[B]:U}))},N=B=>{var O;const U=(O=B.target.files)==null?void 0:O[0];if(U){c(U);const V=new FileReader;V.onload=Z=>{var ee;d((ee=Z.target)==null?void 0:ee.result)},V.readAsDataURL(U)}},k=(B,U)=>{m(O=>({...O,[B]:U}))},j=()=>{y(B=>[...B,{first_name:"",last_name:"",ownership_percentage:0,position_title:""}])},D=(B,U,O)=>{y(V=>V.map((Z,ee)=>ee===B?{...Z,[U]:O}:Z))},M=B=>{y(U=>U.filter((O,V)=>V!==B))},H=async(B,U,O)=>{const{data:V,error:Z}=await g.storage.from(U).upload(O,B,{cacheControl:"3600",upsert:!1});if(Z)throw Z;return V},Q=async()=>{s(!0),a("");try{let B=t==null?void 0:t.logo_url;if(l){const V=`${e.id}/logo-${Date.now()}.${l.name.split(".").pop()}`;await H(l,"organization-logos",V);const{data:{publicUrl:Z}}=g.storage.from("organization-logos").getPublicUrl(V);B=Z}const U={...p,user_id:e.id,logo_url:B,kyb_status:"approved"};let O;if(t){const{error:V}=await g.from("organizations").update(U).eq("id",t.id);if(V)throw V;O=t.id}else{const{data:V,error:Z}=await g.from("organizations").insert(U).select().single();if(Z)throw Z;O=V.id}if(x.length>0){const V=x.map(ee=>({...ee,organization_id:O})),{error:Z}=await g.from("ultimate_beneficial_owners").upsert(V);if(Z)throw Z}for(const[V,Z]of Object.entries(h)){const ee=`${e.id}/documents/${V}-${Date.now()}.${Z.name.split(".").pop()}`;await H(Z,"kyb-documents",ee);const{error:ue}=await g.from("kyb_documents").insert({organization_id:O,document_type:V,document_name:Z.name,file_path:ee,file_size:Z.size,mime_type:Z.type});if(ue)throw ue}_("/events")}catch(B){const U=B instanceof Error?B.message:"An error occurred during submission";a(U)}finally{s(!1)}},G=()=>{n<Na.length&&r(n+1)},F=()=>{n>1&&r(n-1)},z=()=>{switch(n){case 1:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Basic Organization Information"}),f.jsxs("div",{className:"text-center",children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-4 font-['Cinzel']",children:"Organization Logo"}),f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[u&&f.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden shadow-lg border-2 border-white/30",children:f.jsx("img",{src:u,alt:"Logo preview",className:"w-full h-full object-cover"})}),f.jsx("button",{type:"button",onClick:()=>{var B;return(B=b.current)==null?void 0:B.click()},className:"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] hover:from-[#ffed4e] hover:to-[#ffd700] text-gray-900 px-6 py-3 rounded-xl text-sm font-semibold font-['Cinzel'] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Upload Logo"}),f.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:N,className:"hidden"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Organization Name *"}),f.jsx("input",{type:"text",required:!0,value:p.organization_name,onChange:B=>E("organization_name",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter organization name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Legal Name"}),f.jsx("input",{type:"text",value:p.legal_name,onChange:B=>E("legal_name",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter legal name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Trading Name"}),f.jsx("input",{type:"text",value:p.trading_name,onChange:B=>E("trading_name",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter trading name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Legal Structure"}),f.jsxs("select",{value:p.legal_structure,onChange:B=>E("legal_structure",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",children:[f.jsx("option",{value:"",children:"Select Legal Structure"}),Object.entries(EZ).map(([B,U])=>f.jsx("option",{value:B,children:U},B))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Registration Number"}),f.jsx("input",{type:"text",value:p.registration_number,onChange:B=>E("registration_number",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter registration number"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Tax Identification Number"}),f.jsx("input",{type:"text",value:p.tax_identification_number,onChange:B=>E("tax_identification_number",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter tax ID number"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Incorporation Date"}),f.jsx("input",{type:"date",value:p.incorporation_date,onChange:B=>E("incorporation_date",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Incorporation Country"}),f.jsx("input",{type:"text",value:p.incorporation_country,onChange:B=>E("incorporation_country",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"US, UK, CA, etc."})]})]})]});case 2:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Contact & Address Information"}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 font-['Cinzel'] text-center",children:"Registered Address"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{type:"text",placeholder:"Address Line 1",value:p.registered_address_line1,onChange:B=>E("registered_address_line1",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"Address Line 2",value:p.registered_address_line2,onChange:B=>E("registered_address_line2",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"City",value:p.registered_city,onChange:B=>E("registered_city",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"State/Province",value:p.registered_state,onChange:B=>E("registered_state",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"Postal Code",value:p.registered_postal_code,onChange:B=>E("registered_postal_code",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"Country (US, CA, UK, etc.)",value:p.registered_country,onChange:B=>E("registered_country",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]})]})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 font-['Cinzel'] text-center",children:"Operating Address"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{type:"text",placeholder:"Address Line 1",value:p.operating_address_line1,onChange:B=>E("operating_address_line1",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"Address Line 2",value:p.operating_address_line2,onChange:B=>E("operating_address_line2",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"City",value:p.operating_city,onChange:B=>E("operating_city",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"State/Province",value:p.operating_state,onChange:B=>E("operating_state",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"Postal Code",value:p.operating_postal_code,onChange:B=>E("operating_postal_code",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"Country (US, CA, UK, etc.)",value:p.operating_country,onChange:B=>E("operating_country",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]})]})]})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 font-['Cinzel'] text-center",children:"Contact Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Phone Number"}),f.jsx("input",{type:"tel",value:p.phone_number,onChange:B=>E("phone_number",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"+1 (555) 123-4567"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Email Address"}),f.jsx("input",{type:"email",value:p.email,onChange:B=>E("email",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"contact@organization.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Website"}),f.jsx("input",{type:"url",value:p.website,onChange:B=>E("website",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"https://www.organization.com"})]})]})]})]});case 3:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Business Details"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Industry Sector"}),f.jsxs("select",{value:p.industry_sector,onChange:B=>E("industry_sector",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",children:[f.jsx("option",{value:"",children:"Select Industry"}),Object.entries(AZ).map(([B,U])=>f.jsx("option",{value:B,children:U},B))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"NAICS Code"}),f.jsx("input",{type:"text",value:p.naics_code,onChange:B=>E("naics_code",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"6-digit NAICS code"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Annual Revenue (USD)"}),f.jsx("input",{type:"number",value:p.annual_revenue||"",onChange:B=>E("annual_revenue",parseFloat(B.target.value)||0),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter annual revenue"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Number of Employees"}),f.jsx("input",{type:"number",value:p.number_of_employees||"",onChange:B=>E("number_of_employees",parseInt(B.target.value)||0),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter number of employees"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"SIC Code"}),f.jsx("input",{type:"text",value:p.sic_code,onChange:B=>E("sic_code",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"4-digit SIC code"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"VAT Number"}),f.jsx("input",{type:"text",value:p.vat_number,onChange:B=>E("vat_number",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter VAT number"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Business Description"}),f.jsx("textarea",{rows:4,value:p.business_description,onChange:B=>E("business_description",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel'] resize-none",placeholder:"Describe your organization's activities and mission..."})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 font-['Cinzel'] text-center",children:"Risk Assessment"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:p.politically_exposed,onChange:B=>E("politically_exposed",B.target.checked),className:"mr-3 w-4 h-4 text-gray-900 bg-white/30 border-white/40 rounded focus:ring-white/50 focus:ring-2"}),f.jsx("span",{className:"text-gray-700 font-['Cinzel']",children:"Organization has politically exposed persons"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:p.high_risk_jurisdiction,onChange:B=>E("high_risk_jurisdiction",B.target.checked),className:"mr-3 w-4 h-4 text-gray-900 bg-white/30 border-white/40 rounded focus:ring-white/50 focus:ring-2"}),f.jsx("span",{className:"text-gray-700 font-['Cinzel']",children:"Organization operates in high-risk jurisdictions"})]})]})]})]});case 4:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Banking Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Bank Name"}),f.jsx("input",{type:"text",value:p.bank_name,onChange:B=>E("bank_name",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter bank name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Account Number"}),f.jsx("input",{type:"text",value:p.bank_account_number,onChange:B=>E("bank_account_number",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter account number"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Routing Number"}),f.jsx("input",{type:"text",value:p.bank_routing_number,onChange:B=>E("bank_routing_number",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter routing number"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"SWIFT Code"}),f.jsx("input",{type:"text",value:p.swift_code,onChange:B=>E("swift_code",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter SWIFT code"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"IBAN"}),f.jsx("input",{type:"text",value:p.iban,onChange:B=>E("iban",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter IBAN"})]})]})]});case 5:return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel']",children:"Ultimate Beneficial Owners"}),f.jsx("button",{type:"button",onClick:j,className:"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] hover:from-[#ffed4e] hover:to-[#ffd700] text-gray-900 px-6 py-3 rounded-xl text-sm font-semibold font-['Cinzel'] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Add UBO"})]}),x.length===0?f.jsxs("div",{className:"text-center py-12 bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-500/20 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{className:"w-8 h-8 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] text-lg",children:'No UBOs added yet. Click "Add UBO" to get started.'})]}):f.jsx("div",{className:"space-y-6",children:x.map((B,U)=>f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("h4",{className:"text-lg font-semibold text-gray-800 font-['Cinzel']",children:["UBO #",U+1]}),f.jsx("button",{type:"button",onClick:()=>M(U),className:"text-red-600 hover:text-red-800 font-semibold font-['Cinzel'] transition-colors duration-300",children:"Remove"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"First Name"}),f.jsx("input",{type:"text",placeholder:"First Name",value:B.first_name,onChange:O=>D(U,"first_name",O.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Last Name"}),f.jsx("input",{type:"text",placeholder:"Last Name",value:B.last_name,onChange:O=>D(U,"last_name",O.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Position Title"}),f.jsx("input",{type:"text",placeholder:"Position Title",value:B.position_title,onChange:O=>D(U,"position_title",O.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Ownership Percentage"}),f.jsx("input",{type:"number",placeholder:"Ownership %",value:B.ownership_percentage,onChange:O=>D(U,"ownership_percentage",parseFloat(O.target.value)),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]})]})]},U))})]});case 6:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Required Documents"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(CZ).map(([B,U])=>f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-6 shadow-2xl",children:[f.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-4 font-['Cinzel']",children:U.replace(/_/g," ").replace(/\b\w/g,O=>O.toUpperCase())}),f.jsx("input",{type:"file",onChange:O=>{var Z;const V=(Z=O.target.files)==null?void 0:Z[0];V&&k(U,V)},className:"w-full text-sm text-gray-700 font-['Cinzel'] file:mr-4 file:py-3 file:px-6 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-gradient-to-r file:from-[#ffd700] file:to-[#ffed4e] file:text-gray-900 hover:file:from-[#ffed4e] hover:file:to-[#ffd700] file:transition-all file:duration-300 file:shadow-lg hover:file:shadow-xl file:transform hover:file:scale-[1.02] file:font-['Cinzel']"}),h[U]&&f.jsx("div",{className:"mt-4 p-3 bg-green-500/10 backdrop-blur-sm border border-green-500/20 rounded-2xl",children:f.jsxs("p",{className:"text-sm text-green-800 font-semibold font-['Cinzel'] flex items-center",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),h[U].name]})})]},B))})]});case 7:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Review & Submit"}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 font-['Cinzel'] text-center",children:"Organization Summary"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-base",children:[f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"Organization Name:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:p.organization_name})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"Legal Structure:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:p.legal_structure})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"Industry:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:p.industry_sector})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"UBOs:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:x.length})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"Documents:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:Object.keys(h).length})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"Annual Revenue:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:p.annual_revenue?`$${p.annual_revenue.toLocaleString()}`:"Not specified"})]})]})]}),f.jsx("div",{className:"bg-yellow-500/10 backdrop-blur-sm border border-yellow-500/20 rounded-3xl p-6 shadow-lg",children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsxs("div",{children:[f.jsx("h5",{className:"text-lg font-semibold text-yellow-800 mb-2 font-['Cinzel']",children:"Important Notice"}),f.jsx("p",{className:"text-yellow-700 font-['Cinzel'] leading-relaxed",children:"By submitting this form, you confirm that all information provided is accurate and complete. Your organization will undergo KYB verification which may take 3-5 business days. You will be notified via email once the review is complete."})]})]})})]});default:return null}};return f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"}),f.jsx("div",{className:"absolute inset-0 opacity-60",children:f.jsx("img",{src:"/assets/clouds.PNG",alt:"Divine Clouds",className:"w-full h-full object-cover"})})]}),f.jsx("div",{className:"absolute top-6 left-6 z-20",children:f.jsxs("button",{onClick:()=>_("/events"),className:"inline-flex items-center px-4 py-2 bg-white/20 backdrop-blur-md rounded-full text-gray-800 hover:bg-white/30 transition-all duration-300 text-sm font-medium font-['Cinzel']",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Events"]})}),f.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-6 py-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4 font-['Cinzel'] tracking-wide",children:"Organization Verification"}),f.jsx("p",{className:"text-gray-700 text-lg font-['Cinzel']",children:"Complete your KYB (Know Your Business) verification to access fund vaults"})]}),f.jsxs("div",{className:"mb-12",children:[f.jsx("div",{className:"flex items-center justify-between",children:Na.map((B,U)=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full text-sm font-semibold font-['Cinzel'] ${n>=B.id?"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] text-gray-900 shadow-lg":"bg-white/20 text-gray-600 backdrop-blur-sm border border-white/30"}`,children:B.id}),U<Na.length-1&&f.jsx("div",{className:`w-12 h-1 mx-2 rounded-full ${n>B.id?"bg-gradient-to-r from-[#ffd700] to-[#ffed4e]":"bg-white/30"}`})]},B.id))}),f.jsxs("div",{className:"mt-6 text-center",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel']",children:Na[n-1].title}),f.jsx("p",{className:"text-gray-700 text-base font-['Cinzel'] mt-2",children:Na[n-1].description})]})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl",children:[z(),o&&f.jsx("div",{className:"mt-8 bg-red-500/10 backdrop-blur-sm border border-red-500/20 text-red-800 px-6 py-4 rounded-2xl font-['Cinzel']",children:o}),f.jsxs("div",{className:"flex justify-between mt-10",children:[f.jsx("button",{type:"button",onClick:F,disabled:n===1,className:"px-8 py-3 bg-gray-600 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700 transition-all duration-300 font-semibold font-['Cinzel'] shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Previous"}),n<Na.length?f.jsx("button",{type:"button",onClick:G,className:"px-8 py-3 bg-gradient-to-r from-[#ffd700] to-[#ffed4e] text-gray-900 rounded-xl hover:from-[#ffed4e] hover:to-[#ffd700] transition-all duration-300 font-semibold font-['Cinzel'] shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Next"}):f.jsx("button",{type:"button",onClick:Q,disabled:i,className:"px-8 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 font-semibold font-['Cinzel'] shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:i?"Submitting...":"Submit KYB Application"})]})]})]})]})}function kZ(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,s]=S.useState(!0),o=yn(),a=er();return S.useEffect(()=>{async function l(){try{const{data:{user:c}}=await a.auth.getUser();if(!c){o("/login");return}t(c);const{data:u}=await a.from("organizations").select("*").eq("user_id",c.id).single();r(u)}catch(c){console.error("Error loading data:",c)}finally{s(!1)}}l()},[o,a]),i?f.jsx("div",{children:"Loading..."}):f.jsx(TZ,{user:e,existingOrganization:n})}function u5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=u5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function d5(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=u5(e))&&(r&&(r+=" "),r+=t);return r}const f_="-",IZ=e=>{const t=NZ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(f_);return a[0]===""&&a.length!==1&&a.shift(),f5(a,t)||BZ(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},f5=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?f5(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(f_);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},z6=/^\[(.+)\]$/,BZ=e=>{if(z6.test(e)){const t=z6.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},NZ=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)rx(n[i],r,i,t);return r},rx=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:$6(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(jZ(i)){rx(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{rx(o,$6(t,s),n,r)})})},$6=(e,t)=>{let n=e;return t.split(f_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jZ=e=>e.isThemeGetter,RZ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},ix="!",sx=":",OZ=sx.length,DZ=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let o=0,a=0,l=0,c;for(let x=0;x<i.length;x++){let y=i[x];if(o===0&&a===0){if(y===sx){s.push(i.slice(l,x)),l=x+OZ;continue}if(y==="/"){c=x;continue}}y==="["?o++:y==="]"?o--:y==="("?a++:y===")"&&a--}const u=s.length===0?i:i.substring(l),d=MZ(u),h=d!==u,m=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:m}};if(t){const i=t+sx,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},MZ=e=>e.endsWith(ix)?e.substring(0,e.length-1):e.startsWith(ix)?e.substring(1):e,UZ=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||t[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},LZ=e=>({cache:RZ(e.cacheSize),parseClassName:DZ(e),sortModifiers:UZ(e),...IZ(e)}),PZ=/\s+/,FZ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],a=e.trim().split(PZ);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:h,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:y}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let _=!!y,g=r(_?x.substring(0,y):x);if(!g){if(!_){l=u+(l.length>0?" "+l:l);continue}if(g=r(x),!g){l=u+(l.length>0?" "+l:l);continue}_=!1}const b=s(h).join(":"),p=m?b+ix:b,C=p+g;if(o.includes(C))continue;o.push(C);const E=i(g,_);for(let N=0;N<E.length;++N){const k=E[N];o.push(p+k)}l=u+(l.length>0?" "+l:l)}return l};function VZ(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=h5(t))&&(r&&(r+=" "),r+=n);return r}const h5=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=h5(e[r]))&&(n&&(n+=" "),n+=t);return n};function zZ(e,...t){let n,r,i,s=o;function o(l){const c=t.reduce((u,d)=>d(u),e());return n=LZ(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=FZ(l,n);return i(l,u),u}return function(){return s(VZ.apply(null,arguments))}}const _t=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},m5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,p5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$Z=/^\d+\/\d+$/,HZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,KZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ja=e=>$Z.test(e),xe=e=>!!e&&!Number.isNaN(Number(e)),os=e=>!!e&&Number.isInteger(Number(e)),Yy=e=>e.endsWith("%")&&xe(e.slice(0,-1)),di=e=>HZ.test(e),WZ=()=>!0,ZZ=e=>GZ.test(e)&&!qZ.test(e),g5=()=>!1,XZ=e=>KZ.test(e),JZ=e=>YZ.test(e),QZ=e=>!ae(e)&&!le(e),eX=e=>Sc(e,v5,g5),ae=e=>m5.test(e),fo=e=>Sc(e,x5,ZZ),Wy=e=>Sc(e,sX,xe),H6=e=>Sc(e,y5,g5),tX=e=>Sc(e,b5,JZ),mf=e=>Sc(e,w5,XZ),le=e=>p5.test(e),Vc=e=>_c(e,x5),nX=e=>_c(e,oX),G6=e=>_c(e,y5),rX=e=>_c(e,v5),iX=e=>_c(e,b5),pf=e=>_c(e,w5,!0),Sc=(e,t,n)=>{const r=m5.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},_c=(e,t,n=!1)=>{const r=p5.exec(e);return r?r[1]?t(r[1]):n:!1},y5=e=>e==="position"||e==="percentage",b5=e=>e==="image"||e==="url",v5=e=>e==="length"||e==="size"||e==="bg-size",x5=e=>e==="length",sX=e=>e==="number",oX=e=>e==="family-name",w5=e=>e==="shadow",aX=()=>{const e=_t("color"),t=_t("font"),n=_t("text"),r=_t("font-weight"),i=_t("tracking"),s=_t("leading"),o=_t("breakpoint"),a=_t("container"),l=_t("spacing"),c=_t("radius"),u=_t("shadow"),d=_t("inset-shadow"),h=_t("text-shadow"),m=_t("drop-shadow"),x=_t("blur"),y=_t("perspective"),_=_t("aspect"),g=_t("ease"),b=_t("animate"),p=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...C(),le,ae],N=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],j=()=>[le,ae,l],D=()=>[ja,"full","auto",...j()],M=()=>[os,"none","subgrid",le,ae],H=()=>["auto",{span:["full",os,le,ae]},os,le,ae],Q=()=>[os,"auto",le,ae],G=()=>["auto","min","max","fr",le,ae],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...j()],U=()=>[ja,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],O=()=>[e,le,ae],V=()=>[...C(),G6,H6,{position:[le,ae]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ee=()=>["auto","cover","contain",rX,eX,{size:[le,ae]}],ue=()=>[Yy,Vc,fo],de=()=>["","none","full",c,le,ae],fe=()=>["",xe,Vc,fo],Fe=()=>["solid","dashed","dotted","double"],Ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[xe,Yy,G6,H6],X=()=>["","none",x,le,ae],Ne=()=>["none",xe,le,ae],K=()=>["none",xe,le,ae],te=()=>[xe,le,ae],oe=()=>[ja,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[di],breakpoint:[di],color:[WZ],container:[di],"drop-shadow":[di],ease:["in","out","in-out"],font:[QZ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[di],shadow:[di],spacing:["px",xe],text:[di],"text-shadow":[di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ja,ae,le,_]}],container:["container"],columns:[{columns:[xe,ae,le,a]}],"break-after":[{"break-after":p()}],"break-before":[{"break-before":p()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[os,"auto",le,ae]}],basis:[{basis:[ja,"full","auto",a,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xe,ja,"auto","initial","none",ae]}],grow:[{grow:["",xe,le,ae]}],shrink:[{shrink:["",xe,le,ae]}],order:[{order:[os,"first","last","none",le,ae]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[a,"screen",...U()]}],"min-w":[{"min-w":[a,"screen","none",...U()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",n,Vc,fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,le,Wy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Yy,ae]}],"font-family":[{font:[nX,ae,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,le,ae]}],"line-clamp":[{"line-clamp":[xe,"none",le,Wy]}],leading:[{leading:[s,...j()]}],"list-image":[{"list-image":["none",le,ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",le,ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[xe,"from-font","auto",le,fo]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[xe,"auto",le,ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le,ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le,ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},os,le,ae],radial:["",le,ae],conic:[os,le,ae]},iX,tX]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:de()}],"rounded-s":[{"rounded-s":de()}],"rounded-e":[{"rounded-e":de()}],"rounded-t":[{"rounded-t":de()}],"rounded-r":[{"rounded-r":de()}],"rounded-b":[{"rounded-b":de()}],"rounded-l":[{"rounded-l":de()}],"rounded-ss":[{"rounded-ss":de()}],"rounded-se":[{"rounded-se":de()}],"rounded-ee":[{"rounded-ee":de()}],"rounded-es":[{"rounded-es":de()}],"rounded-tl":[{"rounded-tl":de()}],"rounded-tr":[{"rounded-tr":de()}],"rounded-br":[{"rounded-br":de()}],"rounded-bl":[{"rounded-bl":de()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Fe(),"hidden","none"]}],"divide-style":[{divide:[...Fe(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...Fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xe,le,ae]}],"outline-w":[{outline:["",xe,Vc,fo]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",u,pf,mf]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",d,pf,mf]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[xe,fo]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",h,pf,mf]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[xe,le,ae]}],"mix-blend":[{"mix-blend":[...Ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[le,ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",le,ae]}],filter:[{filter:["","none",le,ae]}],blur:[{blur:X()}],brightness:[{brightness:[xe,le,ae]}],contrast:[{contrast:[xe,le,ae]}],"drop-shadow":[{"drop-shadow":["","none",m,pf,mf]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",xe,le,ae]}],"hue-rotate":[{"hue-rotate":[xe,le,ae]}],invert:[{invert:["",xe,le,ae]}],saturate:[{saturate:[xe,le,ae]}],sepia:[{sepia:["",xe,le,ae]}],"backdrop-filter":[{"backdrop-filter":["","none",le,ae]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[xe,le,ae]}],"backdrop-contrast":[{"backdrop-contrast":[xe,le,ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xe,le,ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xe,le,ae]}],"backdrop-invert":[{"backdrop-invert":["",xe,le,ae]}],"backdrop-opacity":[{"backdrop-opacity":[xe,le,ae]}],"backdrop-saturate":[{"backdrop-saturate":[xe,le,ae]}],"backdrop-sepia":[{"backdrop-sepia":["",xe,le,ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",le,ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xe,"initial",le,ae]}],ease:[{ease:["linear","initial",g,le,ae]}],delay:[{delay:[xe,le,ae]}],animate:[{animate:["none",b,le,ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,le,ae]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:K()}],"scale-x":[{"scale-x":K()}],"scale-y":[{"scale-y":K()}],"scale-z":[{"scale-z":K()}],"scale-3d":["scale-3d"],skew:[{skew:te()}],"skew-x":[{"skew-x":te()}],"skew-y":[{"skew-y":te()}],transform:[{transform:[le,ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le,ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le,ae]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[xe,Vc,fo,Wy]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lX=zZ(aX);function yt(...e){return lX(d5(e))}function ho({className:e,...t}){return f.jsx("div",{"data-slot":"card",className:yt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function mo({className:e,...t}){return f.jsx("div",{"data-slot":"card-header",className:yt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function po({className:e,...t}){return f.jsx("div",{"data-slot":"card-title",className:yt("leading-none font-semibold",e),...t})}function go({className:e,...t}){return f.jsx("div",{"data-slot":"card-content",className:yt("px-6",e),...t})}function q6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function S5(...e){return t=>{let n=!1;const r=e.map(i=>{const s=q6(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():q6(e[i],null)}}}}function kt(...e){return S.useCallback(S5(...e),e)}function _0(e){const t=cX(e),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,a=S.Children.toArray(s),l=a.find(dX);if(l){const c=l.props.children,u=a.map(d=>d===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:d);return f.jsx(t,{...o,ref:i,children:S.isValidElement(c)?S.cloneElement(c,void 0,u):null})}return f.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var _5=_0("Slot");function cX(e){const t=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=hX(i),a=fX(s,i.props);return i.type!==S.Fragment&&(a.ref=r?S5(r,o):o),S.cloneElement(i,a)}return S.Children.count(i)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uX=Symbol("radix.slottable");function dX(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uX}function fX(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function hX(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const K6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Y6=d5,h_=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Y6(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=K6(u)||K6(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...m}=u;return Object.entries(m).every(x=>{let[y,_]=x;return Array.isArray(_)?_.includes({...s,...a}[y]):{...s,...a}[y]===_})?[...c,d,h]:c},[]);return Y6(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},mX=h_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Zt({className:e,variant:t,size:n,asChild:r=!1,...i}){const s=r?_5:"button";return f.jsx(s,{"data-slot":"button",className:yt(mX({variant:t,size:n,className:e})),...i})}function $t({className:e,type:t,...n}){return f.jsx("input",{type:t,"data-slot":"input",className:yt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var pX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=pX.reduce((e,t)=>{const n=_0(`Primitive.${t}`),r=S.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function gX(e,t){e&&Jl.flushSync(()=>e.dispatchEvent(t))}var yX="Label",C5=S.forwardRef((e,t)=>f.jsx(He.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));C5.displayName=yX;var bX=C5;function gf({className:e,...t}){return f.jsx(bX,{"data-slot":"label",className:yt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function vX({className:e,...t}){return f.jsx("textarea",{"data-slot":"textarea",className:yt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function W6(e,[t,n]){return Math.min(n,Math.max(t,e))}function Le(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function xd(e,t=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];const c=d=>{var g;const{scope:h,children:m,...x}=d,y=((g=h==null?void 0:h[e])==null?void 0:g[l])||a,_=S.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:_,children:m})};c.displayName=s+"Provider";function u(d,h){var y;const m=((y=h==null?void 0:h[e])==null?void 0:y[l])||a,x=S.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[e])||s;return S.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,xX(i,...t)]}function xX(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function E5(e){const t=e+"CollectionProvider",[n,r]=xd(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:g}=y,b=mi.useRef(null),p=mi.useRef(new Map).current;return f.jsx(i,{scope:_,itemMap:p,collectionRef:b,children:g})};o.displayName=t;const a=e+"CollectionSlot",l=_0(a),c=mi.forwardRef((y,_)=>{const{scope:g,children:b}=y,p=s(a,g),C=kt(_,p.collectionRef);return f.jsx(l,{ref:C,children:b})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=_0(u),m=mi.forwardRef((y,_)=>{const{scope:g,children:b,...p}=y,C=mi.useRef(null),E=kt(_,C),N=s(u,g);return mi.useEffect(()=>(N.itemMap.set(C,{ref:C,...p}),()=>void N.itemMap.delete(C))),f.jsx(h,{[d]:"",ref:E,children:b})});m.displayName=u;function x(y){const _=s(e+"CollectionConsumer",y);return mi.useCallback(()=>{const b=_.collectionRef.current;if(!b)return[];const p=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((N,k)=>p.indexOf(N.ref.current)-p.indexOf(k.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},x,r]}var wX=S.createContext(void 0);function m_(e){const t=S.useContext(wX);return e||t||"ltr"}function Ks(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function SX(e,t=globalThis==null?void 0:globalThis.document){const n=Ks(e);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var _X="DismissableLayer",ox="dismissableLayer.update",CX="dismissableLayer.pointerDownOutside",EX="dismissableLayer.focusOutside",Z6,A5=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),T5=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,c=S.useContext(A5),[u,d]=S.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),x=kt(t,k=>d(k)),y=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(_),b=u?y.indexOf(u):-1,p=c.layersWithOutsidePointerEventsDisabled.size>0,C=b>=g,E=kX(k=>{const j=k.target,D=[...c.branches].some(M=>M.contains(j));!C||D||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),N=IX(k=>{const j=k.target;[...c.branches].some(M=>M.contains(j))||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return SX(k=>{b===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),S.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Z6=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),X6(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Z6)}},[u,h,n,c]),S.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),X6())},[u,c]),S.useEffect(()=>{const k=()=>m({});return document.addEventListener(ox,k),()=>document.removeEventListener(ox,k)},[]),f.jsx(He.div,{...l,ref:x,style:{pointerEvents:p?C?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,E.onPointerDownCapture)})});T5.displayName=_X;var AX="DismissableLayerBranch",TX=S.forwardRef((e,t)=>{const n=S.useContext(A5),r=S.useRef(null),i=kt(t,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.jsx(He.div,{...e,ref:i})});TX.displayName=AX;function kX(e,t=globalThis==null?void 0:globalThis.document){const n=Ks(e),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){k5(CX,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function IX(e,t=globalThis==null?void 0:globalThis.document){const n=Ks(e),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&k5(EX,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function X6(){const e=new CustomEvent(ox);document.dispatchEvent(e)}function k5(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?gX(i,s):i.dispatchEvent(s)}var Zy=0;function BX(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??J6()),document.body.insertAdjacentElement("beforeend",e[1]??J6()),Zy++,()=>{Zy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Zy--}},[])}function J6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xy="focusScope.autoFocusOnMount",Jy="focusScope.autoFocusOnUnmount",Q6={bubbles:!1,cancelable:!0},NX="FocusScope",I5=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[a,l]=S.useState(null),c=Ks(i),u=Ks(s),d=S.useRef(null),h=kt(t,y=>l(y)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let y=function(p){if(m.paused||!a)return;const C=p.target;a.contains(C)?d.current=C:us(d.current,{select:!0})},_=function(p){if(m.paused||!a)return;const C=p.relatedTarget;C!==null&&(a.contains(C)||us(d.current,{select:!0}))},g=function(p){if(document.activeElement===document.body)for(const E of p)E.removedNodes.length>0&&us(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const b=new MutationObserver(g);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),b.disconnect()}}},[r,a,m.paused]),S.useEffect(()=>{if(a){t3.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(Xy,Q6);a.addEventListener(Xy,c),a.dispatchEvent(g),g.defaultPrevented||(jX(UX(B5(a)),{select:!0}),document.activeElement===y&&us(a))}return()=>{a.removeEventListener(Xy,c),setTimeout(()=>{const g=new CustomEvent(Jy,Q6);a.addEventListener(Jy,u),a.dispatchEvent(g),g.defaultPrevented||us(y??document.body,{select:!0}),a.removeEventListener(Jy,u),t3.remove(m)},0)}}},[a,c,u,m]);const x=S.useCallback(y=>{if(!n&&!r||m.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(_&&g){const b=y.currentTarget,[p,C]=RX(b);p&&C?!y.shiftKey&&g===C?(y.preventDefault(),n&&us(p,{select:!0})):y.shiftKey&&g===p&&(y.preventDefault(),n&&us(C,{select:!0})):g===b&&y.preventDefault()}},[n,r,m.paused]);return f.jsx(He.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});I5.displayName=NX;function jX(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(us(r,{select:t}),document.activeElement!==n)return}function RX(e){const t=B5(e),n=e3(t,e),r=e3(t.reverse(),e);return[n,r]}function B5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function e3(e,t){for(const n of e)if(!OX(n,{upTo:t}))return n}function OX(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function DX(e){return e instanceof HTMLInputElement&&"select"in e}function us(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&DX(e)&&t&&e.select()}}var t3=MX();function MX(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=n3(e,t),e.unshift(t)},remove(t){var n;e=n3(e,t),(n=e[0])==null||n.resume()}}}function n3(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function UX(e){return e.filter(t=>t.tagName!=="A")}var Wt=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},LX=Sx[" useId ".trim().toString()]||(()=>{}),PX=0;function wd(e){const[t,n]=S.useState(LX());return Wt(()=>{n(r=>r??String(PX++))},[e]),e||(t?`radix-${t}`:"")}const FX=["top","right","bottom","left"],Ys=Math.min,_n=Math.max,dm=Math.round,yf=Math.floor,qr=e=>({x:e,y:e}),VX={left:"right",right:"left",bottom:"top",top:"bottom"},zX={start:"end",end:"start"};function ax(e,t,n){return _n(e,Ys(t,n))}function Gi(e,t){return typeof e=="function"?e(t):e}function qi(e){return e.split("-")[0]}function Cc(e){return e.split("-")[1]}function p_(e){return e==="x"?"y":"x"}function g_(e){return e==="y"?"height":"width"}function Ur(e){return["top","bottom"].includes(qi(e))?"y":"x"}function y_(e){return p_(Ur(e))}function $X(e,t,n){n===void 0&&(n=!1);const r=Cc(e),i=y_(e),s=g_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=fm(o)),[o,fm(o)]}function HX(e){const t=fm(e);return[lx(e),t,lx(t)]}function lx(e){return e.replace(/start|end/g,t=>zX[t])}function GX(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function qX(e,t,n,r){const i=Cc(e);let s=GX(qi(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(lx)))),s}function fm(e){return e.replace(/left|right|bottom|top/g,t=>VX[t])}function KX(e){return{top:0,right:0,bottom:0,left:0,...e}}function N5(e){return typeof e!="number"?KX(e):{top:e,right:e,bottom:e,left:e}}function hm(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function r3(e,t,n){let{reference:r,floating:i}=e;const s=Ur(t),o=y_(t),a=g_(o),l=qi(t),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Cc(t)){case"start":m[o]-=h*(n&&c?-1:1);break;case"end":m[o]+=h*(n&&c?-1:1);break}return m}const YX=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=r3(c,r,l),h=r,m={},x=0;for(let y=0;y<a.length;y++){const{name:_,fn:g}=a[y],{x:b,y:p,data:C,reset:E}=await g({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});u=b??u,d=p??d,m={...m,[_]:{...m[_],...C}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:u,y:d}=r3(c,h,l)),y=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:m}};async function C0(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=Gi(t,e),x=N5(m),_=a[h?d==="floating"?"reference":"floating":d],g=hm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,p=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(p))?await(s.getScale==null?void 0:s.getScale(p))||{x:1,y:1}:{x:1,y:1},E=hm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:p,strategy:l}):b);return{top:(g.top-E.top+x.top)/C.y,bottom:(E.bottom-g.bottom+x.bottom)/C.y,left:(g.left-E.left+x.left)/C.x,right:(E.right-g.right+x.right)/C.x}}const WX=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Gi(e,t)||{};if(c==null)return{};const d=N5(u),h={x:n,y:r},m=y_(i),x=g_(m),y=await o.getDimensions(c),_=m==="y",g=_?"top":"left",b=_?"bottom":"right",p=_?"clientHeight":"clientWidth",C=s.reference[x]+s.reference[m]-h[m]-s.floating[x],E=h[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=N?N[p]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=a.floating[p]||s.floating[x]);const j=C/2-E/2,D=k/2-y[x]/2-1,M=Ys(d[g],D),H=Ys(d[b],D),Q=M,G=k-y[x]-H,F=k/2-y[x]/2+j,z=ax(Q,F,G),B=!l.arrow&&Cc(i)!=null&&F!==z&&s.reference[x]/2-(F<Q?M:H)-y[x]/2<0,U=B?F<Q?F-Q:F-G:0;return{[m]:h[m]+U,data:{[m]:z,centerOffset:F-z-U,...B&&{alignmentOffset:U}},reset:B}}}),ZX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,..._}=Gi(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=qi(i),b=Ur(a),p=qi(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(p||!y?[fm(a)]:HX(a)),N=x!=="none";!h&&N&&E.push(...qX(a,y,x,C));const k=[a,...E],j=await C0(t,_),D=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&D.push(j[g]),d){const F=$X(i,o,C);D.push(j[F[0]],j[F[1]])}if(M=[...M,{placement:i,overflows:D}],!D.every(F=>F<=0)){var H,Q;const F=(((H=s.flip)==null?void 0:H.index)||0)+1,z=k[F];if(z&&(!(d==="alignment"?b!==Ur(z):!1)||M.every(O=>O.overflows[0]>0&&Ur(O.placement)===b)))return{data:{index:F,overflows:M},reset:{placement:z}};let B=(Q=M.filter(U=>U.overflows[0]<=0).sort((U,O)=>U.overflows[1]-O.overflows[1])[0])==null?void 0:Q.placement;if(!B)switch(m){case"bestFit":{var G;const U=(G=M.filter(O=>{if(N){const V=Ur(O.placement);return V===b||V==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(V=>V>0).reduce((V,Z)=>V+Z,0)]).sort((O,V)=>O[1]-V[1])[0])==null?void 0:G[0];U&&(B=U);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function i3(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function s3(e){return FX.some(t=>e[t]>=0)}const XX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Gi(e,t);switch(r){case"referenceHidden":{const s=await C0(t,{...i,elementContext:"reference"}),o=i3(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:s3(o)}}}case"escaped":{const s=await C0(t,{...i,altBoundary:!0}),o=i3(s,n.floating);return{data:{escapedOffsets:o,escaped:s3(o)}}}default:return{}}}}};async function JX(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=qi(n),a=Cc(n),l=Ur(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Gi(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}const QX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await JX(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},eJ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:g,y:b}=_;return{x:g,y:b}}},...l}=Gi(e,t),c={x:n,y:r},u=await C0(t,l),d=Ur(qi(i)),h=p_(d);let m=c[h],x=c[d];if(s){const _=h==="y"?"top":"left",g=h==="y"?"bottom":"right",b=m+u[_],p=m-u[g];m=ax(b,m,p)}if(o){const _=d==="y"?"top":"left",g=d==="y"?"bottom":"right",b=x+u[_],p=x-u[g];x=ax(b,x,p)}const y=a.fn({...t,[h]:m,[d]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:s,[d]:o}}}}}},tJ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Gi(e,t),u={x:n,y:r},d=Ur(i),h=p_(d);let m=u[h],x=u[d];const y=Gi(a,t),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const p=h==="y"?"height":"width",C=s.reference[h]-s.floating[p]+_.mainAxis,E=s.reference[h]+s.reference[p]-_.mainAxis;m<C?m=C:m>E&&(m=E)}if(c){var g,b;const p=h==="y"?"width":"height",C=["top","left"].includes(qi(i)),E=s.reference[d]-s.floating[p]+(C&&((g=o.offset)==null?void 0:g[d])||0)+(C?0:_.crossAxis),N=s.reference[d]+s.reference[p]+(C?0:((b=o.offset)==null?void 0:b[d])||0)-(C?_.crossAxis:0);x<E?x=E:x>N&&(x=N)}return{[h]:m,[d]:x}}}},nJ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...c}=Gi(e,t),u=await C0(t,c),d=qi(i),h=Cc(i),m=Ur(i)==="y",{width:x,height:y}=s.floating;let _,g;d==="top"||d==="bottom"?(_=d,g=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=d,_=h==="end"?"top":"bottom");const b=y-u.top-u.bottom,p=x-u.left-u.right,C=Ys(y-u[_],b),E=Ys(x-u[g],p),N=!t.middlewareData.shift;let k=C,j=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=p),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=b),N&&!h){const M=_n(u.left,0),H=_n(u.right,0),Q=_n(u.top,0),G=_n(u.bottom,0);m?j=x-2*(M!==0||H!==0?M+H:_n(u.left,u.right)):k=y-2*(Q!==0||G!==0?Q+G:_n(u.top,u.bottom))}await l({...t,availableWidth:j,availableHeight:k});const D=await o.getDimensions(a.floating);return x!==D.width||y!==D.height?{reset:{rects:!0}}:{}}}};function Gp(){return typeof window<"u"}function Ec(e){return j5(e)?(e.nodeName||"").toLowerCase():"#document"}function Nn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ti(e){var t;return(t=(j5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function j5(e){return Gp()?e instanceof Node||e instanceof Nn(e).Node:!1}function vr(e){return Gp()?e instanceof Element||e instanceof Nn(e).Element:!1}function Wr(e){return Gp()?e instanceof HTMLElement||e instanceof Nn(e).HTMLElement:!1}function o3(e){return!Gp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nn(e).ShadowRoot}function Sd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=xr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function rJ(e){return["table","td","th"].includes(Ec(e))}function qp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function b_(e){const t=v_(),n=vr(e)?xr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function iJ(e){let t=Ws(e);for(;Wr(t)&&!Zl(t);){if(b_(t))return t;if(qp(t))return null;t=Ws(t)}return null}function v_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zl(e){return["html","body","#document"].includes(Ec(e))}function xr(e){return Nn(e).getComputedStyle(e)}function Kp(e){return vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ws(e){if(Ec(e)==="html")return e;const t=e.assignedSlot||e.parentNode||o3(e)&&e.host||ti(e);return o3(t)?t.host:t}function R5(e){const t=Ws(e);return Zl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wr(t)&&Sd(t)?t:R5(t)}function E0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=R5(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Nn(i);if(s){const a=cx(o);return t.concat(o,o.visualViewport||[],Sd(i)?i:[],a&&n?E0(a):[])}return t.concat(i,E0(i,[],n))}function cx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function O5(e){const t=xr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Wr(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=dm(n)!==s||dm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function x_(e){return vr(e)?e:e.contextElement}function yl(e){const t=x_(e);if(!Wr(t))return qr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=O5(t);let o=(s?dm(n.width):n.width)/r,a=(s?dm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const sJ=qr(0);function D5(e){const t=Nn(e);return!v_()||!t.visualViewport?sJ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oJ(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Nn(e)?!1:t}function ia(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=x_(e);let o=qr(1);t&&(r?vr(r)&&(o=yl(r)):o=yl(e));const a=oJ(s,n,r)?D5(s):qr(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Nn(s),m=r&&vr(r)?Nn(r):r;let x=h,y=cx(x);for(;y&&r&&m!==x;){const _=yl(y),g=y.getBoundingClientRect(),b=xr(y),p=g.left+(y.clientLeft+parseFloat(b.paddingLeft))*_.x,C=g.top+(y.clientTop+parseFloat(b.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=p,c+=C,x=Nn(y),y=cx(x)}}return hm({width:u,height:d,x:l,y:c})}function w_(e,t){const n=Kp(e).scrollLeft;return t?t.left+n:ia(ti(e)).left+n}function M5(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:w_(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function aJ(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=ti(r),a=t?qp(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=qr(1);const u=qr(0),d=Wr(r);if((d||!d&&!s)&&((Ec(r)!=="body"||Sd(o))&&(l=Kp(r)),Wr(r))){const m=ia(r);c=yl(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const h=o&&!d&&!s?M5(o,l,!0):qr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function lJ(e){return Array.from(e.getClientRects())}function cJ(e){const t=ti(e),n=Kp(e),r=e.ownerDocument.body,i=_n(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=_n(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+w_(e);const a=-n.scrollTop;return xr(r).direction==="rtl"&&(o+=_n(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function uJ(e,t){const n=Nn(e),r=ti(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=v_();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function dJ(e,t){const n=ia(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Wr(e)?yl(e):qr(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function a3(e,t,n){let r;if(t==="viewport")r=uJ(e,n);else if(t==="document")r=cJ(ti(e));else if(vr(t))r=dJ(t,n);else{const i=D5(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return hm(r)}function U5(e,t){const n=Ws(e);return n===t||!vr(n)||Zl(n)?!1:xr(n).position==="fixed"||U5(n,t)}function fJ(e,t){const n=t.get(e);if(n)return n;let r=E0(e,[],!1).filter(a=>vr(a)&&Ec(a)!=="body"),i=null;const s=xr(e).position==="fixed";let o=s?Ws(e):e;for(;vr(o)&&!Zl(o);){const a=xr(o),l=b_(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Sd(o)&&!l&&U5(e,o))?r=r.filter(u=>u!==o):i=a,o=Ws(o)}return t.set(e,r),r}function hJ(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?qp(t)?[]:fJ(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=a3(t,u,i);return c.top=_n(d.top,c.top),c.right=Ys(d.right,c.right),c.bottom=Ys(d.bottom,c.bottom),c.left=_n(d.left,c.left),c},a3(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function mJ(e){const{width:t,height:n}=O5(e);return{width:t,height:n}}function pJ(e,t,n){const r=Wr(t),i=ti(t),s=n==="fixed",o=ia(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=qr(0);function c(){l.x=w_(i)}if(r||!r&&!s)if((Ec(t)!=="body"||Sd(i))&&(a=Kp(t)),r){const m=ia(t,!0,s,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?M5(i,a):qr(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function Qy(e){return xr(e).position==="static"}function l3(e,t){if(!Wr(e)||xr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ti(e)===n&&(n=n.ownerDocument.body),n}function L5(e,t){const n=Nn(e);if(qp(e))return n;if(!Wr(e)){let i=Ws(e);for(;i&&!Zl(i);){if(vr(i)&&!Qy(i))return i;i=Ws(i)}return n}let r=l3(e,t);for(;r&&rJ(r)&&Qy(r);)r=l3(r,t);return r&&Zl(r)&&Qy(r)&&!b_(r)?n:r||iJ(e)||n}const gJ=async function(e){const t=this.getOffsetParent||L5,n=this.getDimensions,r=await n(e.floating);return{reference:pJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yJ(e){return xr(e).direction==="rtl"}const bJ={convertOffsetParentRelativeRectToViewportRelativeRect:aJ,getDocumentElement:ti,getClippingRect:hJ,getOffsetParent:L5,getElementRects:gJ,getClientRects:lJ,getDimensions:mJ,getScale:yl,isElement:vr,isRTL:yJ};function P5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vJ(e,t){let n=null,r;const i=ti(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:m}=c;if(a||t(),!h||!m)return;const x=yf(d),y=yf(i.clientWidth-(u+h)),_=yf(i.clientHeight-(d+m)),g=yf(u),p={rootMargin:-x+"px "+-y+"px "+-_+"px "+-g+"px",threshold:_n(0,Ys(1,l))||1};let C=!0;function E(N){const k=N[0].intersectionRatio;if(k!==l){if(!C)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!P5(c,e.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(E,{...p,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,p)}n.observe(e)}return o(!0),s}function xJ(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=x_(e),u=i||s?[...c?E0(c):[],...E0(t)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const d=c&&a?vJ(c,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(g=>{let[b]=g;b&&b.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var p;(p=m)==null||p.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let x,y=l?ia(e):null;l&&_();function _(){const g=ia(e);y&&!P5(y,g)&&n(),y=g,x=requestAnimationFrame(_)}return n(),()=>{var g;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const wJ=QX,SJ=eJ,_J=ZX,CJ=nJ,EJ=XX,c3=WX,AJ=tJ,TJ=(e,t,n)=>{const r=new Map,i={platform:bJ,...n},s={...i.platform,_c:r};return YX(e,t,{...i,platform:s})};var kJ=typeof document<"u",IJ=function(){},Hf=kJ?S.useLayoutEffect:IJ;function mm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!mm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!mm(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function F5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function u3(e,t){const n=F5(e);return Math.round(t*n)/n}function eb(e){const t=S.useRef(e);return Hf(()=>{t.current=e}),t}function BJ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=S.useState(r);mm(h,r)||m(r);const[x,y]=S.useState(null),[_,g]=S.useState(null),b=S.useCallback(O=>{O!==N.current&&(N.current=O,y(O))},[]),p=S.useCallback(O=>{O!==k.current&&(k.current=O,g(O))},[]),C=s||x,E=o||_,N=S.useRef(null),k=S.useRef(null),j=S.useRef(u),D=l!=null,M=eb(l),H=eb(i),Q=eb(c),G=S.useCallback(()=>{if(!N.current||!k.current)return;const O={placement:t,strategy:n,middleware:h};H.current&&(O.platform=H.current),TJ(N.current,k.current,O).then(V=>{const Z={...V,isPositioned:Q.current!==!1};F.current&&!mm(j.current,Z)&&(j.current=Z,Jl.flushSync(()=>{d(Z)}))})},[h,t,n,H,Q]);Hf(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,d(O=>({...O,isPositioned:!1})))},[c]);const F=S.useRef(!1);Hf(()=>(F.current=!0,()=>{F.current=!1}),[]),Hf(()=>{if(C&&(N.current=C),E&&(k.current=E),C&&E){if(M.current)return M.current(C,E,G);G()}},[C,E,G,M,D]);const z=S.useMemo(()=>({reference:N,floating:k,setReference:b,setFloating:p}),[b,p]),B=S.useMemo(()=>({reference:C,floating:E}),[C,E]),U=S.useMemo(()=>{const O={position:n,left:0,top:0};if(!B.floating)return O;const V=u3(B.floating,u.x),Z=u3(B.floating,u.y);return a?{...O,transform:"translate("+V+"px, "+Z+"px)",...F5(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:Z}},[n,a,B.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:G,refs:z,elements:B,floatingStyles:U}),[u,G,z,B,U])}const NJ=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?c3({element:r.current,padding:i}).fn(n):{}:r?c3({element:r,padding:i}).fn(n):{}}}},jJ=(e,t)=>({...wJ(e),options:[e,t]}),RJ=(e,t)=>({...SJ(e),options:[e,t]}),OJ=(e,t)=>({...AJ(e),options:[e,t]}),DJ=(e,t)=>({..._J(e),options:[e,t]}),MJ=(e,t)=>({...CJ(e),options:[e,t]}),UJ=(e,t)=>({...EJ(e),options:[e,t]}),LJ=(e,t)=>({...NJ(e),options:[e,t]});var PJ="Arrow",V5=S.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return f.jsx(He.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});V5.displayName=PJ;var FJ=V5;function VJ(e){const[t,n]=S.useState(void 0);return Wt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var S_="Popper",[z5,$5]=xd(S_),[zJ,H5]=z5(S_),G5=e=>{const{__scopePopper:t,children:n}=e,[r,i]=S.useState(null);return f.jsx(zJ,{scope:t,anchor:r,onAnchorChange:i,children:n})};G5.displayName=S_;var q5="PopperAnchor",K5=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=H5(q5,n),o=S.useRef(null),a=kt(t,o);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(He.div,{...i,ref:a})});K5.displayName=q5;var __="PopperContent",[$J,HJ]=z5(__),Y5=S.forwardRef((e,t)=>{var J,X,Ne,K,te,oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...y}=e,_=H5(__,n),[g,b]=S.useState(null),p=kt(t,ye=>b(ye)),[C,E]=S.useState(null),N=VJ(C),k=(N==null?void 0:N.width)??0,j=(N==null?void 0:N.height)??0,D=r+(s!=="center"?"-"+s:""),M=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},H=Array.isArray(c)?c:[c],Q=H.length>0,G={padding:M,boundary:H.filter(qJ),altBoundary:Q},{refs:F,floatingStyles:z,placement:B,isPositioned:U,middlewareData:O}=BJ({strategy:"fixed",placement:D,whileElementsMounted:(...ye)=>xJ(...ye,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[jJ({mainAxis:i+j,alignmentAxis:o}),l&&RJ({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?OJ():void 0,...G}),l&&DJ({...G}),MJ({...G,apply:({elements:ye,rects:Ve,availableWidth:Cr,availableHeight:St})=>{const{width:ir,height:ni}=Ve.reference,Ji=ye.floating.style;Ji.setProperty("--radix-popper-available-width",`${Cr}px`),Ji.setProperty("--radix-popper-available-height",`${St}px`),Ji.setProperty("--radix-popper-anchor-width",`${ir}px`),Ji.setProperty("--radix-popper-anchor-height",`${ni}px`)}}),C&&LJ({element:C,padding:a}),KJ({arrowWidth:k,arrowHeight:j}),h&&UJ({strategy:"referenceHidden",...G})]}),[V,Z]=X5(B),ee=Ks(x);Wt(()=>{U&&(ee==null||ee())},[U,ee]);const ue=(J=O.arrow)==null?void 0:J.x,de=(X=O.arrow)==null?void 0:X.y,fe=((Ne=O.arrow)==null?void 0:Ne.centerOffset)!==0,[Fe,Ke]=S.useState();return Wt(()=>{g&&Ke(window.getComputedStyle(g).zIndex)},[g]),f.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:U?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(K=O.transformOrigin)==null?void 0:K.x,(te=O.transformOrigin)==null?void 0:te.y].join(" "),...((oe=O.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx($J,{scope:n,placedSide:V,onArrowChange:E,arrowX:ue,arrowY:de,shouldHideArrow:fe,children:f.jsx(He.div,{"data-side":V,"data-align":Z,...y,ref:p,style:{...y.style,animation:U?void 0:"none"}})})})});Y5.displayName=__;var W5="PopperArrow",GJ={top:"bottom",right:"left",bottom:"top",left:"right"},Z5=S.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=HJ(W5,r),o=GJ[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(FJ,{...i,ref:n,style:{...i.style,display:"block"}})})});Z5.displayName=W5;function qJ(e){return e!==null}var KJ=e=>({name:"transformOrigin",options:e,fn(t){var _,g,b;const{placement:n,rects:r,middlewareData:i}=t,o=((_=i.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=X5(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,m=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let x="",y="";return c==="bottom"?(x=o?d:`${h}px`,y=`${-l}px`):c==="top"?(x=o?d:`${h}px`,y=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,y=o?d:`${m}px`):c==="left"&&(x=`${r.floating.width+l}px`,y=o?d:`${m}px`),{data:{x,y}}}});function X5(e){const[t,n="center"]=e.split("-");return[t,n]}var YJ=G5,WJ=K5,ZJ=Y5,XJ=Z5,JJ="Portal",J5=S.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[i,s]=S.useState(!1);Wt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ER.createPortal(f.jsx(He.div,{...r,ref:t}),o):null});J5.displayName=JJ;var QJ=Sx[" useInsertionEffect ".trim().toString()]||Wt;function pm({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,o]=eQ({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:i;{const u=S.useRef(e!==void 0);S.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=S.useCallback(u=>{var d;if(a){const h=tQ(u)?u(e):u;h!==e&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,e,s,o]);return[l,c]}function eQ({defaultProp:e,onChange:t}){const[n,r]=S.useState(e),i=S.useRef(n),s=S.useRef(t);return QJ(()=>{s.current=t},[t]),S.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function tQ(e){return typeof e=="function"}function nQ(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Q5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rQ="VisuallyHidden",iQ=S.forwardRef((e,t)=>f.jsx(He.span,{...e,ref:t,style:{...Q5,...e.style}}));iQ.displayName=rQ;var sQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ra=new WeakMap,bf=new WeakMap,vf={},tb=0,ej=function(e){return e&&(e.host||ej(e.parentNode))},oQ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=ej(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},aQ=function(e,t,n,r){var i=oQ(t,Array.isArray(e)?e:[e]);vf[n]||(vf[n]=new WeakMap);var s=vf[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",y=(Ra.get(h)||0)+1,_=(s.get(h)||0)+1;Ra.set(h,y),s.set(h,_),o.push(h),y===1&&x&&bf.set(h,!0),_===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return u(t),a.clear(),tb++,function(){o.forEach(function(d){var h=Ra.get(d)-1,m=s.get(d)-1;Ra.set(d,h),s.set(d,m),h||(bf.has(d)||d.removeAttribute(r),bf.delete(d)),m||d.removeAttribute(n)}),tb--,tb||(Ra=new WeakMap,Ra=new WeakMap,bf=new WeakMap,vf={})}},lQ=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=sQ(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),aQ(r,i,n,"aria-hidden")):function(){return null}},Gf="right-scroll-bar-position",qf="width-before-scroll-bar",cQ="with-scroll-bars-hidden",uQ="--removed-body-scroll-bar-size";function nb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function dQ(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var fQ=typeof window<"u"?S.useLayoutEffect:S.useEffect,d3=new WeakMap;function hQ(e,t){var n=dQ(null,function(r){return e.forEach(function(i){return nb(i,r)})});return fQ(function(){var r=d3.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||nb(a,null)}),s.forEach(function(a){i.has(a)||nb(a,o)})}d3.set(n,e)},[e]),n}function mQ(e){return e}function pQ(e,t){t===void 0&&(t=mQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function gQ(e){e===void 0&&(e={});var t=pQ(null);return t.options=jr({async:!0,ssr:!1},e),t}var tj=function(e){var t=e.sideCar,n=IN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,jr({},n))};tj.isSideCarExport=!0;function yQ(e,t){return e.useMedium(t),tj}var nj=gQ(),rb=function(){},Yp=S.forwardRef(function(e,t){var n=S.useRef(null),r=S.useState({onScrollCapture:rb,onWheelCapture:rb,onTouchMoveCapture:rb}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,m=e.noRelative,x=e.noIsolation,y=e.inert,_=e.allowPinchZoom,g=e.as,b=g===void 0?"div":g,p=e.gapMode,C=IN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,N=hQ([n,t]),k=jr(jr({},C),i);return S.createElement(S.Fragment,null,u&&S.createElement(E,{sideCar:nj,removeScrollBar:c,shards:d,noRelative:m,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!_,lockRef:n,gapMode:p}),o?S.cloneElement(S.Children.only(a),jr(jr({},k),{ref:N})):S.createElement(b,jr({},k,{className:l,ref:N}),a))});Yp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yp.classNames={fullWidth:qf,zeroRight:Gf};var bQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bQ();return t&&e.setAttribute("nonce",t),e}function xQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function wQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var SQ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=vQ())&&(xQ(t,n),wQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_Q=function(){var e=SQ();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},rj=function(){var e=_Q(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},CQ={left:0,top:0,right:0,gap:0},ib=function(e){return parseInt(e||"",10)||0},EQ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ib(n),ib(r),ib(i)]},AQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return CQ;var t=EQ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},TQ=rj(),bl="data-scroll-locked",kQ=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(cQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(bl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gf," .").concat(Gf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qf," .").concat(qf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bl,`] {
    `).concat(uQ,": ").concat(a,`px;
  }
`)},f3=function(){var e=parseInt(document.body.getAttribute(bl)||"0",10);return isFinite(e)?e:0},IQ=function(){S.useEffect(function(){return document.body.setAttribute(bl,(f3()+1).toString()),function(){var e=f3()-1;e<=0?document.body.removeAttribute(bl):document.body.setAttribute(bl,e.toString())}},[])},BQ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;IQ();var s=S.useMemo(function(){return AQ(i)},[i]);return S.createElement(TQ,{styles:kQ(s,!t,i,n?"":"!important")})},ux=!1;if(typeof window<"u")try{var xf=Object.defineProperty({},"passive",{get:function(){return ux=!0,!0}});window.addEventListener("test",xf,xf),window.removeEventListener("test",xf,xf)}catch{ux=!1}var Oa=ux?{passive:!1}:!1,NQ=function(e){return e.tagName==="TEXTAREA"},ij=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!NQ(e)&&n[t]==="visible")},jQ=function(e){return ij(e,"overflowY")},RQ=function(e){return ij(e,"overflowX")},h3=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=sj(e,r);if(i){var s=oj(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},OQ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},DQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},sj=function(e,t){return e==="v"?jQ(t):RQ(t)},oj=function(e,t){return e==="v"?OQ(t):DQ(t)},MQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},UQ=function(e,t,n,r,i){var s=MQ(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,l=t.contains(a),c=!1,u=o>0,d=0,h=0;do{if(!a)break;var m=oj(e,a),x=m[0],y=m[1],_=m[2],g=y-_-s*x;(x||g)&&sj(e,a)&&(d+=g,h+=x);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(c=!0),c},wf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},m3=function(e){return[e.deltaX,e.deltaY]},p3=function(e){return e&&"current"in e?e.current:e},LQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},PQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FQ=0,Da=[];function VQ(e){var t=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(FQ++)[0],s=S.useState(rj)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Z$([e.lockRef.current],(e.shards||[]).map(p3),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=S.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var g=wf(y),b=n.current,p="deltaX"in y?y.deltaX:b[0]-g[0],C="deltaY"in y?y.deltaY:b[1]-g[1],E,N=y.target,k=Math.abs(p)>Math.abs(C)?"h":"v";if("touches"in y&&k==="h"&&N.type==="range")return!1;var j=h3(k,N);if(!j)return!0;if(j?E=k:(E=k==="v"?"h":"v",j=h3(k,N)),!j)return!1;if(!r.current&&"changedTouches"in y&&(p||C)&&(r.current=E),!E)return!0;var D=r.current||E;return UQ(D,_,y,D==="h"?p:C)},[]),l=S.useCallback(function(y){var _=y;if(!(!Da.length||Da[Da.length-1]!==s)){var g="deltaY"in _?m3(_):wf(_),b=t.current.filter(function(E){return E.name===_.type&&(E.target===_.target||_.target===E.shadowParent)&&LQ(E.delta,g)})[0];if(b&&b.should){_.cancelable&&_.preventDefault();return}if(!b){var p=(o.current.shards||[]).map(p3).filter(Boolean).filter(function(E){return E.contains(_.target)}),C=p.length>0?a(_,p[0]):!o.current.noIsolation;C&&_.cancelable&&_.preventDefault()}}},[]),c=S.useCallback(function(y,_,g,b){var p={name:y,delta:_,target:g,should:b,shadowParent:zQ(g)};t.current.push(p),setTimeout(function(){t.current=t.current.filter(function(C){return C!==p})},1)},[]),u=S.useCallback(function(y){n.current=wf(y),r.current=void 0},[]),d=S.useCallback(function(y){c(y.type,m3(y),y.target,a(y,e.lockRef.current))},[]),h=S.useCallback(function(y){c(y.type,wf(y),y.target,a(y,e.lockRef.current))},[]);S.useEffect(function(){return Da.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Oa),document.addEventListener("touchmove",l,Oa),document.addEventListener("touchstart",u,Oa),function(){Da=Da.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Oa),document.removeEventListener("touchmove",l,Oa),document.removeEventListener("touchstart",u,Oa)}},[]);var m=e.removeScrollBar,x=e.inert;return S.createElement(S.Fragment,null,x?S.createElement(s,{styles:PQ(i)}):null,m?S.createElement(BQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function zQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $Q=yQ(nj,VQ);var aj=S.forwardRef(function(e,t){return S.createElement(Yp,jr({},e,{ref:t,sideCar:$Q}))});aj.classNames=Yp.classNames;var HQ=[" ","Enter","ArrowUp","ArrowDown"],GQ=[" ","Enter"],sa="Select",[Wp,Zp,qQ]=E5(sa),[Ac,lre]=xd(sa,[qQ,$5]),Xp=$5(),[KQ,ro]=Ac(sa),[YQ,WQ]=Ac(sa),lj=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:m,form:x}=e,y=Xp(t),[_,g]=S.useState(null),[b,p]=S.useState(null),[C,E]=S.useState(!1),N=m_(c),[k,j]=pm({prop:r,defaultProp:i??!1,onChange:s,caller:sa}),[D,M]=pm({prop:o,defaultProp:a,onChange:l,caller:sa}),H=S.useRef(null),Q=_?x||!!_.closest("form"):!0,[G,F]=S.useState(new Set),z=Array.from(G).map(B=>B.props.value).join(";");return f.jsx(YJ,{...y,children:f.jsxs(KQ,{required:m,scope:t,trigger:_,onTriggerChange:g,valueNode:b,onValueNodeChange:p,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:wd(),value:D,onValueChange:M,open:k,onOpenChange:j,dir:N,triggerPointerDownPosRef:H,disabled:h,children:[f.jsx(Wp.Provider,{scope:t,children:f.jsx(YQ,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(B=>{F(U=>new Set(U).add(B))},[]),onNativeOptionRemove:S.useCallback(B=>{F(U=>{const O=new Set(U);return O.delete(B),O})},[]),children:n})}),Q?f.jsxs(Bj,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:D,onChange:B=>M(B.target.value),disabled:h,form:x,children:[D===void 0?f.jsx("option",{value:""}):null,Array.from(G)]},z):null]})})};lj.displayName=sa;var cj="SelectTrigger",uj=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=Xp(n),o=ro(cj,n),a=o.disabled||r,l=kt(t,o.onTriggerChange),c=Zp(n),u=S.useRef("touch"),[d,h,m]=jj(y=>{const _=c().filter(p=>!p.disabled),g=_.find(p=>p.value===o.value),b=Rj(_,y,g);b!==void 0&&o.onValueChange(b.value)}),x=y=>{a||(o.onOpenChange(!0),m()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(WJ,{asChild:!0,...s,children:f.jsx(He.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Nj(o.value)?"":void 0,...i,ref:l,onClick:Le(i.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&x(y)}),onPointerDown:Le(i.onPointerDown,y=>{u.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:Le(i.onKeyDown,y=>{const _=d.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(_&&y.key===" ")&&HQ.includes(y.key)&&(x(),y.preventDefault())})})})});uj.displayName=cj;var dj="SelectValue",fj=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=e,l=ro(dj,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=kt(t,l.onValueNodeChange);return Wt(()=>{c(u)},[c,u]),f.jsx(He.span,{...a,ref:d,style:{pointerEvents:"none"},children:Nj(l.value)?f.jsx(f.Fragment,{children:o}):s})});fj.displayName=dj;var ZQ="SelectIcon",hj=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return f.jsx(He.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});hj.displayName=ZQ;var XQ="SelectPortal",mj=e=>f.jsx(J5,{asChild:!0,...e});mj.displayName=XQ;var oa="SelectContent",pj=S.forwardRef((e,t)=>{const n=ro(oa,e.__scopeSelect),[r,i]=S.useState();if(Wt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Jl.createPortal(f.jsx(gj,{scope:e.__scopeSelect,children:f.jsx(Wp.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),s):null}return f.jsx(yj,{...e,ref:t})});pj.displayName=oa;var dr=10,[gj,io]=Ac(oa),JQ="SelectContentImpl",QQ=_0("SelectContent.RemoveScroll"),yj=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:y,avoidCollisions:_,...g}=e,b=ro(oa,n),[p,C]=S.useState(null),[E,N]=S.useState(null),k=kt(t,J=>C(J)),[j,D]=S.useState(null),[M,H]=S.useState(null),Q=Zp(n),[G,F]=S.useState(!1),z=S.useRef(!1);S.useEffect(()=>{if(p)return lQ(p)},[p]),BX();const B=S.useCallback(J=>{const[X,...Ne]=Q().map(oe=>oe.ref.current),[K]=Ne.slice(-1),te=document.activeElement;for(const oe of J)if(oe===te||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===X&&E&&(E.scrollTop=0),oe===K&&E&&(E.scrollTop=E.scrollHeight),oe==null||oe.focus(),document.activeElement!==te))return},[Q,E]),U=S.useCallback(()=>B([j,p]),[B,j,p]);S.useEffect(()=>{G&&U()},[G,U]);const{onOpenChange:O,triggerPointerDownPosRef:V}=b;S.useEffect(()=>{if(p){let J={x:0,y:0};const X=K=>{var te,oe;J={x:Math.abs(Math.round(K.pageX)-(((te=V.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(K.pageY)-(((oe=V.current)==null?void 0:oe.y)??0))}},Ne=K=>{J.x<=10&&J.y<=10?K.preventDefault():p.contains(K.target)||O(!1),document.removeEventListener("pointermove",X),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[p,O,V]),S.useEffect(()=>{const J=()=>O(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[O]);const[Z,ee]=jj(J=>{const X=Q().filter(te=>!te.disabled),Ne=X.find(te=>te.ref.current===document.activeElement),K=Rj(X,J,Ne);K&&setTimeout(()=>K.ref.current.focus())}),ue=S.useCallback((J,X,Ne)=>{const K=!z.current&&!Ne;(b.value!==void 0&&b.value===X||K)&&(D(J),K&&(z.current=!0))},[b.value]),de=S.useCallback(()=>p==null?void 0:p.focus(),[p]),fe=S.useCallback((J,X,Ne)=>{const K=!z.current&&!Ne;(b.value!==void 0&&b.value===X||K)&&H(J)},[b.value]),Fe=r==="popper"?dx:bj,Ke=Fe===dx?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:y,avoidCollisions:_}:{};return f.jsx(gj,{scope:n,content:p,viewport:E,onViewportChange:N,itemRefCallback:ue,selectedItem:j,onItemLeave:de,itemTextRefCallback:fe,focusSelectedItem:U,selectedItemText:M,position:r,isPositioned:G,searchRef:Z,children:f.jsx(aj,{as:QQ,allowPinchZoom:!0,children:f.jsx(I5,{asChild:!0,trapped:b.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Le(i,J=>{var X;(X=b.trigger)==null||X.focus({preventScroll:!0}),J.preventDefault()}),children:f.jsx(T5,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:f.jsx(Fe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:J=>J.preventDefault(),...g,...Ke,onPlaced:()=>F(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Le(g.onKeyDown,J=>{const X=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!X&&J.key.length===1&&ee(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let K=Q().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(J.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const te=J.target,oe=K.indexOf(te);K=K.slice(oe+1)}setTimeout(()=>B(K)),J.preventDefault()}})})})})})})});yj.displayName=JQ;var eee="SelectItemAlignedPosition",bj=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=ro(oa,n),o=io(oa,n),[a,l]=S.useState(null),[c,u]=S.useState(null),d=kt(t,k=>u(k)),h=Zp(n),m=S.useRef(!1),x=S.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:g,focusSelectedItem:b}=o,p=S.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&_&&g){const k=s.trigger.getBoundingClientRect(),j=c.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),M=g.getBoundingClientRect();if(s.dir!=="rtl"){const te=M.left-j.left,oe=D.left-te,ye=k.left-oe,Ve=k.width+ye,Cr=Math.max(Ve,j.width),St=window.innerWidth-dr,ir=W6(oe,[dr,Math.max(dr,St-Cr)]);a.style.minWidth=Ve+"px",a.style.left=ir+"px"}else{const te=j.right-M.right,oe=window.innerWidth-D.right-te,ye=window.innerWidth-k.right-oe,Ve=k.width+ye,Cr=Math.max(Ve,j.width),St=window.innerWidth-dr,ir=W6(oe,[dr,Math.max(dr,St-Cr)]);a.style.minWidth=Ve+"px",a.style.right=ir+"px"}const H=h(),Q=window.innerHeight-dr*2,G=y.scrollHeight,F=window.getComputedStyle(c),z=parseInt(F.borderTopWidth,10),B=parseInt(F.paddingTop,10),U=parseInt(F.borderBottomWidth,10),O=parseInt(F.paddingBottom,10),V=z+B+G+O+U,Z=Math.min(_.offsetHeight*5,V),ee=window.getComputedStyle(y),ue=parseInt(ee.paddingTop,10),de=parseInt(ee.paddingBottom,10),fe=k.top+k.height/2-dr,Fe=Q-fe,Ke=_.offsetHeight/2,J=_.offsetTop+Ke,X=z+B+J,Ne=V-X;if(X<=fe){const te=H.length>0&&_===H[H.length-1].ref.current;a.style.bottom="0px";const oe=c.clientHeight-y.offsetTop-y.offsetHeight,ye=Math.max(Fe,Ke+(te?de:0)+oe+U),Ve=X+ye;a.style.height=Ve+"px"}else{const te=H.length>0&&_===H[0].ref.current;a.style.top="0px";const ye=Math.max(fe,z+y.offsetTop+(te?ue:0)+Ke)+Ne;a.style.height=ye+"px",y.scrollTop=X-fe+y.offsetTop}a.style.margin=`${dr}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=Q+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,a,c,y,_,g,s.dir,r]);Wt(()=>p(),[p]);const[C,E]=S.useState();Wt(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const N=S.useCallback(k=>{k&&x.current===!0&&(p(),b==null||b(),x.current=!1)},[p,b]);return f.jsx(nee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:f.jsx(He.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});bj.displayName=eee;var tee="SelectPopperPosition",dx=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=dr,...s}=e,o=Xp(n);return f.jsx(ZJ,{...o,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dx.displayName=tee;var[nee,C_]=Ac(oa,{}),fx="SelectViewport",vj=S.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=io(fx,n),o=C_(fx,n),a=kt(t,s.onViewportChange),l=S.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Wp.Slot,{scope:n,children:f.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const m=Math.abs(l.current-u.scrollTop);if(m>0){const x=window.innerHeight-dr*2,y=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),g=Math.max(y,_);if(g<x){const b=g+m,p=Math.min(x,b),C=b-p;d.style.height=p+"px",d.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});vj.displayName=fx;var xj="SelectGroup",[ree,iee]=Ac(xj),see=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=wd();return f.jsx(ree,{scope:n,id:i,children:f.jsx(He.div,{role:"group","aria-labelledby":i,...r,ref:t})})});see.displayName=xj;var wj="SelectLabel",oee=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=iee(wj,n);return f.jsx(He.div,{id:i.id,...r,ref:t})});oee.displayName=wj;var gm="SelectItem",[aee,Sj]=Ac(gm),_j=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=e,a=ro(gm,n),l=io(gm,n),c=a.value===r,[u,d]=S.useState(s??""),[h,m]=S.useState(!1),x=kt(t,b=>{var p;return(p=l.itemRefCallback)==null?void 0:p.call(l,b,r,i)}),y=wd(),_=S.useRef("touch"),g=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(aee,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:S.useCallback(b=>{d(p=>p||((b==null?void 0:b.textContent)??"").trim())},[]),children:f.jsx(Wp.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:f.jsx(He.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:Le(o.onFocus,()=>m(!0)),onBlur:Le(o.onBlur,()=>m(!1)),onClick:Le(o.onClick,()=>{_.current!=="mouse"&&g()}),onPointerUp:Le(o.onPointerUp,()=>{_.current==="mouse"&&g()}),onPointerDown:Le(o.onPointerDown,b=>{_.current=b.pointerType}),onPointerMove:Le(o.onPointerMove,b=>{var p;_.current=b.pointerType,i?(p=l.onItemLeave)==null||p.call(l):_.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(o.onPointerLeave,b=>{var p;b.currentTarget===document.activeElement&&((p=l.onItemLeave)==null||p.call(l))}),onKeyDown:Le(o.onKeyDown,b=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&b.key===" "||(GQ.includes(b.key)&&g(),b.key===" "&&b.preventDefault())})})})})});_j.displayName=gm;var eu="SelectItemText",Cj=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,o=ro(eu,n),a=io(eu,n),l=Sj(eu,n),c=WQ(eu,n),[u,d]=S.useState(null),h=kt(t,g=>d(g),l.onItemTextChange,g=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,g,l.value,l.disabled)}),m=u==null?void 0:u.textContent,x=S.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=c;return Wt(()=>(y(x),()=>_(x)),[y,_,x]),f.jsxs(f.Fragment,{children:[f.jsx(He.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Jl.createPortal(s.children,o.valueNode):null]})});Cj.displayName=eu;var Ej="SelectItemIndicator",Aj=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Sj(Ej,n).isSelected?f.jsx(He.span,{"aria-hidden":!0,...r,ref:t}):null});Aj.displayName=Ej;var hx="SelectScrollUpButton",Tj=S.forwardRef((e,t)=>{const n=io(hx,e.__scopeSelect),r=C_(hx,e.__scopeSelect),[i,s]=S.useState(!1),o=kt(t,r.onScrollButtonChange);return Wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(Ij,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Tj.displayName=hx;var mx="SelectScrollDownButton",kj=S.forwardRef((e,t)=>{const n=io(mx,e.__scopeSelect),r=C_(mx,e.__scopeSelect),[i,s]=S.useState(!1),o=kt(t,r.onScrollButtonChange);return Wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(Ij,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});kj.displayName=mx;var Ij=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=io("SelectScrollButton",n),o=S.useRef(null),a=Zp(n),l=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),Wt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),f.jsx(He.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Le(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{l()})})}),lee="SelectSeparator",cee=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return f.jsx(He.div,{"aria-hidden":!0,...r,ref:t})});cee.displayName=lee;var px="SelectArrow",uee=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Xp(n),s=ro(px,n),o=io(px,n);return s.open&&o.position==="popper"?f.jsx(XJ,{...i,...r,ref:t}):null});uee.displayName=px;var dee="SelectBubbleInput",Bj=S.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=S.useRef(null),s=kt(r,i),o=nQ(t);return S.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(d)}},[o,t]),f.jsx(He.select,{...n,style:{...Q5,...n.style},ref:s,defaultValue:t})});Bj.displayName=dee;function Nj(e){return e===""||e===void 0}function jj(e){const t=Ks(e),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(o=>{const a=n.current+o;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),s=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function Rj(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=fee(e,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function fee(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var hee=lj,mee=uj,pee=fj,gee=hj,yee=mj,bee=pj,vee=vj,xee=_j,wee=Cj,See=Aj,_ee=Tj,Cee=kj;/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Aee=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),g3=e=>{const t=Aee(e);return t.charAt(0).toUpperCase()+t.slice(1)},Oj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Tee=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...kee,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Oj("lucide",i),...!s&&!Tee(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>S.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=(e,t)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(Iee,{ref:s,iconNode:t,className:Oj(`lucide-${Eee(g3(e))}`,`lucide-${e}`,r),...i}));return n.displayName=g3(e),n};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nee=E_("check",Bee);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dj=E_("chevron-down",jee);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Oee=E_("chevron-up",Ree);function Dee({...e}){return f.jsx(hee,{"data-slot":"select",...e})}function Mee({...e}){return f.jsx(pee,{"data-slot":"select-value",...e})}function Uee({className:e,size:t="default",children:n,...r}){return f.jsxs(mee,{"data-slot":"select-trigger","data-size":t,className:yt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,f.jsx(gee,{asChild:!0,children:f.jsx(Dj,{className:"size-4 opacity-50"})})]})}function Lee({className:e,children:t,position:n="popper",...r}){return f.jsx(yee,{children:f.jsxs(bee,{"data-slot":"select-content",className:yt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[f.jsx(Pee,{}),f.jsx(vee,{className:yt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),f.jsx(Fee,{})]})})}function Sf({className:e,children:t,...n}){return f.jsxs(xee,{"data-slot":"select-item",className:yt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[f.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:f.jsx(See,{children:f.jsx(Nee,{className:"size-4"})})}),f.jsx(wee,{children:t})]})}function Pee({className:e,...t}){return f.jsx(_ee,{"data-slot":"select-scroll-up-button",className:yt("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(Oee,{className:"size-4"})})}function Fee({className:e,...t}){return f.jsx(Cee,{"data-slot":"select-scroll-down-button",className:yt("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(Dj,{className:"size-4"})})}const Vee=h_("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function zee({className:e,variant:t,asChild:n=!1,...r}){const i=n?_5:"span";return f.jsx(i,{"data-slot":"badge",className:yt(Vee({variant:t}),e),...r})}const $ee=h_("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function y3({className:e,variant:t,...n}){return f.jsx("div",{"data-slot":"alert",role:"alert",className:yt($ee({variant:t}),e),...n})}function b3({className:e,...t}){return f.jsx("div",{"data-slot":"alert-description",className:yt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}var sb="rovingFocusGroup.onEntryFocus",Hee={bubbles:!1,cancelable:!0},_d="RovingFocusGroup",[gx,Mj,Gee]=E5(_d),[qee,Uj]=xd(_d,[Gee]),[Kee,Yee]=qee(_d),Lj=S.forwardRef((e,t)=>f.jsx(gx.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(gx.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(Wee,{...e,ref:t})})}));Lj.displayName=_d;var Wee=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,h=S.useRef(null),m=kt(t,h),x=m_(s),[y,_]=pm({prop:o,defaultProp:a??null,onChange:l,caller:_d}),[g,b]=S.useState(!1),p=Ks(c),C=Mj(n),E=S.useRef(!1),[N,k]=S.useState(0);return S.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(sb,p),()=>j.removeEventListener(sb,p)},[p]),f.jsx(Kee,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:y,onItemFocus:S.useCallback(j=>_(j),[_]),onItemShiftTab:S.useCallback(()=>b(!0),[]),onFocusableItemAdd:S.useCallback(()=>k(j=>j+1),[]),onFocusableItemRemove:S.useCallback(()=>k(j=>j-1),[]),children:f.jsx(He.div,{tabIndex:g||N===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{E.current=!0}),onFocus:Le(e.onFocus,j=>{const D=!E.current;if(j.target===j.currentTarget&&D&&!g){const M=new CustomEvent(sb,Hee);if(j.currentTarget.dispatchEvent(M),!M.defaultPrevented){const H=C().filter(B=>B.focusable),Q=H.find(B=>B.active),G=H.find(B=>B.id===y),z=[Q,G,...H].filter(Boolean).map(B=>B.ref.current);Vj(z,u)}}E.current=!1}),onBlur:Le(e.onBlur,()=>b(!1))})})}),Pj="RovingFocusGroupItem",Fj=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=e,l=wd(),c=s||l,u=Yee(Pj,n),d=u.currentTabStopId===c,h=Mj(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:y}=u;return S.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),f.jsx(gx.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:f.jsx(He.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:Le(e.onMouseDown,_=>{r?u.onItemFocus(c):_.preventDefault()}),onFocus:Le(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Le(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const g=Jee(_,u.orientation,u.dir);if(g!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let p=h().filter(C=>C.focusable).map(C=>C.ref.current);if(g==="last")p.reverse();else if(g==="prev"||g==="next"){g==="prev"&&p.reverse();const C=p.indexOf(_.currentTarget);p=u.loop?Qee(p,C+1):p.slice(C+1)}setTimeout(()=>Vj(p))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:y!=null}):o})})});Fj.displayName=Pj;var Zee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xee(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Jee(e,t,n){const r=Xee(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Zee[r]}function Vj(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Qee(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ete=Lj,tte=Fj;function nte(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var zj=e=>{const{present:t,children:n}=e,r=rte(t),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=kt(r.ref,ite(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};zj.displayName="Presence";function rte(e){const[t,n]=S.useState(),r=S.useRef(null),i=S.useRef(e),s=S.useRef("none"),o=e?"mounted":"unmounted",[a,l]=nte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=_f(r.current);s.current=a==="mounted"?c:"none"},[a]),Wt(()=>{const c=r.current,u=i.current;if(u!==e){const h=s.current,m=_f(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Wt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=m=>{const y=_f(r.current).includes(m.animationName);if(m.target===t&&y&&(l("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},h=m=>{m.target===t&&(s.current=_f(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function _f(e){return(e==null?void 0:e.animationName)||"none"}function ite(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Jp="Tabs",[ste,cre]=xd(Jp,[Uj]),$j=Uj(),[ote,A_]=ste(Jp),Hj=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=m_(a),[d,h]=pm({prop:r,onChange:i,defaultProp:s??"",caller:Jp});return f.jsx(ote,{scope:n,baseId:wd(),value:d,onValueChange:h,orientation:o,dir:u,activationMode:l,children:f.jsx(He.div,{dir:u,"data-orientation":o,...c,ref:t})})});Hj.displayName=Jp;var Gj="TabsList",qj=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=A_(Gj,n),o=$j(n);return f.jsx(ete,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:f.jsx(He.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});qj.displayName=Gj;var Kj="TabsTrigger",Yj=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,o=A_(Kj,n),a=$j(n),l=Xj(o.baseId,r),c=Jj(o.baseId,r),u=r===o.value;return f.jsx(tte,{asChild:!0,...a,focusable:!i,active:u,children:f.jsx(He.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:t,onMouseDown:Le(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:Le(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:Le(e.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})})});Yj.displayName=Kj;var Wj="TabsContent",Zj=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=e,a=A_(Wj,n),l=Xj(a.baseId,r),c=Jj(a.baseId,r),u=r===a.value,d=S.useRef(u);return S.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),f.jsx(zj,{present:i||u,children:({present:h})=>f.jsx(He.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});Zj.displayName=Wj;function Xj(e,t){return`${e}-trigger-${t}`}function Jj(e,t){return`${e}-content-${t}`}var ate=Hj,lte=qj,cte=Yj,ute=Zj;function dte({className:e,...t}){return f.jsx(ate,{"data-slot":"tabs",className:yt("flex flex-col gap-2",e),...t})}function fte({className:e,...t}){return f.jsx(lte,{"data-slot":"tabs-list",className:yt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function zc({className:e,...t}){return f.jsx(cte,{"data-slot":"tabs-trigger",className:yt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function $c({className:e,...t}){return f.jsx(ute,{"data-slot":"tabs-content",className:yt("flex-1 outline-none",e),...t})}function hte(){const[e,t]=S.useState(null),[n,r]=S.useState(!0),[i,s]=S.useState(null),[o,a]=S.useState(null),[l,c]=S.useState(null),[u,d]=S.useState(null),[h,m]=S.useState(!1),[x,y]=S.useState(""),[_,g]=S.useState(""),[b,p]=S.useState(""),[C,E]=S.useState(null),[N,k]=S.useState(""),[j,D]=S.useState(""),[M,H]=S.useState(""),[Q,G]=S.useState(""),[F,z]=S.useState(""),[B,U]=S.useState(""),[O,V]=S.useState(""),[Z,ee]=S.useState(""),[ue,de]=S.useState(""),[fe,Fe]=S.useState(""),[Ke,J]=S.useState(""),[X,Ne]=S.useState(""),[K,te]=S.useState(""),[oe,ye]=S.useState(""),[Ve,Cr]=S.useState(""),[St,ir]=S.useState(""),[ni,Ji]=S.useState(""),[Tc,ba]=S.useState({}),[sr,Cd]=S.useState([]),Qp=async()=>{try{r(!0),y("Loading Aztec modules..."),r(!1),y("Aztec modules loading skipped for now")}catch{g("Failed to load Aztec modules"),r(!1)}};S.useEffect(()=>{Qp()},[]);const Er=async()=>{if(l){m(!0);try{y("Creating account...");const W=await l.createAccountAndConnect();d(W),y("Account created successfully")}catch(W){g(`Failed to create account: ${W instanceof Error?W.message:"Unknown error"}`)}finally{m(!1)}}},eg=async()=>{if(!(!u||!b||!e||!o))try{y("Connecting to contract...");const W=await o.at(e.AztecAddress.fromString(b),u);E(W),y("Contract connected successfully")}catch(W){g(`Failed to connect to contract: ${W instanceof Error?W.message:"Unknown error"}`)}},T=async()=>{if(!(!C||!N||!e)){m(!0);try{y("Adding agent...");const W=C.methods.add_agent(e.AztecAddress.fromString(N));await(l==null?void 0:l.sendTransaction(W)),y("Agent added successfully"),k("")}catch(W){g(`Failed to add agent: ${W instanceof Error?W.message:"Unknown error"}`)}finally{m(!1)}}},v=async()=>{if(!(!C||!j||!M||!Q||!e)){m(!0);try{y("Creating disaster...");const W=e.Fr.fromString(j),Se=e.Fr.fromString(M),Ye=BigInt(Q),De=C.methods.create_disaster(W,Se,Ye),Qj=await(l==null?void 0:l.simulateTransaction(De));await(l==null?void 0:l.sendTransaction(De)),y(`Disaster created with hash: ${Qj}`),D(""),H(""),G("")}catch(W){g(`Failed to create disaster: ${W instanceof Error?W.message:"Unknown error"}`)}finally{m(!1)}}},w=async()=>{if(!(!C||!F||!B||!e)){m(!0);try{y("Processing donation...");const W=C.methods.donate(e.Fr.fromString(F),BigInt(B),e.Fr.fromString(O||"0"),e.Fr.fromString(Z||"0"));await(l==null?void 0:l.sendTransaction(W)),y("Donation successful"),z(""),U(""),V(""),ee("")}catch(W){g(`Failed to donate: ${W instanceof Error?W.message:"Unknown error"}`)}finally{m(!1)}}},R=async()=>{if(!(!C||!ue||!fe||!Ke||!e)){m(!0);try{y("Casting vote...");const W=C.methods.vote(e.Fr.fromString(ue),e.AztecAddress.fromString(fe),parseInt(Ke));await(l==null?void 0:l.sendTransaction(W)),y("Vote cast successfully"),de(""),Fe(""),J("")}catch(W){g(`Failed to vote: ${W instanceof Error?W.message:"Unknown error"}`)}finally{m(!1)}}},L=async()=>{if(!(!C||!X||!K||!oe||!e)){m(!0);try{y("Unlocking funds...");const W=C.methods.unlock_funds(e.Fr.fromString(X),e.AztecAddress.fromString(K),BigInt(oe));await(l==null?void 0:l.sendTransaction(W)),y("Funds unlocked successfully"),Ne(""),te(""),ye("")}catch(W){g(`Failed to unlock funds: ${W instanceof Error?W.message:"Unknown error"}`)}finally{m(!1)}}},$=async()=>{if(!(!C||!Ve||!e)){m(!0);try{y("Processing claim...");const W=C.methods.claim(e.Fr.fromString(Ve));await(l==null?void 0:l.sendTransaction(W)),y("Claim processed successfully"),Cr("")}catch(W){g(`Failed to claim: ${W instanceof Error?W.message:"Unknown error"}`)}finally{m(!1)}}},q=async W=>{if(!(!C||!e))try{y(`Querying ${W}...`);let Se;switch(W){case"get_disaster_info":if(!St)return;Se=await(l==null?void 0:l.simulateTransaction(C.methods.get_disaster_info(e.Fr.fromString(St))));break;case"get_admin":Se=await(l==null?void 0:l.simulateTransaction(C.methods.get_admin()));break;case"is_agent":if(!ni)return;Se=await(l==null?void 0:l.simulateTransaction(C.methods.is_agent(e.AztecAddress.fromString(ni))));break;case"get_unlocked_funds":if(!St||!ni)return;Se=await(l==null?void 0:l.simulateTransaction(C.methods.get_unlocked_funds(e.Fr.fromString(St),e.AztecAddress.fromString(ni))));break;case"get_donation_count":if(!St)return;Se=await(l==null?void 0:l.simulateTransaction(C.methods.get_donation_count(e.Fr.fromString(St))));break;case"get_vote_count":if(!St)return;Se=await(l==null?void 0:l.simulateTransaction(C.methods.get_vote_count(e.Fr.fromString(St))));break;default:return}ba(Ye=>({...Ye,[W]:Se})),y(`Query completed: ${W}`)}catch(Se){g(`Failed to query ${W}: ${Se instanceof Error?Se.message:"Unknown error"}`)}},ve=async()=>{if(!(!C||!St||!e)){m(!0);try{y("Deactivating disaster...");const W=C.methods.deactivate_disaster(e.Fr.fromString(St));await(l==null?void 0:l.sendTransaction(W)),y("Disaster deactivated successfully")}catch(W){g(`Failed to deactivate disaster: ${W instanceof Error?W.message:"Unknown error"}`)}finally{m(!1)}}};return n?f.jsx("div",{className:"container mx-auto p-6",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Loading Aztec..."}),f.jsx("p",{className:"text-muted-foreground",children:"Please wait while we load the Aztec modules"})]})}):f.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2",children:"GodsHand Contract Testing"}),f.jsx("p",{className:"text-muted-foreground",children:"Test all functions of the GodsHand disaster relief contract"})]}),x&&f.jsx(y3,{children:f.jsx(b3,{children:x})}),_&&f.jsx(y3,{variant:"destructive",children:f.jsx(b3,{children:_})}),f.jsxs(ho,{children:[f.jsx(mo,{children:f.jsx(po,{children:"Wallet Connection"})}),f.jsx(go,{className:"space-y-4",children:u?f.jsxs("div",{className:"space-y-2",children:[f.jsxs(zee,{variant:"outline",children:["Connected: ",u.getAddress().toString().slice(0,8),"..."]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx($t,{placeholder:"Contract Address",value:b,onChange:W=>p(W.target.value)}),f.jsx(Zt,{onClick:eg,disabled:!b,children:"Connect Contract"})]})]}):f.jsx(Zt,{onClick:Er,disabled:h||!l,children:h?"Creating...":"Create Account"})})]}),C&&f.jsxs(dte,{defaultValue:"admin",className:"w-full",children:[f.jsxs(fte,{className:"grid w-full grid-cols-5",children:[f.jsx(zc,{value:"admin",children:"Admin"}),f.jsx(zc,{value:"disasters",children:"Disasters"}),f.jsx(zc,{value:"donations",children:"Donations"}),f.jsx(zc,{value:"voting",children:"Voting"}),f.jsx(zc,{value:"queries",children:"Queries"})]}),f.jsx($c,{value:"admin",className:"space-y-4",children:f.jsxs(ho,{children:[f.jsx(mo,{children:f.jsx(po,{children:"Admin Functions"})}),f.jsx(go,{className:"space-y-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(gf,{children:"Add Agent"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx($t,{placeholder:"Agent Address",value:N,onChange:W=>k(W.target.value)}),f.jsx(Zt,{onClick:T,disabled:h,children:"Add Agent"})]})]})})]})}),f.jsxs($c,{value:"disasters",className:"space-y-4",children:[f.jsxs(ho,{children:[f.jsx(mo,{children:f.jsx(po,{children:"Disaster Management"})}),f.jsxs(go,{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(gf,{children:"Title"}),f.jsx($t,{value:j,onChange:W=>D(W.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(gf,{children:"Estimated Amount Required"}),f.jsx($t,{type:"number",value:Q,onChange:W=>G(W.target.value)})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(gf,{children:"Metadata"}),f.jsx(vX,{value:M,onChange:W=>H(W.target.value)})]}),f.jsx(Zt,{onClick:v,disabled:h,children:"Create Disaster"})]})]}),f.jsxs(ho,{children:[f.jsx(mo,{children:f.jsx(po,{children:"Unlock Funds"})}),f.jsxs(go,{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx($t,{placeholder:"Disaster Hash",value:X,onChange:W=>Ne(W.target.value)}),f.jsx($t,{placeholder:"Organization Address",value:K,onChange:W=>te(W.target.value)}),f.jsx($t,{placeholder:"Amount",type:"number",value:oe,onChange:W=>ye(W.target.value)})]}),f.jsx(Zt,{onClick:L,disabled:h,children:"Unlock Funds"})]})]})]}),f.jsx($c,{value:"donations",className:"space-y-4",children:f.jsxs(ho,{children:[f.jsx(mo,{children:f.jsx(po,{children:"Donate & Claim"})}),f.jsxs(go,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Donate"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx($t,{placeholder:"Disaster Hash",value:F,onChange:W=>z(W.target.value)}),f.jsx($t,{placeholder:"Amount",type:"number",value:B,onChange:W=>U(W.target.value)}),f.jsx($t,{placeholder:"Chain (optional)",value:O,onChange:W=>V(W.target.value)}),f.jsx($t,{placeholder:"Token Address (optional)",value:Z,onChange:W=>ee(W.target.value)})]}),f.jsx(Zt,{onClick:w,disabled:h,children:"Donate"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Claim"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx($t,{placeholder:"Disaster Hash",value:Ve,onChange:W=>Cr(W.target.value)}),f.jsx(Zt,{onClick:$,disabled:h,children:"Claim"})]})]})]})]})}),f.jsx($c,{value:"voting",className:"space-y-4",children:f.jsxs(ho,{children:[f.jsx(mo,{children:f.jsx(po,{children:"Voting"})}),f.jsxs(go,{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx($t,{placeholder:"Disaster Hash",value:ue,onChange:W=>de(W.target.value)}),f.jsx($t,{placeholder:"Organization Address",value:fe,onChange:W=>Fe(W.target.value)}),f.jsxs(Dee,{value:Ke,onValueChange:J,children:[f.jsx(Uee,{children:f.jsx(Mee,{placeholder:"Vote Type"})}),f.jsxs(Lee,{children:[f.jsx(Sf,{value:"0",children:"Type 0"}),f.jsx(Sf,{value:"1",children:"Type 1"}),f.jsx(Sf,{value:"2",children:"Type 2"}),f.jsx(Sf,{value:"3",children:"Type 3"})]})]})]}),f.jsx(Zt,{onClick:R,disabled:h,children:"Cast Vote"})]})]})}),f.jsx($c,{value:"queries",className:"space-y-4",children:f.jsxs(ho,{children:[f.jsx(mo,{children:f.jsx(po,{children:"Query Functions"})}),f.jsxs(go,{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx($t,{placeholder:"Query Hash (for disaster functions)",value:St,onChange:W=>ir(W.target.value)}),f.jsx($t,{placeholder:"Query Address (for address functions)",value:ni,onChange:W=>Ji(W.target.value)})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[f.jsx(Zt,{variant:"outline",onClick:()=>q("get_admin"),children:"Get Admin"}),f.jsx(Zt,{variant:"outline",onClick:()=>q("is_agent"),children:"Is Agent"}),f.jsx(Zt,{variant:"outline",onClick:()=>q("get_disaster_info"),children:"Get Disaster Info"}),f.jsx(Zt,{variant:"outline",onClick:()=>q("get_unlocked_funds"),children:"Get Unlocked Funds"}),f.jsx(Zt,{variant:"outline",onClick:()=>q("get_donation_count"),children:"Get Donation Count"}),f.jsx(Zt,{variant:"outline",onClick:()=>q("get_vote_count"),children:"Get Vote Count"})]}),f.jsx(Zt,{onClick:ve,disabled:h,variant:"destructive",children:"Deactivate Disaster"}),Object.keys(Tc).length>0&&f.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[f.jsx("h4",{className:"font-semibold mb-2",children:"Query Results:"}),f.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(Tc,null,2)})]})]})]})})]})]})}function mte(){return f.jsx(hte,{})}function pte(){const e=yn(),t=oc();return S.useEffect(()=>{const n=t.pathname;n.includes("/confirm")?e("/events"):(n.includes("/reset-password"),e("/login"))},[t.pathname,e]),f.jsx("div",{children:"Processing authentication..."})}function gte(){return f.jsxs(GM,{children:[f.jsx(or,{path:"/",element:f.jsx(GL,{})}),f.jsx(or,{path:"/events",element:f.jsx(Oz,{})}),f.jsx(or,{path:"/event/:id",element:f.jsx(gZ,{})}),f.jsx(or,{path:"/petitions",element:f.jsx(bZ,{})}),f.jsx(or,{path:"/petition/:id",element:f.jsx(vZ,{})}),f.jsx(or,{path:"/login",element:f.jsx(wZ,{})}),f.jsx(or,{path:"/documents",element:f.jsx(_Z,{})}),f.jsx(or,{path:"/kyb",element:f.jsx(kZ,{})}),f.jsx(or,{path:"/testing",element:f.jsx(mte,{})}),f.jsx(or,{path:"/auth/*",element:f.jsx(pte,{})})]})}eM.createRoot(document.getElementById("root")).render(f.jsx(mi.StrictMode,{children:f.jsx(QM,{children:f.jsx(gte,{})})}));export{Zz as H,Yn as _,X0 as a,jte as b,Zn as c,Rte as d,VA as e,Ite as f,ym as g,Yz as h,zz as i,Ov as j,zA as k,Xz as l,$z as m,OS as n,fc as o,Ote as r,Nte as s,NB as t,Bte as u};
