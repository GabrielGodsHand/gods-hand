const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/three-globe-BqPkiR53.js","assets/three.module-CoRxeNK3.js","assets/TrackballControls-DDCcbc-h.js","assets/index-COnth77O.js","assets/parseAbi-Dp0gsAHB.js","assets/defineChain-B0Tnjtyc.js","assets/index-BXoX4cjz.js","assets/index-Bt0QVvHh.js","assets/wait_for_proven-lOMtifCd.js","assets/sponsored_fee_payment-CD3VSZZV.js","assets/embedded-wallet-fK0alYiZ.js","assets/GodsHand-DxAYnNZc.js"])))=>i.map(i=>d[i]);
var oR=Object.defineProperty;var aR=(e,t,n)=>t in e?oR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var re=(e,t,n)=>aR(e,typeof t!="symbol"?t+"":t,n);function lR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Sm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var E3={exports:{}},_m={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR=Symbol.for("react.transitional.element"),dR=Symbol.for("react.fragment");function C3(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:uR,type:e,key:r,ref:t!==void 0?t:null,props:n}}_m.Fragment=dR;_m.jsx=C3;_m.jsxs=C3;E3.exports=_m;var f=E3.exports,A3={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx=Symbol.for("react.transitional.element"),fR=Symbol.for("react.portal"),hR=Symbol.for("react.fragment"),mR=Symbol.for("react.strict_mode"),pR=Symbol.for("react.profiler"),gR=Symbol.for("react.consumer"),yR=Symbol.for("react.context"),bR=Symbol.for("react.forward_ref"),vR=Symbol.for("react.suspense"),xR=Symbol.for("react.memo"),T3=Symbol.for("react.lazy"),j_=Symbol.iterator;function wR(e){return e===null||typeof e!="object"?null:(e=j_&&e[j_]||e["@@iterator"],typeof e=="function"?e:null)}var k3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I3=Object.assign,B3={};function Ql(e,t,n){this.props=e,this.context=t,this.refs=B3,this.updater=n||k3}Ql.prototype.isReactComponent={};Ql.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ql.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function N3(){}N3.prototype=Ql.prototype;function wx(e,t,n){this.props=e,this.context=t,this.refs=B3,this.updater=n||k3}var Sx=wx.prototype=new N3;Sx.constructor=wx;I3(Sx,Ql.prototype);Sx.isPureReactComponent=!0;var R_=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},j3=Object.prototype.hasOwnProperty;function _x(e,t,n,r,i,s){return n=s.ref,{$$typeof:xx,type:e,key:t,ref:n!==void 0?n:null,props:s}}function SR(e,t){return _x(e.type,t,void 0,void 0,void 0,e.props)}function Ex(e){return typeof e=="object"&&e!==null&&e.$$typeof===xx}function _R(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var O_=/\/+/g;function rg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_R(""+e.key):t.toString(36)}function D_(){}function ER(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(D_,D_):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function La(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xx:case fR:o=!0;break;case T3:return o=e._init,La(o(e._payload),t,n,r,i)}}if(o)return i=i(e),o=r===""?"."+rg(e,0):r,R_(i)?(n="",o!=null&&(n=o.replace(O_,"$&/")+"/"),La(i,t,n,"",function(c){return c})):i!=null&&(Ex(i)&&(i=SR(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(O_,"$&/")+"/")+o)),t.push(i)),1;o=0;var a=r===""?".":r+":";if(R_(e))for(var l=0;l<e.length;l++)r=e[l],s=a+rg(r,l),o+=La(r,t,n,s,i);else if(l=wR(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,s=a+rg(r,l++),o+=La(r,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return La(ER(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Bd(e,t,n){if(e==null)return e;var r=[],i=0;return La(e,r,"","",function(s){return t.call(n,s,i++)}),r}function CR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var M_=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function AR(){}ve.Children={map:Bd,forEach:function(e,t,n){Bd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bd(e,function(){t++}),t},toArray:function(e){return Bd(e,function(t){return t})||[]},only:function(e){if(!Ex(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Ql;ve.Fragment=hR;ve.Profiler=pR;ve.PureComponent=wx;ve.StrictMode=mR;ve.Suspense=vR;ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it;ve.__COMPILER_RUNTIME={__proto__:null,c:function(e){return it.H.useMemoCache(e)}};ve.cache=function(e){return function(){return e.apply(null,arguments)}};ve.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=I3({},e.props),i=e.key,s=void 0;if(t!=null)for(o in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(i=""+t.key),t)!j3.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(r[o]=t[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}return _x(e.type,i,void 0,void 0,s,r)};ve.createContext=function(e){return e={$$typeof:yR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:gR,_context:e},e};ve.createElement=function(e,t,n){var r,i={},s=null;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)j3.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return _x(e,s,void 0,void 0,null,i)};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:bR,render:e}};ve.isValidElement=Ex;ve.lazy=function(e){return{$$typeof:T3,_payload:{_status:-1,_result:e},_init:CR}};ve.memo=function(e,t){return{$$typeof:xR,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=it.T,n={};it.T=n;try{var r=e(),i=it.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(AR,M_)}catch(s){M_(s)}finally{it.T=t}};ve.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()};ve.use=function(e){return it.H.use(e)};ve.useActionState=function(e,t,n){return it.H.useActionState(e,t,n)};ve.useCallback=function(e,t){return it.H.useCallback(e,t)};ve.useContext=function(e){return it.H.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e,t){return it.H.useDeferredValue(e,t)};ve.useEffect=function(e,t,n){var r=it.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};ve.useId=function(){return it.H.useId()};ve.useImperativeHandle=function(e,t,n){return it.H.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return it.H.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return it.H.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return it.H.useMemo(e,t)};ve.useOptimistic=function(e,t){return it.H.useOptimistic(e,t)};ve.useReducer=function(e,t,n){return it.H.useReducer(e,t,n)};ve.useRef=function(e){return it.H.useRef(e)};ve.useState=function(e){return it.H.useState(e)};ve.useSyncExternalStore=function(e,t,n){return it.H.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return it.H.useTransition()};ve.version="19.1.0";A3.exports=ve;var S=A3.exports;const pi=Sm(S),Cx=lR({__proto__:null,default:pi},[S]);var R3={exports:{}},Em={},O3={exports:{}},D3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,U){var O=B.length;B.push(U);e:for(;0<O;){var z=O-1>>>1,Z=B[z];if(0<i(Z,U))B[z]=U,B[O]=Z,O=z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var U=B[0],O=B.pop();if(O!==U){B[0]=O;e:for(var z=0,Z=B.length,ee=Z>>>1;z<ee;){var ue=2*(z+1)-1,de=B[ue],fe=ue+1,Fe=B[fe];if(0>i(de,O))fe<Z&&0>i(Fe,de)?(B[z]=Fe,B[fe]=O,z=fe):(B[z]=de,B[ue]=O,z=ue);else if(fe<Z&&0>i(Fe,O))B[z]=Fe,B[fe]=O,z=fe;else break e}}return U}function i(B,U){var O=B.sortIndex-U.sortIndex;return O!==0?O:B.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,x=!1,y=!1,_=!1,p=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function E(B){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=B)r(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(c)}}function C(B){if(y=!1,E(B),!x)if(n(l)!==null)x=!0,N||(N=!0,Q());else{var U=n(c);U!==null&&V(C,U.startTime-B)}}var N=!1,k=-1,j=5,D=-1;function M(){return _?!0:!(e.unstable_now()-D<j)}function H(){if(_=!1,N){var B=e.unstable_now();D=B;var U=!0;try{e:{x=!1,y&&(y=!1,b(k),k=-1),m=!0;var O=h;try{t:{for(E(B),d=n(l);d!==null&&!(d.expirationTime>B&&M());){var z=d.callback;if(typeof z=="function"){d.callback=null,h=d.priorityLevel;var Z=z(d.expirationTime<=B);if(B=e.unstable_now(),typeof Z=="function"){d.callback=Z,E(B),U=!0;break t}d===n(l)&&r(l),E(B)}else r(l);d=n(l)}if(d!==null)U=!0;else{var ee=n(c);ee!==null&&V(C,ee.startTime-B),U=!1}}break e}finally{d=null,h=O,m=!1}U=void 0}}finally{U?Q():N=!1}}}var Q;if(typeof g=="function")Q=function(){g(H)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,F=G.port2;G.port1.onmessage=H,Q=function(){F.postMessage(null)}}else Q=function(){p(H,0)};function V(B,U){k=p(function(){B(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var O=h;h=U;try{return B()}finally{h=O}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var O=h;h=B;try{return U()}finally{h=O}},e.unstable_scheduleCallback=function(B,U,O){var z=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?z+O:z):O=z,B){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=O+Z,B={id:u++,callback:U,priorityLevel:B,startTime:O,expirationTime:Z,sortIndex:-1},O>z?(B.sortIndex=O,t(c,B),n(l)===null&&B===n(c)&&(y?(b(k),k=-1):y=!0,V(C,O-z))):(B.sortIndex=Z,t(l,B),x||m||(x=!0,N||(N=!0,Q()))),B},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(B){var U=h;return function(){var O=h;h=U;try{return B.apply(this,arguments)}finally{h=O}}}})(D3);O3.exports=D3;var TR=O3.exports,M3={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kR=S;function U3(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ts(){}var nn={d:{f:ts,r:function(){throw Error(U3(522))},D:ts,C:ts,L:ts,m:ts,X:ts,S:ts,M:ts},p:0,findDOMNode:null},IR=Symbol.for("react.portal");function BR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:IR,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var ru=kR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Cm(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nn;on.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(U3(299));return BR(e,t,null,n)};on.flushSync=function(e){var t=ru.T,n=nn.p;try{if(ru.T=null,nn.p=2,e)return e()}finally{ru.T=t,nn.p=n,nn.d.f()}};on.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,nn.d.C(e,t))};on.prefetchDNS=function(e){typeof e=="string"&&nn.d.D(e)};on.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=Cm(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?nn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&nn.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};on.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Cm(t.as,t.crossOrigin);nn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&nn.d.M(e)};on.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=Cm(n,t.crossOrigin);nn.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};on.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Cm(t.as,t.crossOrigin);nn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else nn.d.m(e)};on.requestFormReset=function(e){nn.d.r(e)};on.unstable_batchedUpdates=function(e,t){return e(t)};on.useFormState=function(e,t,n){return ru.H.useFormState(e,t,n)};on.useFormStatus=function(){return ru.H.useHostTransitionStatus()};on.version="19.1.0";function L3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L3)}catch(e){console.error(e)}}L3(),M3.exports=on;var ec=M3.exports;const NR=Sm(ec);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt=TR,P3=S,jR=ec;function W(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function F3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function k0(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function z3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U_(e){if(k0(e)!==e)throw Error(W(188))}function RR(e){var t=e.alternate;if(!t){if(t=k0(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return U_(i),e;if(s===r)return U_(i),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function V3(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=V3(e),t!==null)return t;e=e.sibling}return null}var Xe=Object.assign,OR=Symbol.for("react.element"),Nd=Symbol.for("react.transitional.element"),qc=Symbol.for("react.portal"),$a=Symbol.for("react.fragment"),$3=Symbol.for("react.strict_mode"),lb=Symbol.for("react.profiler"),DR=Symbol.for("react.provider"),H3=Symbol.for("react.consumer"),wi=Symbol.for("react.context"),Ax=Symbol.for("react.forward_ref"),cb=Symbol.for("react.suspense"),ub=Symbol.for("react.suspense_list"),Tx=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),db=Symbol.for("react.activity"),MR=Symbol.for("react.memo_cache_sentinel"),L_=Symbol.iterator;function Bc(e){return e===null||typeof e!="object"?null:(e=L_&&e[L_]||e["@@iterator"],typeof e=="function"?e:null)}var UR=Symbol.for("react.client.reference");function fb(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===UR?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $a:return"Fragment";case lb:return"Profiler";case $3:return"StrictMode";case cb:return"Suspense";case ub:return"SuspenseList";case db:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case qc:return"Portal";case wi:return(e.displayName||"Context")+".Provider";case H3:return(e._context.displayName||"Context")+".Consumer";case Ax:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tx:return t=e.displayName||null,t!==null?t:fb(e.type)||"Memo";case hs:t=e._payload,e=e._init;try{return fb(e(t))}catch{}}return null}var Kc=Array.isArray,me=P3.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De=jR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ro={pending:!1,data:null,method:null,action:null},hb=[],Ha=-1;function Xr(e){return{current:e}}function Ut(e){0>Ha||(e.current=hb[Ha],hb[Ha]=null,Ha--)}function st(e,t){Ha++,hb[Ha]=e.current,e.current=t}var Pr=Xr(null),Mu=Xr(null),Is=Xr(null),Jf=Xr(null);function Qf(e,t){switch(st(Is,t),st(Mu,e),st(Pr,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$E(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$E(t),e=a4(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ut(Pr),st(Pr,e)}function wl(){Ut(Pr),Ut(Mu),Ut(Is)}function mb(e){e.memoizedState!==null&&st(Jf,e);var t=Pr.current,n=a4(t,e.type);t!==n&&(st(Mu,e),st(Pr,n))}function eh(e){Mu.current===e&&(Ut(Pr),Ut(Mu)),Jf.current===e&&(Ut(Jf),qu._currentValue=Ro)}var pb=Object.prototype.hasOwnProperty,kx=kt.unstable_scheduleCallback,ig=kt.unstable_cancelCallback,LR=kt.unstable_shouldYield,PR=kt.unstable_requestPaint,Fr=kt.unstable_now,FR=kt.unstable_getCurrentPriorityLevel,G3=kt.unstable_ImmediatePriority,q3=kt.unstable_UserBlockingPriority,th=kt.unstable_NormalPriority,zR=kt.unstable_LowPriority,K3=kt.unstable_IdlePriority,VR=kt.log,$R=kt.unstable_setDisableYieldValue,I0=null,kn=null;function Ss(e){if(typeof VR=="function"&&$R(e),kn&&typeof kn.setStrictMode=="function")try{kn.setStrictMode(I0,e)}catch{}}var In=Math.clz32?Math.clz32:qR,HR=Math.log,GR=Math.LN2;function qR(e){return e>>>=0,e===0?32:31-(HR(e)/GR|0)|0}var jd=256,Rd=4194304;function vo(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Am(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=r&134217727;return a!==0?(r=a&~s,r!==0?i=vo(r):(o&=a,o!==0?i=vo(o):n||(n=a&~e,n!==0&&(i=vo(n))))):(a=r&~s,a!==0?i=vo(a):o!==0?i=vo(o):n||(n=r&~e,n!==0&&(i=vo(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function B0(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function KR(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y3(){var e=jd;return jd<<=1,!(jd&4194048)&&(jd=256),e}function W3(){var e=Rd;return Rd<<=1,!(Rd&62914560)&&(Rd=4194304),e}function sg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function N0(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function YR(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-In(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];m!==null&&(m.lane&=-536870913)}n&=~d}r!==0&&Z3(e,r,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(o&~t))}function Z3(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-In(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function X3(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-In(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ix(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bx(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function J3(){var e=De.p;return e!==0?e:(e=window.event,e===void 0?32:y4(e.type))}function WR(e,t){var n=De.p;try{return De.p=e,t()}finally{De.p=n}}var Js=Math.random().toString(36).slice(2),qt="__reactFiber$"+Js,yn="__reactProps$"+Js,tc="__reactContainer$"+Js,gb="__reactEvents$"+Js,ZR="__reactListeners$"+Js,XR="__reactHandles$"+Js,P_="__reactResources$"+Js,j0="__reactMarker$"+Js;function Nx(e){delete e[qt],delete e[yn],delete e[gb],delete e[ZR],delete e[XR]}function Ga(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tc]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qE(e);e!==null;){if(n=e[qt])return n;e=qE(e)}return t}e=n,n=e.parentNode}return null}function nc(e){if(e=e[qt]||e[tc]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Yc(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(W(33))}function al(e){var t=e[P_];return t||(t=e[P_]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ot(e){e[j0]=!0}var Q3=new Set,eT={};function la(e,t){Sl(e,t),Sl(e+"Capture",t)}function Sl(e,t){for(eT[e]=t,e=0;e<t.length;e++)Q3.add(t[e])}var JR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),F_={},z_={};function QR(e){return pb.call(z_,e)?!0:pb.call(F_,e)?!1:JR.test(e)?z_[e]=!0:(F_[e]=!0,!1)}function If(e,t,n){if(QR(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Od(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ii(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var og,V_;function Pa(e){if(og===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);og=t&&t[1]||"",V_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+og+e+V_}var ag=!1;function lg(e,t){if(!e||ag)return"";ag=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var h=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){h=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){h=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split(`
`),c=a.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var u=`
`+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=r&&0<=i);break}}}finally{ag=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Pa(n):""}function eO(e){switch(e.tag){case 26:case 27:case 5:return Pa(e.type);case 16:return Pa("Lazy");case 13:return Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 15:return lg(e.type,!1);case 11:return lg(e.type.render,!1);case 1:return lg(e.type,!0);case 31:return Pa("Activity");default:return""}}function $_(e){try{var t="";do t+=eO(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tO(e){var t=tT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nh(e){e._valueTracker||(e._valueTracker=tO(e))}function nT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tT(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nO=/[\n"\\]/g;function Gn(e){return e.replace(nO,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yb(e,t,n,r,i,s,o,a){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vn(t)):e.value!==""+Vn(t)&&(e.value=""+Vn(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?bb(e,o,Vn(t)):n!=null?bb(e,o,Vn(n)):r!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.name=""+Vn(a):e.removeAttribute("name")}function rT(e,t,n,r,i,s,o,a){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+Vn(n):"",t=t!=null?""+Vn(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function bb(e,t,n){t==="number"&&rh(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ll(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function iT(e,t,n){if(t!=null&&(t=""+Vn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Vn(n):""}function sT(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(W(92));if(Kc(r)){if(1<r.length)throw Error(W(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Vn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function _l(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function H_(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||rO.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function oT(e,t,n){if(t!=null&&typeof t!="object")throw Error(W(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&H_(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&H_(e,s,t[s])}function jx(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bf(e){return sO.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vb=null;function Rx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qa=null,cl=null;function G_(e){var t=nc(e);if(t&&(e=t.stateNode)){var n=e[yn]||null;e:switch(e=t.stateNode,t.type){case"input":if(yb(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Gn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[yn]||null;if(!i)throw Error(W(90));yb(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&nT(r)}break e;case"textarea":iT(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ll(e,!!n.multiple,t,!1)}}}var cg=!1;function aT(e,t,n){if(cg)return e(t,n);cg=!0;try{var r=e(t);return r}finally{if(cg=!1,(qa!==null||cl!==null)&&(Mm(),qa&&(t=qa,e=cl,cl=qa=null,G_(t),e)))for(t=0;t<e.length;t++)G_(e[t])}}function Uu(e,t){var n=e.stateNode;if(n===null)return null;var r=n[yn]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xb=!1;if(Ri)try{var Nc={};Object.defineProperty(Nc,"passive",{get:function(){xb=!0}}),window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{xb=!1}var _s=null,Ox=null,Nf=null;function lT(){if(Nf)return Nf;var e,t=Ox,n=t.length,r,i="value"in _s?_s.value:_s.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Nf=i.slice(e,1<r?1-r:void 0)}function jf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dd(){return!0}function q_(){return!1}function bn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dd:q_,this.isPropagationStopped=q_,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tm=bn(ca),R0=Xe({},ca,{view:0,detail:0}),oO=bn(R0),ug,dg,jc,km=Xe({},R0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jc&&(jc&&e.type==="mousemove"?(ug=e.screenX-jc.screenX,dg=e.screenY-jc.screenY):dg=ug=0,jc=e),ug)},movementY:function(e){return"movementY"in e?e.movementY:dg}}),K_=bn(km),aO=Xe({},km,{dataTransfer:0}),lO=bn(aO),cO=Xe({},R0,{relatedTarget:0}),fg=bn(cO),uO=Xe({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),dO=bn(uO),fO=Xe({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hO=bn(fO),mO=Xe({},ca,{data:0}),Y_=bn(mO),pO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yO[e])?!!t[e]:!1}function Dx(){return bO}var vO=Xe({},R0,{key:function(e){if(e.key){var t=pO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dx,charCode:function(e){return e.type==="keypress"?jf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xO=bn(vO),wO=Xe({},km,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W_=bn(wO),SO=Xe({},R0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dx}),_O=bn(SO),EO=Xe({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),CO=bn(EO),AO=Xe({},km,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TO=bn(AO),kO=Xe({},ca,{newState:0,oldState:0}),IO=bn(kO),BO=[9,13,27,32],Mx=Ri&&"CompositionEvent"in window,iu=null;Ri&&"documentMode"in document&&(iu=document.documentMode);var NO=Ri&&"TextEvent"in window&&!iu,cT=Ri&&(!Mx||iu&&8<iu&&11>=iu),Z_=" ",X_=!1;function uT(e,t){switch(e){case"keyup":return BO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ka=!1;function jO(e,t){switch(e){case"compositionend":return dT(t);case"keypress":return t.which!==32?null:(X_=!0,Z_);case"textInput":return e=t.data,e===Z_&&X_?null:e;default:return null}}function RO(e,t){if(Ka)return e==="compositionend"||!Mx&&uT(e,t)?(e=lT(),Nf=Ox=_s=null,Ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cT&&t.locale!=="ko"?null:t.data;default:return null}}var OO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OO[e.type]:t==="textarea"}function fT(e,t,n,r){qa?cl?cl.push(r):cl=[r]:qa=r,t=wh(t,"onChange"),0<t.length&&(n=new Tm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var su=null,Lu=null;function DO(e){i4(e,0)}function Im(e){var t=Yc(e);if(nT(t))return e}function Q_(e,t){if(e==="change")return t}var hT=!1;if(Ri){var hg;if(Ri){var mg="oninput"in document;if(!mg){var eE=document.createElement("div");eE.setAttribute("oninput","return;"),mg=typeof eE.oninput=="function"}hg=mg}else hg=!1;hT=hg&&(!document.documentMode||9<document.documentMode)}function tE(){su&&(su.detachEvent("onpropertychange",mT),Lu=su=null)}function mT(e){if(e.propertyName==="value"&&Im(Lu)){var t=[];fT(t,Lu,e,Rx(e)),aT(DO,t)}}function MO(e,t,n){e==="focusin"?(tE(),su=t,Lu=n,su.attachEvent("onpropertychange",mT)):e==="focusout"&&tE()}function UO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Im(Lu)}function LO(e,t){if(e==="click")return Im(t)}function PO(e,t){if(e==="input"||e==="change")return Im(t)}function FO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var On=typeof Object.is=="function"?Object.is:FO;function Pu(e,t){if(On(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pb.call(t,i)||!On(e[i],t[i]))return!1}return!0}function nE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rE(e,t){var n=nE(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nE(n)}}function pT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gT(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rh(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rh(e.document)}return t}function Ux(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zO=Ri&&"documentMode"in document&&11>=document.documentMode,Ya=null,wb=null,ou=null,Sb=!1;function iE(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sb||Ya==null||Ya!==rh(r)||(r=Ya,"selectionStart"in r&&Ux(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ou&&Pu(ou,r)||(ou=r,r=wh(wb,"onSelect"),0<r.length&&(t=new Tm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ya)))}function ao(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wa={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionrun:ao("Transition","TransitionRun"),transitionstart:ao("Transition","TransitionStart"),transitioncancel:ao("Transition","TransitionCancel"),transitionend:ao("Transition","TransitionEnd")},pg={},yT={};Ri&&(yT=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function ua(e){if(pg[e])return pg[e];if(!Wa[e])return e;var t=Wa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yT)return pg[e]=t[n];return e}var bT=ua("animationend"),vT=ua("animationiteration"),xT=ua("animationstart"),VO=ua("transitionrun"),$O=ua("transitionstart"),HO=ua("transitioncancel"),wT=ua("transitionend"),ST=new Map,_b="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_b.push("scrollEnd");function Sr(e,t){ST.set(e,t),la(t,[e])}var sE=new WeakMap;function qn(e,t){if(typeof e=="object"&&e!==null){var n=sE.get(e);return n!==void 0?n:(t={value:e,source:t,stack:$_(t)},sE.set(e,t),t)}return{value:e,source:t,stack:$_(t)}}var Fn=[],Za=0,Lx=0;function Bm(){for(var e=Za,t=Lx=Za=0;t<e;){var n=Fn[t];Fn[t++]=null;var r=Fn[t];Fn[t++]=null;var i=Fn[t];Fn[t++]=null;var s=Fn[t];if(Fn[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}s!==0&&_T(n,i,s)}}function Nm(e,t,n,r){Fn[Za++]=e,Fn[Za++]=t,Fn[Za++]=n,Fn[Za++]=r,Lx|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Px(e,t,n,r){return Nm(e,t,n,r),ih(e)}function rc(e,t){return Nm(e,null,null,t),ih(e)}function _T(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-In(n),e=s.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),s):null}function ih(e){if(50<gu)throw gu=0,Hb=null,Error(W(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xa={};function GO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,t,n,r){return new GO(e,t,n,r)}function Fx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,t){var n=e.alternate;return n===null?(n=An(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ET(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Rf(e,t,n,r,i,s){var o=0;if(r=e,typeof e=="function")Fx(e)&&(o=1);else if(typeof e=="string")o=KD(e,n,Pr.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case db:return e=An(31,n,t,i),e.elementType=db,e.lanes=s,e;case $a:return Oo(n.children,i,s,t);case $3:o=8,i|=24;break;case lb:return e=An(12,n,t,i|2),e.elementType=lb,e.lanes=s,e;case cb:return e=An(13,n,t,i),e.elementType=cb,e.lanes=s,e;case ub:return e=An(19,n,t,i),e.elementType=ub,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DR:case wi:o=10;break e;case H3:o=9;break e;case Ax:o=11;break e;case Tx:o=14;break e;case hs:o=16,r=null;break e}o=29,n=Error(W(130,e===null?"null":typeof e,"")),r=null}return t=An(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Oo(e,t,n,r){return e=An(7,e,r,t),e.lanes=n,e}function gg(e,t,n){return e=An(6,e,null,t),e.lanes=n,e}function yg(e,t,n){return t=An(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ja=[],Qa=0,sh=null,oh=0,$n=[],Hn=0,Do=null,Si=1,_i="";function xo(e,t){Ja[Qa++]=oh,Ja[Qa++]=sh,sh=e,oh=t}function CT(e,t,n){$n[Hn++]=Si,$n[Hn++]=_i,$n[Hn++]=Do,Do=e;var r=Si;e=_i;var i=32-In(r)-1;r&=~(1<<i),n+=1;var s=32-In(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Si=1<<32-In(t)+i|n<<i|r,_i=s+e}else Si=1<<s|n<<i|r,_i=e}function zx(e){e.return!==null&&(xo(e,1),CT(e,1,0))}function Vx(e){for(;e===sh;)sh=Ja[--Qa],Ja[Qa]=null,oh=Ja[--Qa],Ja[Qa]=null;for(;e===Do;)Do=$n[--Hn],$n[Hn]=null,_i=$n[--Hn],$n[Hn]=null,Si=$n[--Hn],$n[Hn]=null}var tn=null,dt=null,Oe=!1,Mo=null,jr=!1,Eb=Error(W(519));function qo(e){var t=Error(W(418,""));throw Fu(qn(t,e)),Eb}function oE(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[qt]=e,t[yn]=r,n){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(n=0;n<$u.length;n++)Ce($u[n],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),rT(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),nh(t);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),sT(t,r.value,r.defaultValue,r.children),nh(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||o4(t.textContent,n)?(r.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),r.onScroll!=null&&Ce("scroll",t),r.onScrollEnd!=null&&Ce("scrollend",t),r.onClick!=null&&(t.onclick=Pm),t=!0):t=!1,t||qo(e)}function aE(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:jr=!1;return;case 27:case 3:jr=!0;return;default:tn=tn.return}}function Rc(e){if(e!==tn)return!1;if(!Oe)return aE(e),Oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Zb(e.type,e.memoizedProps)),n=!n),n&&dt&&qo(e),aE(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){dt=gr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}dt=null}}else t===27?(t=dt,Qs(e.type)?(e=Qb,Qb=null,dt=e):dt=t):dt=tn?gr(e.stateNode.nextSibling):null;return!0}function O0(){dt=tn=null,Oe=!1}function lE(){var e=Mo;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Mo=null),e}function Fu(e){Mo===null?Mo=[e]:Mo.push(e)}var Cb=Xr(null),da=null,Ei=null;function gs(e,t,n){st(Cb,t._currentValue),t._currentValue=n}function Ii(e){e._currentValue=Cb.current,Ut(Cb)}function Ab(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tb(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var o=i.child;s=s.firstContext;e:for(;s!==null;){var a=s;s=i;for(var l=0;l<t.length;l++)if(a.context===t[l]){s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ab(s.return,n,e),r||(o=null);break e}s=a.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Ab(o,n,e),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function D0(e,t,n,r){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(W(387));if(o=o.memoizedProps,o!==null){var a=i.type;On(i.pendingProps.value,o.value)||(e!==null?e.push(a):e=[a])}}else if(i===Jf.current){if(o=i.alternate,o===null)throw Error(W(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(qu):e=[qu])}i=i.return}e!==null&&Tb(t,e,n,r),t.flags|=262144}function ah(e){for(e=e.firstContext;e!==null;){if(!On(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ko(e){da=e,Ei=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Kt(e){return AT(da,e)}function Md(e,t){return da===null&&Ko(e),AT(e,t)}function AT(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ei===null){if(e===null)throw Error(W(308));Ei=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ei=Ei.next=t;return n}var qO=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},KO=kt.unstable_scheduleCallback,YO=kt.unstable_NormalPriority,At={$$typeof:wi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $x(){return{controller:new qO,data:new Map,refCount:0}}function M0(e){e.refCount--,e.refCount===0&&KO(YO,function(){e.controller.abort()})}var au=null,kb=0,El=0,ul=null;function WO(e,t){if(au===null){var n=au=[];kb=0,El=fw(),ul={status:"pending",value:void 0,then:function(r){n.push(r)}}}return kb++,t.then(cE,cE),t}function cE(){if(--kb===0&&au!==null){ul!==null&&(ul.status="fulfilled");var e=au;au=null,El=0,ul=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ZO(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var uE=me.S;me.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&WO(e,t),uE!==null&&uE(e,t)};var Uo=Xr(null);function Hx(){var e=Uo.current;return e!==null?e:We.pooledCache}function Of(e,t){t===null?st(Uo,Uo.current):st(Uo,t.pool)}function TT(){var e=Hx();return e===null?null:{parent:At._currentValue,pool:e}}var U0=Error(W(460)),kT=Error(W(474)),jm=Error(W(542)),Ib={then:function(){}};function dE(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ud(){}function IT(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ud,Ud),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hE(e),e;default:if(typeof t.status=="string")t.then(Ud,Ud);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(W(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hE(e),e}throw lu=t,U0}}var lu=null;function fE(){if(lu===null)throw Error(W(459));var e=lu;return lu=null,e}function hE(e){if(e===U0||e===jm)throw Error(W(483))}var ms=!1;function Gx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ih(e),_T(e,null,n),t}return Nm(e,r,t,n),ih(e)}function cu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,X3(e,n)}}function bg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Nb=!1;function uu(){if(Nb){var e=ul;if(e!==null)throw e}}function du(e,t,n,r){Nb=!1;var i=e.updateQueue;ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane&-536870913,m=h!==a.lane;if(m?(Be&h)===h:(r&h)===h){h!==0&&h===El&&(Nb=!0),u!==null&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var x=e,y=a;h=t;var _=n;switch(y.tag){case 1:if(x=y.payload,typeof x=="function"){d=x.call(_,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,h=typeof x=="function"?x.call(_,d,h):x,h==null)break e;d=Xe({},d,h);break e;case 2:ms=!0}}h=a.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,s===null&&(i.shared.lanes=0),Gs|=o,e.lanes=o,e.memoizedState=d}}function BT(e,t){if(typeof e!="function")throw Error(W(191,e));e.call(t)}function NT(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)BT(n[e],t)}var Cl=Xr(null),lh=Xr(0);function mE(e,t){e=Mi,st(lh,e),st(Cl,t),Mi=e|t.baseLanes}function jb(){st(lh,Mi),st(Cl,Cl.current)}function qx(){Mi=lh.current,Ut(Cl),Ut(lh)}var $s=0,Se=null,$e=null,xt=null,ch=!1,dl=!1,Yo=!1,uh=0,zu=0,fl=null,XO=0;function ht(){throw Error(W(321))}function Kx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!On(e[n],t[n]))return!1;return!0}function Yx(e,t,n,r,i,s){return $s=s,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,me.H=e===null||e.memoizedState===null?lk:ck,Yo=!1,s=n(r,i),Yo=!1,dl&&(s=RT(t,n,r,i)),jT(e),s}function jT(e){me.H=dh;var t=$e!==null&&$e.next!==null;if($s=0,xt=$e=Se=null,ch=!1,zu=0,fl=null,t)throw Error(W(300));e===null||Dt||(e=e.dependencies,e!==null&&ah(e)&&(Dt=!0))}function RT(e,t,n,r){Se=e;var i=0;do{if(dl&&(fl=null),zu=0,dl=!1,25<=i)throw Error(W(301));if(i+=1,xt=$e=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}me.H=iD,s=t(n,r)}while(dl);return s}function JO(){var e=me.H,t=e.useState()[0];return t=typeof t.then=="function"?L0(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(Se.flags|=1024),t}function Wx(){var e=uh!==0;return uh=0,e}function Zx(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Xx(e){if(ch){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ch=!1}$s=0,xt=$e=Se=null,dl=!1,zu=uh=0,fl=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Se.memoizedState=xt=e:xt=xt.next=e,xt}function wt(){if($e===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=xt===null?Se.memoizedState:xt.next;if(t!==null)xt=t,$e=e;else{if(e===null)throw Se.alternate===null?Error(W(467)):Error(W(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},xt===null?Se.memoizedState=xt=e:xt=xt.next=e}return xt}function Jx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function L0(e){var t=zu;return zu+=1,fl===null&&(fl=[]),e=IT(fl,e,t),t=Se,(xt===null?t.memoizedState:xt.next)===null&&(t=t.alternate,me.H=t===null||t.memoizedState===null?lk:ck),e}function Rm(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return L0(e);if(e.$$typeof===wi)return Kt(e)}throw Error(W(438,String(e)))}function Qx(e){var t=null,n=Se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Se.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Jx(),Se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=MR;return t.index++,n}function Oi(e,t){return typeof t=="function"?t(e):t}function Df(e){var t=wt();return ew(t,$e,e)}function ew(e,t,n){var r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var a=o=null,l=null,c=t,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Be&d)===d:($s&d)===d){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===El&&(u=!0);else if(($s&h)===h){c=c.next,h===El&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=d,o=s):l=l.next=d,Se.lanes|=h,Gs|=h;d=c.action,Yo&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=h,o=s):l=l.next=h,Se.lanes|=d,Gs|=d;c=c.next}while(c!==null&&c!==t);if(l===null?o=s:l.next=a,!On(s,e.memoizedState)&&(Dt=!0,u&&(n=ul,n!==null)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function vg(e){var t=wt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);On(s,t.memoizedState)||(Dt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function OT(e,t,n){var r=Se,i=wt(),s=Oe;if(s){if(n===void 0)throw Error(W(407));n=n()}else n=t();var o=!On(($e||i).memoizedState,n);o&&(i.memoizedState=n,Dt=!0),i=i.queue;var a=UT.bind(null,r,i,e);if(P0(2048,8,a,[e]),i.getSnapshot!==t||o||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,Al(9,Om(),MT.bind(null,r,i,n,t),null),We===null)throw Error(W(349));s||$s&124||DT(r,t,n)}return n}function DT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t=Jx(),Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MT(e,t,n,r){t.value=n,t.getSnapshot=r,LT(t)&&PT(e)}function UT(e,t,n){return n(function(){LT(t)&&PT(e)})}function LT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!On(e,n)}catch{return!0}}function PT(e){var t=rc(e,2);t!==null&&Nn(t,e,2)}function Rb(e){var t=cn();if(typeof e=="function"){var n=e;if(e=n(),Yo){Ss(!0);try{n()}finally{Ss(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},t}function FT(e,t,n,r){return e.baseState=n,ew(e,$e,typeof r=="function"?r:Oi)}function QO(e,t,n,r,i){if(Dm(e))throw Error(W(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){s.listeners.push(o)}};me.T!==null?n(!0):s.isTransition=!1,r(s),n=t.pending,n===null?(s.next=t.pending=s,zT(t,s)):(s.next=n.next,t.pending=n.next=s)}}function zT(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=me.T,o={};me.T=o;try{var a=n(i,r),l=me.S;l!==null&&l(o,a),pE(e,t,a)}catch(c){Ob(e,t,c)}finally{me.T=s}}else try{s=n(i,r),pE(e,t,s)}catch(c){Ob(e,t,c)}}function pE(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){gE(e,t,r)},function(r){return Ob(e,t,r)}):gE(e,t,n)}function gE(e,t,n){t.status="fulfilled",t.value=n,VT(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,zT(e,n)))}function Ob(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,VT(t),t=t.next;while(t!==r)}e.action=null}function VT(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $T(e,t){return t}function yE(e,t){if(Oe){var n=We.formState;if(n!==null){e:{var r=Se;if(Oe){if(dt){t:{for(var i=dt,s=jr;i.nodeType!==8;){if(!s){i=null;break t}if(i=gr(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){dt=gr(i.nextSibling),r=i.data==="F!";break e}}qo(r)}r=!1}r&&(t=n[0])}}return n=cn(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$T,lastRenderedState:t},n.queue=r,n=sk.bind(null,Se,r),r.dispatch=n,r=Rb(!1),s=iw.bind(null,Se,!1,r.queue),r=cn(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=QO.bind(null,Se,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function bE(e){var t=wt();return HT(t,$e,e)}function HT(e,t,n){if(t=ew(e,t,$T)[0],e=Df(Oi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=L0(t)}catch(o){throw o===U0?jm:o}else r=t;t=wt();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(Se.flags|=2048,Al(9,Om(),eD.bind(null,i,n),null)),[r,s,e]}function eD(e,t){e.action=t}function vE(e){var t=wt(),n=$e;if(n!==null)return HT(t,n,e);wt(),t=t.memoizedState,n=wt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Al(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Se.updateQueue,t===null&&(t=Jx(),Se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Om(){return{destroy:void 0,resource:void 0}}function GT(){return wt().memoizedState}function Mf(e,t,n,r){var i=cn();r=r===void 0?null:r,Se.flags|=e,i.memoizedState=Al(1|t,Om(),n,r)}function P0(e,t,n,r){var i=wt();r=r===void 0?null:r;var s=i.memoizedState.inst;$e!==null&&r!==null&&Kx(r,$e.memoizedState.deps)?i.memoizedState=Al(t,s,n,r):(Se.flags|=e,i.memoizedState=Al(1|t,s,n,r))}function xE(e,t){Mf(8390656,8,e,t)}function qT(e,t){P0(2048,8,e,t)}function KT(e,t){return P0(4,2,e,t)}function YT(e,t){return P0(4,4,e,t)}function WT(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZT(e,t,n){n=n!=null?n.concat([e]):null,P0(4,4,WT.bind(null,t,e),n)}function tw(){}function XT(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Kx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function JT(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Kx(t,r[1]))return r[0];if(r=e(),Yo){Ss(!0);try{e()}finally{Ss(!1)}}return n.memoizedState=[r,t],r}function nw(e,t,n){return n===void 0||$s&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Vk(),Se.lanes|=e,Gs|=e,n)}function QT(e,t,n,r){return On(n,t)?n:Cl.current!==null?(e=nw(e,n,r),On(e,t)||(Dt=!0),e):$s&42?(e=Vk(),Se.lanes|=e,Gs|=e,t):(Dt=!0,e.memoizedState=n)}function ek(e,t,n,r,i){var s=De.p;De.p=s!==0&&8>s?s:8;var o=me.T,a={};me.T=a,iw(e,!1,t,n);try{var l=i(),c=me.S;if(c!==null&&c(a,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=ZO(l,r);fu(e,t,u,Bn(e))}else fu(e,t,r,Bn(e))}catch(d){fu(e,t,{then:function(){},status:"rejected",reason:d},Bn())}finally{De.p=s,me.T=o}}function tD(){}function Db(e,t,n,r){if(e.tag!==5)throw Error(W(476));var i=tk(e).queue;ek(e,i,t,Ro,n===null?tD:function(){return nk(e),n(r)})}function tk(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ro,baseState:Ro,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:Ro},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function nk(e){var t=tk(e).next.queue;fu(e,t,{},Bn())}function rw(){return Kt(qu)}function rk(){return wt().memoizedState}function ik(){return wt().memoizedState}function nD(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Bn();e=Bs(n);var r=Ns(t,e,n);r!==null&&(Nn(r,t,n),cu(r,t,n)),t={cache:$x()},e.payload=t;return}t=t.return}}function rD(e,t,n){var r=Bn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Dm(e)?ok(t,n):(n=Px(e,t,n,r),n!==null&&(Nn(n,e,r),ak(n,t,r)))}function sk(e,t,n){var r=Bn();fu(e,t,n,r)}function fu(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dm(e))ok(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,On(a,o))return Nm(e,t,i,0),We===null&&Bm(),!1}catch{}finally{}if(n=Px(e,t,i,r),n!==null)return Nn(n,e,r),ak(n,t,r),!0}return!1}function iw(e,t,n,r){if(r={lane:2,revertLane:fw(),action:r,hasEagerState:!1,eagerState:null,next:null},Dm(e)){if(t)throw Error(W(479))}else t=Px(e,n,r,2),t!==null&&Nn(t,e,2)}function Dm(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function ok(e,t){dl=ch=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ak(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,X3(e,n)}}var dh={readContext:Kt,use:Rm,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},lk={readContext:Kt,use:Rm,useCallback:function(e,t){return cn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:xE,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Mf(4194308,4,WT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mf(4194308,4,e,t)},useInsertionEffect:function(e,t){Mf(4,2,e,t)},useMemo:function(e,t){var n=cn();t=t===void 0?null:t;var r=e();if(Yo){Ss(!0);try{e()}finally{Ss(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=cn();if(n!==void 0){var i=n(t);if(Yo){Ss(!0);try{n(t)}finally{Ss(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=rD.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:function(e){e=Rb(e);var t=e.queue,n=sk.bind(null,Se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:tw,useDeferredValue:function(e,t){var n=cn();return nw(n,e,t)},useTransition:function(){var e=Rb(!1);return e=ek.bind(null,Se,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Se,i=cn();if(Oe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),We===null)throw Error(W(349));Be&124||DT(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,xE(UT.bind(null,r,s,e),[e]),r.flags|=2048,Al(9,Om(),MT.bind(null,r,s,n,t),null),n},useId:function(){var e=cn(),t=We.identifierPrefix;if(Oe){var n=_i,r=Si;n=(r&~(1<<32-In(r)-1)).toString(32)+n,t=""+t+"R"+n,n=uh++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=XO++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:rw,useFormState:yE,useActionState:yE,useOptimistic:function(e){var t=cn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=iw.bind(null,Se,!0,n),n.dispatch=t,[e,t]},useMemoCache:Qx,useCacheRefresh:function(){return cn().memoizedState=nD.bind(null,Se)}},ck={readContext:Kt,use:Rm,useCallback:XT,useContext:Kt,useEffect:qT,useImperativeHandle:ZT,useInsertionEffect:KT,useLayoutEffect:YT,useMemo:JT,useReducer:Df,useRef:GT,useState:function(){return Df(Oi)},useDebugValue:tw,useDeferredValue:function(e,t){var n=wt();return QT(n,$e.memoizedState,e,t)},useTransition:function(){var e=Df(Oi)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:L0(e),t]},useSyncExternalStore:OT,useId:rk,useHostTransitionStatus:rw,useFormState:bE,useActionState:bE,useOptimistic:function(e,t){var n=wt();return FT(n,$e,e,t)},useMemoCache:Qx,useCacheRefresh:ik},iD={readContext:Kt,use:Rm,useCallback:XT,useContext:Kt,useEffect:qT,useImperativeHandle:ZT,useInsertionEffect:KT,useLayoutEffect:YT,useMemo:JT,useReducer:vg,useRef:GT,useState:function(){return vg(Oi)},useDebugValue:tw,useDeferredValue:function(e,t){var n=wt();return $e===null?nw(n,e,t):QT(n,$e.memoizedState,e,t)},useTransition:function(){var e=vg(Oi)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:L0(e),t]},useSyncExternalStore:OT,useId:rk,useHostTransitionStatus:rw,useFormState:vE,useActionState:vE,useOptimistic:function(e,t){var n=wt();return $e!==null?FT(n,$e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Qx,useCacheRefresh:ik},hl=null,Vu=0;function Ld(e){var t=Vu;return Vu+=1,hl===null&&(hl=[]),IT(hl,e,t)}function Oc(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Pd(e,t){throw t.$$typeof===OR?Error(W(525)):(e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function wE(e){var t=e._init;return t(e._payload)}function uk(e){function t(p,b){if(e){var g=p.deletions;g===null?(p.deletions=[b],p.flags|=16):g.push(b)}}function n(p,b){if(!e)return null;for(;b!==null;)t(p,b),b=b.sibling;return null}function r(p){for(var b=new Map;p!==null;)p.key!==null?b.set(p.key,p):b.set(p.index,p),p=p.sibling;return b}function i(p,b){return p=ki(p,b),p.index=0,p.sibling=null,p}function s(p,b,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<b?(p.flags|=67108866,b):g):(p.flags|=67108866,b)):(p.flags|=1048576,b)}function o(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function a(p,b,g,E){return b===null||b.tag!==6?(b=gg(g,p.mode,E),b.return=p,b):(b=i(b,g),b.return=p,b)}function l(p,b,g,E){var C=g.type;return C===$a?u(p,b,g.props.children,E,g.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hs&&wE(C)===b.type)?(b=i(b,g.props),Oc(b,g),b.return=p,b):(b=Rf(g.type,g.key,g.props,null,p.mode,E),Oc(b,g),b.return=p,b)}function c(p,b,g,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==g.containerInfo||b.stateNode.implementation!==g.implementation?(b=yg(g,p.mode,E),b.return=p,b):(b=i(b,g.children||[]),b.return=p,b)}function u(p,b,g,E,C){return b===null||b.tag!==7?(b=Oo(g,p.mode,E,C),b.return=p,b):(b=i(b,g),b.return=p,b)}function d(p,b,g){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=gg(""+b,p.mode,g),b.return=p,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Nd:return g=Rf(b.type,b.key,b.props,null,p.mode,g),Oc(g,b),g.return=p,g;case qc:return b=yg(b,p.mode,g),b.return=p,b;case hs:var E=b._init;return b=E(b._payload),d(p,b,g)}if(Kc(b)||Bc(b))return b=Oo(b,p.mode,g,null),b.return=p,b;if(typeof b.then=="function")return d(p,Ld(b),g);if(b.$$typeof===wi)return d(p,Md(p,b),g);Pd(p,b)}return null}function h(p,b,g,E){var C=b!==null?b.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return C!==null?null:a(p,b,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Nd:return g.key===C?l(p,b,g,E):null;case qc:return g.key===C?c(p,b,g,E):null;case hs:return C=g._init,g=C(g._payload),h(p,b,g,E)}if(Kc(g)||Bc(g))return C!==null?null:u(p,b,g,E,null);if(typeof g.then=="function")return h(p,b,Ld(g),E);if(g.$$typeof===wi)return h(p,b,Md(p,g),E);Pd(p,g)}return null}function m(p,b,g,E,C){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return p=p.get(g)||null,a(b,p,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Nd:return p=p.get(E.key===null?g:E.key)||null,l(b,p,E,C);case qc:return p=p.get(E.key===null?g:E.key)||null,c(b,p,E,C);case hs:var N=E._init;return E=N(E._payload),m(p,b,g,E,C)}if(Kc(E)||Bc(E))return p=p.get(g)||null,u(b,p,E,C,null);if(typeof E.then=="function")return m(p,b,g,Ld(E),C);if(E.$$typeof===wi)return m(p,b,g,Md(b,E),C);Pd(b,E)}return null}function x(p,b,g,E){for(var C=null,N=null,k=b,j=b=0,D=null;k!==null&&j<g.length;j++){k.index>j?(D=k,k=null):D=k.sibling;var M=h(p,k,g[j],E);if(M===null){k===null&&(k=D);break}e&&k&&M.alternate===null&&t(p,k),b=s(M,b,j),N===null?C=M:N.sibling=M,N=M,k=D}if(j===g.length)return n(p,k),Oe&&xo(p,j),C;if(k===null){for(;j<g.length;j++)k=d(p,g[j],E),k!==null&&(b=s(k,b,j),N===null?C=k:N.sibling=k,N=k);return Oe&&xo(p,j),C}for(k=r(k);j<g.length;j++)D=m(k,p,j,g[j],E),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?j:D.key),b=s(D,b,j),N===null?C=D:N.sibling=D,N=D);return e&&k.forEach(function(H){return t(p,H)}),Oe&&xo(p,j),C}function y(p,b,g,E){if(g==null)throw Error(W(151));for(var C=null,N=null,k=b,j=b=0,D=null,M=g.next();k!==null&&!M.done;j++,M=g.next()){k.index>j?(D=k,k=null):D=k.sibling;var H=h(p,k,M.value,E);if(H===null){k===null&&(k=D);break}e&&k&&H.alternate===null&&t(p,k),b=s(H,b,j),N===null?C=H:N.sibling=H,N=H,k=D}if(M.done)return n(p,k),Oe&&xo(p,j),C;if(k===null){for(;!M.done;j++,M=g.next())M=d(p,M.value,E),M!==null&&(b=s(M,b,j),N===null?C=M:N.sibling=M,N=M);return Oe&&xo(p,j),C}for(k=r(k);!M.done;j++,M=g.next())M=m(k,p,j,M.value,E),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?j:M.key),b=s(M,b,j),N===null?C=M:N.sibling=M,N=M);return e&&k.forEach(function(Q){return t(p,Q)}),Oe&&xo(p,j),C}function _(p,b,g,E){if(typeof g=="object"&&g!==null&&g.type===$a&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Nd:e:{for(var C=g.key;b!==null;){if(b.key===C){if(C=g.type,C===$a){if(b.tag===7){n(p,b.sibling),E=i(b,g.props.children),E.return=p,p=E;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hs&&wE(C)===b.type){n(p,b.sibling),E=i(b,g.props),Oc(E,g),E.return=p,p=E;break e}n(p,b);break}else t(p,b);b=b.sibling}g.type===$a?(E=Oo(g.props.children,p.mode,E,g.key),E.return=p,p=E):(E=Rf(g.type,g.key,g.props,null,p.mode,E),Oc(E,g),E.return=p,p=E)}return o(p);case qc:e:{for(C=g.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===g.containerInfo&&b.stateNode.implementation===g.implementation){n(p,b.sibling),E=i(b,g.children||[]),E.return=p,p=E;break e}else{n(p,b);break}else t(p,b);b=b.sibling}E=yg(g,p.mode,E),E.return=p,p=E}return o(p);case hs:return C=g._init,g=C(g._payload),_(p,b,g,E)}if(Kc(g))return x(p,b,g,E);if(Bc(g)){if(C=Bc(g),typeof C!="function")throw Error(W(150));return g=C.call(g),y(p,b,g,E)}if(typeof g.then=="function")return _(p,b,Ld(g),E);if(g.$$typeof===wi)return _(p,b,Md(p,g),E);Pd(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,b!==null&&b.tag===6?(n(p,b.sibling),E=i(b,g),E.return=p,p=E):(n(p,b),E=gg(g,p.mode,E),E.return=p,p=E),o(p)):n(p,b)}return function(p,b,g,E){try{Vu=0;var C=_(p,b,g,E);return hl=null,C}catch(k){if(k===U0||k===jm)throw k;var N=An(29,k,null,p.mode);return N.lanes=E,N.return=p,N}finally{}}}var Tl=uk(!0),dk=uk(!1),Jn=Xr(null),zr=null;function ys(e){var t=e.alternate;st(Tt,Tt.current&1),st(Jn,e),zr===null&&(t===null||Cl.current!==null||t.memoizedState!==null)&&(zr=e)}function fk(e){if(e.tag===22){if(st(Tt,Tt.current),st(Jn,e),zr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(zr=e)}}else bs()}function bs(){st(Tt,Tt.current),st(Jn,Jn.current)}function Ci(e){Ut(Jn),zr===e&&(zr=null),Ut(Tt)}var Tt=Xr(0);function fh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Jb(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function xg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mb={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bn(),i=Bs(r);i.payload=t,n!=null&&(i.callback=n),t=Ns(e,i,r),t!==null&&(Nn(t,e,r),cu(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bn(),i=Bs(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ns(e,i,r),t!==null&&(Nn(t,e,r),cu(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bn(),r=Bs(n);r.tag=2,t!=null&&(r.callback=t),t=Ns(e,r,n),t!==null&&(Nn(t,e,n),cu(t,e,n))}};function SE(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Pu(n,r)||!Pu(i,s):!0}function _E(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mb.enqueueReplaceState(t,t.state,null)}function Wo(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Xe({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var hh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function hk(e){hh(e)}function mk(e){console.error(e)}function pk(e){hh(e)}function mh(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function EE(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Ub(e,t,n){return n=Bs(n),n.tag=3,n.payload={element:null},n.callback=function(){mh(e,t)},n}function gk(e){return e=Bs(e),e.tag=3,e}function yk(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){EE(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){EE(t,n,r),typeof i!="function"&&(js===null?js=new Set([this]):js.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})})}function sD(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&D0(t,n,i,!0),n=Jn.current,n!==null){switch(n.tag){case 13:return zr===null?Gb():n.alternate===null&&ft===0&&(ft=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Ib?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Ng(e,r,i)),!1;case 22:return n.flags|=65536,r===Ib?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Ng(e,r,i)),!1}throw Error(W(435,n.tag))}return Ng(e,r,i),Gb(),!1}if(Oe)return t=Jn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Eb&&(e=Error(W(422),{cause:r}),Fu(qn(e,n)))):(r!==Eb&&(t=Error(W(423),{cause:r}),Fu(qn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=qn(r,n),i=Ub(e.stateNode,r,i),bg(e,i),ft!==4&&(ft=2)),!1;var s=Error(W(520),{cause:r});if(s=qn(s,n),pu===null?pu=[s]:pu.push(s),ft!==4&&(ft=2),t===null)return!0;r=qn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Ub(n.stateNode,r,e),bg(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(js===null||!js.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=gk(i),yk(i,e,n,r),bg(n,i),!1}n=n.return}while(n!==null);return!1}var bk=Error(W(461)),Dt=!1;function Ft(e,t,n,r){t.child=e===null?dk(t,null,n,r):Tl(t,e.child,n,r)}function CE(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)a!=="ref"&&(o[a]=r[a])}else o=r;return Ko(t),r=Yx(e,t,n,o,s,i),a=Wx(),e!==null&&!Dt?(Zx(e,t,i),Di(e,t,i)):(Oe&&a&&zx(t),t.flags|=1,Ft(e,t,r,i),t.child)}function AE(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Fx(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,vk(e,t,s,r,i)):(e=Rf(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!sw(e,i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pu,n(o,r)&&e.ref===t.ref)return Di(e,t,i)}return t.flags|=1,e=ki(s,r),e.ref=t.ref,e.return=t,t.child=e}function vk(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Pu(s,r)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=r=s,sw(e,i))e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,Di(e,t,i)}return Lb(e,t,n,r,i)}function xk(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return TE(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Of(t,s!==null?s.cachePool:null),s!==null?mE(t,s):jb(),fk(t);else return t.lanes=t.childLanes=536870912,TE(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(Of(t,s.cachePool),mE(t,s),bs(),t.memoizedState=null):(e!==null&&Of(t,null),jb(),bs());return Ft(e,t,i,n),t.child}function TE(e,t,n,r){var i=Hx();return i=i===null?null:{parent:At._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Of(t,null),jb(),fk(t),e!==null&&D0(e,t,r,!0),null}function Uf(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(W(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Lb(e,t,n,r,i){return Ko(t),n=Yx(e,t,n,r,void 0,i),r=Wx(),e!==null&&!Dt?(Zx(e,t,i),Di(e,t,i)):(Oe&&r&&zx(t),t.flags|=1,Ft(e,t,n,i),t.child)}function kE(e,t,n,r,i,s){return Ko(t),t.updateQueue=null,n=RT(t,r,n,i),jT(e),r=Wx(),e!==null&&!Dt?(Zx(e,t,s),Di(e,t,s)):(Oe&&r&&zx(t),t.flags|=1,Ft(e,t,n,s),t.child)}function IE(e,t,n,r,i){if(Ko(t),t.stateNode===null){var s=Xa,o=n.contextType;typeof o=="object"&&o!==null&&(s=Kt(o)),s=new n(r,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Mb,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=r,s.state=t.memoizedState,s.refs={},Gx(t),o=n.contextType,s.context=typeof o=="object"&&o!==null?Kt(o):Xa,s.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(xg(t,n,o,r),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(o=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),o!==s.state&&Mb.enqueueReplaceState(s,s.state,null),du(t,r,s,i),uu(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){s=t.stateNode;var a=t.memoizedProps,l=Wo(n,a);s.props=l;var c=s.context,u=n.contextType;o=Xa,typeof u=="object"&&u!==null&&(o=Kt(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",a=t.pendingProps!==a,u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a||c!==o)&&_E(t,s,r,o),ms=!1;var h=t.memoizedState;s.state=h,du(t,r,s,i),uu(),c=t.memoizedState,a||h!==c||ms?(typeof d=="function"&&(xg(t,n,d,r),c=t.memoizedState),(l=ms||SE(t,n,l,r,h,c,o))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=o,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Bb(e,t),o=t.memoizedProps,u=Wo(n,o),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Xa,typeof c=="object"&&c!==null&&(l=Kt(c)),a=n.getDerivedStateFromProps,(c=typeof a=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&_E(t,s,r,l),ms=!1,h=t.memoizedState,s.state=h,du(t,r,s,i),uu();var m=t.memoizedState;o!==d||h!==m||ms||e!==null&&e.dependencies!==null&&ah(e.dependencies)?(typeof a=="function"&&(xg(t,n,a,r),m=t.memoizedState),(u=ms||SE(t,n,u,r,h,m,l)||e!==null&&e.dependencies!==null&&ah(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Uf(e,t),r=(t.flags&128)!==0,s||r?(s=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&r?(t.child=Tl(t,e.child,null,i),t.child=Tl(t,null,n,i)):Ft(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Di(e,t,i),e}function BE(e,t,n,r){return O0(),t.flags|=256,Ft(e,t,n,r),t.child}var wg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sg(e){return{baseLanes:e,cachePool:TT()}}function _g(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Yn),e}function wk(e,t,n){var r=t.pendingProps,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),o&&(i=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(i?ys(t):bs(),Oe){var a=dt,l;if(l=a){e:{for(l=a,a=jr;l.nodeType!==8;){if(!a){a=null;break e}if(l=gr(l.nextSibling),l===null){a=null;break e}}a=l}a!==null?(t.memoizedState={dehydrated:a,treeContext:Do!==null?{id:Si,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},l=An(18,null,null,0),l.stateNode=a,l.return=t,t.child=l,tn=t,dt=null,l=!0):l=!1}l||qo(t)}if(a=t.memoizedState,a!==null&&(a=a.dehydrated,a!==null))return Jb(a)?t.lanes=32:t.lanes=536870912,null;Ci(t)}return a=r.children,r=r.fallback,i?(bs(),i=t.mode,a=ph({mode:"hidden",children:a},i),r=Oo(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,i=t.child,i.memoizedState=Sg(n),i.childLanes=_g(e,o,n),t.memoizedState=wg,r):(ys(t),Pb(t,a))}if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null)){if(s)t.flags&256?(ys(t),t.flags&=-257,t=Eg(e,t,n)):t.memoizedState!==null?(bs(),t.child=e.child,t.flags|=128,t=null):(bs(),i=r.fallback,a=t.mode,r=ph({mode:"visible",children:r.children},a),i=Oo(i,a,n,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,Tl(t,e.child,null,n),r=t.child,r.memoizedState=Sg(n),r.childLanes=_g(e,o,n),t.memoizedState=wg,t=i);else if(ys(t),Jb(a)){if(o=a.nextSibling&&a.nextSibling.dataset,o)var c=o.dgst;o=c,r=Error(W(419)),r.stack="",r.digest=o,Fu({value:r,source:null,stack:null}),t=Eg(e,t,n)}else if(Dt||D0(e,t,n,!1),o=(n&e.childLanes)!==0,Dt||o){if(o=We,o!==null&&(r=n&-n,r=r&42?1:Ix(r),r=r&(o.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,rc(e,r),Nn(o,e,r),bk;a.data==="$?"||Gb(),t=Eg(e,t,n)}else a.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,dt=gr(a.nextSibling),tn=t,Oe=!0,Mo=null,jr=!1,e!==null&&($n[Hn++]=Si,$n[Hn++]=_i,$n[Hn++]=Do,Si=e.id,_i=e.overflow,Do=t),t=Pb(t,r.children),t.flags|=4096);return t}return i?(bs(),i=r.fallback,a=t.mode,l=e.child,c=l.sibling,r=ki(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?i=ki(c,i):(i=Oo(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a===null?a=Sg(n):(l=a.cachePool,l!==null?(c=At._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=TT(),a={baseLanes:a.baseLanes|n,cachePool:l}),i.memoizedState=a,i.childLanes=_g(e,o,n),t.memoizedState=wg,r):(ys(t),n=e.child,e=n.sibling,n=ki(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Pb(e,t){return t=ph({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ph(e,t){return e=An(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Eg(e,t,n){return Tl(t,e.child,null,n),e=Pb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ab(e.return,t,n)}function Cg(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Sk(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ft(e,t,r.children,n),r=Tt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&NE(e,n,t);else if(e.tag===19)NE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(st(Tt,r),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&fh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Cg(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Cg(t,!0,n,null,s);break;case"together":Cg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Di(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gs|=t.lanes,!(n&t.childLanes))if(e!==null){if(D0(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=ki(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ki(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sw(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ah(e)))}function oD(e,t,n){switch(t.tag){case 3:Qf(t,t.stateNode.containerInfo),gs(t,At,e.memoizedState.cache),O0();break;case 27:case 5:mb(t);break;case 4:Qf(t,t.stateNode.containerInfo);break;case 10:gs(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(ys(t),t.flags|=128,null):n&t.child.childLanes?wk(e,t,n):(ys(t),e=Di(e,t,n),e!==null?e.sibling:null);ys(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(D0(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return Sk(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(Tt,Tt.current),r)break;return null;case 22:case 23:return t.lanes=0,xk(e,t,n);case 24:gs(t,At,e.memoizedState.cache)}return Di(e,t,n)}function _k(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Dt=!0;else{if(!sw(e,n)&&!(t.flags&128))return Dt=!1,oD(e,t,n);Dt=!!(e.flags&131072)}else Dt=!1,Oe&&t.flags&1048576&&CT(t,oh,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,typeof r=="function")Fx(r)?(e=Wo(r,e),t.tag=1,t=IE(null,t,r,e,n)):(t.tag=0,t=Lb(null,t,r,e,n));else{if(r!=null){if(i=r.$$typeof,i===Ax){t.tag=11,t=CE(null,t,r,e,n);break e}else if(i===Tx){t.tag=14,t=AE(null,t,r,e,n);break e}}throw t=fb(r)||r,Error(W(306,t,""))}}return t;case 0:return Lb(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=Wo(r,t.pendingProps),IE(e,t,r,i,n);case 3:e:{if(Qf(t,t.stateNode.containerInfo),e===null)throw Error(W(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,Bb(e,t),du(t,r,null,n);var o=t.memoizedState;if(r=o.cache,gs(t,At,r),r!==s.cache&&Tb(t,[At],n,!0),uu(),r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=BE(e,t,r,n);break e}else if(r!==i){i=qn(Error(W(424)),t),Fu(i),t=BE(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(dt=gr(e.firstChild),tn=t,Oe=!0,Mo=null,jr=!0,n=dk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(O0(),r===i){t=Di(e,t,n);break e}Ft(e,t,r,n)}t=t.child}return t;case 26:return Uf(e,t),e===null?(n=YE(t.type,null,t.pendingProps,null))?t.memoizedState=n:Oe||(n=t.type,e=t.pendingProps,r=Sh(Is.current).createElement(n),r[qt]=t,r[yn]=e,Vt(r,n,e),Ot(r),t.stateNode=r):t.memoizedState=YE(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return mb(t),e===null&&Oe&&(r=t.stateNode=c4(t.type,t.pendingProps,Is.current),tn=t,jr=!0,i=dt,Qs(t.type)?(Qb=i,dt=gr(r.firstChild)):dt=i),Ft(e,t,t.pendingProps.children,n),Uf(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((i=r=dt)&&(r=OD(r,t.type,t.pendingProps,jr),r!==null?(t.stateNode=r,tn=t,dt=gr(r.firstChild),jr=!1,i=!0):i=!1),i||qo(t)),mb(t),i=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,r=s.children,Zb(i,s)?r=null:o!==null&&Zb(i,o)&&(t.flags|=32),t.memoizedState!==null&&(i=Yx(e,t,JO,null,null,n),qu._currentValue=i),Uf(e,t),Ft(e,t,r,n),t.child;case 6:return e===null&&Oe&&((e=n=dt)&&(n=DD(n,t.pendingProps,jr),n!==null?(t.stateNode=n,tn=t,dt=null,e=!0):e=!1),e||qo(t)),null;case 13:return wk(e,t,n);case 4:return Qf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tl(t,null,r,n):Ft(e,t,r,n),t.child;case 11:return CE(e,t,t.type,t.pendingProps,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,gs(t,t.type,r.value),Ft(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ko(t),i=Kt(i),r=r(i),t.flags|=1,Ft(e,t,r,n),t.child;case 14:return AE(e,t,t.type,t.pendingProps,n);case 15:return vk(e,t,t.type,t.pendingProps,n);case 19:return Sk(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=ph(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ki(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return xk(e,t,n);case 24:return Ko(t),r=Kt(At),e===null?(i=Hx(),i===null&&(i=We,s=$x(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},Gx(t),gs(t,At,i)):(e.lanes&n&&(Bb(e,t),du(t,null,null,n),uu()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),gs(t,At,r)):(r=s.cache,gs(t,At,r),r!==i.cache&&Tb(t,[At],n,!0))),Ft(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(W(156,t.tag))}function si(e){e.flags|=4}function jE(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!f4(t)){if(t=Jn.current,t!==null&&((Be&4194048)===Be?zr!==null:(Be&62914560)!==Be&&!(Be&536870912)||t!==zr))throw lu=Ib,kT;e.flags|=8192}}function Fd(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?W3():536870912,e.lanes|=t,kl|=t)}function Dc(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function aD(e,t,n){var r=t.pendingProps;switch(Vx(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return ot(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ii(At),wl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rc(t)?si(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lE())),ot(t),null;case 26:return n=t.memoizedState,e===null?(si(t),n!==null?(ot(t),jE(t,n)):(ot(t),t.flags&=-16777217)):n?n!==e.memoizedState?(si(t),ot(t),jE(t,n)):(ot(t),t.flags&=-16777217):(e.memoizedProps!==r&&si(t),ot(t),t.flags&=-16777217),null;case 27:eh(t),n=Is.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&si(t);else{if(!r){if(t.stateNode===null)throw Error(W(166));return ot(t),null}e=Pr.current,Rc(t)?oE(t):(e=c4(i,r,n),t.stateNode=e,si(t))}return ot(t),null;case 5:if(eh(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&si(t);else{if(!r){if(t.stateNode===null)throw Error(W(166));return ot(t),null}if(e=Pr.current,Rc(t))oE(t);else{switch(i=Sh(Is.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}e[qt]=t,e[yn]=r;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Vt(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&si(t)}}return ot(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&si(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(e=Is.current,Rc(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=tn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[qt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||o4(e.nodeValue,n)),e||qo(t)}else e=Sh(e).createTextNode(r),e[qt]=t,t.stateNode=e}return ot(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Rc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(W(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[qt]=t}else O0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),i=!1}else i=lE(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Ci(t),t):(Ci(t),null)}if(Ci(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Fd(t,t.updateQueue),ot(t),null;case 4:return wl(),e===null&&hw(t.stateNode.containerInfo),ot(t),null;case 10:return Ii(t.type),ot(t),null;case 19:if(Ut(Tt),i=t.memoizedState,i===null)return ot(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Dc(i,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=fh(e),s!==null){for(t.flags|=128,Dc(i,!1),e=s.updateQueue,t.updateQueue=e,Fd(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ET(n,e),n=n.sibling;return st(Tt,Tt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fr()>yh&&(t.flags|=128,r=!0,Dc(i,!1),t.lanes=4194304)}else{if(!r)if(e=fh(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Fd(t,e),Dc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Oe)return ot(t),null}else 2*Fr()-i.renderingStartTime>yh&&n!==536870912&&(t.flags|=128,r=!0,Dc(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fr(),t.sibling=null,e=Tt.current,st(Tt,r?e&1|2:e&1),t):(ot(t),null);case 22:case 23:return Ci(t),qx(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),n=t.updateQueue,n!==null&&Fd(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Ut(Uo),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ii(At),ot(t),null;case 25:return null;case 30:return null}throw Error(W(156,t.tag))}function lD(e,t){switch(Vx(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ii(At),wl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return eh(t),null;case 13:if(Ci(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));O0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ut(Tt),null;case 4:return wl(),null;case 10:return Ii(t.type),null;case 22:case 23:return Ci(t),qx(),e!==null&&Ut(Uo),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ii(At),null;case 25:return null;default:return null}}function Ek(e,t){switch(Vx(t),t.tag){case 3:Ii(At),wl();break;case 26:case 27:case 5:eh(t);break;case 4:wl();break;case 13:Ci(t);break;case 19:Ut(Tt);break;case 10:Ii(t.type);break;case 22:case 23:Ci(t),qx(),e!==null&&Ut(Uo);break;case 24:Ii(At)}}function F0(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){Ge(t,t.return,a)}}function Hs(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(a!==void 0){o.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){Ge(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){Ge(t,t.return,u)}}function Ck(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{NT(t,n)}catch(r){Ge(e,e.return,r)}}}function Ak(e,t,n){n.props=Wo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ge(e,t,r)}}function hu(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){Ge(e,t,i)}}function Ur(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ge(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ge(e,t,i)}else n.current=null}function Tk(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ge(e,e.return,i)}}function Ag(e,t,n){try{var r=e.stateNode;ID(r,e.type,n,t),r[yn]=t}catch(i){Ge(e,e.return,i)}}function kk(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qs(e.type)||e.tag===4}function Tg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pm));else if(r!==4&&(r===27&&Qs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Fb(e,t,n),e=e.sibling;e!==null;)Fb(e,t,n),e=e.sibling}function gh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Qs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(gh(e,t,n),e=e.sibling;e!==null;)gh(e,t,n),e=e.sibling}function Ik(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Vt(t,r,n),t[qt]=e,t[yn]=n}catch(s){Ge(e,e.return,s)}}var xi=!1,gt=!1,kg=!1,RE=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function cD(e,t){if(e=e.containerInfo,Yb=Ah,e=gT(e),Ux(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wb={focusedElem:e,selectionRange:n},Ah=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){switch(t=Rt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var x=Wo(n.type,i,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(x,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Ge(n,n.return,y)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Xb(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xb(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(W(163))}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}}function Bk(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ns(e,n),r&4&&F0(5,n);break;case 1:if(ns(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){Ge(n,n.return,o)}else{var i=Wo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Ge(n,n.return,o)}}r&64&&Ck(n),r&512&&hu(n,n.return);break;case 3:if(ns(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{NT(e,t)}catch(o){Ge(n,n.return,o)}}break;case 27:t===null&&r&4&&Ik(n);case 26:case 5:ns(e,n),t===null&&r&4&&Tk(n),r&512&&hu(n,n.return);break;case 12:ns(e,n);break;case 13:ns(e,n),r&4&&Rk(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=bD.bind(null,n),MD(e,n))));break;case 22:if(r=n.memoizedState!==null||xi,!r){t=t!==null&&t.memoizedState!==null||gt,i=xi;var s=gt;xi=r,(gt=t)&&!s?cs(e,n,(n.subtreeFlags&8772)!==0):ns(e,n),xi=i,gt=s}break;case 30:break;default:ns(e,n)}}function Nk(e){var t=e.alternate;t!==null&&(e.alternate=null,Nk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Nx(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,un=!1;function oi(e,t,n){for(n=n.child;n!==null;)jk(e,t,n),n=n.sibling}function jk(e,t,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(I0,n)}catch{}switch(n.tag){case 26:gt||Ur(n,t),oi(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:gt||Ur(n,t);var r=nt,i=un;Qs(n.type)&&(nt=n.stateNode,un=!1),oi(e,t,n),yu(n.stateNode),nt=r,un=i;break;case 5:gt||Ur(n,t);case 6:if(r=nt,i=un,nt=null,oi(e,t,n),nt=r,un=i,nt!==null)if(un)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(n.stateNode)}catch(s){Ge(n,t,s)}else try{nt.removeChild(n.stateNode)}catch(s){Ge(n,t,s)}break;case 18:nt!==null&&(un?(e=nt,GE(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Wu(e)):GE(nt,n.stateNode));break;case 4:r=nt,i=un,nt=n.stateNode.containerInfo,un=!0,oi(e,t,n),nt=r,un=i;break;case 0:case 11:case 14:case 15:gt||Hs(2,n,t),gt||Hs(4,n,t),oi(e,t,n);break;case 1:gt||(Ur(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Ak(n,t,r)),oi(e,t,n);break;case 21:oi(e,t,n);break;case 22:gt=(r=gt)||n.memoizedState!==null,oi(e,t,n),gt=r;break;default:oi(e,t,n)}}function Rk(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wu(e)}catch(n){Ge(t,t.return,n)}}function uD(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new RE),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new RE),t;default:throw Error(W(435,e.tag))}}function Ig(e,t){var n=uD(e);t.forEach(function(r){var i=vD.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}function xn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 27:if(Qs(a.type)){nt=a.stateNode,un=!1;break e}break;case 5:nt=a.stateNode,un=!1;break e;case 3:case 4:nt=a.stateNode.containerInfo,un=!0;break e}a=a.return}if(nt===null)throw Error(W(160));jk(s,o,i),nt=null,un=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ok(t,e),t=t.sibling}var mr=null;function Ok(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(t,e),wn(e),r&4&&(Hs(3,e,e.return),F0(3,e),Hs(5,e,e.return));break;case 1:xn(t,e),wn(e),r&512&&(gt||n===null||Ur(n,n.return)),r&64&&xi&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=mr;if(xn(t,e),wn(e),r&512&&(gt||n===null||Ur(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[j0]||s[qt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Vt(s,r,n),s[qt]=e,Ot(s),r=s;break e;case"link":var o=ZE("link","href",i).get(r+(n.href||""));if(o){for(var a=0;a<o.length;a++)if(s=o[a],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(a,1);break t}}s=i.createElement(r),Vt(s,r,n),i.head.appendChild(s);break;case"meta":if(o=ZE("meta","content",i).get(r+(n.content||""))){for(a=0;a<o.length;a++)if(s=o[a],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(a,1);break t}}s=i.createElement(r),Vt(s,r,n),i.head.appendChild(s);break;default:throw Error(W(468,r))}s[qt]=e,Ot(s),r=s}e.stateNode=r}else XE(i,e.type,e.stateNode);else e.stateNode=WE(i,r,e.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?XE(i,e.type,e.stateNode):WE(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Ag(e,e.memoizedProps,n.memoizedProps)}break;case 27:xn(t,e),wn(e),r&512&&(gt||n===null||Ur(n,n.return)),n!==null&&r&4&&Ag(e,e.memoizedProps,n.memoizedProps);break;case 5:if(xn(t,e),wn(e),r&512&&(gt||n===null||Ur(n,n.return)),e.flags&32){i=e.stateNode;try{_l(i,"")}catch(m){Ge(e,e.return,m)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,Ag(e,i,n!==null?n.memoizedProps:i)),r&1024&&(kg=!0);break;case 6:if(xn(t,e),wn(e),r&4){if(e.stateNode===null)throw Error(W(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Ge(e,e.return,m)}}break;case 3:if(Ff=null,i=mr,mr=_h(t.containerInfo),xn(t,e),mr=i,wn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wu(t.containerInfo)}catch(m){Ge(e,e.return,m)}kg&&(kg=!1,Dk(e));break;case 4:r=mr,mr=_h(e.stateNode.containerInfo),xn(t,e),wn(e),mr=r;break;case 12:xn(t,e),wn(e);break;case 13:xn(t,e),wn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(uw=Fr()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ig(e,r)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=xi,u=gt;if(xi=c||i,gt=u||l,xn(t,e),gt=u,xi=c,wn(e),r&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||xi||gt||wo(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(s=l.stateNode,i)o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{a=l.stateNode;var d=l.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;a.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){Ge(l,l.return,m)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(m){Ge(l,l.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Ig(e,n))));break;case 19:xn(t,e),wn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ig(e,r)));break;case 30:break;case 21:break;default:xn(t,e),wn(e)}}function wn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(kk(r)){n=r;break}r=r.return}if(n==null)throw Error(W(160));switch(n.tag){case 27:var i=n.stateNode,s=Tg(e);gh(e,s,i);break;case 5:var o=n.stateNode;n.flags&32&&(_l(o,""),n.flags&=-33);var a=Tg(e);gh(e,a,o);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Tg(e);Fb(e,c,l);break;default:throw Error(W(161))}}catch(u){Ge(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dk(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Dk(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ns(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bk(e,t.alternate,t),t=t.sibling}function wo(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hs(4,t,t.return),wo(t);break;case 1:Ur(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Ak(t,t.return,n),wo(t);break;case 27:yu(t.stateNode);case 26:case 5:Ur(t,t.return),wo(t);break;case 22:t.memoizedState===null&&wo(t);break;case 30:wo(t);break;default:wo(t)}e=e.sibling}}function cs(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:cs(i,s,n),F0(4,s);break;case 1:if(cs(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Ge(r,r.return,c)}if(r=s,i=r.updateQueue,i!==null){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)BT(l[i],a)}catch(c){Ge(r,r.return,c)}}n&&o&64&&Ck(s),hu(s,s.return);break;case 27:Ik(s);case 26:case 5:cs(i,s,n),n&&r===null&&o&4&&Tk(s),hu(s,s.return);break;case 12:cs(i,s,n);break;case 13:cs(i,s,n),n&&o&4&&Rk(i,s);break;case 22:s.memoizedState===null&&cs(i,s,n),hu(s,s.return);break;case 30:break;default:cs(i,s,n)}t=t.sibling}}function ow(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&M0(n))}function aw(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&M0(e))}function Tr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mk(e,t,n,r),t=t.sibling}function Mk(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Tr(e,t,n,r),i&2048&&F0(9,t);break;case 1:Tr(e,t,n,r);break;case 3:Tr(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&M0(e)));break;case 12:if(i&2048){Tr(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;typeof a=="function"&&a(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Ge(t,t.return,l)}}else Tr(e,t,n,r);break;case 13:Tr(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,t.memoizedState!==null?s._visibility&2?Tr(e,t,n,r):mu(e,t):s._visibility&2?Tr(e,t,n,r):(s._visibility|=2,Fa(e,t,n,r,(t.subtreeFlags&10256)!==0)),i&2048&&ow(o,t);break;case 24:Tr(e,t,n,r),i&2048&&aw(t.alternate,t);break;default:Tr(e,t,n,r)}}function Fa(e,t,n,r,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,o=t,a=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Fa(s,o,a,l,i),F0(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState!==null?u._visibility&2?Fa(s,o,a,l,i):mu(s,o):(u._visibility|=2,Fa(s,o,a,l,i)),i&&c&2048&&ow(o.alternate,o);break;case 24:Fa(s,o,a,l,i),i&&c&2048&&aw(o.alternate,o);break;default:Fa(s,o,a,l,i)}t=t.sibling}}function mu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:mu(n,r),i&2048&&ow(r.alternate,r);break;case 24:mu(n,r),i&2048&&aw(r.alternate,r);break;default:mu(n,r)}t=t.sibling}}var Wc=8192;function wa(e){if(e.subtreeFlags&Wc)for(e=e.child;e!==null;)Uk(e),e=e.sibling}function Uk(e){switch(e.tag){case 26:wa(e),e.flags&Wc&&e.memoizedState!==null&&WD(mr,e.memoizedState,e.memoizedProps);break;case 5:wa(e);break;case 3:case 4:var t=mr;mr=_h(e.stateNode.containerInfo),wa(e),mr=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Wc,Wc=16777216,wa(e),Wc=t):wa(e));break;default:wa(e)}}function Lk(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Mc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Rt=r,Fk(r,e)}Lk(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pk(e),e=e.sibling}function Pk(e){switch(e.tag){case 0:case 11:case 15:Mc(e),e.flags&2048&&Hs(9,e,e.return);break;case 3:Mc(e);break;case 12:Mc(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Lf(e)):Mc(e);break;default:Mc(e)}}function Lf(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Rt=r,Fk(r,e)}Lk(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hs(8,t,t.return),Lf(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Lf(t));break;default:Lf(t)}e=e.sibling}}function Fk(e,t){for(;Rt!==null;){var n=Rt;switch(n.tag){case 0:case 11:case 15:Hs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:M0(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Rt=r;else e:for(n=e;Rt!==null;){r=Rt;var i=r.sibling,s=r.return;if(Nk(r),r===n){Rt=null;break e}if(i!==null){i.return=s,Rt=i;break e}Rt=s}}}var dD={getCacheForType:function(e){var t=Kt(At),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},fD=typeof WeakMap=="function"?WeakMap:Map,Pe=0,We=null,Ae=null,Be=0,Ue=0,_n=null,Es=!1,ic=!1,lw=!1,Mi=0,ft=0,Gs=0,Lo=0,cw=0,Yn=0,kl=0,pu=null,dn=null,zb=!1,uw=0,yh=1/0,bh=null,js=null,zt=0,Rs=null,Il=null,ml=0,Vb=0,$b=null,zk=null,gu=0,Hb=null;function Bn(){if(Pe&2&&Be!==0)return Be&-Be;if(me.T!==null){var e=El;return e!==0?e:fw()}return J3()}function Vk(){Yn===0&&(Yn=!(Be&536870912)||Oe?Y3():536870912);var e=Jn.current;return e!==null&&(e.flags|=32),Yn}function Nn(e,t,n){(e===We&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(Bl(e,0),Cs(e,Be,Yn,!1)),N0(e,n),(!(Pe&2)||e!==We)&&(e===We&&(!(Pe&2)&&(Lo|=n),ft===4&&Cs(e,Be,Yn,!1)),Jr(e))}function $k(e,t,n){if(Pe&6)throw Error(W(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||B0(e,t),i=r?pD(e,t):Bg(e,t,!0),s=r;do{if(i===0){ic&&!r&&Cs(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!hD(n)){i=Bg(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var a=e;i=pu;var l=a.current.memoizedState.isDehydrated;if(l&&(Bl(a,o).flags|=256),o=Bg(a,o,!1),o!==2){if(lw&&!l){a.errorRecoveryDisabledLanes|=s,Lo|=s,i=4;break e}s=dn,dn=i,s!==null&&(dn===null?dn=s:dn.push.apply(dn,s))}i=o}if(s=!1,i!==2)continue}}if(i===1){Bl(e,0),Cs(e,t,0,!0);break}e:{switch(r=e,s=i,s){case 0:case 1:throw Error(W(345));case 4:if((t&4194048)!==t)break;case 6:Cs(r,t,Yn,!Es);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(W(329))}if((t&62914560)===t&&(i=uw+300-Fr(),10<i)){if(Cs(r,t,Yn,!Es),Am(r,0,!0)!==0)break e;r.timeoutHandle=l4(OE.bind(null,r,n,dn,bh,zb,t,Yn,Lo,kl,Es,s,2,-0,0),i);break e}OE(r,n,dn,bh,zb,t,Yn,Lo,kl,Es,s,0,-0,0)}}break}while(!0);Jr(e)}function OE(e,t,n,r,i,s,o,a,l,c,u,d,h,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(Gu={stylesheets:null,count:0,unsuspend:YD},Uk(t),d=ZD(),d!==null)){e.cancelPendingCommit=d(ME.bind(null,e,t,s,n,r,i,o,a,l,u,1,h,m)),Cs(e,s,o,!c);return}ME(e,t,s,n,r,i,o,a,l)}function hD(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!On(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cs(e,t,n,r){t&=~cw,t&=~Lo,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-In(i),o=1<<s;r[s]=-1,i&=~o}n!==0&&Z3(e,n,t)}function Mm(){return Pe&6?!0:(z0(0),!1)}function dw(){if(Ae!==null){if(Ue===0)var e=Ae.return;else e=Ae,Ei=da=null,Xx(e),hl=null,Vu=0,e=Ae;for(;e!==null;)Ek(e.alternate,e),e=e.return;Ae=null}}function Bl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,ND(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),dw(),We=e,Ae=n=ki(e.current,null),Be=t,Ue=0,_n=null,Es=!1,ic=B0(e,t),lw=!1,kl=Yn=cw=Lo=Gs=ft=0,dn=pu=null,zb=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-In(r),s=1<<i;t|=e[i],r&=~s}return Mi=t,Bm(),n}function Hk(e,t){Se=null,me.H=dh,t===U0||t===jm?(t=fE(),Ue=3):t===kT?(t=fE(),Ue=4):Ue=t===bk?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_n=t,Ae===null&&(ft=1,mh(e,qn(t,e.current)))}function Gk(){var e=me.H;return me.H=dh,e===null?dh:e}function qk(){var e=me.A;return me.A=dD,e}function Gb(){ft=4,Es||(Be&4194048)!==Be&&Jn.current!==null||(ic=!0),!(Gs&134217727)&&!(Lo&134217727)||We===null||Cs(We,Be,Yn,!1)}function Bg(e,t,n){var r=Pe;Pe|=2;var i=Gk(),s=qk();(We!==e||Be!==t)&&(bh=null,Bl(e,t)),t=!1;var o=ft;e:do try{if(Ue!==0&&Ae!==null){var a=Ae,l=_n;switch(Ue){case 8:dw(),o=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(t=!0);var c=Ue;if(Ue=0,_n=null,el(e,a,l,c),n&&ic){o=0;break e}break;default:c=Ue,Ue=0,_n=null,el(e,a,l,c)}}mD(),o=ft;break}catch(u){Hk(e,u)}while(!0);return t&&e.shellSuspendCounter++,Ei=da=null,Pe=r,me.H=i,me.A=s,Ae===null&&(We=null,Be=0,Bm()),o}function mD(){for(;Ae!==null;)Kk(Ae)}function pD(e,t){var n=Pe;Pe|=2;var r=Gk(),i=qk();We!==e||Be!==t?(bh=null,yh=Fr()+500,Bl(e,t)):ic=B0(e,t);e:do try{if(Ue!==0&&Ae!==null){t=Ae;var s=_n;t:switch(Ue){case 1:Ue=0,_n=null,el(e,t,s,1);break;case 2:case 9:if(dE(s)){Ue=0,_n=null,DE(t);break}t=function(){Ue!==2&&Ue!==9||We!==e||(Ue=7),Jr(e)},s.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:dE(s)?(Ue=0,_n=null,DE(t)):(Ue=0,_n=null,el(e,t,s,7));break;case 5:var o=null;switch(Ae.tag){case 26:o=Ae.memoizedState;case 5:case 27:var a=Ae;if(!o||f4(o)){Ue=0,_n=null;var l=a.sibling;if(l!==null)Ae=l;else{var c=a.return;c!==null?(Ae=c,Um(c)):Ae=null}break t}}Ue=0,_n=null,el(e,t,s,5);break;case 6:Ue=0,_n=null,el(e,t,s,6);break;case 8:dw(),ft=6;break e;default:throw Error(W(462))}}gD();break}catch(u){Hk(e,u)}while(!0);return Ei=da=null,me.H=r,me.A=i,Pe=n,Ae!==null?0:(We=null,Be=0,Bm(),ft)}function gD(){for(;Ae!==null&&!LR();)Kk(Ae)}function Kk(e){var t=_k(e.alternate,e,Mi);e.memoizedProps=e.pendingProps,t===null?Um(e):Ae=t}function DE(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=kE(n,t,t.pendingProps,t.type,void 0,Be);break;case 11:t=kE(n,t,t.pendingProps,t.type.render,t.ref,Be);break;case 5:Xx(t);default:Ek(n,t),t=Ae=ET(t,Mi),t=_k(n,t,Mi)}e.memoizedProps=e.pendingProps,t===null?Um(e):Ae=t}function el(e,t,n,r){Ei=da=null,Xx(t),hl=null,Vu=0;var i=t.return;try{if(sD(e,i,t,n,Be)){ft=1,mh(e,qn(n,e.current)),Ae=null;return}}catch(s){if(i!==null)throw Ae=i,s;ft=1,mh(e,qn(n,e.current)),Ae=null;return}t.flags&32768?(Oe||r===1?e=!0:ic||Be&536870912?e=!1:(Es=e=!0,(r===2||r===9||r===3||r===6)&&(r=Jn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Yk(t,e)):Um(t)}function Um(e){var t=e;do{if(t.flags&32768){Yk(t,Es);return}e=t.return;var n=aD(t.alternate,t,Mi);if(n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);ft===0&&(ft=5)}function Yk(e,t){do{var n=lD(e.alternate,e);if(n!==null){n.flags&=32767,Ae=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=n}while(e!==null);ft=6,Ae=null}function ME(e,t,n,r,i,s,o,a,l){e.cancelPendingCommit=null;do Lm();while(zt!==0);if(Pe&6)throw Error(W(327));if(t!==null){if(t===e.current)throw Error(W(177));if(s=t.lanes|t.childLanes,s|=Lx,YR(e,n,s,o,a,l),e===We&&(Ae=We=null,Be=0),Il=t,Rs=e,ml=n,Vb=s,$b=i,zk=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,xD(th,function(){return Qk(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=me.T,me.T=null,i=De.p,De.p=2,o=Pe,Pe|=4;try{cD(e,t,n)}finally{Pe=o,De.p=i,me.T=r}}zt=1,Wk(),Zk(),Xk()}}function Wk(){if(zt===1){zt=0;var e=Rs,t=Il,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=me.T,me.T=null;var r=De.p;De.p=2;var i=Pe;Pe|=4;try{Ok(t,e);var s=Wb,o=gT(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&pT(a.ownerDocument.documentElement,a)){if(l!==null&&Ux(a)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),x=a.textContent.length,y=Math.min(l.start,x),_=l.end===void 0?y:Math.min(l.end,x);!m.extend&&y>_&&(o=_,_=y,y=o);var p=rE(a,y),b=rE(a,_);if(p&&b&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var g=d.createRange();g.setStart(p.node,p.offset),m.removeAllRanges(),y>_?(m.addRange(g),m.extend(b.node,b.offset)):(g.setEnd(b.node,b.offset),m.addRange(g))}}}}for(d=[],m=a;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<d.length;a++){var E=d[a];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}Ah=!!Yb,Wb=Yb=null}finally{Pe=i,De.p=r,me.T=n}}e.current=t,zt=2}}function Zk(){if(zt===2){zt=0;var e=Rs,t=Il,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=me.T,me.T=null;var r=De.p;De.p=2;var i=Pe;Pe|=4;try{Bk(e,t.alternate,t)}finally{Pe=i,De.p=r,me.T=n}}zt=3}}function Xk(){if(zt===4||zt===3){zt=0,PR();var e=Rs,t=Il,n=ml,r=zk;t.subtreeFlags&10256||t.flags&10256?zt=5:(zt=0,Il=Rs=null,Jk(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(js=null),Bx(n),t=t.stateNode,kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(I0,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=me.T,i=De.p,De.p=2,me.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{me.T=t,De.p=i}}ml&3&&Lm(),Jr(e),i=e.pendingLanes,n&4194090&&i&42?e===Hb?gu++:(gu=0,Hb=e):gu=0,z0(0)}}function Jk(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,M0(t)))}function Lm(e){return Wk(),Zk(),Xk(),Qk()}function Qk(){if(zt!==5)return!1;var e=Rs,t=Vb;Vb=0;var n=Bx(ml),r=me.T,i=De.p;try{De.p=32>n?32:n,me.T=null,n=$b,$b=null;var s=Rs,o=ml;if(zt=0,Il=Rs=null,ml=0,Pe&6)throw Error(W(331));var a=Pe;if(Pe|=4,Pk(s.current),Mk(s,s.current,o,n),Pe=a,z0(0,!1),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(I0,s)}catch{}return!0}finally{De.p=i,me.T=r,Jk(e,t)}}function UE(e,t,n){t=qn(n,t),t=Ub(e.stateNode,t,2),e=Ns(e,t,2),e!==null&&(N0(e,2),Jr(e))}function Ge(e,t,n){if(e.tag===3)UE(e,e,n);else for(;t!==null;){if(t.tag===3){UE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(js===null||!js.has(r))){e=qn(n,e),n=gk(2),r=Ns(t,n,2),r!==null&&(yk(n,r,t,e),N0(r,2),Jr(r));break}}t=t.return}}function Ng(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fD;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(lw=!0,i.add(n),e=yD.bind(null,e,t,n),t.then(e,e))}function yD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,We===e&&(Be&n)===n&&(ft===4||ft===3&&(Be&62914560)===Be&&300>Fr()-uw?!(Pe&2)&&Bl(e,0):cw|=n,kl===Be&&(kl=0)),Jr(e)}function e4(e,t){t===0&&(t=W3()),e=rc(e,t),e!==null&&(N0(e,t),Jr(e))}function bD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),e4(e,n)}function vD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(W(314))}r!==null&&r.delete(t),e4(e,n)}function xD(e,t){return kx(e,t)}var vh=null,za=null,qb=!1,xh=!1,jg=!1,Po=0;function Jr(e){e!==za&&e.next===null&&(za===null?vh=za=e:za=za.next=e),xh=!0,qb||(qb=!0,SD())}function z0(e,t){if(!jg&&xh){jg=!0;do for(var n=!1,r=vh;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-In(42|e)+1)-1,s&=i&~(o&~a),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,LE(r,s))}else s=Be,s=Am(r,r===We?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||B0(r,s)||(n=!0,LE(r,s));r=r.next}while(n);jg=!1}}function wD(){t4()}function t4(){xh=qb=!1;var e=0;Po!==0&&(BD()&&(e=Po),Po=0);for(var t=Fr(),n=null,r=vh;r!==null;){var i=r.next,s=n4(r,t);s===0?(r.next=null,n===null?vh=i:n.next=i,i===null&&(za=n)):(n=r,(e!==0||s&3)&&(xh=!0)),r=i}z0(e)}function n4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var o=31-In(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=KR(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(t=We,n=Be,n=Am(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ig(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||B0(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&ig(r),Bx(n)){case 2:case 8:n=q3;break;case 32:n=th;break;case 268435456:n=K3;break;default:n=th}return r=r4.bind(null,e),n=kx(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&ig(r),e.callbackPriority=2,e.callbackNode=null,2}function r4(e,t){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Lm()&&e.callbackNode!==n)return null;var r=Be;return r=Am(e,e===We?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:($k(e,r,t),n4(e,Fr()),e.callbackNode!=null&&e.callbackNode===n?r4.bind(null,e):null)}function LE(e,t){if(Lm())return null;$k(e,t,!0)}function SD(){jD(function(){Pe&6?kx(G3,wD):t4()})}function fw(){return Po===0&&(Po=Y3()),Po}function PE(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bf(""+e)}function FE(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function _D(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var s=PE((i[yn]||null).action),o=r.submitter;o&&(t=(t=o[yn]||null)?PE(t.formAction):o.getAttribute("formAction"),t!==null&&(s=t,o=null));var a=new Tm("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Po!==0){var l=o?FE(i,o):new FormData(i);Db(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(a.preventDefault(),l=o?FE(i,o):new FormData(i),Db(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var Rg=0;Rg<_b.length;Rg++){var Og=_b[Rg],ED=Og.toLowerCase(),CD=Og[0].toUpperCase()+Og.slice(1);Sr(ED,"on"+CD)}Sr(bT,"onAnimationEnd");Sr(vT,"onAnimationIteration");Sr(xT,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(VO,"onTransitionRun");Sr($O,"onTransitionStart");Sr(HO,"onTransitionCancel");Sr(wT,"onTransitionEnd");Sl("onMouseEnter",["mouseout","mouseover"]);Sl("onMouseLeave",["mouseout","mouseover"]);Sl("onPointerEnter",["pointerout","pointerover"]);Sl("onPointerLeave",["pointerout","pointerover"]);la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));la("onBeforeInput",["compositionend","keypress","textInput","paste"]);la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($u));function i4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){hh(u)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){hh(u)}i.currentTarget=null,s=l}}}}function Ce(e,t){var n=t[gb];n===void 0&&(n=t[gb]=new Set);var r=e+"__bubble";n.has(r)||(s4(t,e,2,!1),n.add(r))}function Dg(e,t,n){var r=0;t&&(r|=4),s4(n,e,r,t)}var zd="_reactListening"+Math.random().toString(36).slice(2);function hw(e){if(!e[zd]){e[zd]=!0,Q3.forEach(function(n){n!=="selectionchange"&&(AD.has(n)||Dg(n,!1,e),Dg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zd]||(t[zd]=!0,Dg("selectionchange",!1,t))}}function s4(e,t,n,r){switch(y4(t)){case 2:var i=QD;break;case 8:i=eM;break;default:i=yw}n=i.bind(null,t,n,e),i=void 0,!xb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mg(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;a!==null;){if(o=Ga(a),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=s=o;continue e}a=a.parentNode}}r=r.return}aT(function(){var c=s,u=Rx(n),d=[];e:{var h=ST.get(e);if(h!==void 0){var m=Tm,x=e;switch(e){case"keypress":if(jf(n)===0)break e;case"keydown":case"keyup":m=xO;break;case"focusin":x="focus",m=fg;break;case"focusout":x="blur",m=fg;break;case"beforeblur":case"afterblur":m=fg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=K_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_O;break;case bT:case vT:case xT:m=dO;break;case wT:m=CO;break;case"scroll":case"scrollend":m=oO;break;case"wheel":m=TO;break;case"copy":case"cut":case"paste":m=hO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=W_;break;case"toggle":case"beforetoggle":m=IO}var y=(t&4)!==0,_=!y&&(e==="scroll"||e==="scrollend"),p=y?h!==null?h+"Capture":null:h;y=[];for(var b=c,g;b!==null;){var E=b;if(g=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||g===null||p===null||(E=Uu(b,p),E!=null&&y.push(Hu(b,E,g))),_)break;b=b.return}0<y.length&&(h=new m(h,x,null,n,u),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==vb&&(x=n.relatedTarget||n.fromElement)&&(Ga(x)||x[tc]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?Ga(x):null,x!==null&&(_=k0(x),y=x.tag,x!==_||y!==5&&y!==27&&y!==6)&&(x=null)):(m=null,x=c),m!==x)){if(y=K_,E="onMouseLeave",p="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=W_,E="onPointerLeave",p="onPointerEnter",b="pointer"),_=m==null?h:Yc(m),g=x==null?h:Yc(x),h=new y(E,b+"leave",m,n,u),h.target=_,h.relatedTarget=g,E=null,Ga(u)===c&&(y=new y(p,b+"enter",x,n,u),y.target=g,y.relatedTarget=_,E=y),_=E,m&&x)t:{for(y=m,p=x,b=0,g=y;g;g=Sa(g))b++;for(g=0,E=p;E;E=Sa(E))g++;for(;0<b-g;)y=Sa(y),b--;for(;0<g-b;)p=Sa(p),g--;for(;b--;){if(y===p||p!==null&&y===p.alternate)break t;y=Sa(y),p=Sa(p)}y=null}else y=null;m!==null&&zE(d,h,m,y,!1),x!==null&&_!==null&&zE(d,_,x,y,!0)}}e:{if(h=c?Yc(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=Q_;else if(J_(h))if(hT)C=PO;else{C=UO;var N=MO}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&jx(c.elementType)&&(C=Q_):C=LO;if(C&&(C=C(e,c))){fT(d,C,n,u);break e}N&&N(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&bb(h,"number",h.value)}switch(N=c?Yc(c):window,e){case"focusin":(J_(N)||N.contentEditable==="true")&&(Ya=N,wb=c,ou=null);break;case"focusout":ou=wb=Ya=null;break;case"mousedown":Sb=!0;break;case"contextmenu":case"mouseup":case"dragend":Sb=!1,iE(d,n,u);break;case"selectionchange":if(zO)break;case"keydown":case"keyup":iE(d,n,u)}var k;if(Mx)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ka?uT(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(cT&&n.locale!=="ko"&&(Ka||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ka&&(k=lT()):(_s=u,Ox="value"in _s?_s.value:_s.textContent,Ka=!0)),N=wh(c,j),0<N.length&&(j=new Y_(j,e,null,n,u),d.push({event:j,listeners:N}),k?j.data=k:(k=dT(n),k!==null&&(j.data=k)))),(k=NO?jO(e,n):RO(e,n))&&(j=wh(c,"onBeforeInput"),0<j.length&&(N=new Y_("onBeforeInput","beforeinput",null,n,u),d.push({event:N,listeners:j}),N.data=k)),_D(d,e,c,n,u)}i4(d,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Uu(e,n),i!=null&&r.unshift(Hu(e,i,s)),i=Uu(e,t),i!=null&&r.push(Hu(e,i,s))),e.tag===3)return r;e=e.return}return[]}function Sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zE(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,l!==null&&l===r)break;a!==5&&a!==26&&a!==27||c===null||(l=c,i?(c=Uu(n,s),c!=null&&o.unshift(Hu(n,c,l))):i||(c=Uu(n,s),c!=null&&o.push(Hu(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var TD=/\r\n?/g,kD=/\u0000|\uFFFD/g;function VE(e){return(typeof e=="string"?e:""+e).replace(TD,`
`).replace(kD,"")}function o4(e,t){return t=VE(t),VE(e)===t}function Pm(){}function Ve(e,t,n,r,i,s){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||_l(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&_l(e,""+r);break;case"className":Od(e,"class",r);break;case"tabIndex":Od(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Od(e,n,r);break;case"style":oT(e,r,s);break;case"data":if(t!=="object"){Od(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Bf(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Ve(e,t,"name",i.name,i,null),Ve(e,t,"formEncType",i.formEncType,i,null),Ve(e,t,"formMethod",i.formMethod,i,null),Ve(e,t,"formTarget",i.formTarget,i,null)):(Ve(e,t,"encType",i.encType,i,null),Ve(e,t,"method",i.method,i,null),Ve(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Bf(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Pm);break;case"onScroll":r!=null&&Ce("scroll",e);break;case"onScrollEnd":r!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(W(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(W(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Bf(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),If(e,"popover",r);break;case"xlinkActuate":ii(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ii(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ii(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ii(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ii(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ii(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ii(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ii(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ii(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":If(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=iO.get(n)||n,If(e,n,r))}}function Kb(e,t,n,r,i,s){switch(n){case"style":oT(e,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(W(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(W(60));e.innerHTML=n}}break;case"children":typeof r=="string"?_l(e,r):(typeof r=="number"||typeof r=="bigint")&&_l(e,""+r);break;case"onScroll":r!=null&&Ce("scroll",e);break;case"onScrollEnd":r!=null&&Ce("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Pm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[yn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):If(e,n,r)}}}function Vt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var o=n[s];if(o!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(W(137,t));default:Ve(e,t,s,o,n,null)}}i&&Ve(e,t,"srcSet",n.srcSet,n,null),r&&Ve(e,t,"src",n.src,n,null);return;case"input":Ce("invalid",e);var a=s=o=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(u!=null)switch(r){case"name":i=u;break;case"type":o=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":s=u;break;case"defaultValue":a=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(W(137,t));break;default:Ve(e,t,r,u,n,null)}}rT(e,s,a,l,c,o,i,!1),nh(e);return;case"select":Ce("invalid",e),r=o=s=null;for(i in n)if(n.hasOwnProperty(i)&&(a=n[i],a!=null))switch(i){case"value":s=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:Ve(e,t,i,a,n,null)}t=s,n=o,e.multiple=!!r,t!=null?ll(e,!!r,t,!1):n!=null&&ll(e,!!r,n,!0);return;case"textarea":Ce("invalid",e),s=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":r=a;break;case"defaultValue":i=a;break;case"children":s=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(W(91));break;default:Ve(e,t,o,a,n,null)}sT(e,r,i,s),nh(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ve(e,t,l,r,n,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(r=0;r<$u.length;r++)Ce($u[r],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(W(137,t));default:Ve(e,t,c,r,n,null)}return;default:if(jx(t)){for(u in n)n.hasOwnProperty(u)&&(r=n[u],r!==void 0&&Kb(e,t,u,r,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(r=n[a],r!=null&&Ve(e,t,a,r,n,null))}function ID(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,a=null,l=null,c=null,u=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(m)||Ve(e,t,m,null,r,d)}}for(var h in r){var m=r[h];if(d=n[h],r.hasOwnProperty(h)&&(m!=null||d!=null))switch(h){case"type":s=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":a=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(W(137,t));break;default:m!==d&&Ve(e,t,h,m,r,d)}}yb(e,o,a,l,c,u,s,i);return;case"select":m=o=a=h=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(s)||Ve(e,t,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":h=s;break;case"defaultValue":a=s;break;case"multiple":o=s;default:s!==l&&Ve(e,t,i,s,r,l)}t=a,n=o,r=m,h!=null?ll(e,!!n,h,!1):!!r!=!!n&&(t!=null?ll(e,!!n,t,!0):ll(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(a in n)if(i=n[a],n.hasOwnProperty(a)&&i!=null&&!r.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:Ve(e,t,a,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(i!=null||s!=null))switch(o){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(W(91));break;default:i!==s&&Ve(e,t,o,i,r,s)}iT(e,h,m);return;case"option":for(var x in n)if(h=n[x],n.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:Ve(e,t,x,null,r,h)}for(l in r)if(h=r[l],m=n[l],r.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ve(e,t,l,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&Ve(e,t,y,null,r,h);for(c in r)if(h=r[c],m=n[c],r.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(W(137,t));break;default:Ve(e,t,c,h,r,m)}return;default:if(jx(t)){for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!==void 0&&!r.hasOwnProperty(_)&&Kb(e,t,_,void 0,r,h);for(u in r)h=r[u],m=n[u],!r.hasOwnProperty(u)||h===m||h===void 0&&m===void 0||Kb(e,t,u,h,r,m);return}}for(var p in n)h=n[p],n.hasOwnProperty(p)&&h!=null&&!r.hasOwnProperty(p)&&Ve(e,t,p,null,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||h==null&&m==null||Ve(e,t,d,h,r,m)}var Yb=null,Wb=null;function Sh(e){return e.nodeType===9?e:e.ownerDocument}function $E(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a4(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ug=null;function BD(){var e=window.event;return e&&e.type==="popstate"?e===Ug?!1:(Ug=e,!0):(Ug=null,!1)}var l4=typeof setTimeout=="function"?setTimeout:void 0,ND=typeof clearTimeout=="function"?clearTimeout:void 0,HE=typeof Promise=="function"?Promise:void 0,jD=typeof queueMicrotask=="function"?queueMicrotask:typeof HE<"u"?function(e){return HE.resolve(null).then(e).catch(RD)}:l4;function RD(e){setTimeout(function(){throw e})}function Qs(e){return e==="head"}function GE(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(n&1&&yu(o.documentElement),n&2&&yu(o.body),n&4)for(n=o.head,yu(n),o=n.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[j0]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=a}}if(i===0){e.removeChild(s),Wu(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Wu(t)}function Xb(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Xb(n),Nx(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function OD(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[j0])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=gr(e.nextSibling),e===null)break}return null}function DD(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=gr(e.nextSibling),e===null))return null;return e}function Jb(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function MD(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Qb=null;function qE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function c4(e,t,n){switch(t=Sh(n),e){case"html":if(e=t.documentElement,!e)throw Error(W(452));return e;case"head":if(e=t.head,!e)throw Error(W(453));return e;case"body":if(e=t.body,!e)throw Error(W(454));return e;default:throw Error(W(451))}}function yu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Nx(e)}var Qn=new Map,KE=new Set;function _h(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=De.d;De.d={f:UD,r:LD,D:PD,C:FD,L:zD,m:VD,X:HD,S:$D,M:GD};function UD(){var e=Wi.f(),t=Mm();return e||t}function LD(e){var t=nc(e);t!==null&&t.tag===5&&t.type==="form"?nk(t):Wi.r(e)}var sc=typeof document>"u"?null:document;function u4(e,t,n){var r=sc;if(r&&typeof t=="string"&&t){var i=Gn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),KE.has(i)||(KE.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),Vt(t,"link",e),Ot(t),r.head.appendChild(t)))}}function PD(e){Wi.D(e),u4("dns-prefetch",e,null)}function FD(e,t){Wi.C(e,t),u4("preconnect",e,t)}function zD(e,t,n){Wi.L(e,t,n);var r=sc;if(r&&e&&t){var i='link[rel="preload"][as="'+Gn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Gn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Gn(n.imageSizes)+'"]')):i+='[href="'+Gn(e)+'"]';var s=i;switch(t){case"style":s=Nl(e);break;case"script":s=oc(e)}Qn.has(s)||(e=Xe({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Qn.set(s,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(V0(s))||t==="script"&&r.querySelector($0(s))||(t=r.createElement("link"),Vt(t,"link",e),Ot(t),r.head.appendChild(t)))}}function VD(e,t){Wi.m(e,t);var n=sc;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Gn(r)+'"][href="'+Gn(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=oc(e)}if(!Qn.has(s)&&(e=Xe({rel:"modulepreload",href:e},t),Qn.set(s,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($0(s)))return}r=n.createElement("link"),Vt(r,"link",e),Ot(r),n.head.appendChild(r)}}}function $D(e,t,n){Wi.S(e,t,n);var r=sc;if(r&&e){var i=al(r).hoistableStyles,s=Nl(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(V0(s)))a.loading=5;else{e=Xe({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Qn.get(s))&&mw(e,n);var l=o=r.createElement("link");Ot(l),Vt(l,"link",e),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Pf(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}}function HD(e,t){Wi.X(e,t);var n=sc;if(n&&e){var r=al(n).hoistableScripts,i=oc(e),s=r.get(i);s||(s=n.querySelector($0(i)),s||(e=Xe({src:e,async:!0},t),(t=Qn.get(i))&&pw(e,t),s=n.createElement("script"),Ot(s),Vt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function GD(e,t){Wi.M(e,t);var n=sc;if(n&&e){var r=al(n).hoistableScripts,i=oc(e),s=r.get(i);s||(s=n.querySelector($0(i)),s||(e=Xe({src:e,async:!0,type:"module"},t),(t=Qn.get(i))&&pw(e,t),s=n.createElement("script"),Ot(s),Vt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function YE(e,t,n,r){var i=(i=Is.current)?_h(i):null;if(!i)throw Error(W(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Nl(n.href),n=al(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Nl(n.href);var s=al(i).hoistableStyles,o=s.get(e);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,o),(s=i.querySelector(V0(e)))&&!s._p&&(o.instance=s,o.state.loading=5),Qn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qn.set(e,n),s||qD(i,e,n,o.state))),t&&r===null)throw Error(W(528,""));return o}if(t&&r!==null)throw Error(W(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=oc(n),n=al(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(W(444,e))}}function Nl(e){return'href="'+Gn(e)+'"'}function V0(e){return'link[rel="stylesheet"]['+e+"]"}function d4(e){return Xe({},e,{"data-precedence":e.precedence,precedence:null})}function qD(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Vt(t,"link",n),Ot(t),e.head.appendChild(t))}function oc(e){return'[src="'+Gn(e)+'"]'}function $0(e){return"script[async]"+e}function WE(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Gn(n.href)+'"]');if(r)return t.instance=r,Ot(r),r;var i=Xe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Ot(r),Vt(r,"style",i),Pf(r,n.precedence,e),t.instance=r;case"stylesheet":i=Nl(n.href);var s=e.querySelector(V0(i));if(s)return t.state.loading|=4,t.instance=s,Ot(s),s;r=d4(n),(i=Qn.get(i))&&mw(r,i),s=(e.ownerDocument||e).createElement("link"),Ot(s);var o=s;return o._p=new Promise(function(a,l){o.onload=a,o.onerror=l}),Vt(s,"link",r),t.state.loading|=4,Pf(s,n.precedence,e),t.instance=s;case"script":return s=oc(n.src),(i=e.querySelector($0(s)))?(t.instance=i,Ot(i),i):(r=n,(i=Qn.get(s))&&(r=Xe({},n),pw(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ot(i),Vt(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(W(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Pf(r,n.precedence,e));return t.instance}function Pf(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function mw(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function pw(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ff=null;function ZE(e,t,n){if(Ff===null){var r=new Map,i=Ff=new Map;i.set(n,r)}else i=Ff,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[j0]||s[qt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function XE(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function KD(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function f4(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Gu=null;function YD(){}function WD(e,t,n){if(Gu===null)throw Error(W(475));var r=Gu;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=Nl(n.href),s=e.querySelector(V0(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Eh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,Ot(s);return}s=e.ownerDocument||e,n=d4(n),(i=Qn.get(i))&&mw(n,i),s=s.createElement("link"),Ot(s);var o=s;o._p=new Promise(function(a,l){o.onload=a,o.onerror=l}),Vt(s,"link",n),t.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Eh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function ZD(){if(Gu===null)throw Error(W(475));var e=Gu;return e.stylesheets&&e.count===0&&ev(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&ev(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Eh(){if(this.count--,this.count===0){if(this.stylesheets)ev(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ch=null;function ev(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ch=new Map,t.forEach(XD,e),Ch=null,Eh.call(e))}function XD(e,t){if(!(t.state.loading&4)){var n=Ch.get(e);if(n)var r=n.get(null);else{n=new Map,Ch.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute("data-precedence"),s=n.get(o)||r,s===r&&n.set(null,i),n.set(o,i),this.count++,r=Eh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var qu={$$typeof:wi,Provider:null,Consumer:null,_currentValue:Ro,_currentValue2:Ro,_threadCount:0};function JD(e,t,n,r,i,s,o,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sg(0),this.hiddenUpdates=sg(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function h4(e,t,n,r,i,s,o,a,l,c,u,d){return e=new JD(e,t,n,o,a,l,c,d),t=1,s===!0&&(t|=24),s=An(3,null,null,t),e.current=s,s.stateNode=e,t=$x(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Gx(s),e}function m4(e){return e?(e=Xa,e):Xa}function p4(e,t,n,r,i,s){i=m4(i),r.context===null?r.context=i:r.pendingContext=i,r=Bs(t),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Ns(e,r,t),n!==null&&(Nn(n,e,t),cu(n,e,t))}function JE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gw(e,t){JE(e,t),(e=e.alternate)&&JE(e,t)}function g4(e){if(e.tag===13){var t=rc(e,67108864);t!==null&&Nn(t,e,67108864),gw(e,67108864)}}var Ah=!0;function QD(e,t,n,r){var i=me.T;me.T=null;var s=De.p;try{De.p=2,yw(e,t,n,r)}finally{De.p=s,me.T=i}}function eM(e,t,n,r){var i=me.T;me.T=null;var s=De.p;try{De.p=8,yw(e,t,n,r)}finally{De.p=s,me.T=i}}function yw(e,t,n,r){if(Ah){var i=tv(r);if(i===null)Mg(e,t,r,Th,n),QE(e,r);else if(nM(i,e,t,n,r))r.stopPropagation();else if(QE(e,r),t&4&&-1<tM.indexOf(e)){for(;i!==null;){var s=nc(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var o=vo(s.pendingLanes);if(o!==0){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-In(o);a.entanglements[1]|=l,o&=~l}Jr(s),!(Pe&6)&&(yh=Fr()+500,z0(0))}}break;case 13:a=rc(s,2),a!==null&&Nn(a,s,2),Mm(),gw(s,2)}if(s=tv(r),s===null&&Mg(e,t,r,Th,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mg(e,t,r,null,n)}}function tv(e){return e=Rx(e),bw(e)}var Th=null;function bw(e){if(Th=null,e=Ga(e),e!==null){var t=k0(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=z3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Th=e,null}function y4(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(FR()){case G3:return 2;case q3:return 8;case th:case zR:return 32;case K3:return 268435456;default:return 32}default:return 32}}var nv=!1,Os=null,Ds=null,Ms=null,Ku=new Map,Yu=new Map,vs=[],tM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QE(e,t){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Ku.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(t.pointerId)}}function Uc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=nc(t),t!==null&&g4(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function nM(e,t,n,r,i){switch(t){case"focusin":return Os=Uc(Os,e,t,n,r,i),!0;case"dragenter":return Ds=Uc(Ds,e,t,n,r,i),!0;case"mouseover":return Ms=Uc(Ms,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ku.set(s,Uc(Ku.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yu.set(s,Uc(Yu.get(s)||null,e,t,n,r,i)),!0}return!1}function b4(e){var t=Ga(e.target);if(t!==null){var n=k0(t);if(n!==null){if(t=n.tag,t===13){if(t=z3(n),t!==null){e.blockedOn=t,WR(e.priority,function(){if(n.tag===13){var r=Bn();r=Ix(r);var i=rc(n,r);i!==null&&Nn(i,n,r),gw(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tv(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vb=r,n.target.dispatchEvent(r),vb=null}else return t=nc(n),t!==null&&g4(t),e.blockedOn=n,!1;t.shift()}return!0}function eC(e,t,n){zf(e)&&n.delete(t)}function rM(){nv=!1,Os!==null&&zf(Os)&&(Os=null),Ds!==null&&zf(Ds)&&(Ds=null),Ms!==null&&zf(Ms)&&(Ms=null),Ku.forEach(eC),Yu.forEach(eC)}function Vd(e,t){e.blockedOn===t&&(e.blockedOn=null,nv||(nv=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,rM)))}var $d=null;function tC(e){$d!==e&&($d=e,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,function(){$d===e&&($d=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(bw(r||n)===null)continue;break}var s=nc(n);s!==null&&(e.splice(t,3),t-=3,Db(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Wu(e){function t(l){return Vd(l,e)}Os!==null&&Vd(Os,e),Ds!==null&&Vd(Ds,e),Ms!==null&&Vd(Ms,e),Ku.forEach(t),Yu.forEach(t);for(var n=0;n<vs.length;n++){var r=vs[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<vs.length&&(n=vs[0],n.blockedOn===null);)b4(n),n.blockedOn===null&&vs.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[yn]||null;if(typeof s=="function")o||tC(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[yn]||null)a=o.formAction;else if(bw(i)!==null)continue}else a=o.action;typeof a=="function"?n[r+1]=a:(n.splice(r,3),r-=3),tC(n)}}}function vw(e){this._internalRoot=e}Fm.prototype.render=vw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));var n=t.current,r=Bn();p4(n,r,e,t,null,null)};Fm.prototype.unmount=vw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;p4(e.current,2,null,e,null,null),Mm(),t[tc]=null}};function Fm(e){this._internalRoot=e}Fm.prototype.unstable_scheduleHydration=function(e){if(e){var t=J3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vs.length&&t!==0&&t<vs[n].priority;n++);vs.splice(n,0,e),n===0&&b4(e)}};var nC=P3.version;if(nC!=="19.1.0")throw Error(W(527,nC,"19.1.0"));De.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=RR(t),e=e!==null?V3(e):null,e=e===null?null:e.stateNode,e};var iM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:me,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{I0=Hd.inject(iM),kn=Hd}catch{}}Em.createRoot=function(e,t){if(!F3(e))throw Error(W(299));var n=!1,r="",i=hk,s=mk,o=pk,a=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(a=t.unstable_transitionCallbacks)),t=h4(e,1,!1,null,null,n,r,i,s,o,a,null),e[tc]=t.current,hw(e),new vw(t)};Em.hydrateRoot=function(e,t,n){if(!F3(e))throw Error(W(299));var r=!1,i="",s=hk,o=mk,a=pk,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=h4(e,1,!0,t,n??null,r,i,s,o,a,l,c),t.context=m4(null),n=t.current,r=Bn(),r=Ix(r),i=Bs(r),i.callback=null,Ns(n,i,r),n=r,t.current.lanes=n,N0(t,n),Jr(t),e[tc]=t.current,hw(e),new Fm(t)};Em.version="19.1.0";function v4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v4)}catch(e){console.error(e)}}v4(),R3.exports=Em;var sM=R3.exports;const oM=Sm(sM);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zu.apply(this,arguments)}var As;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(As||(As={}));const rC="popstate";function aM(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return rv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kh(i)}return cM(t,n,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function x4(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lM(){return Math.random().toString(36).substr(2,8)}function iC(e,t){return{usr:e.state,key:e.key,idx:t}}function rv(e,t,n,r){return n===void 0&&(n=null),Zu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ac(t):t,{state:n,key:t&&t.key||r||lM()})}function kh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ac(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function cM(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=As.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Zu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=As.Pop;let _=u(),p=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:p})}function h(_,p){a=As.Push;let b=rv(y.location,_,p);c=u()+1;let g=iC(b,c),E=y.createHref(b);try{o.pushState(g,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(E)}s&&l&&l({action:a,location:y.location,delta:1})}function m(_,p){a=As.Replace;let b=rv(y.location,_,p);c=u();let g=iC(b,c),E=y.createHref(b);o.replaceState(g,"",E),s&&l&&l({action:a,location:y.location,delta:0})}function x(_){let p=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof _=="string"?_:kh(_);return b=b.replace(/ $/,"%20"),St(p,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,p)}let y={get action(){return a},get location(){return e(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rC,d),l=_,()=>{i.removeEventListener(rC,d),l=null}},createHref(_){return t(i,_)},createURL:x,encodeLocation(_){let p=x(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(_){return o.go(_)}};return y}var sC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sC||(sC={}));function uM(e,t,n){return n===void 0&&(n="/"),dM(e,t,n)}function dM(e,t,n,r){let i=typeof t=="string"?ac(t):t,s=xw(i.pathname||"/",n);if(s==null)return null;let o=w4(e);fM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=EM(s);a=wM(o[l],c)}return a}function w4(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(St(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Us([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(St(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),w4(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:vM(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of S4(s.path))i(s,o,l)}),t}function S4(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=S4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function fM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hM=/^:[\w-]+$/,mM=3,pM=2,gM=1,yM=10,bM=-2,oC=e=>e==="*";function vM(e,t){let n=e.split("/"),r=n.length;return n.some(oC)&&(r+=bM),t&&(r+=pM),n.filter(i=>!oC(i)).reduce((i,s)=>i+(hM.test(s)?mM:s===""?gM:yM),r)}function xM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function wM(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=SM({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Us([s,d.pathname]),pathnameBase:kM(Us([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Us([s,d.pathnameBase]))}return o}function SM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_M(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[d];return m&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function _M(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),x4(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function EM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return x4(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function CM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ac(e):e;return{pathname:n?n.startsWith("/")?n:AM(n,t):t,search:IM(r),hash:BM(i)}}function AM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Lg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _4(e,t){let n=TM(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function E4(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ac(e):(i=Zu({},e),St(!i.pathname||!i.pathname.includes("?"),Lg("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Lg("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Lg("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=CM(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Us=e=>e.join("/").replace(/\/\/+/g,"/"),kM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const C4=["post","put","patch","delete"];new Set(C4);const jM=["get",...C4];new Set(jM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xu.apply(this,arguments)}const ww=S.createContext(null),RM=S.createContext(null),fa=S.createContext(null),zm=S.createContext(null),eo=S.createContext({outlet:null,matches:[],isDataRoute:!1}),A4=S.createContext(null);function OM(e,t){let{relative:n}=t===void 0?{}:t;H0()||St(!1);let{basename:r,navigator:i}=S.useContext(fa),{hash:s,pathname:o,search:a}=I4(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Us([r,o])),i.createHref({pathname:l,search:a,hash:s})}function H0(){return S.useContext(zm)!=null}function lc(){return H0()||St(!1),S.useContext(zm).location}function T4(e){S.useContext(fa).static||S.useLayoutEffect(e)}function vn(){let{isDataRoute:e}=S.useContext(eo);return e?KM():DM()}function DM(){H0()||St(!1);let e=S.useContext(ww),{basename:t,future:n,navigator:r}=S.useContext(fa),{matches:i}=S.useContext(eo),{pathname:s}=lc(),o=JSON.stringify(_4(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return T4(()=>{a.current=!0}),S.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=E4(c,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Us([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,o,s,e])}function k4(){let{matches:e}=S.useContext(eo),t=e[e.length-1];return t?t.params:{}}function I4(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(fa),{matches:i}=S.useContext(eo),{pathname:s}=lc(),o=JSON.stringify(_4(i,r.v7_relativeSplatPath));return S.useMemo(()=>E4(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function MM(e,t){return UM(e,t)}function UM(e,t,n,r){H0()||St(!1);let{navigator:i}=S.useContext(fa),{matches:s}=S.useContext(eo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=lc(),u;if(t){var d;let _=typeof t=="string"?ac(t):t;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||St(!1),u=_}else u=c;let h=u.pathname||"/",m=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=uM(e,{pathname:m}),y=VM(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Us([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Us([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return t&&y?S.createElement(zm.Provider,{value:{location:Xu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:As.Pop}},y):y}function LM(){let e=qM(),t=NM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,null)}const PM=S.createElement(LM,null);class FM extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(eo.Provider,{value:this.props.routeContext},S.createElement(A4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zM(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(ww);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(eo.Provider,{value:t},r)}function VM(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||St(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:m}=n,x=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let m,x=!1,y=null,_=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||PM,l&&(c<0&&h===0?(YM("route-fallback"),x=!0,_=null):c===h&&(x=!0,_=d.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),b=()=>{let g;return m?g=y:x?g=_:d.route.Component?g=S.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=u,S.createElement(zM,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(FM,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:b(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):b()},null)}var B4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(B4||{}),N4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(N4||{});function $M(e){let t=S.useContext(ww);return t||St(!1),t}function HM(e){let t=S.useContext(RM);return t||St(!1),t}function GM(e){let t=S.useContext(eo);return t||St(!1),t}function j4(e){let t=GM(),n=t.matches[t.matches.length-1];return n.route.id||St(!1),n.route.id}function qM(){var e;let t=S.useContext(A4),n=HM(),r=j4();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function KM(){let{router:e}=$M(B4.UseNavigateStable),t=j4(N4.UseNavigateStable),n=S.useRef(!1);return T4(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Xu({fromRouteId:t},s)))},[e,t])}const aC={};function YM(e,t,n){aC[e]||(aC[e]=!0)}function WM(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ar(e){St(!1)}function ZM(e){let{basename:t="/",children:n=null,location:r,navigationType:i=As.Pop,navigator:s,static:o=!1,future:a}=e;H0()&&St(!1);let l=t.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:o,future:Xu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ac(r));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:x="default"}=r,y=S.useMemo(()=>{let _=xw(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:m,key:x},navigationType:i}},[l,u,d,h,m,x,i]);return y==null?null:S.createElement(fa.Provider,{value:c},S.createElement(zm.Provider,{children:n,value:y}))}function XM(e){let{children:t,location:n}=e;return MM(iv(t),n)}new Promise(()=>{});function iv(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let s=[...t,i];if(r.type===S.Fragment){n.push.apply(n,iv(r.props.children,s));return}r.type!==ar&&St(!1),!r.props.index||!r.props.children||St(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=iv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sv.apply(this,arguments)}function JM(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function QM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eU(e,t){return e.button===0&&(!t||t==="_self")&&!QM(e)}function ov(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function tU(e,t){let n=ov(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const nU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rU="6";try{window.__reactRouterVersion=rU}catch{}const iU="startTransition",lC=Cx[iU];function sU(e){let{basename:t,children:n,future:r,window:i}=e,s=S.useRef();s.current==null&&(s.current=aM({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=S.useCallback(d=>{c&&lC?lC(()=>l(d)):l(d)},[l,c]);return S.useLayoutEffect(()=>o.listen(u),[o,u]),S.useEffect(()=>WM(r),[r]),S.createElement(ZM,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const oU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eo=S.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,h=JM(t,nU),{basename:m}=S.useContext(fa),x,y=!1;if(typeof c=="string"&&aU.test(c)&&(x=c,oU))try{let g=new URL(window.location.href),E=c.startsWith("//")?new URL(g.protocol+c):new URL(c),C=xw(E.pathname,m);E.origin===g.origin&&C!=null?c=C+E.search+E.hash:y=!0}catch{}let _=OM(c,{relative:i}),p=lU(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(g){r&&r(g),g.defaultPrevented||p(g)}return S.createElement("a",sv({},h,{href:x||_,onClick:y||s?r:b,ref:n,target:l}))});var cC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cC||(cC={}));var uC;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uC||(uC={}));function lU(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=t===void 0?{}:t,l=vn(),c=lc(),u=I4(e,{relative:o});return S.useCallback(d=>{if(eU(d,n)){d.preventDefault();let h=r!==void 0?r:kh(c)===kh(u);l(e,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,e,s,o,a])}function cU(e){let t=S.useRef(ov(e)),n=S.useRef(!1),r=lc(),i=S.useMemo(()=>tU(r.search,n.current?null:t.current),[r.search]),s=vn(),o=S.useCallback((a,l)=>{const c=ov(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}const uU="modulepreload",dU=function(e){return"/"+e},dC={},Yt=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=dU(l),l in dC)return;dC[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":uU,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},fU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Yt(async()=>{const{default:r}=await Promise.resolve().then(()=>cc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Sw extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class hU extends Sw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mU extends Sw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pU extends Sw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var av;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(av||(av={}));var gU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class yU{constructor(t,{headers:n={},customFetch:r,region:i=av.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=fU(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return gU(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(x=>{throw new hU(x)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new mU(u);if(!u.ok)throw new pU(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield u.json():h==="application/octet-stream"?m=yield u.blob():h==="text/event-stream"?m=u:h==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(i){return{data:null,error:i}}})}}var hn={},_w={},Vm={},G0={},$m={},Hm={},bU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},jl=bU();const vU=jl.fetch,R4=jl.fetch.bind(jl),O4=jl.Headers,xU=jl.Request,wU=jl.Response,cc=Object.freeze(Object.defineProperty({__proto__:null,Headers:O4,Request:xU,Response:wU,default:R4,fetch:vU},Symbol.toStringTag,{value:"Module"})),SU=cR(cc);var Gm={};Object.defineProperty(Gm,"__esModule",{value:!0});let _U=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Gm.default=_U;var D4=Xn&&Xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hm,"__esModule",{value:!0});const EU=D4(SU),CU=D4(Gm);let AU=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=EU.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,d=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&_&&_.length>1&&(d=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await s.text();try{c=JSON.parse(y),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,m="OK")}catch{s.status===404&&y===""?(h=204,m="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&this.shouldThrowOnError)throw new CU.default(c)}return{error:c,data:u,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Hm.default=AU;var TU=Xn&&Xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($m,"__esModule",{value:!0});const kU=TU(Hm);let IU=class extends kU.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$m.default=IU;var BU=Xn&&Xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(G0,"__esModule",{value:!0});const NU=BU($m);let jU=class extends NU.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};G0.default=jU;var RU=Xn&&Xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vm,"__esModule",{value:!0});const Lc=RU(G0);let OU=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Lc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Lc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Lc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Lc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Lc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Vm.default=OU;var qm={},Km={};Object.defineProperty(Km,"__esModule",{value:!0});Km.version=void 0;Km.version="0.0.0-automated";Object.defineProperty(qm,"__esModule",{value:!0});qm.DEFAULT_HEADERS=void 0;const DU=Km;qm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${DU.version}`};var M4=Xn&&Xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_w,"__esModule",{value:!0});const MU=M4(Vm),UU=M4(G0),LU=qm;let PU=class U4{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},LU.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new MU.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new U4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new UU.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};_w.default=PU;var uc=Xn&&Xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hn,"__esModule",{value:!0});hn.PostgrestError=hn.PostgrestBuilder=hn.PostgrestTransformBuilder=hn.PostgrestFilterBuilder=hn.PostgrestQueryBuilder=hn.PostgrestClient=void 0;const L4=uc(_w);hn.PostgrestClient=L4.default;const P4=uc(Vm);hn.PostgrestQueryBuilder=P4.default;const F4=uc(G0);hn.PostgrestFilterBuilder=F4.default;const z4=uc($m);hn.PostgrestTransformBuilder=z4.default;const V4=uc(Hm);hn.PostgrestBuilder=V4.default;const $4=uc(Gm);hn.PostgrestError=$4.default;var FU=hn.default={PostgrestClient:L4.default,PostgrestQueryBuilder:P4.default,PostgrestFilterBuilder:F4.default,PostgrestTransformBuilder:z4.default,PostgrestBuilder:V4.default,PostgrestError:$4.default};const{PostgrestClient:zU,PostgrestQueryBuilder:Zte,PostgrestFilterBuilder:Xte,PostgrestTransformBuilder:Jte,PostgrestBuilder:Qte,PostgrestError:ene}=FU;let lv;typeof window>"u"?lv=require("ws"):lv=window.WebSocket;const VU="2.11.10",$U={"X-Client-Info":`realtime-js/${VU}`},HU="1.0.0",H4=1e4,GU=1e3;var pl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pl||(pl={}));var Qt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qt||(Qt={}));var pr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pr||(pr={}));var cv;(function(e){e.websocket="websocket"})(cv||(cv={}));var Co;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Co||(Co={}));class qU{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class G4{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ye||(Ye={}));const fC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=KU(o,e,t,i),s),{})},KU=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?q4(s,o):uv(o)},q4=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return XU(t,n)}switch(e){case Ye.bool:return YU(t);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return WU(t);case Ye.json:case Ye.jsonb:return ZU(t);case Ye.timestamp:return JU(t);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return uv(t);default:return uv(t)}},uv=e=>e,YU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},WU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},XU=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>q4(t,a))}return e},JU=e=>typeof e=="string"?e.replace(" ","T"):e,K4=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Pg{constructor(t,n,r={},i=H4){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hC;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hC||(hC={}));class bu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bu.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=bu.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=bu.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(_=>_.presence_ref),m=d.map(_=>_.presence_ref),x=u.filter(_=>m.indexOf(_.presence_ref)<0),y=d.filter(_=>h.indexOf(_.presence_ref)<0);x.length>0&&(a[c]=x),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(m=>m.presence_ref),h=u.filter(m=>d.indexOf(m.presence_ref)<0);t[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mC;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mC||(mC={}));var pC;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pC||(pC={}));var gi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gi||(gi={}));class Ew{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Pg(this,pr.join,this.params,this.timeout),this.rejoinTimer=new G4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new bu(this),this.broadcastEndpointURL=K4(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(gi.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(gi.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(gi.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,x=[];for(let y=0;y<m;y++){const _=h[y],{filter:{event:p,schema:b,table:g,filter:E}}=_,C=u&&u[y];if(C&&C.event===p&&C.schema===b&&C.table===g&&C.filter===E)x.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=Qt.errored,t==null||t(gi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(gi.SUBSCRIBED);return}}).receive("error",u=>{this.state=Qt.errored,t==null||t(gi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const i=new Pg(this,pr.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Pg(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=pr;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var x,y,_;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(y=m.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var x,y,_,p,b,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const E=m.id,C=(x=m.filter)===null||x===void 0?void 0:x.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const E=(b=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:y,table:_,commit_timestamp:p,type:b,errors:g}=x;h=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:p,eventType:b,new:{},old:{},errors:g}),this._getPayloadRecords(x))}m.callback(h,r)})}_isClosed(){return this.state===Qt.closed}_isJoined(){return this.state===Qt.joined}_isJoining(){return this.state===Qt.joining}_isLeaving(){return this.state===Qt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Ew.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pr.close,{},t)}_onError(t){this._on(pr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=fC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=fC(t.columns,t.old_record)),n}}const gC=()=>{},QU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eL{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=$U,this.params={},this.timeout=H4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gC,this.ref=0,this.logger=gC,this.conn=null,this.sendBuffer=[],this.serializer=new qU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Yt(async()=>{const{default:l}=await Promise.resolve().then(()=>cc);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${cv.websocket}`,this.httpEndpoint=K4(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new G4(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=lv),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new tL(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HU}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case pl.connecting:return Co.Connecting;case pl.open:return Co.Open;case pl.closing:return Co.Closing;default:return Co.Closed}}isConnected(){return this.connectionState()===Co.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Ew(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(pr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(GU,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([QU],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class tL{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=pl.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Cw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class nL extends Cw{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class dv extends Cw{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var rL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Y4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Yt(async()=>{const{default:r}=await Promise.resolve().then(()=>cc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},iL=()=>rL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yt(()=>Promise.resolve().then(()=>cc),void 0)).Response:Response}),fv=e=>{if(Array.isArray(e))return e.map(n=>fv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=fv(r)}),t};var ha=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Fg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sL=(e,t,n)=>ha(void 0,void 0,void 0,function*(){const r=yield iL();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new nL(Fg(i),e.status||500))}).catch(i=>{t(new dv(Fg(i),i))}):t(new dv(Fg(e),e))}),oL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function q0(e,t,n,r,i,s){return ha(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,oL(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>sL(l,a,r))})})}function Ih(e,t,n,r){return ha(this,void 0,void 0,function*(){return q0(e,"GET",t,n,r)})}function ps(e,t,n,r,i){return ha(this,void 0,void 0,function*(){return q0(e,"POST",t,r,i,n)})}function aL(e,t,n,r,i){return ha(this,void 0,void 0,function*(){return q0(e,"PUT",t,r,i,n)})}function lL(e,t,n,r){return ha(this,void 0,void 0,function*(){return q0(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function W4(e,t,n,r,i){return ha(this,void 0,void 0,function*(){return q0(e,"DELETE",t,r,i,n)})}var ln=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const cL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uL{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Y4(i)}uploadOrUpdate(t,n,r,i){return ln(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},yC),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ln(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:yC.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Nt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return ln(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ps(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Cw("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}update(t,n,r){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ln(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ln(this,void 0,void 0,function*(){try{return{data:{path:(yield ps(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ln(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ps(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ln(this,void 0,void 0,function*(){try{const i=yield ps(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}download(t,n){return ln(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ih(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Nt(a))return{data:null,error:a};throw a}})}info(t){return ln(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ih(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:fv(r),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}exists(t){return ln(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield lL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Nt(r)&&r instanceof dv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return ln(this,void 0,void 0,function*(){try{return{data:yield W4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}list(t,n,r){return ln(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},cL),n),{prefix:t||""});return{data:yield ps(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const dL="2.7.1",fL={"X-Client-Info":`storage-js/${dL}`};var _a=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,[])).next())})};class hL{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},fL),n),this.fetch=Y4(r)}listBuckets(){return _a(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Nt(t))return{data:null,error:t};throw t}})}getBucket(t){return _a(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return _a(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return _a(this,void 0,void 0,function*(){try{return{data:yield aL(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return _a(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _a(this,void 0,void 0,function*(){try{return{data:yield W4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}}class mL extends hL{constructor(t,n={},r){super(t,n,r)}from(t){return new uL(this.url,this.headers,t,this.fetch)}}const pL="2.50.0";let Zc="";typeof Deno<"u"?Zc="deno":typeof document<"u"?Zc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zc="react-native":Zc="node";const gL={"X-Client-Info":`supabase-js-${Zc}/${pL}`},yL={headers:gL},bL={schema:"public"},vL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xL={};var wL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const SL=e=>{let t;return e?t=e:typeof fetch>"u"?t=R4:t=fetch,(...n)=>t(...n)},_L=()=>typeof Headers>"u"?O4:Headers,EL=(e,t,n)=>{const r=SL(n),i=_L();return(s,o)=>wL(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var CL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,[])).next())})};function AL(e){return e.endsWith("/")?e:e+"/"}function TL(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>CL(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Z4="2.70.0",Va=30*1e3,hv=3,zg=hv*Va,kL="http://localhost:9999",IL="supabase.auth.token",BL={"X-Client-Info":`gotrue-js/${Z4}`},mv="X-Supabase-Api-Version",X4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jL=6e5;class Aw extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class RL extends Aw{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function OL(e){return ye(e)&&e.name==="AuthApiError"}class J4 extends Aw{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class to extends Aw{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class us extends to{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DL(e){return ye(e)&&e.name==="AuthSessionMissingError"}class Gd extends to{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qd extends to{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kd extends to{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ML(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class bC extends to{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pv extends to{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Vg(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class vC extends to{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class vu extends to{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xC=` 	
\r=`.split(""),UL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xC.length;t+=1)e[xC[t].charCodeAt(0)]=-2;for(let t=0;t<Bh.length;t+=1)e[Bh[t].charCodeAt(0)]=t;return e})();function wC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bh[r]),t.queuedBits-=6}}function Q4(e,t,n){const r=UL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function SC(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{FL(o,r,n)};for(let o=0;o<e.length;o+=1)Q4(e.charCodeAt(o),i,s);return t.join("")}function LL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function PL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}LL(r,t)}}function FL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function zL(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Q4(e.charCodeAt(i),n,r);return new Uint8Array(t)}function VL(e){const t=[];return PL(e,n=>t.push(n)),new Uint8Array(t)}function $L(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>wC(i,n,r)),wC(null,n,r),t.join("")}function HL(e){return Math.round(Date.now()/1e3)+e}function GL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const lr=()=>typeof window<"u"&&typeof document<"u",lo={tested:!1,writable:!1},xu=()=>{if(!lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lo.tested)return lo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lo.tested=!0,lo.writable=!0}catch{lo.tested=!0,lo.writable=!1}return lo.writable};function qL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const eI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Yt(async()=>{const{default:r}=await Promise.resolve().then(()=>cc);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},KL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",tI=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Yd=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wd=async(e,t)=>{await e.removeItem(t)};class Ym{constructor(){this.promise=new Ym.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ym.promiseConstructor=Promise;function $g(e){const t=e.split(".");if(t.length!==3)throw new vu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!NL.test(t[r]))throw new vu("JWT not in base64url format");return{header:JSON.parse(SC(t[0])),payload:JSON.parse(SC(t[1])),signature:zL(t[2]),raw:{header:t[0],payload:t[1]}}}async function YL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WL(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function ZL(e){return("0"+e.toString(16)).substr(-2)}function XL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,ZL).join("")}async function JL(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function QL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await JL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ea(e,t,n=!1){const r=XL();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await tI(e,`${t}-code-verifier`,i);const s=await QL(r);return[s,r===s?"plain":"s256"]}const e7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function t7(e){const t=e.headers.get(mv);if(!t||!t.match(e7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function n7(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function r7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ca(e){if(!i7.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var s7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const So=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),o7=[502,503,504];async function _C(e){var t;if(!KL(e))throw new pv(So(e),0);if(o7.includes(e.status))throw new pv(So(e),e.status);let n;try{n=await e.json()}catch(s){throw new J4(So(s),s)}let r;const i=t7(e);if(i&&i.getTime()>=X4["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new vC(So(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new us}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new vC(So(n),e.status,n.weak_password.reasons);throw new RL(So(n),e.status||500,r)}const a7=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ee(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[mv]||(s[mv]=X4["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await l7(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function l7(e,t,n,r,i,s){const o=a7(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new pv(So(l),0)}if(a.ok||await _C(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await _C(l)}}function hi(e){var t;let n=null;f7(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=HL(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function EC(e){const t=hi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function c7(e){return{data:e,error:null}}function u7(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=s7(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function d7(e){return e}function f7(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hg=["global","local","others"];var h7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class m7{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=eI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Hg[0]){if(Hg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hg.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xs})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=h7(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:u7,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ye(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xs})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:d7});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);c[`${_}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ye(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ca(t);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xs})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ca(t);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xs})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ca(t);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xs})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ca(t.userId);try{const{data:n,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ca(t.userId),Ca(t.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}}const p7={getItem:e=>xu()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{xu()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{xu()&&globalThis.localStorage.removeItem(e)}};function CC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function g7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Aa={debug:!!(globalThis&&xu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class y7 extends nI{}async function b7(e,t,n){Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new y7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Aa.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}g7();const v7={url:kL,storageKey:IL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function AC(e,t,n){return await n()}class Ju{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ju.nextInstanceID,Ju.nextInstanceID+=1,this.instanceID>0&&lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},v7),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new m7({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=eI(i.fetch),this.lock=i.lock||AC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:lr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=b7:this.lock=AC,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:xu()?this.storage=p7:(this.memoryStorage={},this.storage=CC(this.memoryStorage)):(this.memoryStorage={},this.storage=CC(this.memoryStorage)),lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Z4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=qL(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),lr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ML(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ye(n)?{error:n}:{error:new J4("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:hi}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:u,password:d,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Ea(this.storage,this.storageKey)),s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:hi})}else if("phone"in t){const{phone:u,password:d,options:h}=t;s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:hi})}else throw new qd("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:EC})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:EC})}else throw new qd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Gd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,a,l,c,u,d,h,m;let x,y;if("message"in t)x=t.message,y=t.signature;else{const{chain:_,wallet:p,statement:b,options:g}=t;let E;if(lr())if(typeof p=="object")E=p;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))E=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=p}const C=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const N=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),b?{statement:b}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=g==null?void 0:g.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(u=g==null?void 0:g.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await E.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:_,error:p}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:$L(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:hi});if(p)throw p;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Gd}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:p})}catch(_){if(ye(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await Yd(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:hi});if(await Wd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Gd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(ye(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:hi}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Gd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ea(this.storage,this.storageKey));const{error:d}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new qd("You must provide either an email or phone number.")}catch(a){if(ye(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:hi});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ea(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:c7})}catch(s){if(ye(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new us;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new qd("You must provide either an email or phone number and a type")}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Yd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<zg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xs}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new us}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:xs})})}catch(n){if(ye(n))return DL(n)&&(await this._removeSession(),await Wd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new us;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ea(this.storage,this.storageKey));const{data:c,error:u}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:xs});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new us;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=$g(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ye(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new us;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!lr())throw new Kd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bC("No code detected.");const{data:b,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new Kd("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const m=h-u;m*1e3<=Va&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const x=h-d;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,u);const{data:y,error:_}=await this._getUser(s);if(_)throw _;const p={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(ye(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Yd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(OL(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Wd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=GL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ea(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ye(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return lr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ye(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await WL(async i=>(i>0&&await YL(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hi})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Vg(s)&&Date.now()+o-r<Va})}catch(r){if(this._debug(n,"error",r),ye(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),lr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Yd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<zg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${zg}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),Vg(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new us;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ym;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new us;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ye(s)){const o={session:null,error:s};return Vg(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tI(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Wd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Va);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Va);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Va}ms, refresh threshold is ${hv} ticks`),i<=hv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ea(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$g(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+jL>Date.now()))return r;const{data:i,error:s}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new vu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===t),!r)throw new vu("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};r=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=$g(r);if(n7(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const c=r7(i.alg),u=await this.fetchJwk(i.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,VL(`${a}.${l}`)))throw new vu("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}Ju.nextInstanceID=0;const x7=Ju;class w7 extends x7{constructor(t){super(t)}}var S7=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,[])).next())})};class _7{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=AL(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:bL,realtime:xL,auth:Object.assign(Object.assign({},vL),{storageKey:c}),global:yL},d=TL(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=EL(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new zU(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new yU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mL(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return S7(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w7({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new eL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const E7=(e,t,n)=>new _7(e,t,n),C7="0.6.1";var Tw={};Object.defineProperty(Tw,"__esModule",{value:!0});var A7=Tw.parse=O7,T7=Tw.serialize=D7;const k7=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,I7=/^[\u0021-\u003A\u003C-\u007E]*$/,B7=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,N7=/^[\u0020-\u003A\u003D-\u007E]*$/,j7=Object.prototype.toString,R7=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function O7(e,t){const n=new R7,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||M7;let s=0;do{const o=e.indexOf("=",s);if(o===-1)break;const a=e.indexOf(";",s),l=a===-1?r:a;if(o>l){s=e.lastIndexOf(";",o-1)+1;continue}const c=TC(e,s,o),u=kC(e,o,c),d=e.slice(c,u);if(n[d]===void 0){let h=TC(e,o+1,l),m=kC(e,l,h);const x=i(e.slice(h,m));n[d]=x}s=l+1}while(s<r);return n}function TC(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function kC(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function D7(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!k7.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!I7.test(i))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!B7.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!N7.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!U7(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function M7(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function U7(e){return j7.call(e)==="[object Date]"}function wu(){return typeof window<"u"&&typeof window.document<"u"}const Zd={path:"/",sameSite:"lax",httpOnly:!1,maxAge:400*24*60*60},L7=3180,P7=/^(.*)[.](0|[1-9][0-9]*)$/;function IC(e,t){if(e===t)return!0;const n=e.match(P7);return!!(n&&n[1]===t)}function F7(e,t,n){const r=L7;let i=encodeURIComponent(t);if(i.length<=r)return[{name:e,value:t}];const s=[];for(;i.length>0;){let o=i.slice(0,r);const a=o.lastIndexOf("%");a>r-3&&(o=o.slice(0,a));let l="";for(;o.length>0;)try{l=decodeURIComponent(o);break}catch(c){if(c instanceof URIError&&o.at(-3)==="%"&&o.length>3)o=o.slice(0,o.length-3);else throw c}s.push(l),i=i.slice(o.length)}return s.map((o,a)=>({name:`${e}.${a}`,value:o}))}async function z7(e,t){const n=await t(e);if(n)return n;let r=[];for(let i=0;;i++){const s=`${e}.${i}`,o=await t(s);if(!o)break;r.push(o)}return r.length>0?r.join(""):null}const Nh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),BC=` 	
\r=`.split(""),V7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<BC.length;t+=1)e[BC[t].charCodeAt(0)]=-2;for(let t=0;t<Nh.length;t+=1)e[Nh[t].charCodeAt(0)]=t;return e})();function $7(e){const t=[];let n=0,r=0;if(q7(e,s=>{for(n=n<<8|s,r+=8;r>=6;){const o=n>>r-6&63;t.push(Nh[o]),r-=6}}),r>0)for(n=n<<6-r,r=6;r>=6;){const s=n>>r-6&63;t.push(Nh[s]),r-=6}return t.join("")}function H7(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0};let i=0,s=0;for(let o=0;o<e.length;o+=1){const a=e.charCodeAt(o),l=V7[a];if(l>-1)for(i=i<<6|l,s+=6;s>=8;)K7(i>>s-8&255,r,n),s-=8;else{if(l===-2)continue;throw new Error(`Invalid Base64-URL character "${e.at(o)}" at position ${o}`)}}return t.join("")}function G7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function q7(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}G7(r,t)}}function K7(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}const Gg="base64-";function Y7(e,t){const n=e.cookies??null,r={},i={};let s,o;if(n)if("get"in n){const a=async l=>{const c=l.flatMap(d=>[d,...Array.from({length:5}).map((h,m)=>`${d}.${m}`)]),u=[];for(let d=0;d<c.length;d+=1){const h=await n.get(c[d]);!h&&typeof h!="string"||u.push({name:c[d],value:h})}return u};if(s=async l=>await a(l),"set"in n&&"remove"in n)o=async l=>{for(let c=0;c<l.length;c+=1){const{name:u,value:d,options:h}=l[c];d?await n.set(u,d,h):await n.remove(u,h)}};else throw new Error("@supabase/ssr: createBrowserClient requires configuring a getAll and setAll cookie method (deprecated: alternatively both get, set and remove can be used)")}else if("getAll"in n)if(s=async()=>await n.getAll(),"setAll"in n)o=n.setAll;else throw new Error("@supabase/ssr: createBrowserClient requires configuring both getAll and setAll cookie methods (deprecated: alternatively both get, set and remove can be used)");else throw new Error(`@supabase/ssr: createBrowserClient requires configuring getAll and setAll cookie methods (deprecated: alternatively use get, set and remove).${wu()?" As this is called in a browser runtime, consider removing the cookies option object to use the document.cookie API automatically.":""}`);else if(wu()){const a=()=>{const l=A7(document.cookie);return Object.keys(l).map(c=>({name:c,value:l[c]??""}))};s=()=>a(),o=l=>{l.forEach(({name:c,value:u,options:d})=>{document.cookie=T7(c,u,d)})}}else s=()=>[],o=()=>{throw new Error("@supabase/ssr: createBrowserClient in non-browser runtimes (including Next.js pre-rendering mode) was not initialized cookie options that specify getAll and setAll functions (deprecated: alternatively use get, set and remove), but they were needed")};return{getAll:s,setAll:o,setItems:r,removedItems:i,storage:{isServer:!1,getItem:async a=>{const l=await s([a]),c=await z7(a,async d=>{const h=(l==null?void 0:l.find(({name:m})=>m===d))||null;return h?h.value:null});if(!c)return null;let u=c;return c.startsWith(Gg)&&(u=H7(c.substring(Gg.length))),u},setItem:async(a,l)=>{const c=await s([a]),u=(c==null?void 0:c.map(({name:p})=>p))||[],d=new Set(u.filter(p=>IC(p,a)));let h=l;h=Gg+$7(l);const m=F7(a,h);m.forEach(({name:p})=>{d.delete(p)});const x={...Zd,...e==null?void 0:e.cookieOptions,maxAge:0},y={...Zd,...e==null?void 0:e.cookieOptions,maxAge:Zd.maxAge};delete x.name,delete y.name;const _=[...[...d].map(p=>({name:p,value:"",options:x})),...m.map(({name:p,value:b})=>({name:p,value:b,options:y}))];_.length>0&&await o(_)},removeItem:async a=>{const l=await s([a]),u=((l==null?void 0:l.map(({name:h})=>h))||[]).filter(h=>IC(h,a)),d={...Zd,...e==null?void 0:e.cookieOptions,maxAge:0};delete d.name,u.length>0&&await o(u.map(h=>({name:h,value:"",options:d})))}}}}let qg;function W7(e,t,n){var o;const r=wu();if(r&&qg)return qg;if(!e||!t)throw new Error(`@supabase/ssr: Your project's URL and API key are required to create a Supabase client!

Check your Supabase project's API settings to find these values

https://supabase.com/dashboard/project/_/settings/api`);const{storage:i}=Y7({...n}),s=E7(e,t,{...n,global:{...n==null?void 0:n.global,headers:{...(o=n==null?void 0:n.global)==null?void 0:o.headers,"X-Client-Info":`supabase-ssr/${C7} createBrowserClient`}},auth:{...n==null?void 0:n.auth,flowType:"pkce",autoRefreshToken:wu(),detectSessionInUrl:wu(),persistSession:!0,storage:i}});return r&&(qg=s),s}var NC={};function tr(){return W7(NC.NEXT_PUBLIC_SUPABASE_URL,NC.NEXT_PUBLIC_SUPABASE_ANON_KEY)}class Z7{constructor(){this.scrollY=0,this.targetScrollY=0,this.currentScrollY=0,this.ticking=!1,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.lerpFactor=.12,this.heroTextShown=!1,this.elements={handImage:null,handGlow:null,heroText:null},this.init()}init(){this.cacheElements(),this.setupEventListeners(),this.initializeHandPosition(),this.startParallaxLoop()}cacheElements(){this.elements={handImage:document.querySelector(".hand-image"),handGlow:document.querySelector(".hand-glow"),heroText:document.querySelector(".hero-text-container")}}setupEventListeners(){window.addEventListener("scroll",this.handleScroll.bind(this),{passive:!0}),window.addEventListener("resize",this.handleResize.bind(this))}handleScroll(){this.targetScrollY=window.pageYOffset||document.documentElement.scrollTop,this.ticking||this.requestTick()}handleResize(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth}requestTick(){this.ticking||(requestAnimationFrame(this.updateParallax.bind(this)),this.ticking=!0)}startParallaxLoop(){const t=()=>{this.updateParallax(),requestAnimationFrame(t)};requestAnimationFrame(t)}updateParallax(){this.currentScrollY=this.lerp(this.currentScrollY,this.targetScrollY,this.lerpFactor);const t=this.currentScrollY/this.windowHeight*.5,n=Math.min(t*1.2,1);this.updateDivineHand(n),this.updateHeroText(n),this.ticking=!1}updateDivineHand(t){if(!this.elements.handImage)return;const n=-this.windowWidth*.3,r=-this.windowHeight*.8,i=this.windowWidth*.15,s=this.windowHeight*.35,o=this.lerp(n,i,t),a=this.lerp(r,s,t),l=.6+t*.3;if(this.elements.handImage.style.transform=`translate(${o}px, ${a}px) scale(${l})`,this.elements.handGlow){const c=.2+t*.25;this.elements.handGlow.style.opacity=c.toString(),this.elements.handGlow.style.transform=`translate(${o-50}px, ${a-50}px) scale(${l*1.1})`}}updateHeroText(t){if(!this.elements.heroText)return;this.elements.heroText.classList.add("show-title"),this.currentScrollY<=10?this.elements.heroText.classList.add("show-scroll-indicator"):this.elements.heroText.classList.remove("show-scroll-indicator"),t>=.6?this.elements.heroText.classList.add("show-phrase"):this.elements.heroText.classList.remove("show-phrase");const n=this.elements.heroText.querySelector(".hero-title"),r=this.elements.heroText.querySelector(".hero-subtitle");if(n){const i=t>=.6?Math.min((t-.6)*100,40):0;n.style.transform=`translateY(-${i}px)`}if(r&&t>=.6){const i=Math.min((t-.6)*2.5,1),s=Math.max(30-(t-.6)*75,0);r.style.opacity=i.toString(),r.style.transform=`translateY(${s}px)`}}initializeHandPosition(){if(this.elements.handImage){const t=-this.windowWidth*.3,n=-this.windowHeight*.8,r=.6;this.elements.handImage.style.transform=`translate(${t}px, ${n}px) scale(${r})`,this.elements.handImage.style.opacity="1"}if(this.elements.handGlow){const t=-this.windowWidth*.3,n=-this.windowHeight*.8;this.elements.handGlow.style.transform=`translate(${t-50}px, ${n-50}px) scale(${.6*1.1})`,this.elements.handGlow.style.opacity="0.2"}}lerp(t,n,r){return t+(n-t)*r}}const kw=()=>{const[e,t]=S.useState(null),[n,r]=S.useState(!0),[i,s]=S.useState(!1),o=S.useRef(null),a=vn(),l=tr();S.useEffect(()=>{(()=>{if(document.getElementById("divine-header-styles"))return;const x=document.createElement("link");x.rel="stylesheet",x.href="/styles/divine-parallax.css",x.id="divine-header-styles",document.head.appendChild(x)})()},[]),S.useEffect(()=>{(async()=>{const{data:{user:y}}=await l.auth.getUser();t(y),r(!1)})();const{data:{subscription:x}}=l.auth.onAuthStateChange((y,_)=>{t((_==null?void 0:_.user)??null)});return()=>x.unsubscribe()},[l.auth]),S.useEffect(()=>{const m=x=>{o.current&&!o.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const c=async()=>{await l.auth.signOut(),s(!1),a("/")},u=()=>{s(!1),a("/events")},d=()=>{a("/login")},h=()=>{a("/")};return f.jsx("header",{className:"divine-header",children:f.jsx("div",{className:"header-container",children:f.jsxs("div",{className:"header-pill",children:[f.jsx("div",{className:"logo-section",children:f.jsx("h1",{className:"divine-logo",onClick:h,style:{cursor:"pointer"},children:"God's Hand"})}),f.jsx("div",{className:"account-section",children:n?f.jsx("div",{className:"loading-spinner"}):e?f.jsxs("div",{className:"account-dropdown",ref:o,children:[f.jsxs("button",{className:"account-button",onClick:()=>s(!i),children:[f.jsxs("svg",{className:"user-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),f.jsx("svg",{className:`dropdown-arrow ${i?"open":""}`,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:f.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&f.jsxs("div",{className:"dropdown-menu",children:[f.jsxs("button",{className:"dropdown-item",onClick:u,children:[f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"Events"]}),f.jsxs("button",{className:"dropdown-item logout",onClick:c,children:[f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("polyline",{points:"16,17 21,12 16,7"}),f.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign Out"]})]})]}):f.jsx("button",{className:"login-button",onClick:d,children:"Sign In"})})]})})})};function X7(){const e=vn(),[t,n]=S.useState(null),[r,i]=S.useState(!0),s=tr();S.useEffect(()=>{(async()=>{const{data:{user:c}}=await s.auth.getUser();n(c),i(!1)})();const{data:{subscription:l}}=s.auth.onAuthStateChange((c,u)=>{n((u==null?void 0:u.user)??null),console.log("user",t)});return()=>l.unsubscribe()},[s.auth,t]),S.useEffect(()=>{const a=document.createElement("link");return a.rel="stylesheet",a.href="/styles/divine-parallax.css",a.id="divine-parallax-styles",document.head.appendChild(a),new Z7,()=>{const l=document.getElementById("divine-parallax-styles");l&&document.head.removeChild(l)}},[]);const o=()=>{e("/events")};return f.jsxs(f.Fragment,{children:[f.jsx(kw,{}),f.jsxs("main",{id:"divine-parallax",className:"parallax-container",children:[f.jsx("div",{className:"parallax-layer",id:"bg-gradient"}),f.jsx("div",{className:"parallax-layer clouds-layer",id:"clouds-far",children:f.jsx("img",{src:"/assets/clouds.PNG",alt:"Divine Clouds",className:"clouds-image"})}),f.jsxs("div",{className:"parallax-layer",id:"divine-hand",children:[f.jsx("img",{src:"/assets/hand.PNG",alt:"Divine Hand",className:"hand-image"}),f.jsx("div",{className:"hand-glow"})]}),f.jsx("div",{className:"parallax-layer hero-text-container",children:f.jsxs("div",{className:"hero-content",children:[f.jsx("h1",{className:"hero-title",children:"God's Hand"}),f.jsxs("div",{className:"scroll-indicator",children:[f.jsx("p",{children:"Scroll For Blessings"}),f.jsxs("div",{className:"scroll-arrow",children:[f.jsx("span",{}),f.jsx("span",{}),f.jsx("span",{})]})]}),f.jsx("p",{className:"hero-subtitle",children:"Where Heaven Hears, and Humanity Helps  One Anonymous Gift at a Time."}),f.jsx("div",{className:"divine-buttons",children:f.jsxs("button",{className:"divine-btn primary",onClick:o,disabled:r,children:[f.jsx("span",{className:"btn-text",children:r?"Loading...":"View Events"}),f.jsx("div",{className:"btn-glow"})]})})]})})]}),f.jsx("div",{style:{height:"500vh",background:"transparent"}})]})}const Iw=S.createContext({});function K0(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bw=typeof window<"u",Nw=Bw?S.useLayoutEffect:S.useEffect,Wm=S.createContext(null);function jw(e,t){e.indexOf(t)===-1&&e.push(t)}function Rw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ui=(e,t,n)=>n>t?t:n<e?e:n;let Ow=()=>{};const Li={},rI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function iI(e){return typeof e=="object"&&e!==null}const sI=e=>/^0[^.\s]+$/u.test(e);function Dw(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zn=e=>e,J7=(e,t)=>n=>t(e(n)),Y0=(...e)=>e.reduce(J7),Qu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Mw{constructor(){this.subscriptions=[]}add(t){return jw(this.subscriptions,t),()=>Rw(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vr=e=>e*1e3,$r=e=>e/1e3;function oI(e,t){return t?e*(1e3/t):0}const aI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Q7=1e-7,eP=12;function tP(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=aI(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>Q7&&++a<eP);return o}function W0(e,t,n,r){if(e===t&&n===r)return Zn;const i=s=>tP(s,0,1,e,n);return s=>s===0||s===1?s:aI(i(s),t,r)}const lI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cI=e=>t=>1-e(1-t),uI=W0(.33,1.53,.69,.99),Uw=cI(uI),dI=lI(Uw),fI=e=>(e*=2)<1?.5*Uw(e):.5*(2-Math.pow(2,-10*(e-1))),Lw=e=>1-Math.sin(Math.acos(e)),hI=cI(Lw),mI=lI(Lw),nP=W0(.42,0,1,1),rP=W0(0,0,.58,1),pI=W0(.42,0,.58,1),iP=e=>Array.isArray(e)&&typeof e[0]!="number",gI=e=>Array.isArray(e)&&typeof e[0]=="number",sP={linear:Zn,easeIn:nP,easeInOut:pI,easeOut:rP,circIn:Lw,circInOut:mI,circOut:hI,backIn:Uw,backInOut:dI,backOut:uI,anticipate:fI},oP=e=>typeof e=="string",jC=e=>{if(gI(e)){Ow(e.length===4);const[t,n,r,i]=e;return W0(t,n,r,i)}else if(oP(e))return sP[e];return e},Xd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aP(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const x=h&&i?n:r;return d&&o.add(u),x.has(u)||x.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const lP=40;function yI(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Xd.reduce((g,E)=>(g[E]=aP(s),g),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:m,postRender:x}=o,y=()=>{const g=Li.useManualTiming?i.timestamp:performance.now();n=!1,Li.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,lP),1)),i.timestamp=g,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),m.process(i),x.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(y))},_=()=>{n=!0,r=!0,i.isProcessing||e(y)};return{schedule:Xd.reduce((g,E)=>{const C=o[E];return g[E]=(N,k=!1,j=!1)=>(n||_(),C.schedule(N,k,j)),g},{}),cancel:g=>{for(let E=0;E<Xd.length;E++)o[Xd[E]].cancel(g)},state:i,steps:o}}const{schedule:Ze,cancel:Pi,state:Pt,steps:Kg}=yI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let Vf;function cP(){Vf=void 0}const mn={now:()=>(Vf===void 0&&mn.set(Pt.isProcessing||Li.useManualTiming?Pt.timestamp:performance.now()),Vf),set:e=>{Vf=e,queueMicrotask(cP)}},bI=e=>t=>typeof t=="string"&&t.startsWith(e),Pw=bI("--"),uP=bI("var(--"),Fw=e=>uP(e)?dP.test(e.split("/*")[0].trim()):!1,dP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},e0={...dc,transform:e=>Ui(0,1,e)},Jd={...dc,default:1},Su=e=>Math.round(e*1e5)/1e5,zw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fP(e){return e==null}const hP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vw=(e,t)=>n=>!!(typeof n=="string"&&hP.test(n)&&n.startsWith(e)||t&&!fP(n)&&Object.prototype.hasOwnProperty.call(n,t)),vI=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(zw);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},mP=e=>Ui(0,255,e),Yg={...dc,transform:e=>Math.round(mP(e))},To={test:Vw("rgb","red"),parse:vI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Yg.transform(e)+", "+Yg.transform(t)+", "+Yg.transform(n)+", "+Su(e0.transform(r))+")"};function pP(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const gv={test:Vw("#"),parse:pP,transform:To.transform},Z0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ds=Z0("deg"),Hr=Z0("%"),he=Z0("px"),gP=Z0("vh"),yP=Z0("vw"),RC={...Hr,parse:e=>Hr.parse(e)/100,transform:e=>Hr.transform(e*100)},tl={test:Vw("hsl","hue"),parse:vI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Hr.transform(Su(t))+", "+Hr.transform(Su(n))+", "+Su(e0.transform(r))+")"},vt={test:e=>To.test(e)||gv.test(e)||tl.test(e),parse:e=>To.test(e)?To.parse(e):tl.test(e)?tl.parse(e):gv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?To.transform(e):tl.transform(e),getAnimatableNone:e=>{const t=vt.parse(e);return t.alpha=0,vt.transform(t)}},bP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vP(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(zw))==null?void 0:t.length)||0)+(((n=e.match(bP))==null?void 0:n.length)||0)>0}const xI="number",wI="color",xP="var",wP="var(",OC="${}",SP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function t0(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(SP,l=>(vt.test(l)?(r.color.push(s),i.push(wI),n.push(vt.parse(l))):l.startsWith(wP)?(r.var.push(s),i.push(xP),n.push(l)):(r.number.push(s),i.push(xI),n.push(parseFloat(l))),++s,OC)).split(OC);return{values:n,split:a,indexes:r,types:i}}function SI(e){return t0(e).values}function _I(e){const{split:t,types:n}=t0(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===xI?s+=Su(i[o]):a===wI?s+=vt.transform(i[o]):s+=i[o]}return s}}const _P=e=>typeof e=="number"?0:vt.test(e)?vt.getAnimatableNone(e):e;function EP(e){const t=SI(e);return _I(e)(t.map(_P))}const qs={test:vP,parse:SI,createTransformer:_I,getAnimatableNone:EP};function Wg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function CP({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Wg(l,a,e+1/3),s=Wg(l,a,e),o=Wg(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function jh(e,t){return n=>n>0?t:e}const lt=(e,t,n)=>e+(t-e)*n,Zg=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},AP=[gv,To,tl],TP=e=>AP.find(t=>t.test(e));function DC(e){const t=TP(e);if(!t)return!1;let n=t.parse(e);return t===tl&&(n=CP(n)),n}const MC=(e,t)=>{const n=DC(e),r=DC(t);if(!n||!r)return jh(e,t);const i={...n};return s=>(i.red=Zg(n.red,r.red,s),i.green=Zg(n.green,r.green,s),i.blue=Zg(n.blue,r.blue,s),i.alpha=lt(n.alpha,r.alpha,s),To.transform(i))},yv=new Set(["none","hidden"]);function kP(e,t){return yv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function IP(e,t){return n=>lt(e,t,n)}function $w(e){return typeof e=="number"?IP:typeof e=="string"?Fw(e)?jh:vt.test(e)?MC:jP:Array.isArray(e)?EI:typeof e=="object"?vt.test(e)?MC:BP:jh}function EI(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>$w(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function BP(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=$w(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function NP(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const jP=(e,t)=>{const n=qs.createTransformer(t),r=t0(e),i=t0(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?yv.has(e)&&!i.values.length||yv.has(t)&&!r.values.length?kP(e,t):Y0(EI(NP(r,i),i.values),n):jh(e,t)};function CI(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?lt(e,t,n):$w(e)(e,t)}const RP=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ze.update(t,n),stop:()=>Pi(t),now:()=>Pt.isProcessing?Pt.timestamp:mn.now()}},AI=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Rh=2e4;function Hw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Rh;)t+=n,r=e.next(t);return t>=Rh?1/0:t}function OP(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Hw(r),Rh);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:$r(i)}}const DP=5;function TI(e,t,n){const r=Math.max(t-DP,0);return oI(n-e(r),t-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xg=.001;function MP({duration:e=ut.duration,bounce:t=ut.bounce,velocity:n=ut.velocity,mass:r=ut.mass}){let i,s,o=1-t;o=Ui(ut.minDamping,ut.maxDamping,o),e=Ui(ut.minDuration,ut.maxDuration,$r(e)),o<1?(i=c=>{const u=c*o,d=u*e,h=u-n,m=bv(c,o),x=Math.exp(-d);return Xg-h/m*x},s=c=>{const d=c*o*e,h=d*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,x=Math.exp(-d),y=bv(Math.pow(c,2),o);return(-i(c)+Xg>0?-1:1)*((h-m)*x)/y}):(i=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-Xg+u*d},s=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=LP(i,s,a);if(e=Vr(e),isNaN(l))return{stiffness:ut.stiffness,damping:ut.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const UP=12;function LP(e,t,n){let r=n;for(let i=1;i<UP;i++)r=r-e(r)/t(r);return r}function bv(e,t){return e*Math.sqrt(1-t*t)}const PP=["duration","bounce"],FP=["stiffness","damping","mass"];function UC(e,t){return t.some(n=>e[n]!==void 0)}function zP(e){let t={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...e};if(!UC(e,FP)&&UC(e,PP))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ui(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ut.mass,stiffness:i,damping:s}}else{const n=MP(e);t={...t,...n,mass:ut.mass},t.isResolvedFromDuration=!0}return t}function Oh(e=ut.visualDuration,t=ut.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=zP({...n,velocity:-$r(n.velocity||0)}),x=h||0,y=c/(2*Math.sqrt(l*u)),_=o-s,p=$r(Math.sqrt(l/u)),b=Math.abs(_)<5;r||(r=b?ut.restSpeed.granular:ut.restSpeed.default),i||(i=b?ut.restDelta.granular:ut.restDelta.default);let g;if(y<1){const C=bv(p,y);g=N=>{const k=Math.exp(-y*p*N);return o-k*((x+y*p*_)/C*Math.sin(C*N)+_*Math.cos(C*N))}}else if(y===1)g=C=>o-Math.exp(-p*C)*(_+(x+p*_)*C);else{const C=p*Math.sqrt(y*y-1);g=N=>{const k=Math.exp(-y*p*N),j=Math.min(C*N,300);return o-k*((x+y*p*_)*Math.sinh(j)+C*_*Math.cosh(j))/C}}const E={calculatedDuration:m&&d||null,next:C=>{const N=g(C);if(m)a.done=C>=d;else{let k=C===0?x:0;y<1&&(k=C===0?Vr(x):TI(g,C,N));const j=Math.abs(k)<=r,D=Math.abs(o-N)<=i;a.done=j&&D}return a.value=a.done?o:N,a},toString:()=>{const C=Math.min(Hw(E),Rh),N=AI(k=>E.next(C*k).value,C,30);return C+"ms "+N},toTransition:()=>{}};return E}Oh.applyToOptions=e=>{const t=OP(e,100,Oh);return e.ease=t.ease,e.duration=Vr(t.duration),e.type="keyframes",e};function vv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},m=j=>a!==void 0&&j<a||l!==void 0&&j>l,x=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let y=n*t;const _=d+y,p=o===void 0?_:o(_);p!==_&&(y=p-d);const b=j=>-y*Math.exp(-j/r),g=j=>p+b(j),E=j=>{const D=b(j),M=g(j);h.done=Math.abs(D)<=c,h.value=h.done?p:M};let C,N;const k=j=>{m(h.value)&&(C=j,N=Oh({keyframes:[h.value,x(h.value)],velocity:TI(g,j,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:j=>{let D=!1;return!N&&C===void 0&&(D=!0,E(j),k(j)),C!==void 0&&j>=C?N.next(j-C):(!D&&E(j),h)}}}function VP(e,t,n){const r=[],i=n||Li.mix||CI,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Zn:t;a=Y0(l,a)}r.push(a)}return r}function kI(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Ow(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=VP(t,r,i),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Qu(e[d],e[d+1],u);return a[d](h)};return n?u=>c(Ui(e[0],e[s-1],u)):c}function $P(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Qu(0,t,r);e.push(lt(n,1,i))}}function HP(e){const t=[0];return $P(t,e.length-1),t}function GP(e,t){return e.map(n=>n*t)}function qP(e,t){return e.map(()=>t||pI).splice(0,e.length-1)}function _u({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=iP(r)?r.map(jC):jC(r),s={done:!1,value:t[0]},o=GP(n&&n.length===t.length?n:HP(t),e),a=kI(o,t,{ease:Array.isArray(i)?i:qP(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const KP=e=>e!==null;function Gw(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(KP),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const YP={decay:vv,inertia:vv,tween:_u,keyframes:_u,spring:Oh};function II(e){typeof e.type=="string"&&(e.type=YP[e.type])}class qw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const WP=e=>e/100;class Zm extends qw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;II(t);const{type:n=_u,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||_u;l!==_u&&typeof a[0]!="number"&&(this.mixKeyframes=Y0(WP,CI(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Hw(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:m,type:x,onUpdate:y,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let g=this.currentTime,E=r;if(d){const j=Math.min(this.currentTime,i)/a;let D=Math.floor(j),M=j%1;!M&&j>=1&&(M=1),M===1&&D--,D=Math.min(D,d+1),!!(D%2)&&(h==="reverse"?(M=1-M,m&&(M-=m/a)):h==="mirror"&&(E=o)),g=Ui(0,1,M)*a}const C=b?{done:!1,value:u[0]}:E.next(g);s&&(C.value=s(C.value));let{done:N}=C;!b&&l!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return k&&x!==vv&&(C.value=Gw(u,this.options,_,this.speed)),y&&y(C.value),k&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return $r(this.calculatedDuration)}get time(){return $r(this.currentTime)}set time(t){var n;t=Vr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=$r(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=RP,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function ZP(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ko=e=>e*180/Math.PI,xv=e=>{const t=ko(Math.atan2(e[1],e[0]));return wv(t)},XP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:xv,rotateZ:xv,skewX:e=>ko(Math.atan(e[1])),skewY:e=>ko(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},wv=e=>(e=e%360,e<0&&(e+=360),e),LC=xv,PC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),FC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),JP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PC,scaleY:FC,scale:e=>(PC(e)+FC(e))/2,rotateX:e=>wv(ko(Math.atan2(e[6],e[5]))),rotateY:e=>wv(ko(Math.atan2(-e[2],e[0]))),rotateZ:LC,rotate:LC,skewX:e=>ko(Math.atan(e[4])),skewY:e=>ko(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Sv(e){return e.includes("scale")?1:0}function _v(e,t){if(!e||e==="none")return Sv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=JP,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=XP,i=a}if(!i)return Sv(t);const s=r[t],o=i[1].split(",").map(e9);return typeof s=="function"?s(o):o[s]}const QP=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return _v(n,t)};function e9(e){return parseFloat(e.trim())}const fc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hc=new Set(fc),zC=e=>e===dc||e===he,t9=new Set(["x","y","z"]),n9=fc.filter(e=>!t9.has(e));function r9(e){const t=[];return n9.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Fo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>_v(t,"x"),y:(e,{transform:t})=>_v(t,"y")};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const zo=new Set;let Ev=!1,Cv=!1,Av=!1;function BI(){if(Cv){const e=Array.from(zo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=r9(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Cv=!1,Ev=!1,zo.forEach(e=>e.complete(Av)),zo.clear()}function NI(){zo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Cv=!0)})}function i9(){Av=!0,NI(),BI(),Av=!1}class Kw{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(zo.add(this),Ev||(Ev=!0,Ze.read(NI),Ze.resolveKeyframes(BI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}ZP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),zo.delete(this)}cancel(){this.state==="scheduled"&&(zo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const s9=e=>e.startsWith("--");function o9(e,t,n){s9(t)?e.style.setProperty(t,n):e.style[t]=n}const a9=Dw(()=>window.ScrollTimeline!==void 0),l9={};function c9(e,t){const n=Dw(e);return()=>l9[t]??n()}const jI=c9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,VC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xc([0,.65,.55,1]),circOut:Xc([.55,0,1,.45]),backIn:Xc([.31,.01,.66,-.59]),backOut:Xc([.33,1.53,.69,.99])};function RI(e,t){if(e)return typeof e=="function"?jI()?AI(e,t):"ease-out":gI(e)?Xc(e):Array.isArray(e)?e.map(n=>RI(n,t)||VC.easeOut):VC[e]}function u9(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const d=RI(a,i);Array.isArray(d)&&(u.easing=d);const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function OI(e){return typeof e=="function"&&"applyToOptions"in e}function d9({type:e,...t}){return OI(e)&&jI()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class f9 extends qw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,Ow(typeof t.type!="string");const c=d9(t);this.animation=u9(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=Gw(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):o9(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return $r(Number(t))}get time(){return $r(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Vr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&a9()?(this.animation.timeline=t,Zn):n(this)}}const DI={anticipate:fI,backInOut:dI,circInOut:mI};function h9(e){return e in DI}function m9(e){typeof e.ease=="string"&&h9(e.ease)&&(e.ease=DI[e.ease])}const $C=10;class p9 extends f9{constructor(t){m9(t),II(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Zm({...o,autoplay:!1}),l=Vr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-$C).value,a.sample(l).value,$C),a.stop()}}const HC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qs.test(e)||e==="0")&&!e.startsWith("url("));function g9(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function y9(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=HC(i,t),a=HC(s,t);return!o||!a?!1:g9(e)||(n==="spring"||OI(n))&&r}function Yw(e){return iI(e)&&"offsetHeight"in e}const b9=new Set(["opacity","clipPath","filter","transform"]),v9=Dw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function x9(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!Yw((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return v9()&&n&&b9.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const w9=40;class S9 extends qw{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var x;super(),this.stop=()=>{var y,_;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=mn.now();const h={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...d},m=(u==null?void 0:u.KeyframeResolver)||Kw;this.keyframeResolver=new m(a,(y,_,p)=>this.onKeyframesResolved(y,_,h,!p),l,c,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=mn.now(),y9(t,s,o,a)||((Li.instantAnimations||!l)&&(u==null||u(Gw(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>w9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!c&&x9(h)?new p9({...h,element:h.motionValue.owner.current}):new Zm(h);m.finished.then(()=>this.notifyFinished()).catch(Zn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),i9()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const _9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function E9(e){const t=_9.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function MI(e,t,n=1){const[r,i]=E9(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return rI(o)?parseFloat(o):o}return Fw(i)?MI(i,t,n+1):i}function Ww(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const UI=new Set(["width","height","top","left","right","bottom",...fc]),C9={test:e=>e==="auto",parse:e=>e},LI=e=>t=>t.test(e),PI=[dc,he,Hr,ds,yP,gP,C9],GC=e=>PI.find(LI(e));function A9(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||sI(e):!0}const T9=new Set(["brightness","contrast","saturate","opacity"]);function k9(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(zw)||[];if(!r)return e;const i=n.replace(r,"");let s=T9.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const I9=/\b([a-z-]*)\(.*?\)/gu,Tv={...qs,getAnimatableNone:e=>{const t=e.match(I9);return t?t.map(k9).join(" "):e}},qC={...dc,transform:Math.round},B9={rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:Jd,scaleX:Jd,scaleY:Jd,scaleZ:Jd,skew:ds,skewX:ds,skewY:ds,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:e0,originX:RC,originY:RC,originZ:he},Zw={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,backgroundPositionX:he,backgroundPositionY:he,...B9,zIndex:qC,fillOpacity:e0,strokeOpacity:e0,numOctaves:qC},N9={...Zw,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:Tv,WebkitFilter:Tv},FI=e=>N9[e];function zI(e,t){let n=FI(e);return n!==Tv&&(n=qs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const j9=new Set(["auto","none","0"]);function R9(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!j9.has(s)&&t0(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=zI(n,i)}class O9 extends Kw{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Fw(c))){const u=MI(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!UI.has(r)||t.length!==2)return;const[i,s]=t,o=GC(i),a=GC(s);if(o!==a)if(zC(o)&&zC(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Fo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||A9(t[i]))&&r.push(i);r.length&&R9(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Fo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function D9(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const VI=(e,t)=>t&&typeof e=="number"?t.transform(e):e,KC=30,M9=e=>!isNaN(parseFloat(e)),Eu={current:void 0};class U9{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=mn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=M9(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Mw);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Eu.current&&Eu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>KC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,KC);return oI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zo(e,t){return new U9(e,t)}const{schedule:Xw}=yI(queueMicrotask,!1),cr={x:!1,y:!1};function $I(){return cr.x||cr.y}function L9(e){return e==="x"||e==="y"?cr[e]?null:(cr[e]=!0,()=>{cr[e]=!1}):cr.x||cr.y?null:(cr.x=cr.y=!0,()=>{cr.x=cr.y=!1})}function HI(e,t){const n=D9(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function YC(e){return!(e.pointerType==="touch"||$I())}function P9(e,t,n={}){const[r,i,s]=HI(e,n),o=a=>{if(!YC(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=d=>{YC(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const GI=(e,t)=>t?e===t?!0:GI(e,t.parentElement):!1,Jw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,F9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function z9(e){return F9.has(e.tagName)||e.tabIndex!==-1}const $f=new WeakSet;function WC(e){return t=>{t.key==="Enter"&&e(t)}}function Jg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const V9=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=WC(()=>{if($f.has(n))return;Jg(n,"down");const i=WC(()=>{Jg(n,"up")}),s=()=>Jg(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function ZC(e){return Jw(e)&&!$I()}function $9(e,t,n={}){const[r,i,s]=HI(e,n),o=a=>{const l=a.currentTarget;if(!ZC(a))return;$f.add(l);const c=t(l,a),u=(m,x)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),$f.has(l)&&$f.delete(l),ZC(m)&&typeof c=="function"&&c(m,{success:x})},d=m=>{u(m,l===window||l===document||n.useGlobalTarget||GI(l,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),Yw(a)&&(a.addEventListener("focus",c=>V9(c,i)),!z9(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function qI(e){return iI(e)&&"ownerSVGElement"in e}function H9(e){return qI(e)&&e.tagName==="svg"}function G9(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],s=e[2+n],o=e[3+n],a=kI(i,s,o);return t?a(r):a}const Mt=e=>!!(e&&e.getVelocity);function q9(e,t,n){const r=e.get();let i=null,s=r,o;const a=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,l=()=>{i&&(i.stop(),i=null)},c=()=>{l(),i=new Zm({keyframes:[JC(e.get()),JC(s)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};e.attach((d,h)=>(s=d,o=m=>h(XC(m,a)),Ze.postRender(c),e.get()),l);let u;return Mt(t)&&(u=t.on("change",d=>e.set(XC(d,a))),e.on("destroy",u)),u}function XC(e,t){return t?e+t:e}function JC(e){return typeof e=="number"?e:parseFloat(e)}const K9=[...PI,vt,qs],Y9=e=>K9.find(LI(e)),X0=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class W9 extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Yw(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Z9({children:e,isPresent:t,anchorX:n}){const r=S.useId(),i=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=S.useContext(X0);return S.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:d}=s.current;if(t||!i.current||!a||!l)return;const h=n==="left"?`left: ${u}`:`right: ${d}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),f.jsx(W9,{isPresent:t,childRef:i,sizeRef:s,children:S.cloneElement(e,{ref:i})})}const X9=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=K0(J9),c=S.useId();let u=!0,d=S.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const m of l.values())if(!m)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return s&&u&&(d={...d}),S.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),S.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=f.jsx(Z9,{isPresent:n,anchorX:a,children:e})),f.jsx(Wm.Provider,{value:d,children:e})};function J9(){return new Map}function KI(e=!0){const t=S.useContext(Wm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=S.useId();S.useEffect(()=>{if(e)return i(s)},[e]);const o=S.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Qd=e=>e.key||"";function QC(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const n0=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=KI(o),u=S.useMemo(()=>QC(e),[e]),d=o&&!l?[]:u.map(Qd),h=S.useRef(!0),m=S.useRef(u),x=K0(()=>new Map),[y,_]=S.useState(u),[p,b]=S.useState(u);Nw(()=>{h.current=!1,m.current=u;for(let C=0;C<p.length;C++){const N=Qd(p[C]);d.includes(N)?x.delete(N):x.get(N)!==!0&&x.set(N,!1)}},[p,d.length,d.join("-")]);const g=[];if(u!==y){let C=[...u];for(let N=0;N<p.length;N++){const k=p[N],j=Qd(k);d.includes(j)||(C.splice(N,0,k),g.push(k))}return s==="wait"&&g.length&&(C=g),b(QC(C)),_(u),null}const{forceRender:E}=S.useContext(Iw);return f.jsx(f.Fragment,{children:p.map(C=>{const N=Qd(C),k=o&&!l?!1:u===p||d.includes(N),j=()=>{if(x.has(N))x.set(N,!0);else return;let D=!0;x.forEach(M=>{M||(D=!1)}),D&&(E==null||E(),b(m.current),o&&(c==null||c()),r&&r())};return f.jsx(X9,{isPresent:k,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,onExitComplete:k?void 0:j,anchorX:a,children:C},N)})})},YI=S.createContext({strict:!1}),eA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rl={};for(const e in eA)Rl[e]={isEnabled:t=>eA[e].some(n=>!!t[n])};function Q9(e){for(const t in e)Rl[t]={...Rl[t],...e[t]}}const eF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||eF.has(e)}let WI=e=>!Dh(e);function tF(e){typeof e=="function"&&(WI=t=>t.startsWith("on")?!Dh(t):e(t))}try{tF(require("@emotion/is-prop-valid").default)}catch{}function nF(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(WI(i)||n===!0&&Dh(i)||!t&&!Dh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function rF(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Xm=S.createContext({});function Jm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function r0(e){return typeof e=="string"||Array.isArray(e)}const Qw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eS=["initial",...Qw];function Qm(e){return Jm(e.animate)||eS.some(t=>r0(e[t]))}function ZI(e){return!!(Qm(e)||e.variants)}function iF(e,t){if(Qm(e)){const{initial:n,animate:r}=e;return{initial:n===!1||r0(n)?n:void 0,animate:r0(r)?r:void 0}}return e.inherit!==!1?t:{}}function sF(e){const{initial:t,animate:n}=iF(e,S.useContext(Xm));return S.useMemo(()=>({initial:t,animate:n}),[tA(t),tA(n)])}function tA(e){return Array.isArray(e)?e.join(" "):e}const oF=Symbol.for("motionComponentSymbol");function nl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function aF(e,t,n){return S.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):nl(n)&&(n.current=r))},[t])}const tS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lF="framerAppearId",XI="data-"+tS(lF),JI=S.createContext({});function cF(e,t,n,r,i){var y,_;const{visualElement:s}=S.useContext(Xm),o=S.useContext(YI),a=S.useContext(Wm),l=S.useContext(X0).reducedMotion,c=S.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=S.useContext(JI);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&uF(c.current,n,i,d);const h=S.useRef(!1);S.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const m=n[XI],x=S.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,m)));return Nw(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Xw.render(u.render),x.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,m)}),x.current=!1))}),u}function uF(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:QI(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&nl(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function QI(e){if(e)return e.options.allowProjection!==!1?e.projection:QI(e.parent)}function dF({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Q9(e);function s(a,l){let c;const u={...S.useContext(X0),...a,layoutId:fF(a)},{isStatic:d}=u,h=sF(a),m=r(a,d);if(!d&&Bw){hF();const x=mF(u);c=x.MeasureLayout,h.visualElement=cF(i,m,u,t,x.ProjectionNode)}return f.jsxs(Xm.Provider,{value:h,children:[c&&h.visualElement?f.jsx(c,{visualElement:h.visualElement,...u}):null,n(i,a,aF(m,h.visualElement,l),m,d,h.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=S.forwardRef(s);return o[oF]=i,o}function fF({layoutId:e}){const t=S.useContext(Iw).id;return t&&e!==void 0?t+"-"+e:e}function hF(e,t){S.useContext(YI).strict}function mF(e){const{drag:t,layout:n}=Rl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const i0={};function pF(e){for(const t in e)i0[t]=e[t],Pw(t)&&(i0[t].isCSSVariable=!0)}function eB(e,{layout:t,layoutId:n}){return hc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!i0[e]||e==="opacity")}const gF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yF=fc.length;function bF(e,t,n){let r="",i=!0;for(let s=0;s<yF;s++){const o=fc[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=VI(a,Zw[o]);if(!l){i=!1;const u=gF[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function nS(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(hc.has(l)){o=!0;continue}else if(Pw(l)){i[l]=c;continue}else{const u=VI(c,Zw[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=bF(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const rS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tB(e,t,n){for(const r in t)!Mt(t[r])&&!eB(r,n)&&(e[r]=t[r])}function vF({transformTemplate:e},t){return S.useMemo(()=>{const n=rS();return nS(n,t,e),Object.assign({},n.vars,n.style)},[t])}function xF(e,t){const n=e.style||{},r={};return tB(r,n,e),Object.assign(r,vF(e,t)),r}function wF(e,t){const n={},r=xF(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const SF={offset:"stroke-dashoffset",array:"stroke-dasharray"},_F={offset:"strokeDashoffset",array:"strokeDasharray"};function EF(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?SF:_F;e[s.offset]=he.transform(-r);const o=he.transform(t),a=he.transform(n);e[s.array]=`${o} ${a}`}function nB(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(nS(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&EF(d,i,s,o,!1)}const rB=()=>({...rS(),attrs:{}}),iB=e=>typeof e=="string"&&e.toLowerCase()==="svg";function CF(e,t,n,r){const i=S.useMemo(()=>{const s=rB();return nB(s,t,iB(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};tB(s,e.style,e),i.style={...s,...i.style}}return i}const AF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iS(e){return typeof e!="string"||e.includes("-")?!1:!!(AF.indexOf(e)>-1||/[A-Z]/u.test(e))}function TF(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(iS(n)?CF:wF)(r,s,o,n),c=nF(r,typeof n=="string",e),u=n!==S.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=S.useMemo(()=>Mt(d)?d.get():d,[d]);return S.createElement(n,{...u,children:h})}}function nA(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function sS(e,t,n,r){if(typeof t=="function"){const[i,s]=nA(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=nA(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function Hf(e){return Mt(e)?e.get():e}function kF({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:IF(n,r,i,e),renderState:t()}}const sB=e=>(t,n)=>{const r=S.useContext(Xm),i=S.useContext(Wm),s=()=>kF(e,t,r,i);return n?s():K0(s)};function IF(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=Hf(s[h]);let{initial:o,animate:a}=e;const l=Qm(e),c=ZI(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Jm(d)){const h=Array.isArray(d)?d:[d];for(let m=0;m<h.length;m++){const x=sS(e,h[m]);if(x){const{transitionEnd:y,transition:_,...p}=x;for(const b in p){let g=p[b];if(Array.isArray(g)){const E=u?g.length-1:0;g=g[E]}g!==null&&(i[b]=g)}for(const b in y)i[b]=y[b]}}}return i}function oS(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(Mt(r[o])||t.style&&Mt(t.style[o])||eB(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const BF={useVisualState:sB({scrapeMotionValuesFromProps:oS,createRenderState:rS})};function oB(e,t,n){const r=oS(e,t,n);for(const i in e)if(Mt(e[i])||Mt(t[i])){const s=fc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const NF={useVisualState:sB({scrapeMotionValuesFromProps:oB,createRenderState:rB})};function jF(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...iS(r)?NF:BF,preloadedFeatures:e,useRender:TF(i),createVisualElement:t,Component:r};return dF(o)}}function s0(e,t,n){const r=e.getProps();return sS(r,t,n!==void 0?n:r.custom,e)}const kv=e=>Array.isArray(e);function RF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zo(n))}function OF(e){return kv(e)?e[e.length-1]||0:e}function DF(e,t){const n=s0(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=OF(s[o]);RF(e,o,a)}}function MF(e){return!!(Mt(e)&&e.add)}function Iv(e,t){const n=e.getValue("willChange");if(MF(n))return n.add(t);if(!n&&Li.WillChange){const r=new Li.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function aB(e){return e.props[XI]}const UF=e=>e!==null;function LF(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(UF),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const PF={type:"spring",stiffness:500,damping:25,restSpeed:10},FF=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zF={type:"keyframes",duration:.8},VF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$F=(e,{keyframes:t})=>t.length>2?zF:hc.has(e)?e.startsWith("scale")?FF(t[1]):PF:VF;function HF({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const aS=(e,t,n,r={},i,s)=>o=>{const a=Ww(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Vr(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};HF(a)||Object.assign(u,$F(e,u)),u.duration&&(u.duration=Vr(u.duration)),u.repeatDelay&&(u.repeatDelay=Vr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),(Li.instantAnimations||Li.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&t.get()!==void 0){const h=LF(u.keyframes,a);if(h!==void 0){Ze.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new Zm(u):new S9(u)};function GF({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function lB(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in a){const d=e.getValue(u,e.latestValues[u]??null),h=a[u];if(h===void 0||c&&GF(c,u))continue;const m={delay:n,...Ww(s||{},u)},x=d.get();if(x!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===x&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const p=aB(e);if(p){const b=window.MotionHandoffAnimation(p,u,Ze);b!==null&&(m.startTime=b,y=!0)}}Iv(e,u),d.start(aS(u,d,h,e.shouldReduceMotion&&UI.has(u)?{type:!1}:m,e,y));const _=d.animation;_&&l.push(_)}return o&&Promise.all(l).then(()=>{Ze.update(()=>{o&&DF(e,o)})}),l}function Bv(e,t,n={}){var l;const r=s0(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(lB(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return qF(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function qF(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(KF).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(Bv(c,t,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function KF(e,t){return e.sortNodePosition(t)}function YF(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Bv(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Bv(e,t,n);else{const i=typeof t=="function"?s0(e,t,n.custom):t;r=Promise.all(lB(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function cB(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const WF=eS.length;function uB(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?uB(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<WF;n++){const r=eS[n],i=e.props[r];(r0(i)||i===!1)&&(t[r]=i)}return t}const ZF=[...Qw].reverse(),XF=Qw.length;function JF(e){return t=>Promise.all(t.map(({animation:n,options:r})=>YF(e,n,r)))}function QF(e){let t=JF(e),n=rA(),r=!0;const i=l=>(c,u)=>{var h;const d=s0(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:m,transitionEnd:x,...y}=d;c={...c,...y,...x}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,u=uB(e.parent)||{},d=[],h=new Set;let m={},x=1/0;for(let _=0;_<XF;_++){const p=ZF[_],b=n[p],g=c[p]!==void 0?c[p]:u[p],E=r0(g),C=p===l?b.isActive:null;C===!1&&(x=_);let N=g===u[p]&&g!==c[p]&&E;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...m},!b.isActive&&C===null||!g&&!b.prevProp||Jm(g)||typeof g=="boolean")continue;const k=ez(b.prevProp,g);let j=k||p===l&&b.isActive&&!N&&E||_>x&&E,D=!1;const M=Array.isArray(g)?g:[g];let H=M.reduce(i(p),{});C===!1&&(H={});const{prevResolvedValues:Q={}}=b,G={...Q,...H},F=U=>{j=!0,h.has(U)&&(D=!0,h.delete(U)),b.needsAnimating[U]=!0;const O=e.getValue(U);O&&(O.liveStyle=!1)};for(const U in G){const O=H[U],z=Q[U];if(m.hasOwnProperty(U))continue;let Z=!1;kv(O)&&kv(z)?Z=!cB(O,z):Z=O!==z,Z?O!=null?F(U):h.add(U):O!==void 0&&h.has(U)?F(U):b.protectedKeys[U]=!0}b.prevProp=g,b.prevResolvedValues=H,b.isActive&&(m={...m,...H}),r&&e.blockInitialAnimation&&(j=!1),j&&(!(N&&k)||D)&&d.push(...M.map(U=>({animation:U,options:{type:p}})))}if(h.size){const _={};if(typeof c.initial!="boolean"){const p=s0(e,Array.isArray(c.initial)?c.initial[0]:c.initial);p&&p.transition&&(_.transition=p.transition)}h.forEach(p=>{const b=e.getBaseTarget(p),g=e.getValue(p);g&&(g.liveStyle=!0),_[p]=b??null}),d.push({animation:_})}let y=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=rA(),r=!0}}}function ez(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!cB(t,e):!1}function co(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rA(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class no{constructor(t){this.isMounted=!1,this.node=t}update(){}}class tz extends no{constructor(t){super(t),t.animationState||(t.animationState=QF(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Jm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let nz=0;class rz extends no{constructor(){super(...arguments),this.id=nz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const iz={animation:{Feature:tz},exit:{Feature:rz}};function o0(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function J0(e){return{point:{x:e.pageX,y:e.pageY}}}const sz=e=>t=>Jw(t)&&e(t,J0(t));function Cu(e,t,n,r){return o0(e,t,sz(n),r)}function dB({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function oz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function az(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const fB=1e-4,lz=1-fB,cz=1+fB,hB=.01,uz=0-hB,dz=0+hB;function rn(e){return e.max-e.min}function fz(e,t,n){return Math.abs(e-t)<=n}function iA(e,t,n,r=.5){e.origin=r,e.originPoint=lt(t.min,t.max,e.origin),e.scale=rn(n)/rn(t),e.translate=lt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=lz&&e.scale<=cz||isNaN(e.scale))&&(e.scale=1),(e.translate>=uz&&e.translate<=dz||isNaN(e.translate))&&(e.translate=0)}function Au(e,t,n,r){iA(e.x,t.x,n.x,r?r.originX:void 0),iA(e.y,t.y,n.y,r?r.originY:void 0)}function sA(e,t,n){e.min=n.min+t.min,e.max=e.min+rn(t)}function hz(e,t,n){sA(e.x,t.x,n.x),sA(e.y,t.y,n.y)}function oA(e,t,n){e.min=t.min-n.min,e.max=e.min+rn(t)}function Tu(e,t,n){oA(e.x,t.x,n.x),oA(e.y,t.y,n.y)}const aA=()=>({translate:0,scale:1,origin:0,originPoint:0}),rl=()=>({x:aA(),y:aA()}),lA=()=>({min:0,max:0}),mt=()=>({x:lA(),y:lA()});function Ln(e){return[e("x"),e("y")]}function Qg(e){return e===void 0||e===1}function Nv({scale:e,scaleX:t,scaleY:n}){return!Qg(e)||!Qg(t)||!Qg(n)}function _o(e){return Nv(e)||mB(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function mB(e){return cA(e.x)||cA(e.y)}function cA(e){return e&&e!=="0%"}function Mh(e,t,n){const r=e-n,i=t*r;return n+i}function uA(e,t,n,r,i){return i!==void 0&&(e=Mh(e,i,r)),Mh(e,n,r)+t}function jv(e,t=0,n=1,r,i){e.min=uA(e.min,t,n,r,i),e.max=uA(e.max,t,n,r,i)}function pB(e,{x:t,y:n}){jv(e.x,t.translate,t.scale,t.originPoint),jv(e.y,n.translate,n.scale,n.originPoint)}const dA=.999999999999,fA=1.0000000000001;function mz(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&sl(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,pB(e,o)),r&&_o(s.latestValues)&&sl(e,s.latestValues))}t.x<fA&&t.x>dA&&(t.x=1),t.y<fA&&t.y>dA&&(t.y=1)}function il(e,t){e.min=e.min+t,e.max=e.max+t}function hA(e,t,n,r,i=.5){const s=lt(e.min,e.max,i);jv(e,t,n,s,r)}function sl(e,t){hA(e.x,t.x,t.scaleX,t.scale,t.originX),hA(e.y,t.y,t.scaleY,t.scale,t.originY)}function gB(e,t){return dB(az(e.getBoundingClientRect(),t))}function pz(e,t,n){const r=gB(e,n),{scroll:i}=t;return i&&(il(r.x,i.offset.x),il(r.y,i.offset.y)),r}const yB=({current:e})=>e?e.ownerDocument.defaultView:null,mA=(e,t)=>Math.abs(e-t);function gz(e,t){const n=mA(e.x,t.x),r=mA(e.y,t.y);return Math.sqrt(n**2+r**2)}class bB{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ty(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=gz(d.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:x}=d,{timestamp:y}=Pt;this.history.push({...x,timestamp:y});const{onStart:_,onMove:p}=this.handlers;h||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ey(h,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ty(d.type==="pointercancel"?this.lastMoveEventInfo:ey(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,_),x&&x(d,_)},!Jw(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=J0(t),a=ey(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Pt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,ty(a,this.history)),this.removeListeners=Y0(Cu(this.contextWindow,"pointermove",this.handlePointerMove),Cu(this.contextWindow,"pointerup",this.handlePointerUp),Cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pi(this.updatePoint)}}function ey(e,t){return t?{point:t(e.point)}:e}function pA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ty({point:e},t){return{point:e,delta:pA(e,vB(t)),offset:pA(e,yz(t)),velocity:bz(t,.1)}}function yz(e){return e[0]}function vB(e){return e[e.length-1]}function bz(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=vB(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Vr(t)));)n--;if(!r)return{x:0,y:0};const s=$r(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vz(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?lt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?lt(n,e,r.max):Math.min(e,n)),e}function gA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function xz(e,{top:t,left:n,bottom:r,right:i}){return{x:gA(e.x,n,i),y:gA(e.y,t,r)}}function yA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function wz(e,t){return{x:yA(e.x,t.x),y:yA(e.y,t.y)}}function Sz(e,t){let n=.5;const r=rn(e),i=rn(t);return i>r?n=Qu(t.min,t.max-r,e.min):r>i&&(n=Qu(e.min,e.max-i,t.min)),Ui(0,1,n)}function _z(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Rv=.35;function Ez(e=Rv){return e===!1?e=0:e===!0&&(e=Rv),{x:bA(e,"left","right"),y:bA(e,"top","bottom")}}function bA(e,t,n){return{min:vA(e,t),max:vA(e,n)}}function vA(e,t){return typeof e=="number"?e:e[t]||0}const Cz=new WeakMap;class Az{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(J0(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:m,onDragStart:x}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=L9(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ln(_=>{let p=this.getAxisMotionValue(_).get()||0;if(Hr.test(p)){const{projection:b}=this.visualElement;if(b&&b.layout){const g=b.layout.layoutBox[_];g&&(p=rn(g)*(parseFloat(p)/100))}}this.originPoint[_]=p}),x&&Ze.postRender(()=>x(u,d)),Iv(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:x,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:_}=d;if(m&&this.currentDirection===null){this.currentDirection=Tz(_),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),y&&y(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Ln(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new bB(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:yB(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ze.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!ef(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=vz(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&nl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=xz(r.layoutBox,t):this.constraints=!1,this.elastic=Ez(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ln(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_z(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!nl(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=pz(r,i.root,this.visualElement.getTransformPagePoint());let o=wz(i.layout.layoutBox,s);if(n){const a=n(oz(o));this.hasMutatedConstraints=!!a,a&&(o=dB(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ln(u=>{if(!ef(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,x)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Iv(this.visualElement,t),r.start(aS(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ln(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ln(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ln(n=>{const{drag:r}=this.getProps();if(!ef(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-lt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!nl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ln(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Sz({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ln(o=>{if(!ef(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(lt(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Cz.set(this.visualElement,this);const t=this.visualElement.current,n=Cu(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();nl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ze.read(r);const o=o0(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ln(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Rv,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ef(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Tz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class kz extends no{constructor(t){super(t),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new Az(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const xA=e=>(t,n)=>{e&&Ze.postRender(()=>e(t,n))};class Iz extends no{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(t){this.session=new bB(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yB(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:xA(t),onStart:xA(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ze.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Cu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Pc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(he.test(e))e=parseFloat(e);else return e;const n=wA(e,t.target.x),r=wA(e,t.target.y);return`${n}% ${r}%`}},Bz={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=qs.parse(e);if(i.length>5)return r;const s=qs.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=lt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class Nz extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;pF(jz),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Gf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Ze.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Xw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xB(e){const[t,n]=KI(),r=S.useContext(Iw);return f.jsx(Nz,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(JI),isPresent:t,safeToRemove:n})}const jz={borderRadius:{...Pc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pc,borderTopRightRadius:Pc,borderBottomLeftRadius:Pc,borderBottomRightRadius:Pc,boxShadow:Bz};function Rz(e,t,n){const r=Mt(e)?e:Zo(e);return r.start(aS("",r,t,n)),r.animation}const Oz=(e,t)=>e.depth-t.depth;class Dz{constructor(){this.children=[],this.isDirty=!1}add(t){jw(this.children,t),this.isDirty=!0}remove(t){Rw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Oz),this.isDirty=!1,this.children.forEach(t)}}function Mz(e,t){const n=mn.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Pi(r),e(s-t))};return Ze.setup(r,!0),()=>Pi(r)}const wB=["TopLeft","TopRight","BottomLeft","BottomRight"],Uz=wB.length,SA=e=>typeof e=="string"?parseFloat(e):e,_A=e=>typeof e=="number"||he.test(e);function Lz(e,t,n,r,i,s){i?(e.opacity=lt(0,n.opacity??1,Pz(r)),e.opacityExit=lt(t.opacity??1,0,Fz(r))):s&&(e.opacity=lt(t.opacity??1,n.opacity??1,r));for(let o=0;o<Uz;o++){const a=`border${wB[o]}Radius`;let l=EA(t,a),c=EA(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||_A(l)===_A(c)?(e[a]=Math.max(lt(SA(l),SA(c),r),0),(Hr.test(c)||Hr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=lt(t.rotate||0,n.rotate||0,r))}function EA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Pz=SB(0,.5,hI),Fz=SB(.5,.95,Zn);function SB(e,t,n){return r=>r<e?0:r>t?1:n(Qu(e,t,r))}function CA(e,t){e.min=t.min,e.max=t.max}function Un(e,t){CA(e.x,t.x),CA(e.y,t.y)}function AA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function TA(e,t,n,r,i){return e-=t,e=Mh(e,1/n,r),i!==void 0&&(e=Mh(e,1/i,r)),e}function zz(e,t=0,n=1,r=.5,i,s=e,o=e){if(Hr.test(t)&&(t=parseFloat(t),t=lt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=lt(s.min,s.max,r);e===s&&(a-=t),e.min=TA(e.min,t,n,a,i),e.max=TA(e.max,t,n,a,i)}function kA(e,t,[n,r,i],s,o){zz(e,t[n],t[r],t[i],t.scale,s,o)}const Vz=["x","scaleX","originX"],$z=["y","scaleY","originY"];function IA(e,t,n,r){kA(e.x,t,Vz,n?n.x:void 0,r?r.x:void 0),kA(e.y,t,$z,n?n.y:void 0,r?r.y:void 0)}function BA(e){return e.translate===0&&e.scale===1}function _B(e){return BA(e.x)&&BA(e.y)}function NA(e,t){return e.min===t.min&&e.max===t.max}function Hz(e,t){return NA(e.x,t.x)&&NA(e.y,t.y)}function jA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function EB(e,t){return jA(e.x,t.x)&&jA(e.y,t.y)}function RA(e){return rn(e.x)/rn(e.y)}function OA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Gz{constructor(){this.members=[]}add(t){jw(this.members,t),t.scheduleRender()}remove(t){if(Rw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qz(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:m,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ny=["","X","Y","Z"],Kz={visibility:"hidden"},Yz=1e3;let Wz=0;function ry(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function CB(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=aB(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&CB(r)}function AB({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Wz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Jz),this.nodes.forEach(rV),this.nodes.forEach(iV),this.nodes.forEach(Qz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dz)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Mw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=qI(o)&&!H9(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u;const d=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Mz(d,250),Gf.hasAnimatedSinceResize&&(Gf.hasAnimatedSinceResize=!1,this.nodes.forEach(MA))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||cV,{onLayoutAnimationStart:y,onLayoutAnimationComplete:_}=c.getProps(),p=!this.targetLayout||!EB(this.targetLayout,m),b=!d&&h;if(this.options.layoutRoot||this.resumeFrom||b||d&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...Ww(x,"layout"),onPlay:y,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(u,b)}else d||MA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DA);return}this.isUpdating||this.nodes.forEach(tV),this.isUpdating=!1,this.nodes.forEach(nV),this.nodes.forEach(Zz),this.nodes.forEach(Xz),this.clearAllSnapshots();const a=mn.now();Pt.delta=Ui(0,1e3/60,a-Pt.timestamp),Pt.timestamp=a,Pt.isProcessing=!0,Kg.update.process(Pt),Kg.preRender.process(Pt),Kg.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eV),this.sharedNodes.forEach(oV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rn(this.snapshot.measuredBox.x)&&!rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!_B(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||_o(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),uV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return mt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(dV))){const{scroll:u}=this.root;u&&(il(a.x,u.offset.x),il(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=mt();if(Un(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Un(a,o),il(a.x,d.offset.x),il(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=mt();Un(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&sl(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),_o(u.latestValues)&&sl(l,u.latestValues)}return _o(this.latestValues)&&sl(l,this.latestValues),l}removeTransform(o){const a=mt();Un(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!_o(c.latestValues))continue;Nv(c.latestValues)&&c.updateSnapshot();const u=mt(),d=c.measurePageBox();Un(u,d),IA(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return _o(this.latestValues)&&IA(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Pt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Tu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Un(this.target,this.layout.layoutBox),pB(this.target,this.targetDelta)):Un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Tu(this.relativeTargetOrigin,this.target,m.target),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Nv(this.parent.latestValues)||mB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Un(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;mz(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=mt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(AA(this.prevProjectionDelta.x,this.projectionDelta.x),AA(this.prevProjectionDelta.y,this.projectionDelta.y)),Au(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!OA(this.projectionDelta.x,this.prevProjectionDelta.x)||!OA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rl(),this.projectionDelta=rl(),this.projectionDeltaWithTransform=rl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=mt(),m=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=m!==x,_=this.getStack(),p=!_||_.members.length<=1,b=!!(y&&!p&&this.options.crossfade===!0&&!this.path.some(lV));this.animationProgress=0;let g;this.mixTargetDelta=E=>{const C=E/1e3;UA(d.x,o.x,C),UA(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tu(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aV(this.relativeTarget,this.relativeTargetOrigin,h,C),g&&Hz(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=mt()),Un(g,this.relativeTarget)),y&&(this.animationValues=u,Lz(u,c,this.latestValues,C,b,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Pi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Gf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zo(0)),this.currentAnimation=Rz(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&TB(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||mt();const d=rn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=rn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Un(a,l),sl(a,u),Au(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Gz),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&ry("z",o,c,this.animationValues);for(let u=0;u<ny.length;u++)ry(`rotate${ny[u]}`,o,c,this.animationValues),ry(`skew${ny[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Kz;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Hf(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Hf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!_o(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=qz(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:d,y:h}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in i0){if(u[m]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:_}=i0[m],p=a.transform==="none"?u[m]:x(u[m],c);if(y){const b=y.length;for(let g=0;g<b;g++)a[y[g]]=p}else _?this.options.visualElement.renderState.vars[m]=p:a[m]=p}return this.options.layoutId&&(a.pointerEvents=c===this?Hf(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(DA),this.root.sharedNodes.clear()}}}function Zz(e){e.updateLayout()}function Xz(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Ln(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],m=rn(h);h.min=r[d].min,h.max=h.min+m}):TB(s,t.layoutBox,r)&&Ln(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],m=rn(r[d]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const a=rl();Au(a,r,t.layoutBox);const l=rl();o?Au(l,e.applyTransform(i,!0),t.measuredBox):Au(l,r,t.layoutBox);const c=!_B(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:m}=d;if(h&&m){const x=mt();Tu(x,t.layoutBox,h.layoutBox);const y=mt();Tu(y,r,m.layoutBox),EB(x,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Jz(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Qz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eV(e){e.clearSnapshot()}function DA(e){e.clearMeasurements()}function tV(e){e.isLayoutDirty=!1}function nV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function MA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rV(e){e.resolveTargetDelta()}function iV(e){e.calcProjection()}function sV(e){e.resetSkewAndRotation()}function oV(e){e.removeLeadSnapshot()}function UA(e,t,n){e.translate=lt(t.translate,0,n),e.scale=lt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function LA(e,t,n,r){e.min=lt(t.min,n.min,r),e.max=lt(t.max,n.max,r)}function aV(e,t,n,r){LA(e.x,t.x,n.x,r),LA(e.y,t.y,n.y,r)}function lV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cV={duration:.45,ease:[.4,0,.1,1]},PA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),FA=PA("applewebkit/")&&!PA("chrome/")?Math.round:Zn;function zA(e){e.min=FA(e.min),e.max=FA(e.max)}function uV(e){zA(e.x),zA(e.y)}function TB(e,t,n){return e==="position"||e==="preserve-aspect"&&!fz(RA(t),RA(n),.2)}function dV(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const fV=AB({attachResizeListener:(e,t)=>o0(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iy={current:void 0},kB=AB({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iy.current){const e=new fV({});e.mount(window),e.setOptions({layoutScroll:!0}),iy.current=e}return iy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hV={pan:{Feature:Iz},drag:{Feature:kz,ProjectionNode:kB,MeasureLayout:xB}};function VA(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ze.postRender(()=>s(t,J0(t)))}class mV extends no{mount(){const{current:t}=this.node;t&&(this.unmount=P9(t,(n,r)=>(VA(this.node,r,"Start"),i=>VA(this.node,i,"End"))))}unmount(){}}class pV extends no{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Y0(o0(this.node.current,"focus",()=>this.onFocus()),o0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $A(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ze.postRender(()=>s(t,J0(t)))}class gV extends no{mount(){const{current:t}=this.node;t&&(this.unmount=$9(t,(n,r)=>($A(this.node,r,"Start"),(i,{success:s})=>$A(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ov=new WeakMap,sy=new WeakMap,yV=e=>{const t=Ov.get(e.target);t&&t(e)},bV=e=>{e.forEach(yV)};function vV({root:e,...t}){const n=e||document;sy.has(n)||sy.set(n,{});const r=sy.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(bV,{root:e,...t})),r[i]}function xV(e,t,n){const r=vV(t);return Ov.set(e,n),r.observe(e),()=>{Ov.delete(e),r.unobserve(e)}}const wV={some:0,all:1};class SV extends no{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:wV[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return xV(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(_V(t,n))&&this.startObserver()}unmount(){}}function _V({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const EV={inView:{Feature:SV},tap:{Feature:gV},focus:{Feature:pV},hover:{Feature:mV}},CV={layout:{ProjectionNode:kB,MeasureLayout:xB}},Dv={current:null},IB={current:!1};function AV(){if(IB.current=!0,!!Bw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dv.current=e.matches;e.addListener(t),t()}else Dv.current=!1}const TV=new WeakMap;function kV(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Mt(i))e.addValue(r,i);else if(Mt(s))e.addValue(r,Zo(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Zo(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const HA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IV{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=mn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ze.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Qm(n),this.isVariantNode=ZI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const m=d[h];l[h]!==void 0&&Mt(m)&&m.set(l[h],!1)}}mount(t){this.current=t,TV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),IB.current||AV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pi(this.notifyUpdate),Pi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=hc.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Rl){const n=Rl[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<HA.length;r++){const i=HA[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=kV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Zo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(rI(r)||sI(r))?r=parseFloat(r):!Y9(r)&&qs.test(n)&&(r=zI(t,n)),this.setBaseTarget(t,Mt(r)?r.get():r)),Mt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=sS(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Mt(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Mw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class BB extends IV{constructor(){super(...arguments),this.KeyframeResolver=O9}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NB(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}function BV(e){return window.getComputedStyle(e)}class NV extends BB{constructor(){super(...arguments),this.type="html",this.renderInstance=NB}readValueFromInstance(t,n){var r;if(hc.has(n))return(r=this.projection)!=null&&r.isProjecting?Sv(n):QP(t,n);{const i=BV(t),s=(Pw(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return gB(t,n)}build(t,n,r){nS(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return oS(t,n,r)}}const jB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jV(e,t,n,r){NB(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(jB.has(i)?i:tS(i),t.attrs[i])}class RV extends BB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(hc.has(n)){const r=FI(n);return r&&r.default||0}return n=jB.has(n)?n:tS(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return oB(t,n,r)}build(t,n,r){nB(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){jV(t,n,r,i)}mount(t){this.isSVGTag=iB(t.tagName),super.mount(t)}}const OV=(e,t)=>iS(e)?new RV(t):new NV(t,{allowProjection:e!==S.Fragment}),DV=jF({...iz,...EV,...hV,...CV},OV),Gt=rF(DV);function ol(e){const t=K0(()=>Zo(e)),{isStatic:n}=S.useContext(X0);if(n){const[,r]=S.useState(e);S.useEffect(()=>t.on("change",r),[])}return t}function RB(e,t){const n=ol(t()),r=()=>n.set(t());return r(),Nw(()=>{const i=()=>Ze.preRender(r,!1,!0),s=e.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Pi(r)}}),n}function MV(e){Eu.current=[],e();const t=RB(Eu.current,e);return Eu.current=void 0,t}function UV(e,t,n,r){if(typeof e=="function")return MV(e);const i=G9(t,n,r);return Array.isArray(e)?GA(e,i):GA([e],([s])=>i(s))}function GA(e,t){const n=K0(()=>[]);return RB(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}function Fc(e,t={}){const{isStatic:n}=S.useContext(X0),r=()=>Mt(e)?e.get():e;if(n)return UV(r);const i=ol(r());return S.useInsertionEffect(()=>q9(i,e,t),[i,JSON.stringify(t)]),i}const oy={damping:30,stiffness:100,mass:2};function OB({imageSrc:e,altText:t="Tilted card image",captionText:n="",containerHeight:r="300px",containerWidth:i="100%",imageHeight:s="300px",imageWidth:o="300px",scaleOnHover:a=1.1,rotateAmplitude:l=14,showMobileWarning:c=!0,showTooltip:u=!0,overlayContent:d=null,displayOverlayContent:h=!1}){const m=S.useRef(null),x=ol(0),y=ol(0),_=Fc(ol(0),oy),p=Fc(ol(0),oy),b=Fc(1,oy),g=Fc(0),E=Fc(0,{stiffness:350,damping:30,mass:1}),[C,N]=S.useState(0);function k(M){if(!m.current)return;const H=m.current.getBoundingClientRect(),Q=M.clientX-H.left-H.width/2,G=M.clientY-H.top-H.height/2,F=G/(H.height/2)*-l,V=Q/(H.width/2)*l;_.set(F),p.set(V),x.set(M.clientX-H.left),y.set(M.clientY-H.top);const B=G-C;E.set(-B*.6),N(G)}function j(){b.set(a),g.set(1)}function D(){g.set(0),b.set(1),_.set(0),p.set(0),E.set(0)}return f.jsxs("figure",{ref:m,className:"relative w-full h-full [perspective:800px] flex flex-col items-center justify-center",style:{height:r,width:i},onMouseMove:k,onMouseEnter:j,onMouseLeave:D,children:[c&&f.jsx("div",{className:"absolute top-4 text-center text-sm block sm:hidden",children:"This effect is not optimized for mobile. Check on desktop."}),f.jsxs(Gt.div,{className:"relative [transform-style:preserve-3d]",style:{width:o,height:s,rotateX:_,rotateY:p,scale:b},children:[f.jsx(Gt.img,{src:e,alt:t,className:"absolute top-0 left-0 object-cover rounded-[15px] will-change-transform [transform:translateZ(0)]",style:{width:o,height:s}}),h&&d&&f.jsx(Gt.div,{className:"absolute top-0 left-0 z-[2] will-change-transform [transform:translateZ(30px)]",children:d})]}),u&&f.jsx(Gt.figcaption,{className:"pointer-events-none absolute left-0 top-0 rounded-[4px] bg-white px-[10px] py-[4px] text-[10px] text-[#2d2d2d] opacity-0 z-[3] hidden sm:block",style:{x,y,opacity:g,rotate:E},children:n})]})}function LV({disasters:e,onDisasterClick:t}){const n=S.useRef(null),[r,i]=S.useState(!0),[s,o]=S.useState(null),[a,l]=S.useState(null);return S.useEffect(()=>{if(!n.current)return;console.log("Starting globe initialization..."),console.log("Container dimensions:",n.current.clientWidth,n.current.clientHeight),console.log("Disasters data:",e);let c,u,d,h,m,x;const _=(async()=>{var p;try{i(!0),o(null);const[b,g,E]=await Promise.all([Yt(()=>import("./three.module-CoRxeNK3.js").then(O=>O.d5),[]),Yt(()=>import("./three-globe-BqPkiR53.js"),__vite__mapDeps([0,1])),Yt(()=>import("./TrackballControls-DDCcbc-h.js"),__vite__mapDeps([2,1]))]),C=b,N=g.default,{TrackballControls:k}=E;console.log("Three.js modules loaded"),console.log("Fetching country data...");const j=await fetch("/ne_110m_admin_0_countries.geojson");if(!j.ok)throw new Error(`Failed to load country data: ${j.status} ${j.statusText}`);const D=await j.json();console.log("Country data loaded:",(p=D.features)==null?void 0:p.length,"countries");const M=new Set;console.log("All disaster locations:",e.map(O=>O.name));const H={turkey:["Turkey","Trkiye"],syria:["Syria","Syrian Arab Republic"],morocco:["Morocco"],libya:["Libya"],pakistan:["Pakistan"],afghanistan:["Afghanistan"],haiti:["Haiti"],philippines:["Philippines"],indonesia:["Indonesia"],japan:["Japan"],nepal:["Nepal"],chile:["Chile"],"new zealand":["New Zealand"],california:["United States of America","United States"],florida:["United States of America","United States"],texas:["United States of America","United States"],louisiana:["United States of America","United States"],"puerto rico":["Puerto Rico"],australia:["Australia"],greece:["Greece"],italy:["Italy"],portugal:["Portugal"],spain:["Spain"],france:["France"],germany:["Germany"],canada:["Canada"],brazil:["Brazil"],india:["India"],china:["China","People's Republic of China"],thailand:["Thailand"],myanmar:["Myanmar","Burma"],bangladesh:["Bangladesh"],"sri lanka":["Sri Lanka"],madagascar:["Madagascar"],mozambique:["Mozambique"],somalia:["Somalia"],kenya:["Kenya"],ethiopia:["Ethiopia"],sudan:["Sudan"],yemen:["Yemen"],iraq:["Iraq"],iran:["Iran","Islamic Republic of Iran"],ukraine:["Ukraine"],russia:["Russia","Russian Federation"],poland:["Poland"],romania:["Romania"],hungary:["Hungary"],"united kingdom":["United Kingdom"],uk:["United Kingdom"],usa:["United States of America","United States"],"united states":["United States of America","United States"],mexico:["Mexico"],colombia:["Colombia"],venezuela:["Venezuela"],ecuador:["Ecuador"],peru:["Peru"],bolivia:["Bolivia"],argentina:["Argentina"],"south africa":["South Africa"],nigeria:["Nigeria"],egypt:["Egypt"],algeria:["Algeria"]};console.log("Sample country properties:"),D.features.slice(0,5).forEach((O,z)=>{console.log(`Country ${z}:`,{allProperties:O.properties,NAME:O.properties.NAME,NAME_EN:O.properties.NAME_EN,NAME_LONG:O.properties.NAME_LONG,ADMIN:O.properties.ADMIN,propertyKeys:Object.keys(O.properties)})}),["Turkey","Syria","Japan"].forEach(O=>{console.log(`
Searching for "${O}":`),D.features.forEach((z,Z)=>{const ee=z.properties;Object.values(ee).some(de=>typeof de=="string"&&de.toLowerCase().includes(O.toLowerCase()))&&console.log(`Found match in country ${Z}:`,ee)})}),console.log("Final affected countries set:",Array.from(M)),M.clear(),e.forEach(O=>{const z=O.name.toLowerCase().trim();console.log(`
--- Processing actual disaster location: "${z}" ---`);let Z=!1;H[z]&&H[z].forEach(ee=>{const ue=D.features.find(de=>(de.properties.name||"").toLowerCase()===ee.toLowerCase());if(ue){const de=ue.properties.name;M.add(de),console.log(` Matched "${z}" to "${de}" via direct mapping`),Z=!0}}),Z||(console.log(`Trying direct search for "${z}"`),D.features.forEach(ee=>{const ue=(ee.properties.name||"").toLowerCase();ue===z?(M.add(ee.properties.name),console.log(` Exact match: "${z}" = "${ee.properties.name}"`),Z=!0):z.length>4&&(ue.includes(z)||z.includes(ue))&&(M.add(ee.properties.name),console.log(` Partial match: "${z}" ~ "${ee.properties.name}"`),Z=!0)})),Z||console.log(` No match found for "${z}"`)}),console.log("Final affected countries from actual disasters:",Array.from(M)),console.log("Creating globe..."),m=new N().globeImageUrl("//cdn.jsdelivr.net/npm/three-globe/example/img/earth-blue-marble.jpg").hexPolygonsData(D.features).hexPolygonResolution(3).hexPolygonMargin(.2).hexPolygonUseDots(!1).hexPolygonColor(O=>{const z=O.properties,Z=z.name||z.NAME||z.NAME_EN||z.ADMIN||z.NAME_LONG||"",ee=M.has(Z);return Math.random()<.02&&console.log(`Coloring country: "${Z}" -> ${ee?"RED (#dc2626)":"GOLDEN (#f7d794)"}`),ee?"#dc2626":"#f7d794"}).hexPolygonAltitude(.008).atmosphereColor("#fbbf24").atmosphereAltitude(.15),console.log("Setting up renderer..."),c=new C.WebGLRenderer({antialias:!0,alpha:!0}),c.setSize(n.current.clientWidth,n.current.clientHeight),c.setPixelRatio(window.devicePixelRatio),c.setClearColor(0,0),n.current.appendChild(c.domElement),console.log("Setting up scene..."),u=new C.Scene,u.add(m),u.add(new C.AmbientLight(16498468,Math.PI*.4)),u.add(new C.DirectionalLight(16708551,.8*Math.PI)),console.log("Setting up camera..."),d=new C.PerspectiveCamera,d.aspect=n.current.clientWidth/n.current.clientHeight,d.updateProjectionMatrix(),d.position.z=250,console.log("Setting up controls..."),h=new k(d,c.domElement),h.minDistance=120,h.maxDistance=800,h.rotateSpeed=2,h.zoomSpeed=.5,h.panSpeed=1,h.noZoom=!1,h.noPan=!1,h.staticMoving=!0,h.dynamicDampingFactor=.1;const G=()=>{n.current&&(d.aspect=n.current.clientWidth/n.current.clientHeight,d.updateProjectionMatrix(),c.setSize(n.current.clientWidth,n.current.clientHeight))};window.addEventListener("resize",G);const F=new C.Raycaster,V=new C.Vector2,B=O=>{if(!n.current)return;const z=n.current.getBoundingClientRect();V.x=(O.clientX-z.left)/z.width*2-1,V.y=-((O.clientY-z.top)/z.height)*2+1,F.setFromCamera(V,d);const Z=F.intersectObjects(u.children,!0);if(Z.length>0)for(const ee of Z){const ue=ee.object;if(ue.userData&&ue.userData.feature){const de=ue.userData.feature.properties.name;if(M.has(de)){const fe=e.filter(Fe=>{const Ke=Fe.name.toLowerCase().trim();return H[Ke]?H[Ke].some(J=>J.toLowerCase()===de.toLowerCase()):de.toLowerCase().includes(Ke)||Ke.includes(de.toLowerCase())});if(fe.length>0){l({country:de,disasters:fe,position:{x:O.clientX,y:O.clientY}}),console.log(`Clicked on ${de}, found ${fe.length} disasters`);break}}}}else l(null)};c.domElement.addEventListener("click",B),console.log("Starting animation loop...");const U=()=>{h.update(),c.render(u,d),x=requestAnimationFrame(U)};return U(),console.log("Globe initialization complete!"),i(!1),()=>{console.log("Cleaning up globe..."),window.removeEventListener("resize",G),c.domElement.removeEventListener("click",B),x&&cancelAnimationFrame(x),c&&c.domElement&&c.domElement.parentNode&&c.domElement.parentNode.removeChild(c.domElement),c&&c.dispose(),h&&h.dispose()}}catch(b){console.error("Error loading globe:",b),o(b instanceof Error?b.message:"Failed to load globe"),i(!1)}})();return()=>{_.then(p=>p&&p())}},[e]),s?f.jsx("div",{className:"w-full h-[70vh] flex items-center justify-center",children:f.jsxs("div",{className:"text-center bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-12 shadow-2xl",children:[f.jsx("div",{className:"text-red-600 mb-4",children:f.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsx("p",{className:"text-gray-900 font-['Cinzel'] text-xl mb-2",children:"Failed to load interactive globe"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel']",children:s})]})}):f.jsxs("div",{className:"relative w-full h-[70vh] overflow-hidden",children:[r&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:f.jsxs("div",{className:"text-center text-gray-900",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-gray-900 border-t-transparent mx-auto mb-6"}),f.jsx("p",{className:"font-['Cinzel'] text-xl",children:"Loading Global Disasters..."})]})}),f.jsx("div",{ref:n,className:"w-full h-full"}),a&&f.jsxs("div",{className:"absolute z-20 bg-white/95 backdrop-blur-xl rounded-2xl border border-amber-200 shadow-2xl p-6 max-w-md",style:{left:Math.min(a.position.x+10,window.innerWidth-400),top:Math.max(a.position.y-150,10)},children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 font-['Cinzel']",children:a.country}),f.jsx("button",{onClick:()=>l(null),className:"text-gray-500 hover:text-gray-700 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"grid grid-cols-1 gap-4 max-h-80 overflow-y-auto",children:a.disasters.map((c,u)=>f.jsx("div",{className:"relative",children:f.jsx(OB,{imageSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDIwMCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTUwIiBmaWxsPSJ0cmFuc3BhcmVudCIvPgo8L3N2Zz4K",altText:`${c.name} disaster relief`,captionText:c.name,containerHeight:"150px",containerWidth:"100%",imageHeight:"150px",imageWidth:"200px",scaleOnHover:1.05,rotateAmplitude:8,showMobileWarning:!1,showTooltip:!1,displayOverlayContent:!0,overlayContent:f.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-amber-100/90 to-amber-200/90 backdrop-blur-sm rounded-[15px] p-4 border border-amber-300/50",children:[f.jsx("h4",{className:"font-bold text-gray-900 font-['Cinzel'] mb-2 text-sm",children:c.name}),f.jsxs("div",{className:"text-xs text-gray-800 font-['Cinzel'] space-y-1 mb-3",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-semibold",children:"Type:"})," ",c.type]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-semibold",children:"Available:"})," $",c.amount.toLocaleString()]})]}),t&&f.jsx("button",{onClick:d=>{d.stopPropagation(),t(c),l(null)},className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-semibold py-1.5 px-3 rounded-lg transition-all duration-200 text-xs font-['Cinzel']",children:"View Details"})]})})},u))})]})]})}function PV({user:e,organization:t,events:n}){const r=vn(),i=c=>{const u=new Date(c),d=u.getFullYear(),h=String(u.getMonth()+1).padStart(2,"0");return`${String(u.getDate()).padStart(2,"0")}/${h}/${d}`},s=n.map(c=>({id:c.id,lat:o(c.disaster_location),lng:a(c.disaster_location),name:c.disaster_location,type:"Disaster Event",amount:c.estimated_amount_required}));function o(c){const u={Turkey:39.9334,Syria:34.8021,Morocco:31.7917,Libya:26.3351,Pakistan:30.3753,Afghanistan:33.9391,Haiti:18.9712,Philippines:12.8797,Indonesia:-.7893,Japan:36.2048,Nepal:28.3949,Chile:-35.6751,"New Zealand":-40.9006,California:36.7783,Florida:27.7663,Texas:31.9686,Louisiana:31.1695,"Puerto Rico":18.2208,Australia:-25.2744,Greece:39.0742,Italy:41.8719,Portugal:39.3999,Spain:40.4637,France:46.6034,Germany:51.1657,Canada:56.1304,Brazil:-14.235,India:20.5937,China:35.8617,Thailand:15.87,Myanmar:21.9162,Bangladesh:23.685,"Sri Lanka":7.8731,Madagascar:-18.7669,Mozambique:-18.6657,Somalia:5.1521,Kenya:-.0236,Ethiopia:9.145,Sudan:12.8628,Yemen:15.5527,Iraq:33.2232,Iran:32.4279,Ukraine:48.3794,Russia:61.524,Poland:51.9194,Romania:45.9432,Hungary:47.1625,"Czech Republic":49.8175,Slovakia:48.669,Slovenia:46.1512,Croatia:45.1,Bosnia:43.9159,Serbia:44.0165,Montenegro:42.7087,Albania:41.1533,"North Macedonia":41.6086,Bulgaria:42.7339,Moldova:47.4116,Belarus:53.7098,Lithuania:55.1694,Latvia:56.8796,Estonia:58.5953,Finland:61.9241,Sweden:60.1282,Norway:60.472,Denmark:56.2639,Netherlands:52.1326,Belgium:50.5039,Luxembourg:49.8153,Switzerland:46.8182,Austria:47.5162,Liechtenstein:47.166,Monaco:43.7384,"San Marino":43.9424,"Vatican City":41.9029,Malta:35.9375,Cyprus:35.1264,Iceland:64.9631,Ireland:53.4129,"United Kingdom":55.3781,Mexico:23.6345,Guatemala:15.7835,Belize:17.1899,"El Salvador":13.7942,Honduras:15.2,Nicaragua:12.8654,"Costa Rica":9.7489,Panama:8.538,Colombia:4.5709,Venezuela:6.4238,Guyana:4.8604,Suriname:3.9193,"French Guiana":3.9339,Ecuador:-1.8312,Peru:-9.19,Bolivia:-16.2902,Paraguay:-23.4425,Uruguay:-32.5228,Argentina:-38.4161,"South Africa":-30.5595,Namibia:-22.9576,Botswana:-22.3285,Zimbabwe:-19.0154,Zambia:-13.1339,Malawi:-13.2543,Tanzania:-6.369,Uganda:1.3733,Rwanda:-1.9403,Burundi:-3.3731,"Democratic Republic of Congo":-4.0383,"Republic of Congo":-.228,"Central African Republic":6.6111,Cameroon:7.3697,"Equatorial Guinea":1.6508,Gabon:-.8037,"So Tom and Prncipe":.1864,Chad:15.4542,Niger:17.6078,Mali:17.5707,"Burkina Faso":12.2383,"Ivory Coast":7.54,Ghana:7.9465,Togo:8.6195,Benin:9.3077,Nigeria:9.082,Senegal:14.4974,Gambia:13.4432,"Guinea-Bissau":11.8037,Guinea:9.9456,"Sierra Leone":8.4606,Liberia:6.4281,Algeria:28.0339,Tunisia:33.8869,Egypt:26.0975,default:0};return u[c]||u.default}function a(c){const u={Turkey:35.2433,Syria:38.9968,Morocco:-7.0926,Libya:17.2283,Pakistan:69.3451,Afghanistan:67.71,Haiti:-72.2852,Philippines:121.774,Indonesia:113.9213,Japan:138.2529,Nepal:84.124,Chile:-71.543,"New Zealand":174.886,California:-119.4179,Florida:-82.9001,Texas:-99.9018,Louisiana:-91.8677,"Puerto Rico":-66.5901,Australia:133.7751,Greece:21.8243,Italy:12.5674,Portugal:-8.2245,Spain:-3.7492,France:1.8883,Germany:10.4515,Canada:-106.3468,Brazil:-51.9253,India:78.9629,China:104.1954,Thailand:100.9925,Myanmar:95.956,Bangladesh:90.3563,"Sri Lanka":80.7718,Madagascar:46.8691,Mozambique:35.5296,Somalia:46.1996,Kenya:37.9062,Ethiopia:40.4897,Sudan:30.2176,Yemen:48.5164,Iraq:43.6793,Iran:53.688,Ukraine:31.1656,Russia:105.3188,Poland:19.1451,Romania:24.9668,Hungary:19.5033,"Czech Republic":15.4729,Slovakia:19.699,Slovenia:14.9955,Croatia:15.2,Bosnia:17.6791,Serbia:21.0059,Montenegro:19.3744,Albania:20.1683,"North Macedonia":21.7453,Bulgaria:25.4858,Moldova:28.3699,Belarus:27.9534,Lithuania:25.2797,Latvia:24.6032,Estonia:25.0136,Finland:25.7482,Sweden:18.6435,Norway:8.4689,Denmark:9.5018,Netherlands:5.2913,Belgium:4.4699,Luxembourg:6.1296,Switzerland:8.2275,Austria:14.5501,Liechtenstein:9.5554,Monaco:7.4246,"San Marino":12.4578,"Vatican City":12.4534,Malta:14.3754,Cyprus:33.4299,Iceland:-19.0208,Ireland:-8.2439,"United Kingdom":-3.436,Mexico:-102.5528,Guatemala:-90.2308,Belize:-88.4976,"El Salvador":-88.8965,Honduras:-86.2419,Nicaragua:-85.2072,"Costa Rica":-83.7534,Panama:-80.7821,Colombia:-74.2973,Venezuela:-66.5897,Guyana:-58.9302,Suriname:-56.0278,"French Guiana":-53.1258,Ecuador:-78.1834,Peru:-75.0152,Bolivia:-63.5887,Paraguay:-58.4438,Uruguay:-55.7658,Argentina:-63.6167,"South Africa":22.9375,Namibia:18.4941,Botswana:24.6849,Zimbabwe:29.1549,Zambia:27.8546,Malawi:34.3015,Tanzania:34.8888,Uganda:32.2903,Rwanda:29.8739,Burundi:29.9189,"Democratic Republic of Congo":21.7587,"Republic of Congo":15.8277,"Central African Republic":20.9394,Cameroon:12.3547,"Equatorial Guinea":10.2679,Gabon:11.6094,"So Tom and Prncipe":6.6131,Chad:18.7322,Niger:8.0817,Mali:-3.9962,"Burkina Faso":-1.5616,"Ivory Coast":-5.5471,Ghana:-1.0232,Togo:.8248,Benin:2.3158,Nigeria:8.6753,Senegal:-14.4524,Gambia:-15.3101,"Guinea-Bissau":-15.1804,Guinea:-9.6966,"Sierra Leone":-11.7799,Liberia:-9.4295,Algeria:1.6596,Tunisia:9.5375,Egypt:30.8025,default:0};return u[c]||u.default}const l=c=>{r(`/event/${c}`)};return f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"}),f.jsx("div",{className:"absolute inset-0 opacity-60",children:f.jsx("img",{src:"/assets/clouds.PNG",alt:"Divine Clouds",className:"w-full h-full object-cover"})})]}),f.jsx(kw,{}),f.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-6 py-8",style:{paddingTop:"100px"},children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6 font-['Cinzel'] drop-shadow-lg bg-gradient-to-b from-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Global Disaster Events"}),f.jsx("p",{className:"text-xl text-gray-800 font-['Cinzel'] max-w-3xl mx-auto leading-relaxed font-medium drop-shadow-md",children:"Explore active disaster relief funds around the world. Each red region represents a location where communities need divine support and compassion."})]}),f.jsx("div",{className:"mb-16",children:f.jsx(LV,{disasters:s})}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-8 font-['Cinzel'] text-center drop-shadow-lg bg-gradient-to-b from-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Sacred Relief Missions"}),n.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"mx-auto w-20 h-20 bg-amber-100/60 rounded-full flex items-center justify-center mb-6 shadow-lg",children:f.jsx("svg",{className:"w-10 h-10 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2-2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-xl font-medium drop-shadow-sm",children:"No active divine missions at this moment."}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] text-lg mt-2",children:"The heavens await new calls for aid."})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(c=>f.jsx("div",{id:`disaster-${c.id}`,className:"relative h-[420px]",children:f.jsx(OB,{imageSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjQyMCIgdmlld0JveD0iMCAwIDMwMCA0MjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iNDIwIiBmaWxsPSJ0cmFuc3BhcmVudCIvPgo8L3N2Zz4K",altText:`${c.title} disaster relief fund`,captionText:c.title,containerHeight:"420px",containerWidth:"100%",imageHeight:"420px",imageWidth:"320px",scaleOnHover:1.02,rotateAmplitude:8,showMobileWarning:!1,showTooltip:!1,displayOverlayContent:!0,overlayContent:f.jsxs("div",{className:"w-full h-full bg-amber-50/90 backdrop-blur-sm rounded-[15px] border border-amber-200 shadow-xl cursor-pointer transition-all duration-200 hover:shadow-2xl hover:border-amber-300 flex flex-col",onClick:u=>{u.stopPropagation(),l(c.id)},children:[f.jsxs("div",{className:"p-6 pb-4 border-b border-amber-100 flex-shrink-0",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 font-['Cinzel'] leading-tight min-h-[3.5rem] flex items-center drop-shadow-sm",children:c.title}),f.jsxs("div",{className:"inline-flex items-center bg-amber-100 border border-amber-200 rounded-full px-3 py-1",children:[f.jsxs("svg",{className:"w-4 h-4 mr-2 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsx("span",{className:"text-sm font-bold text-amber-800 font-['Cinzel'] drop-shadow-sm",children:c.disaster_location})]})]}),f.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-between",children:[f.jsxs("div",{className:"space-y-3 mb-4 flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center text-gray-800 font-['Cinzel'] text-sm font-medium",children:[f.jsx("svg",{className:"w-4 h-4 mr-2 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),f.jsx("span",{className:"drop-shadow-sm",children:i(c.created_at)})]}),f.jsxs("div",{className:"flex items-center text-gray-800 font-['Cinzel'] text-sm font-medium",children:[f.jsx("svg",{className:"w-4 h-4 mr-2 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),f.jsxs("span",{className:"font-bold text-amber-800 drop-shadow-sm",children:["$",c.estimated_amount_required.toLocaleString()]}),f.jsx("span",{className:"ml-1 text-gray-700",children:"needed"})]})]}),f.jsx("div",{className:"mb-4 flex-1",children:f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-sm leading-relaxed font-medium drop-shadow-sm h-[4.5rem] overflow-hidden",children:c.description.length>140?`${c.description.substring(0,140)}...`:c.description})}),f.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-amber-100 flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full shadow-sm"}),f.jsx("span",{className:"text-xs text-amber-800 font-['Cinzel'] font-bold drop-shadow-sm",children:"Sacred Mission Active"})]}),f.jsxs("div",{className:"flex items-center text-amber-700",children:[f.jsx("span",{className:"text-xs font-['Cinzel'] mr-1 font-bold drop-shadow-sm",children:"Enter Mission"}),f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})},c.id))})]}),!e&&f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 font-['Cinzel'] drop-shadow-lg bg-gradient-to-b from-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Answer the Divine Call to Serve"}),f.jsx("p",{className:"text-gray-800 mb-8 font-['Cinzel'] text-xl max-w-3xl mx-auto leading-relaxed font-medium drop-shadow-sm",children:"Join our sacred mission to distribute divine resources to communities touched by earthly trials. Your compassion can become their salvation."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsx(Eo,{to:"/login",className:"inline-flex items-center px-10 py-5 bg-gradient-to-r from-[#ffd700] to-[#ffed4e] text-gray-900 font-bold text-lg rounded-xl hover:from-[#ffed4e] hover:to-[#ffd700] transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] drop-shadow-sm",children:"Begin Sacred Journey"}),f.jsx(Eo,{to:"/",className:"inline-flex items-center px-10 py-5 bg-gray-900 hover:bg-gray-800 text-white font-bold text-lg rounded-xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] drop-shadow-sm",children:"Discover Our Mission"})]})]}),e&&t&&f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 font-['Cinzel'] text-center drop-shadow-lg bg-gradient-to-b from-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Divine Administration"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsx(Eo,{to:"/kyb",className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-5 px-8 rounded-xl text-center text-lg transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] drop-shadow-sm",children:"Sacred Registry"}),f.jsx(Eo,{to:"/petitions",className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-bold py-5 px-8 rounded-xl text-center text-lg transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] drop-shadow-sm",children:"Divine Petitions"}),f.jsx(Eo,{to:"/documents",className:"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white font-bold py-5 px-8 rounded-xl text-center text-lg transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] drop-shadow-sm",children:"Sacred Scrolls"})]})]})]})]})}function FV(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,s]=S.useState([]),[o,a]=S.useState(!0),l=tr();return S.useEffect(()=>{async function c(){try{const{data:{user:u}}=await l.auth.getUser();if(t(u),u){const{data:m}=await l.from("organizations").select("*").eq("user_id",u.id).single();r(m)}const{data:d,error:h}=await l.from("events").select("*").order("created_at",{ascending:!1});h?console.error("Error fetching events:",h):s(d||[])}catch(u){console.error("Error loading data:",u)}finally{a(!1)}}c()},[l]),o?f.jsx("div",{children:"Loading..."}):f.jsx(PV,{user:e,organization:n,events:i})}function zV({message:e="Loading...",size:t="medium"}){const n={small:"w-16 h-16",medium:"w-24 h-24",large:"w-32 h-32"},r={small:"text-sm",medium:"text-lg",large:"text-xl"};return f.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`${n[t]} relative`,children:[f.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent bg-gradient-to-r from-yellow-300 via-amber-400 to-yellow-300 animate-spin opacity-80",children:f.jsx("div",{className:"absolute inset-1 rounded-full bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"})}),f.jsx("div",{className:"absolute inset-2 rounded-full border-2 border-amber-300 animate-pulse",children:f.jsx("div",{className:"absolute inset-1 rounded-full bg-gradient-to-r from-amber-200 to-yellow-200 opacity-60"})}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-yellow-400 to-amber-400 rounded-full animate-pulse shadow-lg shadow-yellow-400/50",children:f.jsx("div",{className:"absolute inset-0 rounded-full bg-white opacity-60 animate-ping"})})}),f.jsx("div",{className:"absolute inset-0 animate-spin",style:{animationDuration:"3s"},children:[...Array(8)].map((i,s)=>f.jsx("div",{className:"absolute w-0.5 h-4 bg-gradient-to-t from-transparent to-yellow-400 opacity-70",style:{top:"-8px",left:"50%",transformOrigin:"50% 100%",transform:`translateX(-50%) rotate(${s*45}deg)`}},s))}),f.jsx("div",{className:"absolute inset-0",children:[...Array(6)].map((i,s)=>f.jsx("div",{className:"absolute w-1 h-1 bg-yellow-300 rounded-full animate-bounce opacity-60",style:{top:`${20+s*10}%`,left:`${15+s*12}%`,animationDelay:`${s*.2}s`,animationDuration:"2s"}},s))})]}),f.jsx("div",{className:`absolute inset-0 ${n[t]} rounded-full bg-gradient-to-r from-yellow-400/20 to-amber-400/20 blur-xl animate-pulse`})]}),f.jsxs("div",{className:"mt-6 text-center",children:[f.jsx("p",{className:`${r[t]} font-['Cinzel'] font-medium text-gray-800 drop-shadow-sm animate-pulse`,children:e}),f.jsx("div",{className:"flex justify-center mt-2 space-x-1",children:[...Array(3)].map((i,s)=>f.jsx("div",{className:"w-1 h-1 bg-amber-400 rounded-full animate-bounce",style:{animationDelay:`${s*.2}s`}},s))})]}),f.jsx("div",{className:"mt-4 text-center opacity-70",children:f.jsx("p",{className:"text-xs font-['Cinzel'] text-gray-600 italic",children:" Divine grace is loading "})})]})}function ay({text:e,speed:t=50,maxIterations:n=10,sequential:r=!1,revealDirection:i="start",useOriginalCharsOnly:s=!1,characters:o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+",className:a="",parentClassName:l="",encryptedClassName:c="",animateOn:u="hover",...d}){const[h,m]=S.useState(e),[x,y]=S.useState(!1),[_,p]=S.useState(!1),[b,g]=S.useState(new Set),[E,C]=S.useState(!1),N=S.useRef(null);S.useEffect(()=>{let j,D=0;const M=G=>{const F=e.length;switch(i){case"start":return G.size;case"end":return F-1-G.size;case"center":{const V=Math.floor(F/2),B=Math.floor(G.size/2),U=G.size%2===0?V+B:V-B-1;if(U>=0&&U<F&&!G.has(U))return U;for(let O=0;O<F;O++)if(!G.has(O))return O;return 0}default:return G.size}},H=s?Array.from(new Set(e.split(""))).filter(G=>G!==" "):o.split(""),Q=(G,F)=>{if(s){const V=G.split("").map((O,z)=>({char:O,isSpace:O===" ",index:z,isRevealed:F.has(z)})),B=V.filter(O=>!O.isSpace&&!O.isRevealed).map(O=>O.char);for(let O=B.length-1;O>0;O--){const z=Math.floor(Math.random()*(O+1));[B[O],B[z]]=[B[z],B[O]]}let U=0;return V.map(O=>O.isSpace?" ":O.isRevealed?G[O.index]:B[U++]).join("")}else return G.split("").map((V,B)=>V===" "?" ":F.has(B)?G[B]:H[Math.floor(Math.random()*H.length)]).join("")};return x?(p(!0),j=setInterval(()=>{g(G=>{if(r)if(G.size<e.length){const F=M(G),V=new Set(G);return V.add(F),m(Q(e,V)),V}else return clearInterval(j),p(!1),G;else return m(Q(e,G)),D++,D>=n&&(clearInterval(j),p(!1),m(e)),G})},t)):(m(e),g(new Set),p(!1)),()=>{j&&clearInterval(j)}},[x,e,t,n,r,i,o,s]),S.useEffect(()=>{if(u!=="view")return;const j=Q=>{Q.forEach(G=>{G.isIntersecting&&!E&&(y(!0),C(!0))})},D={root:null,rootMargin:"0px",threshold:.1},M=new IntersectionObserver(j,D),H=N.current;return H&&M.observe(H),()=>{H&&M.unobserve(H)}},[u,E]);const k=u==="hover"?{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)}:{};return f.jsxs(Gt.span,{ref:N,className:`inline-block whitespace-pre-wrap ${l}`,...k,...d,children:[f.jsx("span",{className:"sr-only",children:h}),f.jsx("span",{"aria-hidden":"true",children:h.split("").map((j,D)=>{const M=b.has(D)||!_||!x;return f.jsx("span",{className:M?a:c,children:j},D)})})]})}function VV({isOpen:e,onClose:t,eventTitle:n}){const[r,i]=S.useState("amount"),[s,o]=S.useState(""),[a,l]=S.useState(!1),[c,u]=S.useState(""),d="0x1234567890123456789012345678901234567890",h=()=>{s&&parseFloat(s)>0&&i("wallet")},m=async()=>{l(!0),u("Connecting to MetaMask...");try{if(!window.ethereum){u("MetaMask not found. Please install MetaMask extension."),l(!1);return}const _=await window.ethereum.request({method:"eth_requestAccounts"});if(_.length===0){u("No accounts found. Please unlock MetaMask."),l(!1);return}u("Connected! Preparing transaction...");const p=new window.Web3(window.ethereum),b=(parseFloat(s)*.001).toString(),g=p.utils.toWei(b,"ether"),E={to:d,from:_[0],value:g,data:"0x"};u("Please confirm the transaction in MetaMask...");const C=await window.ethereum.request({method:"eth_sendTransaction",params:[E]});u(`Transaction sent! Hash: ${C.substring(0,10)}...`),setTimeout(()=>{t(),u(""),l(!1),i("amount"),o("")},3e3)}catch(_){console.error("MetaMask connection error:",_);const p=_ instanceof Error?_.message:"Transaction failed";u(`Error: ${p}`),l(!1)}},x=()=>{u("Aztec wallet integration coming soon..."),setTimeout(()=>{u("")},2e3)},y=()=>{i("amount"),u(""),l(!1)};return S.useEffect(()=>{e||(i("amount"),o(""),u(""),l(!1))},[e]),f.jsx(n0,{children:e&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[f.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),f.jsx(Gt.div,{initial:{opacity:0,scale:.8,rotateX:-15},animate:{opacity:1,scale:1,rotateX:0},exit:{opacity:0,scale:.8,rotateX:15},transition:{type:"spring",damping:20,stiffness:300},className:"relative max-w-md w-full",children:f.jsxs("div",{className:"relative rounded-2xl border-4 border-amber-800 shadow-2xl",style:{backgroundColor:"#cbb287"},children:[f.jsx("div",{className:"absolute -top-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -bottom-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -left-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsx("div",{className:"absolute -right-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsxs("div",{className:"p-8 pt-12 pb-12",children:[f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-amber-900 hover:text-black transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r==="wallet"&&f.jsx("button",{onClick:y,className:"absolute top-4 left-4 text-amber-900 hover:text-black transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r==="amount"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-['Cinzel'] mb-2 drop-shadow-sm",children:"Enter Donation Amount"}),f.jsxs("div",{className:"mt-2 text-gray-800 font-['Cinzel'] text-xs italic",children:["For: ",n]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-gray-900 font-['Cinzel'] font-bold mb-3 text-lg",children:"Amount (USDC)"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-700 font-['Cinzel'] text-xl font-bold",children:"$"}),f.jsx("input",{type:"number",value:s,onChange:_=>o(_.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-4 bg-white/20 backdrop-blur-sm border-2 border-amber-600/50 rounded-xl text-gray-900 font-['Cinzel'] text-xl font-bold placeholder-gray-600 focus:outline-none focus:border-amber-700 focus:bg-white/30 transition-all"})]})]}),f.jsx("button",{onClick:h,disabled:!s||parseFloat(s)<=0,className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 disabled:text-gray-500 text-gray-900 font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel']",children:"Continue to Payment"})]}),r==="wallet"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-['Cinzel'] mb-2 drop-shadow-sm",children:"Choose your payment method"}),f.jsxs("div",{className:"mt-2 text-gray-800 font-['Cinzel'] text-sm",children:["Donating:"," ",f.jsxs("span",{className:"font-bold",children:["$",s," USDC"]})]}),f.jsxs("div",{className:"mt-1 text-gray-800 font-['Cinzel'] text-xs italic",children:["For: ",n]})]}),c&&f.jsx("div",{className:"mb-6 p-3 bg-amber-200/70 rounded-lg border border-amber-600/50",children:f.jsx("p",{className:"text-gray-900 font-['Cinzel'] text-sm text-center font-medium",children:c})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:m,disabled:a,className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 text-gray-900 font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel'] flex items-center justify-center",children:[f.jsx("img",{src:"/MetaMask.png",alt:"MetaMask",className:"w-6 h-6 mr-3"}),a?"Connecting...":"MetaMask Wallet"]}),f.jsxs("button",{onClick:x,disabled:a,className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 text-gray-900 font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel'] flex items-center justify-center",children:[f.jsx("svg",{className:"w-6 h-6 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 10.93 5.16-1.19 9-5.38 9-10.93V7l-10-5z"})}),"Aztec Wallet (macOS only)"]})]})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-xs italic",children:" Your generosity brings divine blessings "})})]})]})})]})})}function $V({isOpen:e,onClose:t,eventTitle:n,eventId:r,organization:i}){const[s,o]=S.useState(""),[a,l]=S.useState(!1),[c,u]=S.useState(""),[d,h]=S.useState(!1),m=tr(),x=async()=>{if(!s.trim()){u("Please provide a reason for your funding request.");return}l(!0),u("Processing your request...");try{const y=Math.floor(Math.random()*5e5)+5e4,{error:_}=await m.from("claims").insert({event_id:r,org_id:i.id,claimed_amount:y,reason:s.trim(),claim_state:"voting"});if(_)throw _;u(`Success! Your funding request for $${y.toLocaleString()} has been submitted for community voting.`),h(!0),setTimeout(()=>{t(),o(""),u(""),l(!1),h(!1),window.location.reload()},3e3)}catch(y){console.error("Error submitting funding request:",y),u(`Error: ${y instanceof Error?y.message:"Failed to submit request"}`),l(!1)}};return S.useEffect(()=>{e||(o(""),u(""),l(!1),h(!1))},[e]),f.jsx(n0,{children:e&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{paddingTop:"120px"},children:[f.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),f.jsx(Gt.div,{initial:{opacity:0,scale:.8,rotateX:-15},animate:{opacity:1,scale:1,rotateX:0},exit:{opacity:0,scale:.8,rotateX:15},transition:{type:"spring",damping:20,stiffness:300},className:"relative max-w-5xl w-full h-fit",style:{maxHeight:"calc(100vh - 160px)"},children:f.jsxs("div",{className:"relative rounded-2xl border-4 border-amber-800 shadow-2xl",style:{backgroundColor:"#cbb287"},children:[f.jsx("div",{className:"absolute -top-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -bottom-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -left-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsx("div",{className:"absolute -right-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsxs("div",{className:"p-6",children:[f.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-amber-900 hover:text-black transition-colors z-10",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"text-center mb-4",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 font-['Cinzel'] mb-1 drop-shadow-sm",children:"Request Funds"}),f.jsxs("div",{className:"flex justify-center items-center gap-3 text-gray-800 font-['Cinzel'] text-xs",children:[f.jsxs("span",{children:["For: ",f.jsx("span",{className:"font-bold",children:n})]}),f.jsx("span",{children:""}),f.jsxs("span",{children:["Org:"," ",f.jsx("span",{className:"font-bold",children:i.organization_name})]})]})]}),c&&f.jsx("div",{className:`mb-4 p-3 rounded-lg border ${d?"bg-green-200/70 border-green-600/50":c.startsWith("Error")?"bg-red-200/70 border-red-600/50":"bg-amber-200/70 border-amber-600/50"}`,children:f.jsx("p",{className:"text-gray-900 font-['Cinzel'] text-xs text-center font-medium",children:c})}),!d&&f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-900 font-['Cinzel'] font-bold mb-3 text-lg text-center",children:"Funding Request Justification"}),f.jsx("textarea",{value:s,onChange:y=>o(y.target.value),placeholder:"Please provide a detailed explanation of why you need funding for this disaster relief effort. Include specific plans, activities, beneficiaries, timeline, and expected impact...",rows:10,maxLength:2e3,className:"w-full p-4 bg-white/20 backdrop-blur-sm border-2 border-amber-600/50 rounded-xl text-gray-900 font-['Cinzel'] placeholder-gray-600 focus:outline-none focus:border-amber-700 focus:bg-white/30 transition-all resize-none text-sm leading-relaxed"}),f.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[f.jsx("div",{className:"text-gray-700 font-['Cinzel'] text-xs italic",children:" Include specific plans, timeline, beneficiaries, and expected outcomes"}),f.jsxs("div",{className:"text-gray-700 font-['Cinzel'] text-xs font-medium",children:[s.length,"/2000 characters"]})]})]})}),!d&&f.jsx("div",{className:"mt-4",children:f.jsx("button",{onClick:x,disabled:a||!s.trim(),className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 disabled:text-gray-500 text-gray-900 font-bold py-3 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel'] text-sm",children:a?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-900",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Request..."]}):"Submit Funding Request"})}),f.jsx("div",{className:"mt-3 text-center",children:f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-xs italic",children:" May your efforts bring hope to those in need "})})]})]})})]})})}var lS={};const HV=[["AF","AFG","004","ISO 3166-2:AF"],["AL","ALB","008","ISO 3166-2:AL"],["DZ","DZA","012","ISO 3166-2:DZ"],["AS","ASM","016","ISO 3166-2:AS"],["AD","AND","020","ISO 3166-2:AD"],["AO","AGO","024","ISO 3166-2:AO"],["AI","AIA","660","ISO 3166-2:AI"],["AQ","ATA","010","ISO 3166-2:AQ"],["AG","ATG","028","ISO 3166-2:AG"],["AR","ARG","032","ISO 3166-2:AR"],["AM","ARM","051","ISO 3166-2:AM"],["AW","ABW","533","ISO 3166-2:AW"],["AU","AUS","036","ISO 3166-2:AU"],["AT","AUT","040","ISO 3166-2:AT"],["AZ","AZE","031","ISO 3166-2:AZ"],["BS","BHS","044","ISO 3166-2:BS"],["BH","BHR","048","ISO 3166-2:BH"],["BD","BGD","050","ISO 3166-2:BD"],["BB","BRB","052","ISO 3166-2:BB"],["BY","BLR","112","ISO 3166-2:BY"],["BE","BEL","056","ISO 3166-2:BE"],["BZ","BLZ","084","ISO 3166-2:BZ"],["BJ","BEN","204","ISO 3166-2:BJ"],["BM","BMU","060","ISO 3166-2:BM"],["BT","BTN","064","ISO 3166-2:BT"],["BO","BOL","068","ISO 3166-2:BO"],["BA","BIH","070","ISO 3166-2:BA"],["BW","BWA","072","ISO 3166-2:BW"],["BV","BVT","074","ISO 3166-2:BV"],["BR","BRA","076","ISO 3166-2:BR"],["IO","IOT","086","ISO 3166-2:IO"],["BN","BRN","096","ISO 3166-2:BN"],["BG","BGR","100","ISO 3166-2:BG"],["BF","BFA","854","ISO 3166-2:BF"],["BI","BDI","108","ISO 3166-2:BI"],["KH","KHM","116","ISO 3166-2:KH"],["CM","CMR","120","ISO 3166-2:CM"],["CA","CAN","124","ISO 3166-2:CA"],["CV","CPV","132","ISO 3166-2:CV"],["KY","CYM","136","ISO 3166-2:KY"],["CF","CAF","140","ISO 3166-2:CF"],["TD","TCD","148","ISO 3166-2:TD"],["CL","CHL","152","ISO 3166-2:CL"],["CN","CHN","156","ISO 3166-2:CN"],["CX","CXR","162","ISO 3166-2:CX"],["CC","CCK","166","ISO 3166-2:CC"],["CO","COL","170","ISO 3166-2:CO"],["KM","COM","174","ISO 3166-2:KM"],["CG","COG","178","ISO 3166-2:CG"],["CD","COD","180","ISO 3166-2:CD"],["CK","COK","184","ISO 3166-2:CK"],["CR","CRI","188","ISO 3166-2:CR"],["CI","CIV","384","ISO 3166-2:CI"],["HR","HRV","191","ISO 3166-2:HR"],["CU","CUB","192","ISO 3166-2:CU"],["CY","CYP","196","ISO 3166-2:CY"],["CZ","CZE","203","ISO 3166-2:CZ"],["DK","DNK","208","ISO 3166-2:DK"],["DJ","DJI","262","ISO 3166-2:DJ"],["DM","DMA","212","ISO 3166-2:DM"],["DO","DOM","214","ISO 3166-2:DO"],["EC","ECU","218","ISO 3166-2:EC"],["EG","EGY","818","ISO 3166-2:EG"],["SV","SLV","222","ISO 3166-2:SV"],["GQ","GNQ","226","ISO 3166-2:GQ"],["ER","ERI","232","ISO 3166-2:ER"],["EE","EST","233","ISO 3166-2:EE"],["ET","ETH","231","ISO 3166-2:ET"],["FK","FLK","238","ISO 3166-2:FK"],["FO","FRO","234","ISO 3166-2:FO"],["FJ","FJI","242","ISO 3166-2:FJ"],["FI","FIN","246","ISO 3166-2:FI"],["FR","FRA","250","ISO 3166-2:FR"],["GF","GUF","254","ISO 3166-2:GF"],["PF","PYF","258","ISO 3166-2:PF"],["TF","ATF","260","ISO 3166-2:TF"],["GA","GAB","266","ISO 3166-2:GA"],["GM","GMB","270","ISO 3166-2:GM"],["GE","GEO","268","ISO 3166-2:GE"],["DE","DEU","276","ISO 3166-2:DE"],["GH","GHA","288","ISO 3166-2:GH"],["GI","GIB","292","ISO 3166-2:GI"],["GR","GRC","300","ISO 3166-2:GR"],["GL","GRL","304","ISO 3166-2:GL"],["GD","GRD","308","ISO 3166-2:GD"],["GP","GLP","312","ISO 3166-2:GP"],["GU","GUM","316","ISO 3166-2:GU"],["GT","GTM","320","ISO 3166-2:GT"],["GN","GIN","324","ISO 3166-2:GN"],["GW","GNB","624","ISO 3166-2:GW"],["GY","GUY","328","ISO 3166-2:GY"],["HT","HTI","332","ISO 3166-2:HT"],["HM","HMD","334","ISO 3166-2:HM"],["VA","VAT","336","ISO 3166-2:VA"],["HN","HND","340","ISO 3166-2:HN"],["HK","HKG","344","ISO 3166-2:HK"],["HU","HUN","348","ISO 3166-2:HU"],["IS","ISL","352","ISO 3166-2:IS"],["IN","IND","356","ISO 3166-2:IN"],["ID","IDN","360","ISO 3166-2:ID"],["IR","IRN","364","ISO 3166-2:IR"],["IQ","IRQ","368","ISO 3166-2:IQ"],["IE","IRL","372","ISO 3166-2:IE"],["IL","ISR","376","ISO 3166-2:IL"],["IT","ITA","380","ISO 3166-2:IT"],["JM","JAM","388","ISO 3166-2:JM"],["JP","JPN","392","ISO 3166-2:JP"],["JO","JOR","400","ISO 3166-2:JO"],["KZ","KAZ","398","ISO 3166-2:KZ"],["KE","KEN","404","ISO 3166-2:KE"],["KI","KIR","296","ISO 3166-2:KI"],["KP","PRK","408","ISO 3166-2:KP"],["KR","KOR","410","ISO 3166-2:KR"],["KW","KWT","414","ISO 3166-2:KW"],["KG","KGZ","417","ISO 3166-2:KG"],["LA","LAO","418","ISO 3166-2:LA"],["LV","LVA","428","ISO 3166-2:LV"],["LB","LBN","422","ISO 3166-2:LB"],["LS","LSO","426","ISO 3166-2:LS"],["LR","LBR","430","ISO 3166-2:LR"],["LY","LBY","434","ISO 3166-2:LY"],["LI","LIE","438","ISO 3166-2:LI"],["LT","LTU","440","ISO 3166-2:LT"],["LU","LUX","442","ISO 3166-2:LU"],["MO","MAC","446","ISO 3166-2:MO"],["MG","MDG","450","ISO 3166-2:MG"],["MW","MWI","454","ISO 3166-2:MW"],["MY","MYS","458","ISO 3166-2:MY"],["MV","MDV","462","ISO 3166-2:MV"],["ML","MLI","466","ISO 3166-2:ML"],["MT","MLT","470","ISO 3166-2:MT"],["MH","MHL","584","ISO 3166-2:MH"],["MQ","MTQ","474","ISO 3166-2:MQ"],["MR","MRT","478","ISO 3166-2:MR"],["MU","MUS","480","ISO 3166-2:MU"],["YT","MYT","175","ISO 3166-2:YT"],["MX","MEX","484","ISO 3166-2:MX"],["FM","FSM","583","ISO 3166-2:FM"],["MD","MDA","498","ISO 3166-2:MD"],["MC","MCO","492","ISO 3166-2:MC"],["MN","MNG","496","ISO 3166-2:MN"],["MS","MSR","500","ISO 3166-2:MS"],["MA","MAR","504","ISO 3166-2:MA"],["MZ","MOZ","508","ISO 3166-2:MZ"],["MM","MMR","104","ISO 3166-2:MM"],["NA","NAM","516","ISO 3166-2:NA"],["NR","NRU","520","ISO 3166-2:NR"],["NP","NPL","524","ISO 3166-2:NP"],["NL","NLD","528","ISO 3166-2:NL"],["NC","NCL","540","ISO 3166-2:NC"],["NZ","NZL","554","ISO 3166-2:NZ"],["NI","NIC","558","ISO 3166-2:NI"],["NE","NER","562","ISO 3166-2:NE"],["NG","NGA","566","ISO 3166-2:NG"],["NU","NIU","570","ISO 3166-2:NU"],["NF","NFK","574","ISO 3166-2:NF"],["MP","MNP","580","ISO 3166-2:MP"],["MK","MKD","807","ISO 3166-2:MK"],["NO","NOR","578","ISO 3166-2:NO"],["OM","OMN","512","ISO 3166-2:OM"],["PK","PAK","586","ISO 3166-2:PK"],["PW","PLW","585","ISO 3166-2:PW"],["PS","PSE","275","ISO 3166-2:PS"],["PA","PAN","591","ISO 3166-2:PA"],["PG","PNG","598","ISO 3166-2:PG"],["PY","PRY","600","ISO 3166-2:PY"],["PE","PER","604","ISO 3166-2:PE"],["PH","PHL","608","ISO 3166-2:PH"],["PN","PCN","612","ISO 3166-2:PN"],["PL","POL","616","ISO 3166-2:PL"],["PT","PRT","620","ISO 3166-2:PT"],["PR","PRI","630","ISO 3166-2:PR"],["QA","QAT","634","ISO 3166-2:QA"],["RE","REU","638","ISO 3166-2:RE"],["RO","ROU","642","ISO 3166-2:RO"],["RU","RUS","643","ISO 3166-2:RU"],["RW","RWA","646","ISO 3166-2:RW"],["SH","SHN","654","ISO 3166-2:SH"],["KN","KNA","659","ISO 3166-2:KN"],["LC","LCA","662","ISO 3166-2:LC"],["PM","SPM","666","ISO 3166-2:PM"],["VC","VCT","670","ISO 3166-2:VC"],["WS","WSM","882","ISO 3166-2:WS"],["SM","SMR","674","ISO 3166-2:SM"],["ST","STP","678","ISO 3166-2:ST"],["SA","SAU","682","ISO 3166-2:SA"],["SN","SEN","686","ISO 3166-2:SN"],["SC","SYC","690","ISO 3166-2:SC"],["SL","SLE","694","ISO 3166-2:SL"],["SG","SGP","702","ISO 3166-2:SG"],["SK","SVK","703","ISO 3166-2:SK"],["SI","SVN","705","ISO 3166-2:SI"],["SB","SLB","090","ISO 3166-2:SB"],["SO","SOM","706","ISO 3166-2:SO"],["ZA","ZAF","710","ISO 3166-2:ZA"],["GS","SGS","239","ISO 3166-2:GS"],["ES","ESP","724","ISO 3166-2:ES"],["LK","LKA","144","ISO 3166-2:LK"],["SD","SDN","729","ISO 3166-2:SD"],["SR","SUR","740","ISO 3166-2:SR"],["SJ","SJM","744","ISO 3166-2:SJ"],["SZ","SWZ","748","ISO 3166-2:SZ"],["SE","SWE","752","ISO 3166-2:SE"],["CH","CHE","756","ISO 3166-2:CH"],["SY","SYR","760","ISO 3166-2:SY"],["TW","TWN","158","ISO 3166-2:TW"],["TJ","TJK","762","ISO 3166-2:TJ"],["TZ","TZA","834","ISO 3166-2:TZ"],["TH","THA","764","ISO 3166-2:TH"],["TL","TLS","626","ISO 3166-2:TL"],["TG","TGO","768","ISO 3166-2:TG"],["TK","TKL","772","ISO 3166-2:TK"],["TO","TON","776","ISO 3166-2:TO"],["TT","TTO","780","ISO 3166-2:TT"],["TN","TUN","788","ISO 3166-2:TN"],["TR","TUR","792","ISO 3166-2:TR"],["TM","TKM","795","ISO 3166-2:TM"],["TC","TCA","796","ISO 3166-2:TC"],["TV","TUV","798","ISO 3166-2:TV"],["UG","UGA","800","ISO 3166-2:UG"],["UA","UKR","804","ISO 3166-2:UA"],["AE","ARE","784","ISO 3166-2:AE"],["GB","GBR","826","ISO 3166-2:GB"],["US","USA","840","ISO 3166-2:US"],["UM","UMI","581","ISO 3166-2:UM"],["UY","URY","858","ISO 3166-2:UY"],["UZ","UZB","860","ISO 3166-2:UZ"],["VU","VUT","548","ISO 3166-2:VU"],["VE","VEN","862","ISO 3166-2:VE"],["VN","VNM","704","ISO 3166-2:VN"],["VG","VGB","092","ISO 3166-2:VG"],["VI","VIR","850","ISO 3166-2:VI"],["WF","WLF","876","ISO 3166-2:WF"],["EH","ESH","732","ISO 3166-2:EH"],["YE","YEM","887","ISO 3166-2:YE"],["ZM","ZMB","894","ISO 3166-2:ZM"],["ZW","ZWE","716","ISO 3166-2:ZW"],["AX","ALA","248","ISO 3166-2:AX"],["BQ","BES","535","ISO 3166-2:BQ"],["CW","CUW","531","ISO 3166-2:CW"],["GG","GGY","831","ISO 3166-2:GG"],["IM","IMN","833","ISO 3166-2:IM"],["JE","JEY","832","ISO 3166-2:JE"],["ME","MNE","499","ISO 3166-2:ME"],["BL","BLM","652","ISO 3166-2:BL"],["MF","MAF","663","ISO 3166-2:MF"],["RS","SRB","688","ISO 3166-2:RS"],["SX","SXM","534","ISO 3166-2:SX"],["SS","SSD","728","ISO 3166-2:SS"],["XK","XKK","983","ISO 3166-2:XK"]],GV=["br","cy","dv","sw","eu","af","am","ha","ku","ml","mt","no","ps","sd","so","sq","ta","tg","tt","ug","ur","vi","ar","az","be","bg","bn","bs","ca","cs","da","de","el","en","es","et","fa","fi","fr","ga","gl","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","ko","ky","lt","lv","mk","mn","mr","ms","nb","nl","nn","pl","pt","ro","ru","sk","sl","sr","sv","th","tk","tr","uk","uz","zh"];var ep={};ep.remove=qV;var qf=[{base:" ",chars:""},{base:"0",chars:""},{base:"A",chars:""},{base:"AA",chars:""},{base:"AE",chars:""},{base:"AO",chars:""},{base:"AU",chars:""},{base:"AV",chars:""},{base:"AY",chars:""},{base:"B",chars:""},{base:"C",chars:"C"},{base:"D",chars:""},{base:"Dh",chars:""},{base:"DZ",chars:""},{base:"Dz",chars:""},{base:"E",chars:""},{base:"F",chars:""},{base:"G",chars:""},{base:"H",chars:""},{base:"I",chars:""},{base:"J",chars:""},{base:"K",chars:""},{base:"L",chars:""},{base:"LJ",chars:""},{base:"Lj",chars:""},{base:"M",chars:""},{base:"N",chars:""},{base:"NJ",chars:""},{base:"Nj",chars:""},{base:"O",chars:""},{base:"OE",chars:""},{base:"OI",chars:""},{base:"OO",chars:""},{base:"OU",chars:""},{base:"P",chars:""},{base:"Q",chars:""},{base:"R",chars:""},{base:"S",chars:""},{base:"T",chars:""},{base:"Th",chars:""},{base:"TZ",chars:""},{base:"U",chars:""},{base:"V",chars:""},{base:"VY",chars:""},{base:"W",chars:""},{base:"X",chars:""},{base:"Y",chars:""},{base:"Z",chars:""},{base:"a",chars:""},{base:"aa",chars:""},{base:"ae",chars:""},{base:"ao",chars:""},{base:"au",chars:""},{base:"av",chars:""},{base:"ay",chars:""},{base:"b",chars:""},{base:"c",chars:""},{base:"d",chars:""},{base:"dh",chars:""},{base:"dz",chars:""},{base:"e",chars:""},{base:"f",chars:""},{base:"ff",chars:""},{base:"fi",chars:""},{base:"fl",chars:""},{base:"ffi",chars:""},{base:"ffl",chars:""},{base:"g",chars:""},{base:"h",chars:""},{base:"hv",chars:""},{base:"i",chars:""},{base:"j",chars:""},{base:"k",chars:""},{base:"l",chars:""},{base:"lj",chars:""},{base:"m",chars:""},{base:"n",chars:""},{base:"nj",chars:""},{base:"o",chars:""},{base:"oe",chars:""},{base:"oi",chars:""},{base:"oo",chars:""},{base:"ou",chars:""},{base:"p",chars:""},{base:"q",chars:""},{base:"r",chars:""},{base:"s",chars:""},{base:"ss",chars:""},{base:"t",chars:""},{base:"th",chars:""},{base:"tz",chars:""},{base:"u",chars:""},{base:"v",chars:""},{base:"vy",chars:""},{base:"w",chars:""},{base:"x",chars:""},{base:"y",chars:""},{base:"z",chars:""}],cS={};for(var tf=0;tf<qf.length;tf+=1)for(var qA=qf[tf].chars,ly=0;ly<qA.length;ly+=1)cS[qA[ly]]=qf[tf].base;function qV(e){return e.replace(/[^\u0000-\u007e]/g,function(t){return cS[t]||t})}ep.replacementList=qf;ep.diacriticsMap=cS;(function(e){const t=HV,n=GV,r=ep.remove,i={},s={},o={},a={},l={};t.forEach(function(C){const N=C;s[N[0]]=N[1],o[N[1]]=N[0],a[N[2]]=N[0],l[N[0]]=N[2]});function c(C){return("000"+(C||"")).slice(-3)}function u(C,N){return Object.prototype.hasOwnProperty.call(C,N)}function d(C,N){return Object.keys(C).reduce(function(k,j){const D=C[j];return k[j]=N(D,j),k},{})}function h(C,N){switch(C){case"official":return Array.isArray(N)?N[0]:N;case"all":return typeof N=="string"?[N]:N;case"alias":return Array.isArray(N)?N[1]||N[0]:N;default:throw new TypeError("LocaleNameType must be one of these: all, official, alias!")}}e.registerLocale=function(C){if(!C.locale)throw new TypeError("Missing localeData.locale");if(!C.countries)throw new TypeError("Missing localeData.countries");i[C.locale]=C.countries};function m(C){return o[C]}e.alpha3ToAlpha2=m;function x(C){return s[C]}e.alpha2ToAlpha3=x;function y(C){return l[m(C)]}e.alpha3ToNumeric=y;function _(C){return l[C]}e.alpha2ToNumeric=_;function p(C){const N=c(C);return x(a[N])}e.numericToAlpha3=p;function b(C){const N=c(C);return a[N]}e.numericToAlpha2=b;function g(C){if(typeof C=="string"){if(/^[0-9]*$/.test(C))return p(C);if(C.length===2)return x(C.toUpperCase());if(C.length===3)return C.toUpperCase()}if(typeof C=="number")return p(C)}e.toAlpha3=g;function E(C){if(typeof C=="string"){if(/^[0-9]*$/.test(C))return b(C);if(C.length===2)return C.toUpperCase();if(C.length===3)return m(C.toUpperCase())}if(typeof C=="number")return b(C)}e.toAlpha2=E,e.getName=function(C,N,k={}){"select"in k||(k.select="official");try{const D=i[N.toLowerCase()][E(C)];return h(k.select,D)}catch{return}},e.getNames=function(C,N={}){"select"in N||(N.select="official");const k=i[C.toLowerCase()];return k===void 0?{}:d(k,function(j){return h(N.select,j)})},e.getAlpha2Code=function(C,N){const k=D=>D.toLowerCase(),j=(D,M)=>k(D)===k(M);try{const D=i[N.toLowerCase()];for(const M in D)if(u(D,M)){if(typeof D[M]=="string"&&j(D[M],C))return M;if(Array.isArray(D[M])){for(const H of D[M])if(j(H,C))return M}}return}catch{return}},e.getSimpleAlpha2Code=function(C,N){const k=D=>r(D.toLowerCase()),j=(D,M)=>k(D)===k(M);try{const D=i[N.toLowerCase()];for(const M in D)if(u(D,M)){if(typeof D[M]=="string"&&j(D[M],C))return M;if(Array.isArray(D[M])){for(const H of D[M])if(j(H,C))return M}}return}catch{return}},e.getAlpha2Codes=function(){return s},e.getAlpha3Code=function(C,N){const k=e.getAlpha2Code(C,N);if(k)return e.toAlpha3(k)},e.getSimpleAlpha3Code=function(C,N){const k=e.getSimpleAlpha2Code(C,N);if(k)return e.toAlpha3(k)},e.getAlpha3Codes=function(){return o},e.getNumericCodes=function(){return a},e.langs=function(){return Object.keys(i)},e.getSupportedLanguages=function(){return n},e.isValid=function(C){if(!C)return!1;const N=C.toString().toUpperCase();return u(o,N)||u(s,N)||u(a,N)}})(lS);let KV=class Ct{constructor(t){re(this,"bytes");this.bytes=Ct.convertToBytes(t)}static convertToBytes(t){var n,r;if(typeof t=="bigint"||typeof t=="number"){const i=t.toString(16),s=i.padStart(Math.ceil(i.length/2)*2,"0");return new Uint8Array(((n=s.match(/.{1,2}/g))==null?void 0:n.map(o=>parseInt(o,16)))||[])}if(t instanceof Uint8Array)return new Uint8Array(t);if(Buffer.isBuffer(t))return new Uint8Array(t);if(Array.isArray(t)){if(!t.every(i=>typeof i=="number"&&i>=0&&i<=255))throw new Error("Invalid byte array: values must be between 0 and 255");return new Uint8Array(t)}if(t instanceof ArrayBuffer)return new Uint8Array(t);if(typeof t=="string"){if(Ct.isHexString(t)){const i=t.startsWith("0x")?t.slice(2):t,s=i.padStart(Math.ceil(i.length/2)*2,"0");return new Uint8Array(((r=s.match(/.{1,2}/g))==null?void 0:r.map(o=>parseInt(o,16)))||[])}try{const i=BigInt(t);return Ct.convertToBytes(i)}catch{return new Uint8Array(Buffer.from(t,"ascii"))}}throw new Error("Unsupported data type")}static isHexString(t){const n=t.startsWith("0x")?t.slice(2):t;return/^[0-9a-fA-F]*$/.test(n)}static from(t){return new Ct(t)}static fromHex(t){if(!Ct.isHexString(t))throw new Error("Invalid hex string");return new Ct(t.startsWith("0x")?t:"0x"+t)}static fromBuffer(t){return new Ct(t)}static fromBase64(t){const n=atob(t);return new Ct(Uint8Array.from(n,r=>r.charCodeAt(0)))}static empty(){return new Ct(new Uint8Array(0))}static zero(t){return new Ct(new Uint8Array(t))}toBigInt(){return BigInt("0x"+this.toHex().slice(2))}toUInt8Array(){return new Uint8Array(this.bytes)}toNumberArray(){return Array.from(this.bytes)}toHex(){return"0x"+Array.from(this.bytes).map(t=>t.toString(16).padStart(2,"0")).join("")}toBuffer(){return Buffer.from(this.bytes)}toString(t="hex"){return t==="hex"?this.toHex().slice(2):Buffer.from(this.bytes).toString(t)}toBase64(){return btoa(String.fromCharCode(...this.bytes))}toJSON(){return this.toHex()}[Symbol.for("nodejs.util.inspect.custom")](){return`Binary(${this.toHex()})`}[Symbol.toPrimitive](t){switch(t){case"number":return Number(this.toBigInt());case"string":return`Binary(${this.toHex()})`;default:return this.toBigInt()}}valueOf(){return this.toBigInt()}get length(){return this.bytes.length}*[Symbol.iterator](){yield*this.bytes}equals(t){return this.length!==t.length?!1:this.bytes.every((n,r)=>n===t.bytes[r])}slice(t,n){return new Ct(this.bytes.slice(t,n))}concat(t){return new Ct([...this.toNumberArray(),...t.toNumberArray()])}[Symbol.for("+")](t){return this.concat(t)}compare(t){const n=Math.min(this.length,t.length);for(let r=0;r<n;r++){const i=this.bytes[r]-t.bytes[r];if(i!==0)return i}return this.length-t.length}xor(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for XOR operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]^t.bytes[r];return new Ct(n)}and(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for AND operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]&t.bytes[r];return new Ct(n)}or(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for OR operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]|t.bytes[r];return new Ct(n)}not(){const t=new Uint8Array(this.length);for(let n=0;n<this.length;n++)t[n]=~this.bytes[n]&255;return new Ct(t)}padStart(t,n=0){if(this.length>=t)return this;const r=new Uint8Array(t);return r.fill(n,0,t-this.length),r.set(this.bytes,t-this.length),new Ct(r)}padEnd(t,n=0){if(this.length>=t)return this;const r=new Uint8Array(t);return r.set(this.bytes),r.fill(n,this.length),new Ct(r)}};const Ta=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function YV(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function KA(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Q0(e,...t){if(!YV(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function nne(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");KA(e.outputLen),KA(e.blockLen)}function YA(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function WV(e,t){Q0(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function rne(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Mv(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function cy(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function kr(e,t){return e<<32-t|e>>>t}const ZV=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function XV(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function JV(e){for(let t=0;t<e.length;t++)e[t]=XV(e[t]);return e}const ine=ZV?e=>e:JV,DB=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",QV=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function sne(e){if(Q0(e),DB)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=QV[e[n]];return t}const ai={_0:48,_9:57,A:65,F:70,a:97,f:102};function WA(e){if(e>=ai._0&&e<=ai._9)return e-ai._0;if(e>=ai.A&&e<=ai.F)return e-(ai.A-10);if(e>=ai.a&&e<=ai.f)return e-(ai.a-10)}function e$(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(DB)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=WA(e.charCodeAt(s)),a=WA(e.charCodeAt(s+1));if(o===void 0||a===void 0){const l=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function t$(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function MB(e){return typeof e=="string"&&(e=t$(e)),Q0(e),e}function one(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];Q0(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class n${}function r$(e){const t=r=>e().update(MB(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ane(e=32){if(Ta&&typeof Ta.getRandomValues=="function")return Ta.getRandomValues(new Uint8Array(e));if(Ta&&typeof Ta.randomBytes=="function")return Uint8Array.from(Ta.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function i$(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)}function s$(e,t,n){return e&t^~e&n}function o$(e,t,n){return e&t^e&n^t&n}class a$ extends n${constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=cy(this.buffer)}update(t){YA(this),t=MB(t),Q0(t);const{view:n,buffer:r,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=cy(t);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){YA(this),WV(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Mv(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;i$(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=cy(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const rs=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),l$=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),is=new Uint32Array(64);class c$ extends a${constructor(t=32){super(64,t,8,!1),this.A=rs[0]|0,this.B=rs[1]|0,this.C=rs[2]|0,this.D=rs[3]|0,this.E=rs[4]|0,this.F=rs[5]|0,this.G=rs[6]|0,this.H=rs[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[t,n,r,i,s,o,a,l]}set(t,n,r,i,s,o,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(t,n){for(let d=0;d<16;d++,n+=4)is[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=is[d-15],m=is[d-2],x=kr(h,7)^kr(h,18)^h>>>3,y=kr(m,17)^kr(m,19)^m>>>10;is[d]=y+is[d-7]+x+is[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const h=kr(a,6)^kr(a,11)^kr(a,25),m=u+h+s$(a,l,c)+l$[d]+is[d]|0,y=(kr(r,2)^kr(r,13)^kr(r,22))+o$(r,i,s)|0;u=c,c=l,l=a,a=o+m|0,o=s,s=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){Mv(is)}destroy(){this.set(0,0,0,0,0,0,0,0),Mv(this.buffer)}}const mc=r$(()=>new c$);/*!
 * MIT License
 * 
 * Copyright (c) 2017-2024 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const u$="[object ArrayBuffer]";class Te{static isArrayBuffer(t){return Object.prototype.toString.call(t)===u$}static toArrayBuffer(t){return this.isArrayBuffer(t)?t:t.byteLength===t.buffer.byteLength||t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:this.toUint8Array(t.buffer).slice(t.byteOffset,t.byteOffset+t.byteLength).buffer}static toUint8Array(t){return this.toView(t,Uint8Array)}static toView(t,n){if(t.constructor===n)return t;if(this.isArrayBuffer(t))return new n(t);if(this.isArrayBufferView(t))return new n(t.buffer,t.byteOffset,t.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(t){return this.isArrayBufferView(t)||this.isArrayBuffer(t)}static isArrayBufferView(t){return ArrayBuffer.isView(t)||t&&this.isArrayBuffer(t.buffer)}static isEqual(t,n){const r=Te.toUint8Array(t),i=Te.toUint8Array(n);if(r.length!==i.byteLength)return!1;for(let s=0;s<r.length;s++)if(r[s]!==i[s])return!1;return!0}static concat(...t){let n;Array.isArray(t[0])&&!(t[1]instanceof Function)||Array.isArray(t[0])&&t[1]instanceof Function?n=t[0]:t[t.length-1]instanceof Function?n=t.slice(0,t.length-1):n=t;let r=0;for(const o of n)r+=o.byteLength;const i=new Uint8Array(r);let s=0;for(const o of n){const a=this.toUint8Array(o);i.set(a,s),s+=a.length}return t[t.length-1]instanceof Function?this.toView(i,t[t.length-1]):i.buffer}}const uy="string",d$=/^[0-9a-f\s]+$/i,f$=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,h$=/^[a-zA-Z0-9-_]+$/;class ZA{static fromString(t){const n=unescape(encodeURIComponent(t)),r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r.buffer}static toString(t){const n=Te.toUint8Array(t);let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return decodeURIComponent(escape(r))}}class Ir{static toString(t,n=!1){const r=Te.toArrayBuffer(t),i=new DataView(r);let s="";for(let o=0;o<r.byteLength;o+=2){const a=i.getUint16(o,n);s+=String.fromCharCode(a)}return s}static fromString(t,n=!1){const r=new ArrayBuffer(t.length*2),i=new DataView(r);for(let s=0;s<t.length;s++)i.setUint16(s*2,t.charCodeAt(s),n);return r}}class rt{static isHex(t){return typeof t===uy&&d$.test(t)}static isBase64(t){return typeof t===uy&&f$.test(t)}static isBase64Url(t){return typeof t===uy&&h$.test(t)}static ToString(t,n="utf8"){const r=Te.toUint8Array(t);switch(n.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return Ir.toString(r,!0);case"utf16":case"utf16be":return Ir.toString(r);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromString(t,n="utf8"){if(!t)return new ArrayBuffer(0);switch(n.toLowerCase()){case"utf8":return this.FromUtf8String(t);case"binary":return this.FromBinary(t);case"hex":return this.FromHex(t);case"base64":return this.FromBase64(t);case"base64url":return this.FromBase64Url(t);case"utf16le":return Ir.fromString(t,!0);case"utf16":case"utf16be":return Ir.fromString(t);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToBase64(t){const n=Te.toUint8Array(t);if(typeof btoa<"u"){const r=this.ToString(n,"binary");return btoa(r)}else return Buffer.from(n).toString("base64")}static FromBase64(t){const n=this.formatString(t);if(!n)return new ArrayBuffer(0);if(!rt.isBase64(n))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(n)):new Uint8Array(Buffer.from(n,"base64")).buffer}static FromBase64Url(t){const n=this.formatString(t);if(!n)return new ArrayBuffer(0);if(!rt.isBase64Url(n))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(n.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(t){return this.ToBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(t,n=rt.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.FromBinary(t);case"utf8":return ZA.fromString(t);case"utf16":case"utf16be":return Ir.fromString(t);case"utf16le":case"usc2":return Ir.fromString(t,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static ToUtf8String(t,n=rt.DEFAULT_UTF8_ENCODING){switch(n){case"ascii":return this.ToBinary(t);case"utf8":return ZA.toString(t);case"utf16":case"utf16be":return Ir.toString(t);case"utf16le":case"usc2":return Ir.toString(t,!0);default:throw new Error(`Unknown type of encoding '${n}'`)}}static FromBinary(t){const n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}static ToBinary(t){const n=Te.toUint8Array(t);let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}static ToHex(t){const n=Te.toUint8Array(t);let r="";const i=n.length;for(let s=0;s<i;s++){const o=n[s];o<16&&(r+="0"),r+=o.toString(16)}return r}static FromHex(t){let n=this.formatString(t);if(!n)return new ArrayBuffer(0);if(!rt.isHex(n))throw new TypeError("Argument 'hexString' is not HEX encoded");n.length%2&&(n=`0${n}`);const r=new Uint8Array(n.length/2);for(let i=0;i<n.length;i=i+2){const s=n.slice(i,i+2);r[i/2]=parseInt(s,16)}return r.buffer}static ToUtf16String(t,n=!1){return Ir.toString(t,n)}static FromUtf16String(t,n=!1){return Ir.fromString(t,n)}static Base64Padding(t){const n=4-t.length%4;if(n<4)for(let r=0;r<n;r++)t+="=";return t}static formatString(t){return(t==null?void 0:t.replace(/[\n\r\t ]/g,""))||""}}rt.DEFAULT_UTF8_ENCODING="utf8";function m$(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;const n=new Uint8Array(e),r=new Uint8Array(t);for(let i=0;i<e.byteLength;i++)if(n[i]!==r[i])return!1;return!0}/*!
 Copyright (c) Peculiar Ventures, LLC
*/function Ol(e,t){let n=0;if(e.length===1)return e[0];for(let r=e.length-1;r>=0;r--)n+=e[e.length-1-r]*Math.pow(2,t*r);return n}function Xo(e,t,n=-1){const r=n;let i=e,s=0,o=Math.pow(2,t);for(let a=1;a<8;a++){if(e<o){let l;if(r<0)l=new ArrayBuffer(a),s=a;else{if(r<a)return new ArrayBuffer(0);l=new ArrayBuffer(r),s=r}const c=new Uint8Array(l);for(let u=a-1;u>=0;u--){const d=Math.pow(2,u*t);c[s-u-1]=Math.floor(i/d),i-=c[s-u-1]*d}return l}o*=Math.pow(2,t)}return new ArrayBuffer(0)}function Uv(...e){let t=0,n=0;for(const s of e)t+=s.length;const r=new ArrayBuffer(t),i=new Uint8Array(r);for(const s of e)i.set(s,n),n+=s.length;return i}function UB(){const e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const a=e[0]===255&&e[1]&128,l=e[0]===0&&(e[1]&128)===0;(a||l)&&this.warnings.push("Needlessly long format")}const t=new ArrayBuffer(this.valueHex.byteLength),n=new Uint8Array(t);for(let a=0;a<this.valueHex.byteLength;a++)n[a]=0;n[0]=e[0]&128;const r=Ol(n,8),i=new ArrayBuffer(this.valueHex.byteLength),s=new Uint8Array(i);for(let a=0;a<this.valueHex.byteLength;a++)s[a]=e[a];return s[0]&=127,Ol(s,8)-r}function p$(e){const t=e<0?e*-1:e;let n=128;for(let r=1;r<8;r++){if(t<=n){if(e<0){const o=n-t,a=Xo(o,8,r),l=new Uint8Array(a);return l[0]|=128,a}let i=Xo(t,8,r),s=new Uint8Array(i);if(s[0]&128){const o=i.slice(0),a=new Uint8Array(o);i=new ArrayBuffer(i.byteLength+1),s=new Uint8Array(i);for(let l=0;l<o.byteLength;l++)s[l+1]=a[l];s[0]=0}return i}n*=Math.pow(2,8)}return new ArrayBuffer(0)}function g$(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new Uint8Array(e),r=new Uint8Array(t);for(let i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}function En(e,t){const n=e.toString(10);if(t<n.length)return"";const r=t-n.length,i=new Array(r);for(let o=0;o<r;o++)i[o]="0";return i.join("").concat(n)}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function Uh(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function uS(e){let t=0,n=0;for(let i=0;i<e.length;i++){const s=e[i];t+=s.byteLength}const r=new Uint8Array(t);for(let i=0;i<e.length;i++){const s=e[i];r.set(new Uint8Array(s),n),n+=s.byteLength}return r.buffer}function Zi(e,t,n,r){return t instanceof Uint8Array?t.byteLength?n<0?(e.error="Wrong parameter: inputOffset less than zero",!1):r<0?(e.error="Wrong parameter: inputLength less than zero",!1):t.byteLength-n-r<0?(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class tp{constructor(){this.items=[]}write(t){this.items.push(t)}final(){return uS(this.items)}}const zc=[new Uint8Array([1])],XA="0123456789",dy="name",JA="valueHexView",y$="isHexOnly",b$="idBlock",v$="tagClass",x$="tagNumber",w$="isConstructed",S$="fromBER",_$="toBER",E$="local",fn="",_r=new ArrayBuffer(0),np=new Uint8Array(0),a0="EndOfContent",LB="OCTET STRING",PB="BIT STRING";function Qr(e){var t;return t=class extends e{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(r){this.valueHexView=new Uint8Array(r)}constructor(...r){var i;super(...r);const s=r[0]||{};this.isHexOnly=(i=s.isHexOnly)!==null&&i!==void 0?i:!1,this.valueHexView=s.valueHex?Te.toUint8Array(s.valueHex):np}fromBER(r,i,s){const o=r instanceof ArrayBuffer?new Uint8Array(r):r;if(!Zi(this,o,i,s))return-1;const a=i+s;return this.valueHexView=o.subarray(i,a),this.valueHexView.length?(this.blockLength=s,a):(this.warnings.push("Zero buffer length"),i)}toBER(r=!1){return this.isHexOnly?r?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",_r)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:rt.ToHex(this.valueHexView)}}},t.NAME="hexBlock",t}class ma{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(t){this.valueBeforeDecodeView=new Uint8Array(t)}constructor({blockLength:t=0,error:n=fn,warnings:r=[],valueBeforeDecode:i=np}={}){this.blockLength=t,this.error=n,this.warnings=r,this.valueBeforeDecodeView=Te.toUint8Array(i)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:rt.ToHex(this.valueBeforeDecodeView)}}}ma.NAME="baseBlock";class an extends ma{fromBER(t,n,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(t,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}an.NAME="valueBlock";class FB extends Qr(ma){constructor({idBlock:t={}}={}){var n,r,i,s;super(),t?(this.isHexOnly=(n=t.isHexOnly)!==null&&n!==void 0?n:!1,this.valueHexView=t.valueHex?Te.toUint8Array(t.valueHex):np,this.tagClass=(r=t.tagClass)!==null&&r!==void 0?r:-1,this.tagNumber=(i=t.tagNumber)!==null&&i!==void 0?i:-1,this.isConstructed=(s=t.isConstructed)!==null&&s!==void 0?s:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(t=!1){let n=0;switch(this.tagClass){case 1:n|=0;break;case 2:n|=64;break;case 3:n|=128;break;case 4:n|=192;break;default:return this.error="Unknown tag class",_r}if(this.isConstructed&&(n|=32),this.tagNumber<31&&!this.isHexOnly){const i=new Uint8Array(1);if(!t){let s=this.tagNumber;s&=31,n|=s,i[0]=n}return i.buffer}if(!this.isHexOnly){const i=Xo(this.tagNumber,7),s=new Uint8Array(i),o=i.byteLength,a=new Uint8Array(o+1);if(a[0]=n|31,!t){for(let l=0;l<o-1;l++)a[l+1]=s[l]|128;a[o]=s[o-1]}return a.buffer}const r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=n|31,!t){const i=this.valueHexView;for(let s=0;s<i.length-1;s++)r[s+1]=i[s]|128;r[this.valueHexView.byteLength]=i[i.length-1]}return r.buffer}fromBER(t,n,r){const i=Te.toUint8Array(t);if(!Zi(this,i,n,r))return-1;const s=i.subarray(n,n+r);if(s.length===0)return this.error="Zero buffer length",-1;switch(s[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(s[0]&32)===32,this.isHexOnly=!1;const a=s[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let l=1,c=this.valueHexView=new Uint8Array(255),u=255;for(;s[l]&128;){if(c[l-1]=s[l]&127,l++,l>=s.length)return this.error="End of input reached before message was fully decoded",-1;if(l===u){u+=255;const h=new Uint8Array(u);for(let m=0;m<c.length;m++)h[m]=c[m];c=this.valueHexView=new Uint8Array(u)}}this.blockLength=l+1,c[l-1]=s[l]&127;const d=new Uint8Array(l);for(let h=0;h<l;h++)d[h]=c[h];c=this.valueHexView=new Uint8Array(l),c.set(d),this.blockLength<=9?this.tagNumber=Ol(c,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return n+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}FB.NAME="identificationBlock";class zB extends ma{constructor({lenBlock:t={}}={}){var n,r,i;super(),this.isIndefiniteForm=(n=t.isIndefiniteForm)!==null&&n!==void 0?n:!1,this.longFormUsed=(r=t.longFormUsed)!==null&&r!==void 0?r:!1,this.length=(i=t.length)!==null&&i!==void 0?i:0}fromBER(t,n,r){const i=Te.toUint8Array(t);if(!Zi(this,i,n,r))return-1;const s=i.subarray(n,n+r);if(s.length===0)return this.error="Zero buffer length",-1;if(s[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=s[0]===128,this.isIndefiniteForm)return this.blockLength=1,n+this.blockLength;if(this.longFormUsed=!!(s[0]&128),this.longFormUsed===!1)return this.length=s[0],this.blockLength=1,n+this.blockLength;const o=s[0]&127;if(o>8)return this.error="Too big integer",-1;if(o+1>s.length)return this.error="End of input reached before message was fully decoded",-1;const a=n+1,l=i.subarray(a,a+o);return l[o-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=Ol(l,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=o+1,n+this.blockLength}toBER(t=!1){let n,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return n=new ArrayBuffer(1),t===!1&&(r=new Uint8Array(n),r[0]=128),n;if(this.longFormUsed){const i=Xo(this.length,8);if(i.byteLength>127)return this.error="Too big length",_r;if(n=new ArrayBuffer(i.byteLength+1),t)return n;const s=new Uint8Array(i);r=new Uint8Array(n),r[0]=i.byteLength|128;for(let o=0;o<i.byteLength;o++)r[o+1]=s[o];return n}return n=new ArrayBuffer(1),t===!1&&(r=new Uint8Array(n),r[0]=this.length),n}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}zB.NAME="lengthBlock";const se={};class $t extends ma{constructor({name:t=fn,optional:n=!1,primitiveSchema:r,...i}={},s){super(i),this.name=t,this.optional=n,r&&(this.primitiveSchema=r),this.idBlock=new FB(i),this.lenBlock=new zB(i),this.valueBlock=s?new s(i):new an(i)}fromBER(t,n,r){const i=this.valueBlock.fromBER(t,n,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}toBER(t,n){const r=n||new tp;n||VB(this);const i=this.idBlock.toBER(t);if(r.write(i),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(t,r),r.write(new ArrayBuffer(2));else{const s=this.valueBlock.toBER(t);this.lenBlock.length=s.byteLength;const o=this.lenBlock.toBER(t);r.write(o),r.write(s)}return n?_r:r.final()}toJSON(){const t={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(t.primitiveSchema=this.primitiveSchema.toJSON()),t}toString(t="ascii"){return t==="ascii"?this.onAsciiEncoding():rt.ToHex(this.toBER())}onAsciiEncoding(){const t=this.constructor.NAME,n=rt.ToHex(this.valueBlock.valueBeforeDecodeView);return`${t} : ${n}`}isEqual(t){if(this===t)return!0;if(!(t instanceof this.constructor))return!1;const n=this.toBER(),r=t.toBER();return g$(n,r)}}$t.NAME="BaseBlock";function VB(e){var t;if(e instanceof se.Constructed)for(const n of e.valueBlock.value)VB(n)&&(e.lenBlock.isIndefiniteForm=!0);return!!(!((t=e.lenBlock)===null||t===void 0)&&t.isIndefiniteForm)}class dS extends $t{getValue(){return this.valueBlock.value}setValue(t){this.valueBlock.value=t}constructor({value:t=fn,...n}={},r){super(n,r),t&&this.fromString(t)}fromBER(t,n,r){const i=this.valueBlock.fromBER(t,n,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}dS.NAME="BaseStringBlock";class $B extends Qr(an){constructor({isHexOnly:t=!0,...n}={}){super(n),this.isHexOnly=t}}$B.NAME="PrimitiveValueBlock";var HB;let ed=class extends $t{constructor(t={}){super(t,$B),this.idBlock.isConstructed=!1}};HB=ed;se.Primitive=HB;ed.NAME="PRIMITIVE";function C$(e,t){if(e instanceof t)return e;const n=new t;return n.idBlock=e.idBlock,n.lenBlock=e.lenBlock,n.warnings=e.warnings,n.valueBeforeDecodeView=e.valueBeforeDecodeView,n}function pc(e,t=0,n=e.length){const r=t;let i=new $t({},an);const s=new ma;if(!Zi(s,e,t,n))return i.error=s.error,{offset:-1,result:i};if(!e.subarray(t,t+n).length)return i.error="Zero buffer length",{offset:-1,result:i};let a=i.idBlock.fromBER(e,t,n);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),a===-1)return i.error=i.idBlock.error,{offset:-1,result:i};if(t=a,n-=i.idBlock.blockLength,a=i.lenBlock.fromBER(e,t,n),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),a===-1)return i.error=i.lenBlock.error,{offset:-1,result:i};if(t=a,n-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let l=$t;switch(i.idBlock.tagClass){case 1:if(i.idBlock.tagNumber>=37&&i.idBlock.isHexOnly===!1)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};l=se.EndOfContent;break;case 1:l=se.Boolean;break;case 2:l=se.Integer;break;case 3:l=se.BitString;break;case 4:l=se.OctetString;break;case 5:l=se.Null;break;case 6:l=se.ObjectIdentifier;break;case 10:l=se.Enumerated;break;case 12:l=se.Utf8String;break;case 13:l=se.RelativeObjectIdentifier;break;case 14:l=se.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:l=se.Sequence;break;case 17:l=se.Set;break;case 18:l=se.NumericString;break;case 19:l=se.PrintableString;break;case 20:l=se.TeletexString;break;case 21:l=se.VideotexString;break;case 22:l=se.IA5String;break;case 23:l=se.UTCTime;break;case 24:l=se.GeneralizedTime;break;case 25:l=se.GraphicString;break;case 26:l=se.VisibleString;break;case 27:l=se.GeneralString;break;case 28:l=se.UniversalString;break;case 29:l=se.CharacterString;break;case 30:l=se.BmpString;break;case 31:l=se.DATE;break;case 32:l=se.TimeOfDay;break;case 33:l=se.DateTime;break;case 34:l=se.Duration;break;default:{const c=i.idBlock.isConstructed?new se.Constructed:new se.Primitive;c.idBlock=i.idBlock,c.lenBlock=i.lenBlock,c.warnings=i.warnings,i=c}}break;case 2:case 3:case 4:default:l=i.idBlock.isConstructed?se.Constructed:se.Primitive}return i=C$(i,l),a=i.fromBER(e,t,i.lenBlock.isIndefiniteForm?n:i.lenBlock.length),i.valueBeforeDecodeView=e.subarray(r,r+i.blockLength),{offset:a,result:i}}function gl(e){if(!e.byteLength){const t=new $t({},an);return t.error="Input buffer has zero length",{offset:-1,result:t}}return pc(Te.toUint8Array(e).slice(),0,e.byteLength)}function A$(e,t){return e?1:t}class Ls extends an{constructor({value:t=[],isIndefiniteForm:n=!1,...r}={}){super(r),this.value=t,this.isIndefiniteForm=n}fromBER(t,n,r){const i=Te.toUint8Array(t);if(!Zi(this,i,n,r))return-1;if(this.valueBeforeDecodeView=i.subarray(n,n+r),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),n;let s=n;for(;A$(this.isIndefiniteForm,r)>0;){const o=pc(i,s,r);if(o.offset===-1)return this.error=o.result.error,this.warnings.concat(o.result.warnings),-1;if(s=o.offset,this.blockLength+=o.result.blockLength,r-=o.result.blockLength,this.value.push(o.result),this.isIndefiniteForm&&o.result.constructor.NAME===a0)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===a0?this.value.pop():this.warnings.push("No EndOfContent block encoded")),s}toBER(t,n){const r=n||new tp;for(let i=0;i<this.value.length;i++)this.value[i].toBER(t,r);return n?_r:r.final()}toJSON(){const t={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const n of this.value)t.value.push(n.toJSON());return t}}Ls.NAME="ConstructedValueBlock";var GB;class gn extends $t{constructor(t={}){super(t,Ls),this.idBlock.isConstructed=!0}fromBER(t,n,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const i=this.valueBlock.fromBER(t,n,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){const t=[];for(const r of this.valueBlock.value)t.push(r.toString("ascii").split(`
`).map(i=>`  ${i}`).join(`
`));const n=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return t.length?`${n} :
${t.join(`
`)}`:`${n} :`}}GB=gn;se.Constructed=GB;gn.NAME="CONSTRUCTED";class qB extends an{fromBER(t,n,r){return n}toBER(t){return _r}}qB.override="EndOfContentValueBlock";var KB;class fS extends $t{constructor(t={}){super(t,qB),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}KB=fS;se.EndOfContent=KB;fS.NAME=a0;var YB;class Jo extends $t{constructor(t={}){super(t,an),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(t,n,r){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,n+r>t.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):n+r}toBER(t,n){const r=new ArrayBuffer(2);if(!t){const i=new Uint8Array(r);i[0]=5,i[1]=0}return n&&n.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}YB=Jo;se.Null=YB;Jo.NAME="NULL";class WB extends Qr(an){get value(){for(const t of this.valueHexView)if(t>0)return!0;return!1}set value(t){this.valueHexView[0]=t?255:0}constructor({value:t,...n}={}){super(n),n.valueHex?this.valueHexView=Te.toUint8Array(n.valueHex):this.valueHexView=new Uint8Array(1),t&&(this.value=t)}fromBER(t,n,r){const i=Te.toUint8Array(t);return Zi(this,i,n,r)?(this.valueHexView=i.subarray(n,n+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,UB.call(this),this.blockLength=r,n+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}WB.NAME="BooleanValueBlock";var ZB;let rp=class extends $t{getValue(){return this.valueBlock.value}setValue(t){this.valueBlock.value=t}constructor(t={}){super(t,WB),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};ZB=rp;se.Boolean=ZB;rp.NAME="BOOLEAN";class XB extends Qr(Ls){constructor({isConstructed:t=!1,...n}={}){super(n),this.isConstructed=t}fromBER(t,n,r){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,i=Ls.prototype.fromBER.call(this,t,n,r),i===-1)return i;for(let s=0;s<this.value.length;s++){const o=this.value[s].constructor.NAME;if(o===a0){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(o!==LB)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(t,n,r),this.blockLength=r;return i}toBER(t,n){return this.isConstructed?Ls.prototype.toBER.call(this,t,n):t?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}XB.NAME="OctetStringValueBlock";var hS;let Vo=class extends $t{constructor({idBlock:t={},lenBlock:n={},...r}={}){var i,s;(i=r.isConstructed)!==null&&i!==void 0||(r.isConstructed=!!(!((s=r.value)===null||s===void 0)&&s.length)),super({idBlock:{isConstructed:r.isConstructed,...t},lenBlock:{...n,isIndefiniteForm:!!r.isIndefiniteForm},...r},XB),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(t,n,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,r===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),n;if(!this.valueBlock.isConstructed){const s=(t instanceof ArrayBuffer?new Uint8Array(t):t).subarray(n,n+r);try{if(s.byteLength){const o=pc(s,0,s.byteLength);o.offset!==-1&&o.offset===r&&(this.valueBlock.value=[o.result])}}catch{}}return super.fromBER(t,n,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return gn.prototype.onAsciiEncoding.call(this);const t=this.constructor.NAME,n=rt.ToHex(this.valueBlock.valueHexView);return`${t} : ${n}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const t=[];for(const n of this.valueBlock.value)n instanceof hS&&t.push(n.valueBlock.valueHexView);return Te.concat(t)}};hS=Vo;se.OctetString=hS;Vo.NAME=LB;class JB extends Qr(Ls){constructor({unusedBits:t=0,isConstructed:n=!1,...r}={}){super(r),this.unusedBits=t,this.isConstructed=n,this.blockLength=this.valueHexView.byteLength}fromBER(t,n,r){if(!r)return n;let i=-1;if(this.isConstructed){if(i=Ls.prototype.fromBER.call(this,t,n,r),i===-1)return i;for(const a of this.value){const l=a.constructor.NAME;if(l===a0){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(l!==PB)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const c=a.valueBlock;if(this.unusedBits>0&&c.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=c.unusedBits}return i}const s=Te.toUint8Array(t);if(!Zi(this,s,n,r))return-1;const o=s.subarray(n,n+r);if(this.unusedBits=o[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const a=o.subarray(1);try{if(a.byteLength){const l=pc(a,0,a.byteLength);l.offset!==-1&&l.offset===r-1&&(this.value=[l.result])}}catch{}}return this.valueHexView=o.subarray(1),this.blockLength=o.length,n+r}toBER(t,n){if(this.isConstructed)return Ls.prototype.toBER.call(this,t,n);if(t)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return _r;const r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}JB.NAME="BitStringValueBlock";var QB;let $o=class extends $t{constructor({idBlock:t={},lenBlock:n={},...r}={}){var i,s;(i=r.isConstructed)!==null&&i!==void 0||(r.isConstructed=!!(!((s=r.value)===null||s===void 0)&&s.length)),super({idBlock:{isConstructed:r.isConstructed,...t},lenBlock:{...n,isIndefiniteForm:!!r.isIndefiniteForm},...r},JB),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(t,n,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(t,n,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return gn.prototype.onAsciiEncoding.call(this);{const t=[],n=this.valueBlock.valueHexView;for(const o of n)t.push(o.toString(2).padStart(8,"0"));const r=t.join(""),i=this.constructor.NAME,s=r.substring(0,r.length-this.valueBlock.unusedBits);return`${i} : ${s}`}}};QB=$o;se.BitString=QB;$o.NAME=PB;var eN;function T$(e,t){const n=new Uint8Array([0]),r=new Uint8Array(e),i=new Uint8Array(t);let s=r.slice(0);const o=s.length-1,a=i.slice(0),l=a.length-1;let c=0;const u=l<o?o:l;let d=0;for(let h=u;h>=0;h--,d++){switch(!0){case d<a.length:c=s[o-d]+a[l-d]+n[0];break;default:c=s[o-d]+n[0]}switch(n[0]=c/10,!0){case d>=s.length:s=Uv(new Uint8Array([c%10]),s);break;default:s[o-d]=c%10}}return n[0]>0&&(s=Uv(n,s)),s}function QA(e){if(e>=zc.length)for(let t=zc.length;t<=e;t++){const n=new Uint8Array([0]);let r=zc[t-1].slice(0);for(let i=r.length-1;i>=0;i--){const s=new Uint8Array([(r[i]<<1)+n[0]]);n[0]=s[0]/10,r[i]=s[0]%10}n[0]>0&&(r=Uv(n,r)),zc.push(r)}return zc[e]}function k$(e,t){let n=0;const r=new Uint8Array(e),i=new Uint8Array(t),s=r.slice(0),o=s.length-1,a=i.slice(0),l=a.length-1;let c,u=0;for(let d=l;d>=0;d--,u++)switch(c=s[o-u]-a[l-u]-n,!0){case c<0:n=1,s[o-u]=c+10;break;default:n=0,s[o-u]=c}if(n>0)for(let d=o-l+1;d>=0;d--,u++)if(c=s[o-u]-n,c<0)n=1,s[o-u]=c+10;else{n=0,s[o-u]=c;break}return s.slice()}class mS extends Qr(an){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=UB.call(this)))}constructor({value:t,...n}={}){super(n),this._valueDec=0,n.valueHex&&this.setValueHex(),t!==void 0&&(this.valueDec=t)}set valueDec(t){this._valueDec=t,this.isHexOnly=!1,this.valueHexView=new Uint8Array(p$(t))}get valueDec(){return this._valueDec}fromDER(t,n,r,i=0){const s=this.fromBER(t,n,r);if(s===-1)return s;const o=this.valueHexView;return o[0]===0&&o[1]&128?this.valueHexView=o.subarray(1):i!==0&&o.length<i&&(i-o.length>1&&(i=o.length+1),this.valueHexView=o.subarray(i-o.length)),s}toDER(t=!1){const n=this.valueHexView;switch(!0){case(n[0]&128)!==0:{const r=new Uint8Array(this.valueHexView.length+1);r[0]=0,r.set(n,1),this.valueHexView=r}break;case(n[0]===0&&(n[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(t)}fromBER(t,n,r){const i=super.fromBER(t,n,r);return i===-1||this.setValueHex(),i}toBER(t){return t?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const t=this.valueHexView.length*8-1;let n=new Uint8Array(this.valueHexView.length*8/3),r=0,i;const s=this.valueHexView;let o="",a=!1;for(let l=s.byteLength-1;l>=0;l--){i=s[l];for(let c=0;c<8;c++){if((i&1)===1)switch(r){case t:n=k$(QA(r),n),o="-";break;default:n=T$(n,QA(r))}r++,i>>=1}}for(let l=0;l<n.length;l++)n[l]&&(a=!0),a&&(o+=XA.charAt(n[l]));return a===!1&&(o+=XA.charAt(0)),o}}eN=mS;mS.NAME="IntegerValueBlock";Object.defineProperty(eN.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var ku;class gc extends $t{constructor(t={}){super(t,mS),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return Uh(),BigInt(this.valueBlock.toString())}static fromBigInt(t){Uh();const n=BigInt(t),r=new tp,i=n.toString(16).replace(/^-/,""),s=new Uint8Array(rt.FromHex(i));if(n<0){const a=new Uint8Array(s.length+(s[0]&128?1:0));a[0]|=128;const c=BigInt(`0x${rt.ToHex(a)}`)+n,u=Te.toUint8Array(rt.FromHex(c.toString(16)));u[0]|=128,r.write(u)}else s[0]&128&&r.write(new Uint8Array([0])),r.write(s);return new ku({valueHex:r.final()})}convertToDER(){const t=new ku({valueHex:this.valueBlock.valueHexView});return t.valueBlock.toDER(),t}convertFromDER(){return new ku({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}ku=gc;se.Integer=ku;gc.NAME="INTEGER";var tN;class ip extends gc{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}tN=ip;se.Enumerated=tN;ip.NAME="ENUMERATED";class Lv extends Qr(an){constructor({valueDec:t=-1,isFirstSid:n=!1,...r}={}){super(r),this.valueDec=t,this.isFirstSid=n}fromBER(t,n,r){if(!r)return n;const i=Te.toUint8Array(t);if(!Zi(this,i,n,r))return-1;const s=i.subarray(n,n+r);this.valueHexView=new Uint8Array(r);for(let a=0;a<r&&(this.valueHexView[a]=s[a]&127,this.blockLength++,!!(s[a]&128));a++);const o=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)o[a]=this.valueHexView[a];return this.valueHexView=o,s[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Ol(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}set valueBigInt(t){Uh();let n=BigInt(t).toString(2);for(;n.length%7;)n="0"+n;const r=new Uint8Array(n.length/7);for(let i=0;i<r.length;i++)r[i]=parseInt(n.slice(i*7,i*7+7),2)+(i+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);const i=this.valueHexView,s=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength-1;o++)s[o]=i[o]|128;return s[this.blockLength-1]=i[this.blockLength-1],s.buffer}const n=Xo(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",_r;const r=new Uint8Array(n.byteLength);if(!t){const i=new Uint8Array(n),s=n.byteLength-1;for(let o=0;o<s;o++)r[o]=i[o]|128;r[s]=i[s]}return r}toString(){let t="";if(this.isHexOnly)t=rt.ToHex(this.valueHexView);else if(this.isFirstSid){let n=this.valueDec;this.valueDec<=39?t="0.":this.valueDec<=79?(t="1.",n-=40):(t="2.",n-=80),t+=n.toString()}else t=this.valueDec.toString();return t}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}Lv.NAME="sidBlock";class nN extends an{constructor({value:t=fn,...n}={}){super(n),this.value=[],t&&this.fromString(t)}fromBER(t,n,r){let i=n;for(;r>0;){const s=new Lv;if(i=s.fromBER(t,i,r),i===-1)return this.blockLength=0,this.error=s.error,i;this.value.length===0&&(s.isFirstSid=!0),this.blockLength+=s.blockLength,r-=s.blockLength,this.value.push(s)}return i}toBER(t){const n=[];for(let r=0;r<this.value.length;r++){const i=this.value[r].toBER(t);if(i.byteLength===0)return this.error=this.value[r].error,_r;n.push(i)}return uS(n)}fromString(t){this.value=[];let n=0,r=0,i="",s=!1;do if(r=t.indexOf(".",n),r===-1?i=t.substring(n):i=t.substring(n,r),n=r+1,s){const o=this.value[0];let a=0;switch(o.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}const l=parseInt(i,10);if(isNaN(l))return;o.valueDec=l+a,s=!1}else{const o=new Lv;if(i>Number.MAX_SAFE_INTEGER){Uh();const a=BigInt(i);o.valueBigInt=a}else if(o.valueDec=parseInt(i,10),isNaN(o.valueDec))return;this.value.length||(o.isFirstSid=!0,s=!0),this.value.push(o)}while(r!==-1)}toString(){let t="",n=!1;for(let r=0;r<this.value.length;r++){n=this.value[r].isHexOnly;let i=this.value[r].toString();r!==0&&(t=`${t}.`),n?(i=`{${i}}`,this.value[r].isFirstSid?t=`2.{${i} - 80}`:t+=i):t+=i}return t}toJSON(){const t={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)t.sidArray.push(this.value[n].toJSON());return t}}nN.NAME="ObjectIdentifierValueBlock";var rN;class sp extends $t{getValue(){return this.valueBlock.toString()}setValue(t){this.valueBlock.fromString(t)}constructor(t={}){super(t,nN),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}rN=sp;se.ObjectIdentifier=rN;sp.NAME="OBJECT IDENTIFIER";class Pv extends Qr(ma){constructor({valueDec:t=0,...n}={}){super(n),this.valueDec=t}fromBER(t,n,r){if(r===0)return n;const i=Te.toUint8Array(t);if(!Zi(this,i,n,r))return-1;const s=i.subarray(n,n+r);this.valueHexView=new Uint8Array(r);for(let a=0;a<r&&(this.valueHexView[a]=s[a]&127,this.blockLength++,!!(s[a]&128));a++);const o=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)o[a]=this.valueHexView[a];return this.valueHexView=o,s[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Ol(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),n+this.blockLength)}toBER(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);const i=this.valueHexView,s=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength-1;o++)s[o]=i[o]|128;return s[this.blockLength-1]=i[this.blockLength-1],s.buffer}const n=Xo(this.valueDec,7);if(n.byteLength===0)return this.error="Error during encoding SID value",_r;const r=new Uint8Array(n.byteLength);if(!t){const i=new Uint8Array(n),s=n.byteLength-1;for(let o=0;o<s;o++)r[o]=i[o]|128;r[s]=i[s]}return r.buffer}toString(){let t="";return this.isHexOnly?t=rt.ToHex(this.valueHexView):t=this.valueDec.toString(),t}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}Pv.NAME="relativeSidBlock";class iN extends an{constructor({value:t=fn,...n}={}){super(n),this.value=[],t&&this.fromString(t)}fromBER(t,n,r){let i=n;for(;r>0;){const s=new Pv;if(i=s.fromBER(t,i,r),i===-1)return this.blockLength=0,this.error=s.error,i;this.blockLength+=s.blockLength,r-=s.blockLength,this.value.push(s)}return i}toBER(t,n){const r=[];for(let i=0;i<this.value.length;i++){const s=this.value[i].toBER(t);if(s.byteLength===0)return this.error=this.value[i].error,_r;r.push(s)}return uS(r)}fromString(t){this.value=[];let n=0,r=0,i="";do{r=t.indexOf(".",n),r===-1?i=t.substring(n):i=t.substring(n,r),n=r+1;const s=new Pv;if(s.valueDec=parseInt(i,10),isNaN(s.valueDec))return!0;this.value.push(s)}while(r!==-1);return!0}toString(){let t="",n=!1;for(let r=0;r<this.value.length;r++){n=this.value[r].isHexOnly;let i=this.value[r].toString();r!==0&&(t=`${t}.`),n&&(i=`{${i}}`),t+=i}return t}toJSON(){const t={...super.toJSON(),value:this.toString(),sidArray:[]};for(let n=0;n<this.value.length;n++)t.sidArray.push(this.value[n].toJSON());return t}}iN.NAME="RelativeObjectIdentifierValueBlock";var sN;class pS extends $t{getValue(){return this.valueBlock.toString()}setValue(t){this.valueBlock.fromString(t)}constructor(t={}){super(t,iN),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}sN=pS;se.RelativeObjectIdentifier=sN;pS.NAME="RelativeObjectIdentifier";var oN;class Bi extends gn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}oN=Bi;se.Sequence=oN;Bi.NAME="SEQUENCE";var aN;let Ni=class extends gn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};aN=Ni;se.Set=aN;Ni.NAME="SET";class lN extends Qr(an){constructor({...t}={}){super(t),this.isHexOnly=!0,this.value=fn}toJSON(){return{...super.toJSON(),value:this.value}}}lN.NAME="StringValueBlock";class cN extends lN{}cN.NAME="SimpleStringValueBlock";class Dn extends dS{constructor({...t}={}){super(t,cN)}fromBuffer(t){this.valueBlock.value=String.fromCharCode.apply(null,Te.toUint8Array(t))}fromString(t){const n=t.length,r=this.valueBlock.valueHexView=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);this.valueBlock.value=t}}Dn.NAME="SIMPLE STRING";class uN extends Dn{fromBuffer(t){this.valueBlock.valueHexView=Te.toUint8Array(t);try{this.valueBlock.value=rt.ToUtf8String(t)}catch(n){this.warnings.push(`Error during "decodeURIComponent": ${n}, using raw string`),this.valueBlock.value=rt.ToBinary(t)}}fromString(t){this.valueBlock.valueHexView=new Uint8Array(rt.FromUtf8String(t)),this.valueBlock.value=t}}uN.NAME="Utf8StringValueBlock";var dN;class Xi extends uN{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}dN=Xi;se.Utf8String=dN;Xi.NAME="UTF8String";class fN extends Dn{fromBuffer(t){this.valueBlock.value=rt.ToUtf16String(t),this.valueBlock.valueHexView=Te.toUint8Array(t)}fromString(t){this.valueBlock.value=t,this.valueBlock.valueHexView=new Uint8Array(rt.FromUtf16String(t))}}fN.NAME="BmpStringValueBlock";var hN;class op extends fN{constructor({...t}={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}hN=op;se.BmpString=hN;op.NAME="BMPString";class mN extends Dn{fromBuffer(t){const n=ArrayBuffer.isView(t)?t.slice().buffer:t.slice(0),r=new Uint8Array(n);for(let i=0;i<r.length;i+=4)r[i]=r[i+3],r[i+1]=r[i+2],r[i+2]=0,r[i+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(n))}fromString(t){const n=t.length,r=this.valueBlock.valueHexView=new Uint8Array(n*4);for(let i=0;i<n;i++){const s=Xo(t.charCodeAt(i),8),o=new Uint8Array(s);if(o.length>4)continue;const a=4-o.length;for(let l=o.length-1;l>=0;l--)r[i*4+l+a]=o[l]}this.valueBlock.value=t}}mN.NAME="UniversalStringValueBlock";var pN;class ap extends mN{constructor({...t}={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}pN=ap;se.UniversalString=pN;ap.NAME="UniversalString";var gN;class lp extends Dn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}gN=lp;se.NumericString=gN;lp.NAME="NumericString";var yN;class cp extends Dn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}yN=cp;se.PrintableString=yN;cp.NAME="PrintableString";var bN;class up extends Dn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}bN=up;se.TeletexString=bN;up.NAME="TeletexString";var vN;class dp extends Dn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}vN=dp;se.VideotexString=vN;dp.NAME="VideotexString";var xN;class fp extends Dn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}xN=fp;se.IA5String=xN;fp.NAME="IA5String";var wN;class hp extends Dn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}wN=hp;se.GraphicString=wN;hp.NAME="GraphicString";var SN;class td extends Dn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}SN=td;se.VisibleString=SN;td.NAME="VisibleString";var _N;class mp extends Dn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}_N=mp;se.GeneralString=_N;mp.NAME="GeneralString";var EN;class pp extends Dn{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}EN=pp;se.CharacterString=EN;pp.NAME="CharacterString";var CN;class nd extends td{constructor({value:t,valueDate:n,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,t){this.fromString(t),this.valueBlock.valueHexView=new Uint8Array(t.length);for(let i=0;i<t.length;i++)this.valueBlock.valueHexView[i]=t.charCodeAt(i)}n&&(this.fromDate(n),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(t){this.fromString(String.fromCharCode.apply(null,Te.toUint8Array(t)))}toBuffer(){const t=this.toString(),n=new ArrayBuffer(t.length),r=new Uint8Array(n);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return n}fromDate(t){this.year=t.getUTCFullYear(),this.month=t.getUTCMonth()+1,this.day=t.getUTCDate(),this.hour=t.getUTCHours(),this.minute=t.getUTCMinutes(),this.second=t.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(t){const r=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(t);if(r===null){this.error="Wrong input string for conversion";return}const i=parseInt(r[1],10);i>=50?this.year=1900+i:this.year=2e3+i,this.month=parseInt(r[2],10),this.day=parseInt(r[3],10),this.hour=parseInt(r[4],10),this.minute=parseInt(r[5],10),this.second=parseInt(r[6],10)}toString(t="iso"){if(t==="iso"){const n=new Array(7);return n[0]=En(this.year<2e3?this.year-1900:this.year-2e3,2),n[1]=En(this.month,2),n[2]=En(this.day,2),n[3]=En(this.hour,2),n[4]=En(this.minute,2),n[5]=En(this.second,2),n[6]="Z",n.join("")}return super.toString(t)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}CN=nd;se.UTCTime=CN;nd.NAME="UTCTime";var AN;class gp extends nd{constructor(t={}){var n;super(t),(n=this.millisecond)!==null&&n!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(t){super.fromDate(t),this.millisecond=t.getUTCMilliseconds()}toDate(){const t=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(t)}fromString(t){let n=!1,r="",i="",s=0,o,a=0,l=0;if(t[t.length-1]==="Z")r=t.substring(0,t.length-1),n=!0;else{const d=new Number(t[t.length-1]);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");r=t}if(n){if(r.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(r.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let d=1,h=r.indexOf("+"),m="";if(h===-1&&(h=r.indexOf("-"),d=-1),h!==-1){if(m=r.substring(h+1),r=r.substring(0,h),m.length!==2&&m.length!==4)throw new Error("Wrong input string for conversion");let x=parseInt(m.substring(0,2),10);if(isNaN(x.valueOf()))throw new Error("Wrong input string for conversion");if(a=d*x,m.length===4){if(x=parseInt(m.substring(2,4),10),isNaN(x.valueOf()))throw new Error("Wrong input string for conversion");l=d*x}}}let c=r.indexOf(".");if(c===-1&&(c=r.indexOf(",")),c!==-1){const d=new Number(`0${r.substring(c)}`);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");s=d.valueOf(),i=r.substring(0,c)}else i=r;switch(!0){case i.length===8:if(o=/(\d{4})(\d{2})(\d{2})/ig,c!==-1)throw new Error("Wrong input string for conversion");break;case i.length===10:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,c!==-1){let d=60*s;this.minute=Math.floor(d),d=60*(d-this.minute),this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case i.length===12:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,c!==-1){let d=60*s;this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case i.length===14:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,c!==-1){const d=1e3*s;this.millisecond=Math.floor(d)}break;default:throw new Error("Wrong input string for conversion")}const u=o.exec(i);if(u===null)throw new Error("Wrong input string for conversion");for(let d=1;d<u.length;d++)switch(d){case 1:this.year=parseInt(u[d],10);break;case 2:this.month=parseInt(u[d],10);break;case 3:this.day=parseInt(u[d],10);break;case 4:this.hour=parseInt(u[d],10)+a;break;case 5:this.minute=parseInt(u[d],10)+l;break;case 6:this.second=parseInt(u[d],10);break;default:throw new Error("Wrong input string for conversion")}if(n===!1){const d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=d.getUTCFullYear(),this.month=d.getUTCMonth(),this.day=d.getUTCDay(),this.hour=d.getUTCHours(),this.minute=d.getUTCMinutes(),this.second=d.getUTCSeconds(),this.millisecond=d.getUTCMilliseconds()}}toString(t="iso"){if(t==="iso"){const n=[];return n.push(En(this.year,4)),n.push(En(this.month,2)),n.push(En(this.day,2)),n.push(En(this.hour,2)),n.push(En(this.minute,2)),n.push(En(this.second,2)),this.millisecond!==0&&(n.push("."),n.push(En(this.millisecond,3))),n.push("Z"),n.join("")}return super.toString(t)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}AN=gp;se.GeneralizedTime=AN;gp.NAME="GeneralizedTime";var TN;class gS extends Xi{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}TN=gS;se.DATE=TN;gS.NAME="DATE";var kN;class yS extends Xi{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}kN=yS;se.TimeOfDay=kN;yS.NAME="TimeOfDay";var IN;class bS extends Xi{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}IN=bS;se.DateTime=IN;bS.NAME="DateTime";var BN;class vS extends Xi{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}BN=vS;se.Duration=BN;vS.NAME="Duration";var NN;let xS=class extends Xi{constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}};NN=xS;se.TIME=NN;xS.NAME="TIME";class Qo{constructor({name:t=fn,optional:n=!1}={}){this.name=t,this.optional=n}}class wS extends Qo{constructor({value:t=[],...n}={}){super(n),this.value=t}}class Lh extends Qo{constructor({value:t=new Qo,local:n=!1,...r}={}){super(r),this.value=t,this.local=n}}class I${get data(){return this.dataView.slice().buffer}set data(t){this.dataView=Te.toUint8Array(t)}constructor({data:t=np}={}){this.dataView=Te.toUint8Array(t)}fromBER(t,n,r){const i=n+r;return this.dataView=Te.toUint8Array(t).subarray(n,i),i}toBER(t){return this.dataView.slice().buffer}}function Io(e,t,n){if(n instanceof wS){for(const s of n.value)if(Io(e,t,s).verified)return{verified:!0,result:e};{const s={verified:!1,result:{error:"Wrong values for Choice type"}};return n.hasOwnProperty(dy)&&(s.name=n.name),s}}if(n instanceof Qo)return n.hasOwnProperty(dy)&&(e[n.name]=t),{verified:!0,result:e};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(n instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(b$ in n))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(S$ in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(_$ in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const r=n.idBlock.toBER(!1);if(r.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(n.idBlock.fromBER(r,0,r.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(n.idBlock.hasOwnProperty(v$)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(n.idBlock.hasOwnProperty(x$)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(n.idBlock.hasOwnProperty(w$)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!(y$ in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(n.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(n.idBlock.isHexOnly){if(!(JA in n.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=n.idBlock.valueHexView,o=t.idBlock.valueHexView;if(s.length!==o.length)return{verified:!1,result:e};for(let a=0;a<s.length;a++)if(s[a]!==o[1])return{verified:!1,result:e}}if(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,fn),n.name&&(e[n.name]=t)),n instanceof se.Constructed){let s=0,o={verified:!1,result:{error:"Unknown error"}},a=n.valueBlock.value.length;if(a>0&&n.valueBlock.value[0]instanceof Lh&&(a=t.valueBlock.value.length),a===0)return{verified:!0,result:e};if(t.valueBlock.value.length===0&&n.valueBlock.value.length!==0){let l=!0;for(let c=0;c<n.valueBlock.value.length;c++)l=l&&(n.valueBlock.value[c].optional||!1);return l?{verified:!0,result:e}:(n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,fn),n.name&&delete e[n.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let l=0;l<a;l++)if(l-s>=t.valueBlock.value.length){if(n.valueBlock.value[l].optional===!1){const c={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,fn),n.name&&(delete e[n.name],c.name=n.name)),c}}else if(n.valueBlock.value[0]instanceof Lh){if(o=Io(e,t.valueBlock.value[l],n.valueBlock.value[0].value),o.verified===!1)if(n.valueBlock.value[0].optional)s++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,fn),n.name&&delete e[n.name]),o;if(dy in n.valueBlock.value[0]&&n.valueBlock.value[0].name.length>0){let c={};E$ in n.valueBlock.value[0]&&n.valueBlock.value[0].local?c=t:c=e,typeof c[n.valueBlock.value[0].name]>"u"&&(c[n.valueBlock.value[0].name]=[]),c[n.valueBlock.value[0].name].push(t.valueBlock.value[l])}}else if(o=Io(e,t.valueBlock.value[l-s],n.valueBlock.value[l]),o.verified===!1)if(n.valueBlock.value[l].optional)s++;else return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,fn),n.name&&delete e[n.name]),o;if(o.verified===!1){const l={verified:!1,result:e};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,fn),n.name&&(delete e[n.name],l.name=n.name)),l}return{verified:!0,result:e}}if(n.primitiveSchema&&JA in t.valueBlock){const s=pc(t.valueBlock.valueHexView);if(s.offset===-1){const o={verified:!1,result:s.result};return n.name&&(n.name=n.name.replace(/^\s+|\s+$/g,fn),n.name&&(delete e[n.name],o.name=n.name)),o}return Io(e,s.result,n.primitiveSchema)}return{verified:!0,result:e}}function B$(e,t){if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const n=pc(Te.toUint8Array(e));return n.offset===-1?{verified:!1,result:n.result}:Io(n.result,n.result,t)}const jN=Object.freeze(Object.defineProperty({__proto__:null,Any:Qo,BaseBlock:$t,BaseStringBlock:dS,BitString:$o,BmpString:op,Boolean:rp,CharacterString:pp,Choice:wS,Constructed:gn,DATE:gS,DateTime:bS,Duration:vS,EndOfContent:fS,Enumerated:ip,GeneralString:mp,GeneralizedTime:gp,GraphicString:hp,HexBlock:Qr,IA5String:fp,Integer:gc,Null:Jo,NumericString:lp,ObjectIdentifier:sp,OctetString:Vo,Primitive:ed,PrintableString:cp,RawData:I$,RelativeObjectIdentifier:pS,Repeated:Lh,Sequence:Bi,Set:Ni,TIME:xS,TeletexString:up,TimeOfDay:yS,UTCTime:nd,UniversalString:ap,Utf8String:Xi,ValueBlock:an,VideotexString:dp,ViewWriter:tp,VisibleString:td,compareSchema:Io,fromBER:gl,verifySchema:B$},Symbol.toStringTag,{value:"Module"}));var ne;(function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"})(ne||(ne={}));var P;(function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"})(P||(P={}));class SS{constructor(t,n=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),t)if(typeof t=="number")this.fromNumber(t);else if(Te.isBufferSource(t))this.unusedBits=n,this.value=Te.toArrayBuffer(t);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(t){if(!(t instanceof $o))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=t.valueBlock.unusedBits,this.value=t.valueBlock.valueHex,this}toASN(){return new $o({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(t){return new $o({name:t})}toNumber(){let t="";const n=new Uint8Array(this.value);for(const r of n)t+=r.toString(2).padStart(8,"0");return t=t.split("").reverse().join(""),this.unusedBits&&(t=t.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(t,2)}fromNumber(t){let n=t.toString(2);const r=n.length+7>>3;this.unusedBits=(r<<3)-n.length;const i=new Uint8Array(r);n=n.padStart(r<<3,"0").split("").reverse().join("");let s=0;for(;s<r;)i[s]=parseInt(n.slice(s<<3,(s<<3)+8),2),s++;this.value=i.buffer}}class qe{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(t){typeof t=="number"?this.buffer=new ArrayBuffer(t):Te.isBufferSource(t)?this.buffer=Te.toArrayBuffer(t):Array.isArray(t)?this.buffer=new Uint8Array(t):this.buffer=new ArrayBuffer(0)}fromASN(t){if(!(t instanceof Vo))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=t.valueBlock.valueHex,this}toASN(){return new Vo({valueHex:this.buffer})}toSchema(t){return new Vo({name:t})}}const N$={fromASN:e=>e instanceof Jo?null:e.valueBeforeDecodeView,toASN:e=>{if(e===null)return new Jo;const t=gl(e);if(t.result.error)throw new Error(t.result.error);return t.result}},j$={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new gc({value:+e})},R$={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new ip({value:e})},Je={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new gc({valueHex:e})},O$={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new $o({valueHex:e})},D$={fromASN:e=>e.valueBlock.toString(),toASN:e=>new sp({value:e})},M$={fromASN:e=>e.valueBlock.value,toASN:e=>new rp({value:e})},Ph={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new Vo({valueHex:e})},U$={fromASN:e=>new qe(e.getValue()),toASN:e=>e.toASN()};function nr(e){return{fromASN:t=>t.valueBlock.value,toASN:t=>new e({value:t})}}const L$=nr(Xi),P$=nr(op),F$=nr(ap),z$=nr(lp),V$=nr(cp),$$=nr(up),H$=nr(dp),G$=nr(fp),q$=nr(hp),K$=nr(td),Y$=nr(mp),W$=nr(pp),Z$={fromASN:e=>e.toDate(),toASN:e=>new nd({valueDate:e})},X$={fromASN:e=>e.toDate(),toASN:e=>new gp({valueDate:e})},J$={fromASN:()=>null,toASN:()=>new Jo};function _S(e){switch(e){case P.Any:return N$;case P.BitString:return O$;case P.BmpString:return P$;case P.Boolean:return M$;case P.CharacterString:return W$;case P.Enumerated:return R$;case P.GeneralString:return Y$;case P.GeneralizedTime:return X$;case P.GraphicString:return q$;case P.IA5String:return G$;case P.Integer:return j$;case P.Null:return J$;case P.NumericString:return z$;case P.ObjectIdentifier:return D$;case P.OctetString:return Ph;case P.PrintableString:return V$;case P.TeletexString:return $$;case P.UTCTime:return Z$;case P.UniversalString:return F$;case P.Utf8String:return L$;case P.VideotexString:return H$;case P.VisibleString:return K$;default:return null}}function Ai(e){return typeof e=="function"&&e.prototype?e.prototype.toASN&&e.prototype.fromASN?!0:Ai(e.prototype):!!(e&&typeof e=="object"&&"toASN"in e&&"fromASN"in e)}function RN(e){var t;if(e){const n=Object.getPrototypeOf(e);return((t=n==null?void 0:n.prototype)===null||t===void 0?void 0:t.constructor)===Array?!0:RN(n)}return!1}function Q$(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;const n=new Uint8Array(e),r=new Uint8Array(t);for(let i=0;i<e.byteLength;i++)if(n[i]!==r[i])return!1;return!0}class eH{constructor(){this.items=new WeakMap}has(t){return this.items.has(t)}get(t,n=!1){const r=this.items.get(t);if(!r)throw new Error(`Cannot get schema for '${t.prototype.constructor.name}' target`);if(n&&!r.schema)throw new Error(`Schema '${t.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(t){const n=this.get(t);n.schema||(n.schema=this.create(t,!0))}createDefault(t){const n={type:ne.Sequence,items:{}},r=this.findParentSchema(t);return r&&(Object.assign(n,r),n.items=Object.assign({},n.items,r.items)),n}create(t,n){const r=this.items.get(t)||this.createDefault(t),i=[];for(const s in r.items){const o=r.items[s],a=n?s:"";let l;if(typeof o.type=="number"){const u=P[o.type],d=jN[u];if(!d)throw new Error(`Cannot get ASN1 class by name '${u}'`);l=new d({name:a})}else Ai(o.type)?l=new o.type().toSchema(a):o.optional?this.get(o.type).type===ne.Choice?l=new Qo({name:a}):(l=this.create(o.type,!1),l.name=a):l=new Qo({name:a});const c=!!o.optional||o.defaultValue!==void 0;if(o.repeated){l.name="";const u=o.repeated==="set"?Ni:Bi;l=new u({name:"",value:[new Lh({name:a,value:l})]})}if(o.context!==null&&o.context!==void 0)if(o.implicit)if(typeof o.type=="number"||Ai(o.type)){const u=o.repeated?gn:ed;i.push(new u({name:a,optional:c,idBlock:{tagClass:3,tagNumber:o.context}}))}else{this.cache(o.type);const u=!!o.repeated;let d=u?l:this.get(o.type,!0).schema;d="valueBlock"in d?d.valueBlock.value:d.value,i.push(new gn({name:u?"":a,optional:c,idBlock:{tagClass:3,tagNumber:o.context},value:d}))}else i.push(new gn({optional:c,idBlock:{tagClass:3,tagNumber:o.context},value:[l]}));else l.optional=c,i.push(l)}switch(r.type){case ne.Sequence:return new Bi({value:i,name:""});case ne.Set:return new Ni({value:i,name:""});case ne.Choice:return new wS({value:i,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(t,n){return this.items.set(t,n),this}findParentSchema(t){const n=Object.getPrototypeOf(t);return n?this.items.get(n)||this.findParentSchema(n):null}}const Wn=new eH,ie=e=>t=>{let n;Wn.has(t)?n=Wn.get(t):(n=Wn.createDefault(t),Wn.set(t,n)),Object.assign(n,e)},I=e=>(t,n)=>{let r;Wn.has(t.constructor)?r=Wn.get(t.constructor):(r=Wn.createDefault(t.constructor),Wn.set(t.constructor,r));const i=Object.assign({},e);if(typeof i.type=="number"&&!i.converter){const s=_S(e.type);if(!s)throw new Error(`Cannot get default converter for property '${n}' of ${t.constructor.name}`);i.converter=s}r.items[n]=i};class e2 extends Error{constructor(){super(...arguments),this.schemas=[]}}class tH{static parse(t,n){const r=gl(t);if(r.result.error)throw new Error(r.result.error);return this.fromASN(r.result,n)}static fromASN(t,n){var r;try{if(Ai(n))return new n().fromASN(t);const i=Wn.get(n);Wn.cache(n);let s=i.schema;if(t.constructor===gn&&i.type!==ne.Choice){s=new gn({idBlock:{tagClass:3,tagNumber:t.idBlock.tagNumber},value:i.schema.valueBlock.value});for(const l in i.items)delete t[l]}const o=Io({},t,s);if(!o.verified)throw new e2(`Data does not match to ${n.name} ASN1 schema. ${o.result.error}`);const a=new n;if(RN(n)){if(!("value"in t.valueBlock&&Array.isArray(t.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const l=i.itemType;if(typeof l=="number"){const c=_S(l);if(!c)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);return n.from(t.valueBlock.value,u=>c.fromASN(u))}else return n.from(t.valueBlock.value,c=>this.fromASN(c,l))}for(const l in i.items){const c=o.result[l];if(!c)continue;const u=i.items[l],d=u.type;if(typeof d=="number"||Ai(d)){const h=(r=u.converter)!==null&&r!==void 0?r:Ai(d)?new d:null;if(!h)throw new Error("Converter is empty");if(u.repeated)if(u.implicit){const m=u.repeated==="sequence"?Bi:Ni,x=new m;x.valueBlock=c.valueBlock;const y=gl(x.toBER(!1));if(y.offset===-1)throw new Error(`Cannot parse the child item. ${y.result.error}`);if(!("value"in y.result.valueBlock&&Array.isArray(y.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const _=y.result.valueBlock.value;a[l]=Array.from(_,p=>h.fromASN(p))}else a[l]=Array.from(c,m=>h.fromASN(m));else{let m=c;if(u.implicit){let x;if(Ai(d))x=new d().toSchema("");else{const y=P[d],_=jN[y];if(!_)throw new Error(`Cannot get '${y}' class from asn1js module`);x=new _}x.valueBlock=m.valueBlock,m=gl(x.toBER(!1)).result}a[l]=h.fromASN(m)}}else if(u.repeated){if(!Array.isArray(c))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");a[l]=Array.from(c,h=>this.fromASN(h,d))}else a[l]=this.fromASN(c,d)}return a}catch(i){throw i instanceof e2&&i.schemas.push(n.name),i}}}class ES{static serialize(t){return t instanceof $t?t.toBER(!1):this.toASN(t).toBER(!1)}static toASN(t){if(t&&typeof t=="object"&&Ai(t))return t.toASN();if(!(t&&typeof t=="object"))throw new TypeError("Parameter 1 should be type of Object.");const n=t.constructor,r=Wn.get(n);Wn.cache(n);let i=[];if(r.itemType){if(!Array.isArray(t))throw new TypeError("Parameter 1 should be type of Array.");if(typeof r.itemType=="number"){const o=_S(r.itemType);if(!o)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);i=t.map(a=>o.toASN(a))}else i=t.map(o=>this.toAsnItem({type:r.itemType},"[]",n,o))}else for(const o in r.items){const a=r.items[o],l=t[o];if(l===void 0||a.defaultValue===l||typeof a.defaultValue=="object"&&typeof l=="object"&&Q$(this.serialize(a.defaultValue),this.serialize(l)))continue;const c=ES.toAsnItem(a,o,n,l);if(typeof a.context=="number")if(a.implicit)if(!a.repeated&&(typeof a.type=="number"||Ai(a.type))){const u={};u.valueHex=c instanceof Jo?c.valueBeforeDecodeView:c.valueBlock.toBER(),i.push(new ed({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...u}))}else i.push(new gn({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:c.valueBlock.value}));else i.push(new gn({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[c]}));else a.repeated?i=i.concat(c):i.push(c)}let s;switch(r.type){case ne.Sequence:s=new Bi({value:i});break;case ne.Set:s=new Ni({value:i});break;case ne.Choice:if(!i[0])throw new Error(`Schema '${n.name}' has wrong data. Choice cannot be empty.`);s=i[0];break}return s}static toAsnItem(t,n,r,i){let s;if(typeof t.type=="number"){const o=t.converter;if(!o)throw new Error(`Property '${n}' doesn't have converter for type ${P[t.type]} in schema '${r.name}'`);if(t.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");const a=Array.from(i,c=>o.toASN(c)),l=t.repeated==="sequence"?Bi:Ni;s=new l({value:a})}else s=o.toASN(i)}else if(t.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");const o=Array.from(i,l=>this.toASN(l)),a=t.repeated==="sequence"?Bi:Ni;s=new a({value:o})}else s=this.toASN(i);return s}}class Qe extends Array{constructor(t=[]){if(typeof t=="number")super(t);else{super();for(const n of t)this.push(n)}}}class ro{static serialize(t){return ES.serialize(t)}static parse(t,n){return tH.parse(t,n)}static toString(t){const n=Te.isBufferSource(t)?Te.toArrayBuffer(t):ro.serialize(t),r=gl(n);if(r.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${r.result.error}`);return r.result.toString()}}var Rr=function(){return Rr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Rr.apply(this,arguments)};function ON(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function A(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function nH(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}class t2{static isIPv4(t){return/^(\d{1,3}\.){3}\d{1,3}$/.test(t)}static parseIPv4(t){const n=t.split(".");if(n.length!==4)throw new Error("Invalid IPv4 address");return n.map(r=>{const i=parseInt(r,10);if(isNaN(i)||i<0||i>255)throw new Error("Invalid IPv4 address part");return i})}static parseIPv6(t){const r=this.expandIPv6(t).split(":");if(r.length!==8)throw new Error("Invalid IPv6 address");return r.reduce((i,s)=>{const o=parseInt(s,16);if(isNaN(o)||o<0||o>65535)throw new Error("Invalid IPv6 address part");return i.push(o>>8&255),i.push(o&255),i},[])}static expandIPv6(t){if(!t.includes("::"))return t;const n=t.split("::");if(n.length>2)throw new Error("Invalid IPv6 address");const r=n[0]?n[0].split(":"):[],i=n[1]?n[1].split(":"):[],s=8-(r.length+i.length);if(s<0)throw new Error("Invalid IPv6 address");return[...r,...Array(s).fill("0"),...i].join(":")}static formatIPv6(t){const n=[];for(let r=0;r<16;r+=2)n.push((t[r]<<8|t[r+1]).toString(16));return this.compressIPv6(n.join(":"))}static compressIPv6(t){const n=t.split(":");let r=-1,i=0,s=-1,o=0;for(let a=0;a<n.length;a++)n[a]==="0"?(s===-1&&(s=a),o++):(o>i&&(r=s,i=o),s=-1,o=0);if(o>i&&(r=s,i=o),i>1){const a=n.slice(0,r).join(":"),l=n.slice(r+i).join(":");return`${a}::${l}`}return t}static parseCIDR(t){const[n,r]=t.split("/"),i=parseInt(r,10);if(this.isIPv4(n)){if(i<0||i>32)throw new Error("Invalid IPv4 prefix length");return[this.parseIPv4(n),i]}else{if(i<0||i>128)throw new Error("Invalid IPv6 prefix length");return[this.parseIPv6(n),i]}}static decodeIP(t){if(t.length===64&&parseInt(t,16)===0)return"::/0";if(t.length!==16)return t;const n=parseInt(t.slice(8),16).toString(2).split("").reduce((i,s)=>i+ +s,0);let r=t.slice(0,8).replace(/(.{2})/g,i=>`${parseInt(i,16)}.`);return r=r.slice(0,-1),`${r}/${n}`}static toString(t){const n=new Uint8Array(t);if(n.length===4)return Array.from(n).join(".");if(n.length===16)return this.formatIPv6(n);if(n.length===8||n.length===32){const r=n.length/2,i=n.slice(0,r),s=n.slice(r);if(n.every(l=>l===0))return n.length===8?"0.0.0.0/0":"::/0";const a=s.reduce((l,c)=>l+(c.toString(2).match(/1/g)||[]).length,0);return n.length===8?`${Array.from(i).join(".")}/${a}`:`${this.formatIPv6(i)}/${a}`}return this.decodeIP(rt.ToHex(t))}static fromString(t){if(t.includes("/")){const[r,i]=this.parseCIDR(t),s=new Uint8Array(r.length);let o=i;for(let l=0;l<s.length;l++)o>=8?(s[l]=255,o-=8):o>0&&(s[l]=255<<8-o,o=0);const a=new Uint8Array(r.length*2);return a.set(r,0),a.set(s,r.length),a.buffer}const n=this.isIPv4(t)?this.parseIPv4(t):this.parseIPv6(t);return new Uint8Array(n).buffer}}var Fv,zv,Vv;let yr=class{constructor(t={}){Object.assign(this,t)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};A([I({type:P.TeletexString})],yr.prototype,"teletexString",void 0);A([I({type:P.PrintableString})],yr.prototype,"printableString",void 0);A([I({type:P.UniversalString})],yr.prototype,"universalString",void 0);A([I({type:P.Utf8String})],yr.prototype,"utf8String",void 0);A([I({type:P.BmpString})],yr.prototype,"bmpString",void 0);yr=A([ie({type:ne.Choice})],yr);let Dl=class extends yr{constructor(t={}){super(t),Object.assign(this,t)}toString(){return this.ia5String||(this.anyValue?rt.ToHex(this.anyValue):super.toString())}};A([I({type:P.IA5String})],Dl.prototype,"ia5String",void 0);A([I({type:P.Any})],Dl.prototype,"anyValue",void 0);Dl=A([ie({type:ne.Choice})],Dl);class CS{constructor(t={}){this.type="",this.value=new Dl,Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],CS.prototype,"type",void 0);A([I({type:Dl})],CS.prototype,"value",void 0);let Fh=Fv=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,Fv.prototype)}};Fh=Fv=A([ie({type:ne.Set,itemType:CS})],Fh);let $v=zv=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,zv.prototype)}};$v=zv=A([ie({type:ne.Sequence,itemType:Fh})],$v);let br=Vv=class extends $v{constructor(t){super(t),Object.setPrototypeOf(this,Vv.prototype)}};br=Vv=A([ie({type:ne.Sequence})],br);const rH={fromASN:e=>t2.toString(Ph.fromASN(e)),toASN:e=>Ph.toASN(t2.fromString(e))};class AS{constructor(t={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],AS.prototype,"typeId",void 0);A([I({type:P.Any,context:0})],AS.prototype,"value",void 0);class TS{constructor(t={}){this.partyName=new yr,Object.assign(this,t)}}A([I({type:yr,optional:!0,context:0,implicit:!0})],TS.prototype,"nameAssigner",void 0);A([I({type:yr,context:1,implicit:!0})],TS.prototype,"partyName",void 0);let Me=class{constructor(t={}){Object.assign(this,t)}};A([I({type:AS,context:0,implicit:!0})],Me.prototype,"otherName",void 0);A([I({type:P.IA5String,context:1,implicit:!0})],Me.prototype,"rfc822Name",void 0);A([I({type:P.IA5String,context:2,implicit:!0})],Me.prototype,"dNSName",void 0);A([I({type:P.Any,context:3,implicit:!0})],Me.prototype,"x400Address",void 0);A([I({type:br,context:4,implicit:!1})],Me.prototype,"directoryName",void 0);A([I({type:TS,context:5})],Me.prototype,"ediPartyName",void 0);A([I({type:P.IA5String,context:6,implicit:!0})],Me.prototype,"uniformResourceIdentifier",void 0);A([I({type:P.OctetString,context:7,implicit:!0,converter:rH})],Me.prototype,"iPAddress",void 0);A([I({type:P.ObjectIdentifier,context:8,implicit:!0})],Me.prototype,"registeredID",void 0);Me=A([ie({type:ne.Choice})],Me);var Hv;class yp{constructor(t={}){this.accessMethod="",this.accessLocation=new Me,Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],yp.prototype,"accessMethod",void 0);A([I({type:Me})],yp.prototype,"accessLocation",void 0);let n2=Hv=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,Hv.prototype)}};n2=Hv=A([ie({type:ne.Sequence,itemType:yp})],n2);class DN extends qe{}class kS{constructor(t={}){t&&Object.assign(this,t)}}A([I({type:DN,context:0,optional:!0,implicit:!0})],kS.prototype,"keyIdentifier",void 0);A([I({type:Me,context:1,optional:!0,implicit:!0,repeated:"sequence"})],kS.prototype,"authorityCertIssuer",void 0);A([I({type:P.Integer,context:2,optional:!0,implicit:!0,converter:Je})],kS.prototype,"authorityCertSerialNumber",void 0);class MN{constructor(t={}){this.cA=!1,Object.assign(this,t)}}A([I({type:P.Boolean,defaultValue:!1})],MN.prototype,"cA",void 0);A([I({type:P.Integer,optional:!0})],MN.prototype,"pathLenConstraint",void 0);var Gv;let vr=Gv=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,Gv.prototype)}};vr=Gv=A([ie({type:ne.Sequence,itemType:Me})],vr);var qv;let r2=qv=class extends vr{constructor(t){super(t),Object.setPrototypeOf(this,qv.prototype)}};r2=qv=A([ie({type:ne.Sequence})],r2);var Kv;let Fi=class{constructor(t={}){Object.assign(this,t)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};A([I({type:P.IA5String})],Fi.prototype,"ia5String",void 0);A([I({type:P.VisibleString})],Fi.prototype,"visibleString",void 0);A([I({type:P.BmpString})],Fi.prototype,"bmpString",void 0);A([I({type:P.Utf8String})],Fi.prototype,"utf8String",void 0);Fi=A([ie({type:ne.Choice})],Fi);class IS{constructor(t={}){this.organization=new Fi,this.noticeNumbers=[],Object.assign(this,t)}}A([I({type:Fi})],IS.prototype,"organization",void 0);A([I({type:P.Integer,repeated:"sequence"})],IS.prototype,"noticeNumbers",void 0);class BS{constructor(t={}){Object.assign(this,t)}}A([I({type:IS,optional:!0})],BS.prototype,"noticeRef",void 0);A([I({type:Fi,optional:!0})],BS.prototype,"explicitText",void 0);let zh=class{constructor(t={}){Object.assign(this,t)}};A([I({type:P.IA5String})],zh.prototype,"cPSuri",void 0);A([I({type:BS})],zh.prototype,"userNotice",void 0);zh=A([ie({type:ne.Choice})],zh);class NS{constructor(t={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],NS.prototype,"policyQualifierId",void 0);A([I({type:P.Any})],NS.prototype,"qualifier",void 0);class jS{constructor(t={}){this.policyIdentifier="",Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],jS.prototype,"policyIdentifier",void 0);A([I({type:NS,repeated:"sequence",optional:!0})],jS.prototype,"policyQualifiers",void 0);let i2=Kv=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,Kv.prototype)}};i2=Kv=A([ie({type:ne.Sequence,itemType:jS})],i2);let Vh=class{constructor(t=0){this.value=t}};A([I({type:P.Integer})],Vh.prototype,"value",void 0);Vh=A([ie({type:ne.Choice})],Vh);let s2=class extends Vh{};s2=A([ie({type:ne.Choice})],s2);var Yv,ur;(function(e){e[e.unused=1]="unused",e[e.keyCompromise=2]="keyCompromise",e[e.cACompromise=4]="cACompromise",e[e.affiliationChanged=8]="affiliationChanged",e[e.superseded=16]="superseded",e[e.cessationOfOperation=32]="cessationOfOperation",e[e.certificateHold=64]="certificateHold",e[e.privilegeWithdrawn=128]="privilegeWithdrawn",e[e.aACompromise=256]="aACompromise"})(ur||(ur={}));class UN extends SS{toJSON(){const t=[],n=this.toNumber();return n&ur.aACompromise&&t.push("aACompromise"),n&ur.affiliationChanged&&t.push("affiliationChanged"),n&ur.cACompromise&&t.push("cACompromise"),n&ur.certificateHold&&t.push("certificateHold"),n&ur.cessationOfOperation&&t.push("cessationOfOperation"),n&ur.keyCompromise&&t.push("keyCompromise"),n&ur.privilegeWithdrawn&&t.push("privilegeWithdrawn"),n&ur.superseded&&t.push("superseded"),n&ur.unused&&t.push("unused"),t}toString(){return`[${this.toJSON().join(", ")}]`}}let Ml=class{constructor(t={}){Object.assign(this,t)}};A([I({type:Me,context:0,repeated:"sequence",implicit:!0})],Ml.prototype,"fullName",void 0);A([I({type:Fh,context:1,implicit:!0})],Ml.prototype,"nameRelativeToCRLIssuer",void 0);Ml=A([ie({type:ne.Choice})],Ml);class rd{constructor(t={}){Object.assign(this,t)}}A([I({type:Ml,context:0,optional:!0})],rd.prototype,"distributionPoint",void 0);A([I({type:UN,context:1,optional:!0,implicit:!0})],rd.prototype,"reasons",void 0);A([I({type:Me,context:2,optional:!0,repeated:"sequence",implicit:!0})],rd.prototype,"cRLIssuer",void 0);let Wv=Yv=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,Yv.prototype)}};Wv=Yv=A([ie({type:ne.Sequence,itemType:rd})],Wv);var Zv;let o2=Zv=class extends Wv{constructor(t){super(t),Object.setPrototypeOf(this,Zv.prototype)}};o2=Zv=A([ie({type:ne.Sequence,itemType:rd})],o2);class Wt{constructor(t={}){this.onlyContainsUserCerts=Wt.ONLY,this.onlyContainsCACerts=Wt.ONLY,this.indirectCRL=Wt.ONLY,this.onlyContainsAttributeCerts=Wt.ONLY,Object.assign(this,t)}}Wt.ONLY=!1;A([I({type:Ml,context:0,optional:!0})],Wt.prototype,"distributionPoint",void 0);A([I({type:P.Boolean,context:1,defaultValue:Wt.ONLY,implicit:!0})],Wt.prototype,"onlyContainsUserCerts",void 0);A([I({type:P.Boolean,context:2,defaultValue:Wt.ONLY,implicit:!0})],Wt.prototype,"onlyContainsCACerts",void 0);A([I({type:UN,context:3,optional:!0,implicit:!0})],Wt.prototype,"onlySomeReasons",void 0);A([I({type:P.Boolean,context:4,defaultValue:Wt.ONLY,implicit:!0})],Wt.prototype,"indirectCRL",void 0);A([I({type:P.Boolean,context:5,defaultValue:Wt.ONLY,implicit:!0})],Wt.prototype,"onlyContainsAttributeCerts",void 0);var Iu;(function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"})(Iu||(Iu={}));let Xv=class{constructor(t=Iu.unspecified){this.reason=Iu.unspecified,this.reason=t}toJSON(){return Iu[this.reason]}toString(){return this.toJSON()}};A([I({type:P.Enumerated})],Xv.prototype,"reason",void 0);Xv=A([ie({type:ne.Choice})],Xv);var Jv;let a2=Jv=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,Jv.prototype)}};a2=Jv=A([ie({type:ne.Sequence,itemType:P.ObjectIdentifier})],a2);let Qv=class{constructor(t=new ArrayBuffer(0)){this.value=t}};A([I({type:P.Integer,converter:Je})],Qv.prototype,"value",void 0);Qv=A([ie({type:ne.Choice})],Qv);let e1=class{constructor(t){this.value=new Date,t&&(this.value=t)}};A([I({type:P.GeneralizedTime})],e1.prototype,"value",void 0);e1=A([ie({type:ne.Choice})],e1);var t1;let l2=t1=class extends vr{constructor(t){super(t),Object.setPrototypeOf(this,t1.prototype)}};l2=t1=A([ie({type:ne.Sequence})],l2);var c2;(function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"})(c2||(c2={}));var n1;class bp{constructor(t={}){this.base=new Me,this.minimum=0,Object.assign(this,t)}}A([I({type:Me})],bp.prototype,"base",void 0);A([I({type:P.Integer,context:0,defaultValue:0,implicit:!0})],bp.prototype,"minimum",void 0);A([I({type:P.Integer,context:1,optional:!0,implicit:!0})],bp.prototype,"maximum",void 0);let $h=n1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,n1.prototype)}};$h=n1=A([ie({type:ne.Sequence,itemType:bp})],$h);class LN{constructor(t={}){Object.assign(this,t)}}A([I({type:$h,context:0,optional:!0,implicit:!0})],LN.prototype,"permittedSubtrees",void 0);A([I({type:$h,context:1,optional:!0,implicit:!0})],LN.prototype,"excludedSubtrees",void 0);class PN{constructor(t={}){Object.assign(this,t)}}A([I({type:P.Integer,context:0,implicit:!0,optional:!0,converter:Je})],PN.prototype,"requireExplicitPolicy",void 0);A([I({type:P.Integer,context:1,implicit:!0,optional:!0,converter:Je})],PN.prototype,"inhibitPolicyMapping",void 0);var r1;class RS{constructor(t={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],RS.prototype,"issuerDomainPolicy",void 0);A([I({type:P.ObjectIdentifier})],RS.prototype,"subjectDomainPolicy",void 0);let u2=r1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,r1.prototype)}};u2=r1=A([ie({type:ne.Sequence,itemType:RS})],u2);var i1;let d2=i1=class extends vr{constructor(t){super(t),Object.setPrototypeOf(this,i1.prototype)}};d2=i1=A([ie({type:ne.Sequence})],d2);let id=class{constructor(t={}){this.type="",this.values=[],Object.assign(this,t)}};A([I({type:P.ObjectIdentifier})],id.prototype,"type",void 0);A([I({type:P.Any,repeated:"set"})],id.prototype,"values",void 0);var s1;let f2=s1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,s1.prototype)}};f2=s1=A([ie({type:ne.Sequence,itemType:id})],f2);class sd extends DN{}class FN{constructor(t={}){Object.assign(this,t)}}A([I({type:P.GeneralizedTime,context:0,implicit:!0,optional:!0})],FN.prototype,"notBefore",void 0);A([I({type:P.GeneralizedTime,context:1,implicit:!0,optional:!0})],FN.prototype,"notAfter",void 0);var Bu;(function(e){e[e.keyUpdateAllowed=1]="keyUpdateAllowed",e[e.newExtensions=2]="newExtensions",e[e.pKIXCertificate=4]="pKIXCertificate"})(Bu||(Bu={}));class zN extends SS{toJSON(){const t=[],n=this.toNumber();return n&Bu.pKIXCertificate&&t.push("pKIXCertificate"),n&Bu.newExtensions&&t.push("newExtensions"),n&Bu.keyUpdateAllowed&&t.push("keyUpdateAllowed"),t}toString(){return`[${this.toJSON().join(", ")}]`}}class VN{constructor(t={}){this.entrustVers="",this.entrustInfoFlags=new zN,Object.assign(this,t)}}A([I({type:P.GeneralString})],VN.prototype,"entrustVers",void 0);A([I({type:zN})],VN.prototype,"entrustInfoFlags",void 0);var o1;let h2=o1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,o1.prototype)}};h2=o1=A([ie({type:ne.Sequence,itemType:yp})],h2);class pe{constructor(t={}){this.algorithm="",Object.assign(this,t)}isEqual(t){return t instanceof pe&&t.algorithm==this.algorithm&&(t.parameters&&this.parameters&&m$(t.parameters,this.parameters)||t.parameters===this.parameters)}}A([I({type:P.ObjectIdentifier})],pe.prototype,"algorithm",void 0);A([I({type:P.Any,optional:!0})],pe.prototype,"parameters",void 0);class vp{constructor(t={}){this.algorithm=new pe,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:pe})],vp.prototype,"algorithm",void 0);A([I({type:P.BitString})],vp.prototype,"subjectPublicKey",void 0);let Zt=class{constructor(t){if(t)if(typeof t=="string"||typeof t=="number"||t instanceof Date){const n=new Date(t);n.getUTCFullYear()>2049?this.generalTime=n:this.utcTime=n}else Object.assign(this,t)}getTime(){const t=this.utcTime||this.generalTime;if(!t)throw new Error("Cannot get time from CHOICE object");return t}};A([I({type:P.UTCTime})],Zt.prototype,"utcTime",void 0);A([I({type:P.GeneralizedTime})],Zt.prototype,"generalTime",void 0);Zt=A([ie({type:ne.Choice})],Zt);class xp{constructor(t){this.notBefore=new Zt(new Date),this.notAfter=new Zt(new Date),t&&(this.notBefore=new Zt(t.notBefore),this.notAfter=new Zt(t.notAfter))}}A([I({type:Zt})],xp.prototype,"notBefore",void 0);A([I({type:Zt})],xp.prototype,"notAfter",void 0);var a1;class Yr{constructor(t={}){this.extnID="",this.critical=Yr.CRITICAL,this.extnValue=new qe,Object.assign(this,t)}}Yr.CRITICAL=!1;A([I({type:P.ObjectIdentifier})],Yr.prototype,"extnID",void 0);A([I({type:P.Boolean,defaultValue:Yr.CRITICAL})],Yr.prototype,"critical",void 0);A([I({type:qe})],Yr.prototype,"extnValue",void 0);let Hh=a1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,a1.prototype)}};Hh=a1=A([ie({type:ne.Sequence,itemType:Yr})],Hh);var Gh;(function(e){e[e.v1=0]="v1",e[e.v2=1]="v2",e[e.v3=2]="v3"})(Gh||(Gh={}));class rr{constructor(t={}){this.version=Gh.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new pe,this.issuer=new br,this.validity=new xp,this.subject=new br,this.subjectPublicKeyInfo=new vp,Object.assign(this,t)}}A([I({type:P.Integer,context:0,defaultValue:Gh.v1})],rr.prototype,"version",void 0);A([I({type:P.Integer,converter:Je})],rr.prototype,"serialNumber",void 0);A([I({type:pe})],rr.prototype,"signature",void 0);A([I({type:br})],rr.prototype,"issuer",void 0);A([I({type:xp})],rr.prototype,"validity",void 0);A([I({type:br})],rr.prototype,"subject",void 0);A([I({type:vp})],rr.prototype,"subjectPublicKeyInfo",void 0);A([I({type:P.BitString,context:1,implicit:!0,optional:!0})],rr.prototype,"issuerUniqueID",void 0);A([I({type:P.BitString,context:2,implicit:!0,optional:!0})],rr.prototype,"subjectUniqueID",void 0);A([I({type:Hh,context:3,optional:!0})],rr.prototype,"extensions",void 0);class yc{constructor(t={}){this.tbsCertificate=new rr,this.signatureAlgorithm=new pe,this.signatureValue=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:rr})],yc.prototype,"tbsCertificate",void 0);A([I({type:pe})],yc.prototype,"signatureAlgorithm",void 0);A([I({type:P.BitString})],yc.prototype,"signatureValue",void 0);class wp{constructor(t={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new Zt,Object.assign(this,t)}}A([I({type:P.Integer,converter:Je})],wp.prototype,"userCertificate",void 0);A([I({type:Zt})],wp.prototype,"revocationDate",void 0);A([I({type:Yr,optional:!0,repeated:"sequence"})],wp.prototype,"crlEntryExtensions",void 0);class Ji{constructor(t={}){this.signature=new pe,this.issuer=new br,this.thisUpdate=new Zt,Object.assign(this,t)}}A([I({type:P.Integer,optional:!0})],Ji.prototype,"version",void 0);A([I({type:pe})],Ji.prototype,"signature",void 0);A([I({type:br})],Ji.prototype,"issuer",void 0);A([I({type:Zt})],Ji.prototype,"thisUpdate",void 0);A([I({type:Zt,optional:!0})],Ji.prototype,"nextUpdate",void 0);A([I({type:wp,repeated:"sequence",optional:!0})],Ji.prototype,"revokedCertificates",void 0);A([I({type:Yr,optional:!0,context:0,repeated:"sequence"})],Ji.prototype,"crlExtensions",void 0);class OS{constructor(t={}){this.tbsCertList=new Ji,this.signatureAlgorithm=new pe,this.signature=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:Ji})],OS.prototype,"tbsCertList",void 0);A([I({type:pe})],OS.prototype,"signatureAlgorithm",void 0);A([I({type:P.BitString})],OS.prototype,"signature",void 0);class iH{constructor(t){this.zero=BigInt(0),this.one=BigInt(1),this.prime=t}e(t){return typeof t=="bigint"?t%this.prime:BigInt(t)%this.prime}add(t,n){return(t+n)%this.prime}sub(t,n){return(this.prime+t-n)%this.prime}mul(t,n){return t*n%this.prime}square(t){return t*t%this.prime}div(t,n){return t/n%this.prime}}class sH{constructor(t,n){this.params=t,this.primeField=n}getT(){return this.params.t}sbox(t){return t.map(n=>this.sboxP(n))}sboxP(t){const n=this.primeField.square(t);if(this.params.d==3)return this.primeField.mul(n,t);if(this.params.d==5)return this.primeField.mul(this.primeField.square(n),t);if(this.params.d==7)return this.primeField.mul(this.primeField.square(n),this.primeField.mul(n,t));throw new Error("Invalid d paramter, must be 3, 5 or 7")}matmulExternal(t){const n=this.params.t;if(n==2){const r=this.primeField.add(t[0],t[1]);t[0]=this.primeField.add(t[0],r),t[1]=this.primeField.add(t[1],r)}else if(n==3){const r=this.primeField.add(this.primeField.add(t[0],t[1]),t[2]);t[0]=this.primeField.add(t[0],r),t[1]=this.primeField.add(t[1],r),t[2]=this.primeField.add(t[2],r)}else if(n==4||n==8||n==12||n==16||n==20||n==24){const r=n/4;for(let i=0;i<r;i++){const s=i*4;let o=t[s];o=this.primeField.add(o,t[s+1]);let a=t[s+2];a=this.primeField.add(a,t[s+3]);let l=t[s+1];l=this.primeField.add(l,l),l=this.primeField.add(l,a);let c=t[s+3];c=this.primeField.add(c,c),c=this.primeField.add(c,o);let u=a;u=this.primeField.add(u,u),u=this.primeField.add(u,u),u=this.primeField.add(u,c);let d=o;d=this.primeField.add(d,d),d=this.primeField.add(d,d),d=this.primeField.add(d,l);let h=c;h=this.primeField.add(h,d);let m=l;m=this.primeField.add(m,u),t[s]=h,t[s+1]=d,t[s+2]=m,t[s+3]=u}if(n>4){const i=[this.primeField.zero,this.primeField.zero,this.primeField.zero,this.primeField.zero];for(let s=0;s<4;s++){i[s]=t[s];for(let o=1;o<r;o++)i[s]=this.primeField.add(i[s],t[4*o+s])}for(let s=0;s<t.length;s++)t[s]=this.primeField.add(t[s],i[s%4])}}else throw new Error("Invalid t parameter, must be 2, 3, 4, 8, 12, 16, 20 or 24");return t}matmulInternal(t){const n=this.params.t;if(n==2){const r=this.primeField.add(t[0],t[1]);t[0]=this.primeField.add(t[0],r),t[1]=this.primeField.add(this.primeField.add(t[1],t[1]),r)}else if(n==3){const r=this.primeField.add(this.primeField.add(t[0],t[1]),t[2]);t[0]=this.primeField.add(t[0],r),t[1]=this.primeField.add(t[1],r),t[2]=this.primeField.add(this.primeField.add(t[2],t[2]),r)}else if(n==4||n==8||n==12||n==16||n==20||n==24){let r=t[0];for(let i=1;i<n;i++)r=this.primeField.add(r,t[i]);for(let i=0;i<t.length;i++)t[i]=this.primeField.add(this.primeField.mul(this.params.mat_internal_diag_m_1[i],t[i]),r)}else throw new Error("Invalid t parameter, must be 2, 3, 4, 8, 12, 16, 20 or 24");return t}permute(t){const n=this.params.t;if(t.length!=n)throw new Error("Invalid input length");let r=t;this.matmulExternal(r);for(let s=0;s<this.params.rounds_f_beginning;s++)r=this.addRc(r,this.params.round_constants[s]),r=this.sbox(r),this.matmulExternal(r);const i=this.params.rounds_f_beginning+this.params.rounds_p;for(let s=this.params.rounds_f_beginning;s<i;s++)r[0]=this.primeField.add(r[0],this.params.round_constants[s][0]),r[0]=this.sboxP(r[0]),this.matmulInternal(r);for(let s=i;s<this.params.rounds;s++)r=this.addRc(r,this.params.round_constants[s]),r=this.sbox(r),this.matmulExternal(r);return r}addRc(t,n){return t.map((r,i)=>this.primeField.add(r,n[i]))}}function oH(e,t,n,r,i,s,o){const a=n/2,l=n+r;return{t:e,d:t,rounds_f_beginning:a,rounds_p:r,rounds_f_end:a,rounds:l,mat_internal_diag_m_1:i,_mat_internal:s,round_constants:o}}const aH=[BigInt("0x10dc6e9c006ea38b04b1e03b4bd9490c0d03f98929ca1d7fb56821fd19d3b6e7"),BigInt("0x0c28145b6a44df3e0149b3d0a30b3bb599df9756d4dd9b84a86b38cfb45a740b"),BigInt("0x00544b8338791518b2c7645a50392798b21f75bb60e3596170067d00141cac15"),BigInt("0x222c01175718386f2e2e82eb122789e352e105a3b8fa852613bc534433ee428b")],lH=[[BigInt("0x10dc6e9c006ea38b04b1e03b4bd9490c0d03f98929ca1d7fb56821fd19d3b6e8"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001")],[BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0c28145b6a44df3e0149b3d0a30b3bb599df9756d4dd9b84a86b38cfb45a740c"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001")],[BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x00544b8338791518b2c7645a50392798b21f75bb60e3596170067d00141cac16"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001")],[BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000001"),BigInt("0x222c01175718386f2e2e82eb122789e352e105a3b8fa852613bc534433ee428c")]],cH=[[BigInt("0x19b849f69450b06848da1d39bd5e4a4302bb86744edc26238b0878e269ed23e5"),BigInt("0x265ddfe127dd51bd7239347b758f0a1320eb2cc7450acc1dad47f80c8dcf34d6"),BigInt("0x199750ec472f1809e0f66a545e1e51624108ac845015c2aa3dfc36bab497d8aa"),BigInt("0x157ff3fe65ac7208110f06a5f74302b14d743ea25067f0ffd032f787c7f1cdf8")],[BigInt("0x2e49c43c4569dd9c5fd35ac45fca33f10b15c590692f8beefe18f4896ac94902"),BigInt("0x0e35fb89981890520d4aef2b6d6506c3cb2f0b6973c24fa82731345ffa2d1f1e"),BigInt("0x251ad47cb15c4f1105f109ae5e944f1ba9d9e7806d667ffec6fe723002e0b996"),BigInt("0x13da07dc64d428369873e97160234641f8beb56fdd05e5f3563fa39d9c22df4e")],[BigInt("0x0c009b84e650e6d23dc00c7dccef7483a553939689d350cd46e7b89055fd4738"),BigInt("0x011f16b1c63a854f01992e3956f42d8b04eb650c6d535eb0203dec74befdca06"),BigInt("0x0ed69e5e383a688f209d9a561daa79612f3f78d0467ad45485df07093f367549"),BigInt("0x04dba94a7b0ce9e221acad41472b6bbe3aec507f5eb3d33f463672264c9f789b")],[BigInt("0x0a3f2637d840f3a16eb094271c9d237b6036757d4bb50bf7ce732ff1d4fa28e8"),BigInt("0x259a666f129eea198f8a1c502fdb38fa39b1f075569564b6e54a485d1182323f"),BigInt("0x28bf7459c9b2f4c6d8e7d06a4ee3a47f7745d4271038e5157a32fdf7ede0d6a1"),BigInt("0x0a1ca941f057037526ea200f489be8d4c37c85bbcce6a2aeec91bd6941432447")],[BigInt("0x0c6f8f958be0e93053d7fd4fc54512855535ed1539f051dcb43a26fd926361cf"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x123106a93cd17578d426e8128ac9d90aa9e8a00708e296e084dd57e69caaf811"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x26e1ba52ad9285d97dd3ab52f8e840085e8fa83ff1e8f1877b074867cd2dee75"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1cb55cad7bd133de18a64c5c47b9c97cbe4d8b7bf9e095864471537e6a4ae2c5"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1dcd73e46acd8f8e0e2c7ce04bde7f6d2a53043d5060a41c7143f08e6e9055d0"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x011003e32f6d9c66f5852f05474a4def0cda294a0eb4e9b9b12b9bb4512e5574"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2b1e809ac1d10ab29ad5f20d03a57dfebadfe5903f58bafed7c508dd2287ae8c"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2539de1785b735999fb4dac35ee17ed0ef995d05ab2fc5faeaa69ae87bcec0a5"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0c246c5a2ef8ee0126497f222b3e0a0ef4e1c3d41c86d46e43982cb11d77951d"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x192089c4974f68e95408148f7c0632edbb09e6a6ad1a1c2f3f0305f5d03b527b"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1eae0ad8ab68b2f06a0ee36eeb0d0c058529097d91096b756d8fdc2fb5a60d85"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x179190e5d0e22179e46f8282872abc88db6e2fdc0dee99e69768bd98c5d06bfb"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x29bb9e2c9076732576e9a81c7ac4b83214528f7db00f31bf6cafe794a9b3cd1c"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x225d394e42207599403efd0c2464a90d52652645882aac35b10e590e6e691e08"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x064760623c25c8cf753d238055b444532be13557451c087de09efd454b23fd59"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x10ba3a0e01df92e87f301c4b716d8a394d67f4bf42a75c10922910a78f6b5b87"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0e070bf53f8451b24f9c6e96b0c2a801cb511bc0c242eb9d361b77693f21471c"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1b94cd61b051b04dd39755ff93821a73ccd6cb11d2491d8aa7f921014de252fb"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1d7cb39bafb8c744e148787a2e70230f9d4e917d5713bb050487b5aa7d74070b"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2ec93189bd1ab4f69117d0fe980c80ff8785c2961829f701bb74ac1f303b17db"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2db366bfdd36d277a692bb825b86275beac404a19ae07a9082ea46bd83517926"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x062100eb485db06269655cf186a68532985275428450359adc99cec6960711b8"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0761d33c66614aaa570e7f1e8244ca1120243f92fa59e4f900c567bf41f5a59b"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x20fc411a114d13992c2705aa034e3f315d78608a0f7de4ccf7a72e494855ad0d"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x25b5c004a4bdfcb5add9ec4e9ab219ba102c67e8b3effb5fc3a30f317250bc5a"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x23b1822d278ed632a494e58f6df6f5ed038b186d8474155ad87e7dff62b37f4b"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x22734b4c5c3f9493606c4ba9012499bf0f14d13bfcfcccaa16102a29cc2f69e0"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x26c0c8fe09eb30b7e27a74dc33492347e5bdff409aa3610254413d3fad795ce5"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x070dd0ccb6bd7bbae88eac03fa1fbb26196be3083a809829bbd626df348ccad9"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x12b6595bdb329b6fb043ba78bb28c3bec2c0a6de46d8c5ad6067c4ebfd4250da"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x248d97d7f76283d63bec30e7a5876c11c06fca9b275c671c5e33d95bb7e8d729"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1a306d439d463b0816fc6fd64cc939318b45eb759ddde4aa106d15d9bd9baaaa"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x28a8f8372e3c38daced7c00421cb4621f4f1b54ddc27821b0d62d3d6ec7c56cf"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0094975717f9a8a8bb35152f24d43294071ce320c829f388bc852183e1e2ce7e"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x04d5ee4c3aa78f7d80fde60d716480d3593f74d4f653ae83f4103246db2e8d65"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2a6cf5e9aa03d4336349ad6fb8ed2269c7bef54b8822cc76d08495c12efde187"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2304d31eaab960ba9274da43e19ddeb7f792180808fd6e43baae48d7efcba3f3"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x03fd9ac865a4b2a6d5e7009785817249bff08a7e0726fcb4e1c11d39d199f0b0"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x00b7258ded52bbda2248404d55ee5044798afc3a209193073f7954d4d63b0b64"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x159f81ada0771799ec38fca2d4bf65ebb13d3a74f3298db36272c5ca65e92d9a"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1ef90e67437fbc8550237a75bc28e3bb9000130ea25f0c5471e144cf4264431f"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1e65f838515e5ff0196b49aa41a2d2568df739bc176b08ec95a79ed82932e30d"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2b1b045def3a166cec6ce768d079ba74b18c844e570e1f826575c1068c94c33f"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0832e5753ceb0ff6402543b1109229c165dc2d73bef715e3f1c6e07c168bb173"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x02f614e9cedfb3dc6b762ae0a37d41bab1b841c2e8b6451bc5a8e3c390b6ad16"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0e2427d38bd46a60dd640b8e362cad967370ebb777bedff40f6a0be27e7ed705"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0493630b7c670b6deb7c84d414e7ce79049f0ec098c3c7c50768bbe29214a53a"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x22ead100e8e482674decdab17066c5a26bb1515355d5461a3dc06cc85327cea9"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x25b3e56e655b42cdaae2626ed2554d48583f1ae35626d04de5084e0b6d2a6f16"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1e32752ada8836ef5837a6cde8ff13dbb599c336349e4c584b4fdc0a0cf6f9d0"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2fa2a871c15a387cc50f68f6f3c3455b23c00995f05078f672a9864074d412e5"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x2f569b8a9a4424c9278e1db7311e889f54ccbf10661bab7fcd18e7c7a7d83505"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x044cb455110a8fdd531ade530234c518a7df93f7332ffd2144165374b246b43d"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x227808de93906d5d420246157f2e42b191fe8c90adfe118178ddc723a5319025"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x02fcca2934e046bc623adead873579865d03781ae090ad4a8579d2e7a6800355"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x0ef915f0ac120b876abccceb344a1d36bad3f3c5ab91a8ddcbec2e060d8befac"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000"),BigInt("0x0000000000000000000000000000000000000000000000000000000000000000")],[BigInt("0x1797130f4b7a3e1777eb757bc6f287f6ab0fb85f6be63b09f3b16ef2b1405d38"),BigInt("0x0a76225dc04170ae3306c85abab59e608c7f497c20156d4d36c668555decc6e5"),BigInt("0x1fffb9ec1992d66ba1e77a7b93209af6f8fa76d48acb664796174b5326a31a5c"),BigInt("0x25721c4fc15a3f2853b57c338fa538d85f8fbba6c6b9c6090611889b797b9c5f")],[BigInt("0x0c817fd42d5f7a41215e3d07ba197216adb4c3790705da95eb63b982bfcaf75a"),BigInt("0x13abe3f5239915d39f7e13c2c24970b6df8cf86ce00a22002bc15866e52b5a96"),BigInt("0x2106feea546224ea12ef7f39987a46c85c1bc3dc29bdbd7a92cd60acb4d391ce"),BigInt("0x21ca859468a746b6aaa79474a37dab49f1ca5a28c748bc7157e1b3345bb0f959")],[BigInt("0x05ccd6255c1e6f0c5cf1f0df934194c62911d14d0321662a8f1a48999e34185b"),BigInt("0x0f0e34a64b70a626e464d846674c4c8816c4fb267fe44fe6ea28678cb09490a4"),BigInt("0x0558531a4e25470c6157794ca36d0e9647dbfcfe350d64838f5b1a8a2de0d4bf"),BigInt("0x09d3dca9173ed2faceea125157683d18924cadad3f655a60b72f5864961f1455")],[BigInt("0x0328cbd54e8c0913493f866ed03d218bf23f92d68aaec48617d4c722e5bd4335"),BigInt("0x2bf07216e2aff0a223a487b1a7094e07e79e7bcc9798c648ee3347dd5329d34b"),BigInt("0x1daf345a58006b736499c583cb76c316d6f78ed6a6dffc82111e11a63fe412df"),BigInt("0x176563472456aaa746b694c60e1823611ef39039b2edc7ff391e6f2293d2c404")]],uH=new iH(BigInt("21888242871839275222246405745257275088548364400416034343698204186575808495617"));let fy=null;function zi(){return fy||(fy=new sH(oH(4,5,8,56,aH,lH,cH),uH)),fy}zi().primeField;zi().permute.bind(zi());var m2;(function(e){e[e.ABSORB=0]="ABSORB",e[e.SQUEEZE=1]="SQUEEZE"})(m2||(m2={}));const dH=zi().primeField,fH=zi().permute.bind(zi());var dr;(function(e){e[e.ABSORB=0]="ABSORB",e[e.SQUEEZE=1]="SQUEEZE"})(dr||(dr={}));class DS{constructor(t=0n){this.rate=zi().getT()-1,this.t=zi().getT(),this.state=new Array(this.t).fill(0n),this.state[this.rate]=t,this.cache=new Array(this.rate).fill(0n),this.cacheSize=0,this.mode=dr.ABSORB}async performDuplex(){for(let t=this.cacheSize;t<this.rate;t++)this.cache[t]=0n;for(let t=0;t<this.rate;t++)this.state[t]=dH.add(this.state[t],this.cache[t]);return this.state=fH(this.state),await Promise.resolve(),this.state.slice(0,this.rate)}async absorb(t){this.mode===dr.ABSORB&&this.cacheSize===this.rate?(await this.performDuplex(),this.cache[0]=t,this.cacheSize=1):this.mode===dr.ABSORB&&this.cacheSize<this.rate?(this.cache[this.cacheSize]=t,this.cacheSize+=1):this.mode===dr.SQUEEZE&&(this.cache[0]=t,this.cacheSize=1,this.mode=dr.ABSORB)}async squeeze(){if(this.mode===dr.SQUEEZE&&this.cacheSize===0&&(this.mode=dr.ABSORB,this.cacheSize=0),this.mode===dr.ABSORB){const n=await this.performDuplex();this.mode=dr.SQUEEZE;for(let r=0;r<this.rate;r++)this.cache[r]=n[r];this.cacheSize=this.rate}const t=this.cache[0];for(let n=1;n<this.cacheSize;n++)this.cache[n-1]=this.cache[n];return this.cacheSize-=1,this.cache[this.cacheSize]=0n,t}static async hashInternal(t,n,r){const i=(BigInt(t.length)<<64n)+BigInt(n-1),s=new DS(i),o=100;for(let l=0;l<t.length;l+=o){const c=t.slice(l,Math.min(l+o,t.length));for(const u of c)await s.absorb(u)}r&&await s.absorb(1n);const a=[];for(let l=0;l<n;l++)a.push(await s.squeeze());return a}static async hashFixedLength(t,n=1){return this.hashInternal(t,n,!1)}static async hashVariableLength(t,n=1){return this.hashInternal(t,n,!0)}}async function Vi(e){return(await DS.hashFixedLength(e))[0]}zi().primeField;var Ti={},Sp={};Sp.byteLength=pH;Sp.toByteArray=yH;Sp.fromByteArray=xH;var Or=[],Pn=[],hH=typeof Uint8Array<"u"?Uint8Array:Array,hy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ka=0,mH=hy.length;ka<mH;++ka)Or[ka]=hy[ka],Pn[hy.charCodeAt(ka)]=ka;Pn[45]=62;Pn[95]=63;function $N(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function pH(e){var t=$N(e),n=t[0],r=t[1];return(n+r)*3/4-r}function gH(e,t,n){return(t+n)*3/4-n}function yH(e){var t,n=$N(e),r=n[0],i=n[1],s=new hH(gH(e,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)t=Pn[e.charCodeAt(l)]<<18|Pn[e.charCodeAt(l+1)]<<12|Pn[e.charCodeAt(l+2)]<<6|Pn[e.charCodeAt(l+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=Pn[e.charCodeAt(l)]<<2|Pn[e.charCodeAt(l+1)]>>4,s[o++]=t&255),i===1&&(t=Pn[e.charCodeAt(l)]<<10|Pn[e.charCodeAt(l+1)]<<4|Pn[e.charCodeAt(l+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function bH(e){return Or[e>>18&63]+Or[e>>12&63]+Or[e>>6&63]+Or[e&63]}function vH(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(bH(r));return i.join("")}function xH(e){for(var t,n=e.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(vH(e,o,o+s>a?a:o+s));return r===1?(t=e[n-1],i.push(Or[t>>2]+Or[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Or[t>>10]+Or[t>>4&63]+Or[t<<2&63]+"=")),i.join("")}var MS={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */MS.read=function(e,t,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,m=e[t+d];for(d+=h,s=m&(1<<-u)-1,m>>=-u,u+=a;u>0;s=s*256+e[t+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+e[t+d],d+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(m?-1:1)*o*Math.pow(2,s-r)};MS.write=function(e,t,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,d=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,x=r?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*l-1)*Math.pow(2,i),o=o+d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+m]=a&255,m+=x,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[n+m]=o&255,m+=x,o/=256,c-=8);e[n+m-x]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Sp,n=MS,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const T=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(T,v),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const v=new Uint8Array(T);return Object.setPrototypeOf(v,a.prototype),v}function a(T,v,w){if(typeof T=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(T)}return l(T,v,w)}a.poolSize=8192;function l(T,v,w){if(typeof T=="string")return h(T,v);if(ArrayBuffer.isView(T))return x(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(or(T,ArrayBuffer)||T&&or(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(or(T,SharedArrayBuffer)||T&&or(T.buffer,SharedArrayBuffer)))return y(T,v,w);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const R=T.valueOf&&T.valueOf();if(R!=null&&R!==T)return a.from(R,v,w);const L=_(T);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),v,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,v,w){return l(T,v,w)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function u(T,v,w){return c(T),T<=0?o(T):v!==void 0?typeof w=="string"?o(T).fill(v,w):o(T).fill(v):o(T)}a.alloc=function(T,v,w){return u(T,v,w)};function d(T){return c(T),o(T<0?0:p(T)|0)}a.allocUnsafe=function(T){return d(T)},a.allocUnsafeSlow=function(T){return d(T)};function h(T,v){if((typeof v!="string"||v==="")&&(v="utf8"),!a.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const w=g(T,v)|0;let R=o(w);const L=R.write(T,v);return L!==w&&(R=R.slice(0,L)),R}function m(T){const v=T.length<0?0:p(T.length)|0,w=o(v);for(let R=0;R<v;R+=1)w[R]=T[R]&255;return w}function x(T){if(or(T,Uint8Array)){const v=new Uint8Array(T);return y(v.buffer,v.byteOffset,v.byteLength)}return m(T)}function y(T,v,w){if(v<0||T.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<v+(w||0))throw new RangeError('"length" is outside of buffer bounds');let R;return v===void 0&&w===void 0?R=new Uint8Array(T):w===void 0?R=new Uint8Array(T,v):R=new Uint8Array(T,v,w),Object.setPrototypeOf(R,a.prototype),R}function _(T){if(a.isBuffer(T)){const v=p(T.length)|0,w=o(v);return w.length===0||T.copy(w,0,0,v),w}if(T.length!==void 0)return typeof T.length!="number"||Id(T.length)?o(0):m(T);if(T.type==="Buffer"&&Array.isArray(T.data))return m(T.data)}function p(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function b(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==a.prototype},a.compare=function(v,w){if(or(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),or(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(v)||!a.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===w)return 0;let R=v.length,L=w.length;for(let $=0,K=Math.min(R,L);$<K;++$)if(v[$]!==w[$]){R=v[$],L=w[$];break}return R<L?-1:L<R?1:0},a.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(v,w){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return a.alloc(0);let R;if(w===void 0)for(w=0,R=0;R<v.length;++R)w+=v[R].length;const L=a.allocUnsafe(w);let $=0;for(R=0;R<v.length;++R){let K=v[R];if(or(K,Uint8Array))$+K.length>L.length?(a.isBuffer(K)||(K=a.from(K)),K.copy(L,$)):Uint8Array.prototype.set.call(L,K,$);else if(a.isBuffer(K))K.copy(L,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=K.length}return L};function g(T,v){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||or(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const w=T.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&w===0)return 0;let L=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return sr(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return Ic(T).length;default:if(L)return R?-1:sr(T).length;v=(""+v).toLowerCase(),L=!0}}a.byteLength=g;function E(T,v,w){let R=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,v>>>=0,w<=v))return"";for(T||(T="utf8");;)switch(T){case"hex":return z(this,v,w);case"utf8":case"utf-8":return F(this,v,w);case"ascii":return U(this,v,w);case"latin1":case"binary":return O(this,v,w);case"base64":return G(this,v,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,v,w);default:if(R)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),R=!0}}a.prototype._isBuffer=!0;function C(T,v,w){const R=T[v];T[v]=T[w],T[w]=R}a.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<v;w+=2)C(this,w,w+1);return this},a.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<v;w+=4)C(this,w,w+3),C(this,w+1,w+2);return this},a.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<v;w+=8)C(this,w,w+7),C(this,w+1,w+6),C(this,w+2,w+5),C(this,w+3,w+4);return this},a.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?F(this,0,v):E.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(v){if(!a.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:a.compare(this,v)===0},a.prototype.inspect=function(){let v="";const w=e.INSPECT_MAX_BYTES;return v=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(v+=" ... "),"<Buffer "+v+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(v,w,R,L,$){if(or(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(w===void 0&&(w=0),R===void 0&&(R=v?v.length:0),L===void 0&&(L=0),$===void 0&&($=this.length),w<0||R>v.length||L<0||$>this.length)throw new RangeError("out of range index");if(L>=$&&w>=R)return 0;if(L>=$)return-1;if(w>=R)return 1;if(w>>>=0,R>>>=0,L>>>=0,$>>>=0,this===v)return 0;let K=$-L,ge=R-w;const et=Math.min(K,ge),q=this.slice(L,$),xe=v.slice(w,R);for(let je=0;je<et;++je)if(q[je]!==xe[je]){K=q[je],ge=xe[je];break}return K<ge?-1:ge<K?1:0};function N(T,v,w,R,L){if(T.length===0)return-1;if(typeof w=="string"?(R=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,Id(w)&&(w=L?0:T.length-1),w<0&&(w=T.length+w),w>=T.length){if(L)return-1;w=T.length-1}else if(w<0)if(L)w=0;else return-1;if(typeof v=="string"&&(v=a.from(v,R)),a.isBuffer(v))return v.length===0?-1:k(T,v,w,R,L);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(T,v,w):Uint8Array.prototype.lastIndexOf.call(T,v,w):k(T,[v],w,R,L);throw new TypeError("val must be string, number or Buffer")}function k(T,v,w,R,L){let $=1,K=T.length,ge=v.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(T.length<2||v.length<2)return-1;$=2,K/=2,ge/=2,w/=2}function et(xe,je){return $===1?xe[je]:xe.readUInt16BE(je*$)}let q;if(L){let xe=-1;for(q=w;q<K;q++)if(et(T,q)===et(v,xe===-1?0:q-xe)){if(xe===-1&&(xe=q),q-xe+1===ge)return xe*$}else xe!==-1&&(q-=q-xe),xe=-1}else for(w+ge>K&&(w=K-ge),q=w;q>=0;q--){let xe=!0;for(let je=0;je<ge;je++)if(et(T,q+je)!==et(v,je)){xe=!1;break}if(xe)return q}return-1}a.prototype.includes=function(v,w,R){return this.indexOf(v,w,R)!==-1},a.prototype.indexOf=function(v,w,R){return N(this,v,w,R,!0)},a.prototype.lastIndexOf=function(v,w,R){return N(this,v,w,R,!1)};function j(T,v,w,R){w=Number(w)||0;const L=T.length-w;R?(R=Number(R),R>L&&(R=L)):R=L;const $=v.length;R>$/2&&(R=$/2);let K;for(K=0;K<R;++K){const ge=parseInt(v.substr(K*2,2),16);if(Id(ge))return K;T[w+K]=ge}return K}function D(T,v,w,R){return va(sr(v,T.length-w),T,w,R)}function M(T,v,w,R){return va(ri(v),T,w,R)}function H(T,v,w,R){return va(Ic(v),T,w,R)}function Q(T,v,w,R){return va(es(v,T.length-w),T,w,R)}a.prototype.write=function(v,w,R,L){if(w===void 0)L="utf8",R=this.length,w=0;else if(R===void 0&&typeof w=="string")L=w,R=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(R)?(R=R>>>0,L===void 0&&(L="utf8")):(L=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-w;if((R===void 0||R>$)&&(R=$),v.length>0&&(R<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");let K=!1;for(;;)switch(L){case"hex":return j(this,v,w,R);case"utf8":case"utf-8":return D(this,v,w,R);case"ascii":case"latin1":case"binary":return M(this,v,w,R);case"base64":return H(this,v,w,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,v,w,R);default:if(K)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),K=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(T,v,w){return v===0&&w===T.length?t.fromByteArray(T):t.fromByteArray(T.slice(v,w))}function F(T,v,w){w=Math.min(T.length,w);const R=[];let L=v;for(;L<w;){const $=T[L];let K=null,ge=$>239?4:$>223?3:$>191?2:1;if(L+ge<=w){let et,q,xe,je;switch(ge){case 1:$<128&&(K=$);break;case 2:et=T[L+1],(et&192)===128&&(je=($&31)<<6|et&63,je>127&&(K=je));break;case 3:et=T[L+1],q=T[L+2],(et&192)===128&&(q&192)===128&&(je=($&15)<<12|(et&63)<<6|q&63,je>2047&&(je<55296||je>57343)&&(K=je));break;case 4:et=T[L+1],q=T[L+2],xe=T[L+3],(et&192)===128&&(q&192)===128&&(xe&192)===128&&(je=($&15)<<18|(et&63)<<12|(q&63)<<6|xe&63,je>65535&&je<1114112&&(K=je))}}K===null?(K=65533,ge=1):K>65535&&(K-=65536,R.push(K>>>10&1023|55296),K=56320|K&1023),R.push(K),L+=ge}return B(R)}const V=4096;function B(T){const v=T.length;if(v<=V)return String.fromCharCode.apply(String,T);let w="",R=0;for(;R<v;)w+=String.fromCharCode.apply(String,T.slice(R,R+=V));return w}function U(T,v,w){let R="";w=Math.min(T.length,w);for(let L=v;L<w;++L)R+=String.fromCharCode(T[L]&127);return R}function O(T,v,w){let R="";w=Math.min(T.length,w);for(let L=v;L<w;++L)R+=String.fromCharCode(T[L]);return R}function z(T,v,w){const R=T.length;(!v||v<0)&&(v=0),(!w||w<0||w>R)&&(w=R);let L="";for(let $=v;$<w;++$)L+=tg[T[$]];return L}function Z(T,v,w){const R=T.slice(v,w);let L="";for(let $=0;$<R.length-1;$+=2)L+=String.fromCharCode(R[$]+R[$+1]*256);return L}a.prototype.slice=function(v,w){const R=this.length;v=~~v,w=w===void 0?R:~~w,v<0?(v+=R,v<0&&(v=0)):v>R&&(v=R),w<0?(w+=R,w<0&&(w=0)):w>R&&(w=R),w<v&&(w=v);const L=this.subarray(v,w);return Object.setPrototypeOf(L,a.prototype),L};function ee(T,v,w){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+v>w)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(v,w,R){v=v>>>0,w=w>>>0,R||ee(v,w,this.length);let L=this[v],$=1,K=0;for(;++K<w&&($*=256);)L+=this[v+K]*$;return L},a.prototype.readUintBE=a.prototype.readUIntBE=function(v,w,R){v=v>>>0,w=w>>>0,R||ee(v,w,this.length);let L=this[v+--w],$=1;for(;w>0&&($*=256);)L+=this[v+--w]*$;return L},a.prototype.readUint8=a.prototype.readUInt8=function(v,w){return v=v>>>0,w||ee(v,1,this.length),this[v]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(v,w){return v=v>>>0,w||ee(v,2,this.length),this[v]|this[v+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(v,w){return v=v>>>0,w||ee(v,2,this.length),this[v]<<8|this[v+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},a.prototype.readBigUInt64LE=Ar(function(v){v=v>>>0,be(v,"offset");const w=this[v],R=this[v+7];(w===void 0||R===void 0)&&ze(v,this.length-8);const L=w+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,$=this[++v]+this[++v]*2**8+this[++v]*2**16+R*2**24;return BigInt(L)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ar(function(v){v=v>>>0,be(v,"offset");const w=this[v],R=this[v+7];(w===void 0||R===void 0)&&ze(v,this.length-8);const L=w*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],$=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+R;return(BigInt(L)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(v,w,R){v=v>>>0,w=w>>>0,R||ee(v,w,this.length);let L=this[v],$=1,K=0;for(;++K<w&&($*=256);)L+=this[v+K]*$;return $*=128,L>=$&&(L-=Math.pow(2,8*w)),L},a.prototype.readIntBE=function(v,w,R){v=v>>>0,w=w>>>0,R||ee(v,w,this.length);let L=w,$=1,K=this[v+--L];for(;L>0&&($*=256);)K+=this[v+--L]*$;return $*=128,K>=$&&(K-=Math.pow(2,8*w)),K},a.prototype.readInt8=function(v,w){return v=v>>>0,w||ee(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},a.prototype.readInt16LE=function(v,w){v=v>>>0,w||ee(v,2,this.length);const R=this[v]|this[v+1]<<8;return R&32768?R|4294901760:R},a.prototype.readInt16BE=function(v,w){v=v>>>0,w||ee(v,2,this.length);const R=this[v+1]|this[v]<<8;return R&32768?R|4294901760:R},a.prototype.readInt32LE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},a.prototype.readInt32BE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},a.prototype.readBigInt64LE=Ar(function(v){v=v>>>0,be(v,"offset");const w=this[v],R=this[v+7];(w===void 0||R===void 0)&&ze(v,this.length-8);const L=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(R<<24);return(BigInt(L)<<BigInt(32))+BigInt(w+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),a.prototype.readBigInt64BE=Ar(function(v){v=v>>>0,be(v,"offset");const w=this[v],R=this[v+7];(w===void 0||R===void 0)&&ze(v,this.length-8);const L=(w<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(L)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+R)}),a.prototype.readFloatLE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),n.read(this,v,!0,23,4)},a.prototype.readFloatBE=function(v,w){return v=v>>>0,w||ee(v,4,this.length),n.read(this,v,!1,23,4)},a.prototype.readDoubleLE=function(v,w){return v=v>>>0,w||ee(v,8,this.length),n.read(this,v,!0,52,8)},a.prototype.readDoubleBE=function(v,w){return v=v>>>0,w||ee(v,8,this.length),n.read(this,v,!1,52,8)};function ue(T,v,w,R,L,$){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>L||v<$)throw new RangeError('"value" argument is out of bounds');if(w+R>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(v,w,R,L){if(v=+v,w=w>>>0,R=R>>>0,!L){const ge=Math.pow(2,8*R)-1;ue(this,v,w,R,ge,0)}let $=1,K=0;for(this[w]=v&255;++K<R&&($*=256);)this[w+K]=v/$&255;return w+R},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(v,w,R,L){if(v=+v,w=w>>>0,R=R>>>0,!L){const ge=Math.pow(2,8*R)-1;ue(this,v,w,R,ge,0)}let $=R-1,K=1;for(this[w+$]=v&255;--$>=0&&(K*=256);)this[w+$]=v/K&255;return w+R},a.prototype.writeUint8=a.prototype.writeUInt8=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,1,255,0),this[w]=v&255,w+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,2,65535,0),this[w]=v&255,this[w+1]=v>>>8,w+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,2,65535,0),this[w]=v>>>8,this[w+1]=v&255,w+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,4,4294967295,0),this[w+3]=v>>>24,this[w+2]=v>>>16,this[w+1]=v>>>8,this[w]=v&255,w+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,4,4294967295,0),this[w]=v>>>24,this[w+1]=v>>>16,this[w+2]=v>>>8,this[w+3]=v&255,w+4};function de(T,v,w,R,L){oe(v,R,L,T,w,7);let $=Number(v&BigInt(4294967295));T[w++]=$,$=$>>8,T[w++]=$,$=$>>8,T[w++]=$,$=$>>8,T[w++]=$;let K=Number(v>>BigInt(32)&BigInt(4294967295));return T[w++]=K,K=K>>8,T[w++]=K,K=K>>8,T[w++]=K,K=K>>8,T[w++]=K,w}function fe(T,v,w,R,L){oe(v,R,L,T,w,7);let $=Number(v&BigInt(4294967295));T[w+7]=$,$=$>>8,T[w+6]=$,$=$>>8,T[w+5]=$,$=$>>8,T[w+4]=$;let K=Number(v>>BigInt(32)&BigInt(4294967295));return T[w+3]=K,K=K>>8,T[w+2]=K,K=K>>8,T[w+1]=K,K=K>>8,T[w]=K,w+8}a.prototype.writeBigUInt64LE=Ar(function(v,w=0){return de(this,v,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ar(function(v,w=0){return fe(this,v,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(v,w,R,L){if(v=+v,w=w>>>0,!L){const et=Math.pow(2,8*R-1);ue(this,v,w,R,et-1,-et)}let $=0,K=1,ge=0;for(this[w]=v&255;++$<R&&(K*=256);)v<0&&ge===0&&this[w+$-1]!==0&&(ge=1),this[w+$]=(v/K>>0)-ge&255;return w+R},a.prototype.writeIntBE=function(v,w,R,L){if(v=+v,w=w>>>0,!L){const et=Math.pow(2,8*R-1);ue(this,v,w,R,et-1,-et)}let $=R-1,K=1,ge=0;for(this[w+$]=v&255;--$>=0&&(K*=256);)v<0&&ge===0&&this[w+$+1]!==0&&(ge=1),this[w+$]=(v/K>>0)-ge&255;return w+R},a.prototype.writeInt8=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,1,127,-128),v<0&&(v=255+v+1),this[w]=v&255,w+1},a.prototype.writeInt16LE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,2,32767,-32768),this[w]=v&255,this[w+1]=v>>>8,w+2},a.prototype.writeInt16BE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,2,32767,-32768),this[w]=v>>>8,this[w+1]=v&255,w+2},a.prototype.writeInt32LE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,4,2147483647,-2147483648),this[w]=v&255,this[w+1]=v>>>8,this[w+2]=v>>>16,this[w+3]=v>>>24,w+4},a.prototype.writeInt32BE=function(v,w,R){return v=+v,w=w>>>0,R||ue(this,v,w,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[w]=v>>>24,this[w+1]=v>>>16,this[w+2]=v>>>8,this[w+3]=v&255,w+4},a.prototype.writeBigInt64LE=Ar(function(v,w=0){return de(this,v,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ar(function(v,w=0){return fe(this,v,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fe(T,v,w,R,L,$){if(w+R>T.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function Ke(T,v,w,R,L){return v=+v,w=w>>>0,L||Fe(T,v,w,4),n.write(T,v,w,R,23,4),w+4}a.prototype.writeFloatLE=function(v,w,R){return Ke(this,v,w,!0,R)},a.prototype.writeFloatBE=function(v,w,R){return Ke(this,v,w,!1,R)};function J(T,v,w,R,L){return v=+v,w=w>>>0,L||Fe(T,v,w,8),n.write(T,v,w,R,52,8),w+8}a.prototype.writeDoubleLE=function(v,w,R){return J(this,v,w,!0,R)},a.prototype.writeDoubleBE=function(v,w,R){return J(this,v,w,!1,R)},a.prototype.copy=function(v,w,R,L){if(!a.isBuffer(v))throw new TypeError("argument should be a Buffer");if(R||(R=0),!L&&L!==0&&(L=this.length),w>=v.length&&(w=v.length),w||(w=0),L>0&&L<R&&(L=R),L===R||v.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),v.length-w<L-R&&(L=v.length-w+R);const $=L-R;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,R,L):Uint8Array.prototype.set.call(v,this.subarray(R,L),w),$},a.prototype.fill=function(v,w,R,L){if(typeof v=="string"){if(typeof w=="string"?(L=w,w=0,R=this.length):typeof R=="string"&&(L=R,R=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!a.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(v.length===1){const K=v.charCodeAt(0);(L==="utf8"&&K<128||L==="latin1")&&(v=K)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(w<0||this.length<w||this.length<R)throw new RangeError("Out of range index");if(R<=w)return this;w=w>>>0,R=R===void 0?this.length:R>>>0,v||(v=0);let $;if(typeof v=="number")for($=w;$<R;++$)this[$]=v;else{const K=a.isBuffer(v)?v:a.from(v,L),ge=K.length;if(ge===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for($=0;$<R-w;++$)this[$+w]=K[$%ge]}return this};const X={};function Ne(T,v,w){X[T]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(L){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:L,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(T,v){return`The "${T}" argument must be of type number. Received type ${typeof v}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(T,v,w){let R=`The value of "${T}" is out of range.`,L=w;return Number.isInteger(w)&&Math.abs(w)>2**32?L=Y(String(w)):typeof w=="bigint"&&(L=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(L=Y(L)),L+="n"),R+=` It must be ${v}. Received ${L}`,R},RangeError);function Y(T){let v="",w=T.length;const R=T[0]==="-"?1:0;for(;w>=R+4;w-=3)v=`_${T.slice(w-3,w)}${v}`;return`${T.slice(0,w)}${v}`}function te(T,v,w){be(v,"offset"),(T[v]===void 0||T[v+w]===void 0)&&ze(v,T.length-(w+1))}function oe(T,v,w,R,L,$){if(T>w||T<v){const K=typeof v=="bigint"?"n":"";let ge;throw v===0||v===BigInt(0)?ge=`>= 0${K} and < 2${K} ** ${($+1)*8}${K}`:ge=`>= -(2${K} ** ${($+1)*8-1}${K}) and < 2 ** ${($+1)*8-1}${K}`,new X.ERR_OUT_OF_RANGE("value",ge,T)}te(R,L,$)}function be(T,v){if(typeof T!="number")throw new X.ERR_INVALID_ARG_TYPE(v,"number",T)}function ze(T,v,w){throw Math.floor(T)!==T?(be(T,w),new X.ERR_OUT_OF_RANGE("offset","an integer",T)):v<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,T)}const Cr=/[^+/0-9A-Za-z-_]/g;function _t(T){if(T=T.split("=")[0],T=T.trim().replace(Cr,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function sr(T,v){v=v||1/0;let w;const R=T.length;let L=null;const $=[];for(let K=0;K<R;++K){if(w=T.charCodeAt(K),w>55295&&w<57344){if(!L){if(w>56319){(v-=3)>-1&&$.push(239,191,189);continue}else if(K+1===R){(v-=3)>-1&&$.push(239,191,189);continue}L=w;continue}if(w<56320){(v-=3)>-1&&$.push(239,191,189),L=w;continue}w=(L-55296<<10|w-56320)+65536}else L&&(v-=3)>-1&&$.push(239,191,189);if(L=null,w<128){if((v-=1)<0)break;$.push(w)}else if(w<2048){if((v-=2)<0)break;$.push(w>>6|192,w&63|128)}else if(w<65536){if((v-=3)<0)break;$.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((v-=4)<0)break;$.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return $}function ri(T){const v=[];for(let w=0;w<T.length;++w)v.push(T.charCodeAt(w)&255);return v}function es(T,v){let w,R,L;const $=[];for(let K=0;K<T.length&&!((v-=2)<0);++K)w=T.charCodeAt(K),R=w>>8,L=w%256,$.push(L),$.push(R);return $}function Ic(T){return t.toByteArray(_t(T))}function va(T,v,w,R){let L;for(L=0;L<R&&!(L+w>=v.length||L>=T.length);++L)v[L+w]=T[L];return L}function or(T,v){return T instanceof v||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===v.name}function Id(T){return T!==T}const tg=function(){const T="0123456789abcdef",v=new Array(256);for(let w=0;w<16;++w){const R=w*16;for(let L=0;L<16;++L)v[R+L]=T[w]+T[L]}return v}();function Ar(T){return typeof BigInt>"u"?ng:T}function ng(){throw new Error("BigInt not supported")}})(Ti);function wH(e){return BigInt("0x"+Buffer.from(e).toString("hex"))}function Ul(e,t){return e.concat(Array(t-e.length).fill(0))}function SH(e,t){return Array(t-e.length).fill(0).concat(e)}function od(e,t){let n=BigInt(0);for(let r=0;r<t;r++)n*=BigInt(256),n+=BigInt(e[r]);return n}function _H(e){return e.minAge}function EH(e){return e.maxAge}function CH(){return 5}async function p2(e,t,n){return await Vi([BigInt(ke.AGE),...Array.from(new TextEncoder().encode(e)).map(i=>BigInt(i)),BigInt(t),BigInt(n)])}async function AH(e,t,n){const r=mc(new Uint8Array([ke.AGE,...Array.from(new TextEncoder().encode(e)).map(s=>Number(s)),t,n]));return od(r,31)}const US=mc;function ad(e){const t=Number(e.slice(0,4)),n=Number(e.slice(4,6)),r=Number(e.slice(6,8));return new Date(t,n-1,r)}function g2(e){return ad(e.minDate)}function y2(e){return ad(e.maxDate)}function TH(){return 5}async function nf(e,t,n="11111111",r="11111111"){return await Vi([BigInt(e),...Array.from(new TextEncoder().encode(t)).map(s=>BigInt(s)),...Array.from(new TextEncoder().encode(n)).map(s=>BigInt(s)),...Array.from(new TextEncoder().encode(r)).map(s=>BigInt(s))])}async function b2(e,t,n="11111111",r="11111111"){const i=US(new Uint8Array([e,...Array.from(new TextEncoder().encode(t)).map(o=>Number(o)),...Array.from(new TextEncoder().encode(n)).map(o=>Number(o)),...Array.from(new TextEncoder().encode(r)).map(o=>Number(o))]));return od(i,31)}function my(e){return e.replace(/^<+|<+$/g,"").replace(/</g," ")}function pt(e){return e.replace(/<+/g," ").replace(/</g," ").replace(/\s+/g," ").replace(/[]/g,"a").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"n").replace(/[]/g,"c").replace(/[]/g,"ae").replace(/[]/g,"oe").replace(/[]/g,"o").replace(/[]/g,"ae").replace(/[]/g,"oe").replace(/[]/g,"o").replace(/[^a-zA-Z ]/g,"").trim()}function py(e){return e.startsWith("P")?"passport":e==="IR"||e==="AR"?"residence_permit":e.startsWith("I")?"id_card":"other"}class yl{constructor(t){re(this,"issuingCountry");re(this,"nationality");re(this,"documentType");re(this,"documentNumber");re(this,"dateOfExpiry");re(this,"dateOfBirth");re(this,"name");re(this,"firstName");re(this,"lastName");re(this,"gender");this.issuingCountry=t.issuingCountry,this.nationality=t.nationality,this.documentType=t.documentType,this.documentNumber=t.documentNumber,this.dateOfExpiry=t.dateOfExpiry,this.dateOfBirth=t.dateOfBirth,this.name=t.name,this.gender=t.gender,this.firstName=t.firstName,this.lastName=t.lastName}static fromDisclosedBytes(t,n){const r={issuingCountry:new Uint8Array(t.slice(2,5)),nationality:new Uint8Array(t.slice(n==="id_card"?45:54,n==="id_card"?48:57)),documentType:new Uint8Array(t.slice(0,2)),documentNumber:new Uint8Array(t.slice(n==="id_card"?5:44,n==="id_card"?14:53)),dateOfExpiry:new Uint8Array(t.slice(n==="id_card"?38:65,n==="id_card"?44:71)),dateOfBirth:new Uint8Array(t.slice(n==="id_card"?30:57,n==="id_card"?36:63)),name:new Uint8Array(t.slice(n==="id_card"?60:5,n==="id_card"?90:44)),gender:new Uint8Array(t.slice(n==="id_card"?37:64,n==="id_card"?38:65))},i=new TextDecoder,s=d=>i.decode(d).replace(/\0/g,""),o=r.name&&r.name.length>0?s(r.name):"",a=o.indexOf("<<"),l=a>=0?o.substring(0,a):"",c=a>=0?o.substring(a+2):"",u=c+" "+l;return new yl({issuingCountry:s(r.issuingCountry),nationality:s(r.nationality),documentType:py(s(r.documentType)),documentNumber:my(s(r.documentNumber)),dateOfExpiry:Ia(r.dateOfExpiry),dateOfBirth:Ia(r.dateOfBirth),name:pt(u),firstName:pt(c),lastName:pt(l),gender:s(r.gender)})}static fromFlagsProof(t){const n=t.publicInputs.slice(3,93).map(d=>parseInt(d,16)),r={issuingCountry:new Uint8Array(n.slice(0,3)),nationality:new Uint8Array(n.slice(3,6)),documentType:new Uint8Array(n.slice(6,8)),documentNumber:new Uint8Array(n.slice(8,17)),dateOfExpiry:new Uint8Array(n.slice(17,23)),dateOfBirth:new Uint8Array(n.slice(23,29)),name:new Uint8Array(n.slice(29,68)),gender:new Uint8Array(n.slice(68,69))},i=new TextDecoder,s=d=>i.decode(d).replace(/\0/g,""),o=r.name&&r.name.length>0?s(r.name):"",a=o.indexOf("<<"),l=a>0?o.substring(0,a):"",c=a>0?o.substring(a+2):"",u=c+" "+l;return new yl({issuingCountry:s(r.issuingCountry),nationality:s(r.nationality),documentType:py(s(r.documentType)),documentNumber:my(s(r.documentNumber)),dateOfExpiry:Ia(r.dateOfExpiry),dateOfBirth:Ia(r.dateOfBirth),name:pt(u),firstName:pt(c),lastName:pt(l),gender:s(r.gender)})}static fromBytesProof(t,n){const s=t.publicInputs.slice(93,182).map(x=>parseInt(x,16)),o={issuingCountry:new Uint8Array(s.slice(2,5)),nationality:new Uint8Array(s.slice(n==="id_card"?45:54,n==="id_card"?48:57)),documentType:new Uint8Array(s.slice(0,2)),documentNumber:new Uint8Array(s.slice(n==="id_card"?5:44,n==="id_card"?14:53)),dateOfExpiry:new Uint8Array(s.slice(n==="id_card"?38:65,n==="id_card"?44:71)),dateOfBirth:new Uint8Array(s.slice(n==="id_card"?30:57,n==="id_card"?36:63)),name:new Uint8Array(s.slice(n==="id_card"?60:5,n==="id_card"?90:44)),gender:new Uint8Array(s.slice(n==="id_card"?37:64,n==="id_card"?38:65))},a=new TextDecoder,l=x=>a.decode(x).replace(/\0/g,""),c=o.name&&o.name.length>0?l(o.name):"",u=c.indexOf("<<"),d=u>=0?c.substring(0,u):"",h=u>=0?c.substring(u+2):"",m=h+" "+d;return new yl({issuingCountry:l(o.issuingCountry),nationality:l(o.nationality),documentType:py(l(o.documentType)),documentNumber:my(l(o.documentNumber)),dateOfExpiry:Ia(o.dateOfExpiry),dateOfBirth:Ia(o.dateOfBirth),name:pt(m),firstName:pt(h),lastName:pt(d),gender:l(o.gender)})}}function Ia(e){const t=new TextDecoder().decode(e).replace(/\0/g,""),n=parseInt(t.substring(0,2)),r=parseInt(t.substring(2,4))-1,i=parseInt(t.substring(4,6)),s=new Date().getFullYear(),o=Math.floor(s/100)*100,a=o-100,l=n+(n+o>s+10?a:o);return new Date(Date.UTC(l,r,i,0,0,0,0))}function kH(){return 5}function IH(){return 73}async function v2(e,t){return await Vi([BigInt(ke.DISCLOSE),...e.map(r=>BigInt(r)),...t.map(r=>BigInt(r))])}async function BH(e,t){const n=US(new Uint8Array([ke.DISCLOSE,...e.map(i=>Number(i)),...t.map(i=>Number(i))]));return od(n,31)}function NH(e){return BigInt(e.publicInputs[0])}function jH(e){return BigInt(e.publicInputs[1])}function RH(){return 2}function OH(e){return BigInt(e.publicInputs[e.publicInputs.length-2])}function DH(e){return BigInt(e.publicInputs[e.publicInputs.length-1])}function MH(e){const t=e.publicInputs.slice(0,8).map(r=>Number(r)-48).map(r=>r.toString());return ad(t.join(""))}function UH(){return 10}function LH(e){return e.charCodeAt(0)*65536+e.charCodeAt(1)*256+e.charCodeAt(2)}function PH(){return 5}function FH(){return 5}async function ss(e,t,n=!1){const r=t.map(o=>LH(o)),i=Ul(n?r.sort((o,a)=>o-a):r,200).map(o=>BigInt(o));return await Vi([BigInt(e),...i])}async function rf(e,t,n=!1){n&&t.sort((o,a)=>o.localeCompare(a));const r=t.map(o=>Array.from(new TextEncoder().encode(o))).flat(),i=US(new Uint8Array([e,...Ul(r,600)]));return od(i,31)}function zH(e){return BigInt(e.publicInputs[0])}function VH(e){return BigInt(e.publicInputs[1])}function $H(){return 2}function HH(){return 5}var qh;(function(e){e[e.USER_ADDRESS=1]="USER_ADDRESS",e[e.CUSTOM_DATA=2]="CUSTOM_DATA"})(qh||(qh={}));function sf(e){let t=[];if(e.user_address&&e.user_address.length>0){const n=KV.fromHex(e.user_address).toNumberArray();t=[...t,qh.USER_ADDRESS,...SH([n.length],2),...n]}if(e.custom_data&&e.custom_data.length>0){const n=new TextEncoder().encode(e.custom_data);t=[...t,qh.CUSTOM_DATA,n.length>>8&255,n.length&255,...n]}if(t.length>500)throw new Error(`Data is too long: ${t.length} > 500`);return t}async function x2(e,t=500){const n=Ul(e,t);return await Vi([BigInt(ke.BIND),...n.map(i=>BigInt(i))])}async function GH(e,t=500){const n=Ul(e,t),r=mc(new Uint8Array([ke.BIND,...n]));return od(r,31)}function li(e){return BigInt(e.publicInputs[e.publicInputs.length-1])}function ci(e){return BigInt(e.publicInputs[e.publicInputs.length-2])}function os(e){return BigInt(e.publicInputs[0])}function gy(e){return e.startsWith("disclose_bytes")?kH():e.startsWith("disclose_flags")?IH():e.startsWith("compare_age")?CH():e.startsWith("compare_birthdate")||e.startsWith("compare_expiry")?TH():e.startsWith("exclusion_check")?PH():e.startsWith("inclusion_check")?FH():e.startsWith("data_check_integrity")?UH():e.startsWith("sig_check_id_data")?$H():e.startsWith("sig_check_dsc")?RH():e.startsWith("bind")?HH():e.startsWith("outer")?13+(Number(e.substring(e.lastIndexOf("_")+1))-3):0}function qH(e){switch(e){case"compare_age_evm":return 11;case"compare_birthdate_evm":return 25;case"compare_expiry_evm":return 25;case"disclose_bytes_evm":return 181;case"inclusion_check_issuing_country_evm":return 601;case"inclusion_check_nationality_evm":return 601;case"exclusion_check_issuing_country_evm":return 601;case"exclusion_check_nationality_evm":return 601;case"compare_age":return 11;case"compare_birthdate":return 25;case"compare_expiry":return 25;case"disclose_bytes":return 181;case"inclusion_check_issuing_country":return 201;case"inclusion_check_nationality":return 201;case"exclusion_check_issuing_country":return 201;case"exclusion_check_nationality":return 201;case"bind":return 501;case"bind_evm":return 501;default:throw new Error(`Unknown circuit name: ${e}`)}}function yy(e){return ad(e.currentDate)}var ke;(function(e){e[e.DISCLOSE=0]="DISCLOSE",e[e.AGE=1]="AGE",e[e.BIRTHDATE=2]="BIRTHDATE",e[e.EXPIRY_DATE=3]="EXPIRY_DATE",e[e.NATIONALITY_INCLUSION=4]="NATIONALITY_INCLUSION",e[e.NATIONALITY_EXCLUSION=5]="NATIONALITY_EXCLUSION",e[e.ISSUING_COUNTRY_INCLUSION=6]="ISSUING_COUNTRY_INCLUSION",e[e.ISSUING_COUNTRY_EXCLUSION=7]="ISSUING_COUNTRY_EXCLUSION",e[e.BIND=8]="BIND"})(ke||(ke={}));const KH="1.2.840.10045.4.1",YH="1.2.840.10045.4.3.1",WH="1.2.840.10045.4.3.2",ZH="1.2.840.10045.4.3.3",XH="1.2.840.10045.4.3.4";function ld(e){return new pe({algorithm:e})}ld(KH);ld(YH);ld(WH);ld(ZH);ld(XH);let l0=class{constructor(t={}){Object.assign(this,t)}};A([I({type:P.ObjectIdentifier})],l0.prototype,"fieldType",void 0);A([I({type:P.Any})],l0.prototype,"parameters",void 0);l0=A([ie({type:ne.Sequence})],l0);class JH extends qe{}let Ll=class{constructor(t={}){Object.assign(this,t)}};A([I({type:P.OctetString})],Ll.prototype,"a",void 0);A([I({type:P.OctetString})],Ll.prototype,"b",void 0);A([I({type:P.BitString,optional:!0})],Ll.prototype,"seed",void 0);Ll=A([ie({type:ne.Sequence})],Ll);var l1;(function(e){e[e.ecpVer1=1]="ecpVer1"})(l1||(l1={}));let $i=class{constructor(t={}){this.version=l1.ecpVer1,Object.assign(this,t)}};A([I({type:P.Integer})],$i.prototype,"version",void 0);A([I({type:l0})],$i.prototype,"fieldID",void 0);A([I({type:Ll})],$i.prototype,"curve",void 0);A([I({type:JH})],$i.prototype,"base",void 0);A([I({type:P.Integer,converter:Je})],$i.prototype,"order",void 0);A([I({type:P.Integer,optional:!0})],$i.prototype,"cofactor",void 0);$i=A([ie({type:ne.Sequence})],$i);let Pl=class{constructor(t={}){Object.assign(this,t)}};A([I({type:P.ObjectIdentifier})],Pl.prototype,"namedCurve",void 0);A([I({type:P.Null})],Pl.prototype,"implicitCurve",void 0);A([I({type:$i})],Pl.prototype,"specifiedCurve",void 0);Pl=A([ie({type:ne.Choice})],Pl);class _p{constructor(t={}){this.version=1,this.privateKey=new qe,Object.assign(this,t)}}A([I({type:P.Integer})],_p.prototype,"version",void 0);A([I({type:qe})],_p.prototype,"privateKey",void 0);A([I({type:Pl,context:0,optional:!0})],_p.prototype,"parameters",void 0);A([I({type:P.BitString,context:1,optional:!0})],_p.prototype,"publicKey",void 0);class HN{constructor(t={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.Integer,converter:Je})],HN.prototype,"r",void 0);A([I({type:P.Integer,converter:Je})],HN.prototype,"s",void 0);const ir="1.2.840.113549.1.1",QH=`${ir}.1`,eG=`${ir}.7`,tG=`${ir}.9`,nG=`${ir}.10`,rG=`${ir}.2`,iG=`${ir}.4`,sG=`${ir}.5`,oG=`${ir}.12`,aG=`${ir}.13`,GN=`${ir}.15`,qN=`${ir}.16`,lG="1.3.14.3.2.26",cG="2.16.840.1.101.3.4.2.4",uG="2.16.840.1.101.3.4.2.1",dG="2.16.840.1.101.3.4.2.2",fG="2.16.840.1.101.3.4.2.3",hG="2.16.840.1.101.3.4.2.5",mG="2.16.840.1.101.3.4.2.6",pG="1.2.840.113549.2.2",gG="1.2.840.113549.2.5",LS=`${ir}.8`;function Bt(e){return new pe({algorithm:e,parameters:null})}Bt(pG);Bt(gG);const ea=Bt(lG);Bt(cG);Bt(uG);Bt(dG);Bt(fG);Bt(hG);Bt(mG);const KN=new pe({algorithm:LS,parameters:ro.serialize(ea)}),YN=new pe({algorithm:tG,parameters:ro.serialize(Ph.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});Bt(QH);Bt(rG);Bt(iG);Bt(sG);Bt(GN);Bt(qN);Bt(oG);Bt(aG);Bt(GN);Bt(qN);class Ep{constructor(t={}){this.hashAlgorithm=new pe(ea),this.maskGenAlgorithm=new pe({algorithm:LS,parameters:ro.serialize(ea)}),this.pSourceAlgorithm=new pe(YN),Object.assign(this,t)}}A([I({type:pe,context:0,defaultValue:ea})],Ep.prototype,"hashAlgorithm",void 0);A([I({type:pe,context:1,defaultValue:KN})],Ep.prototype,"maskGenAlgorithm",void 0);A([I({type:pe,context:2,defaultValue:YN})],Ep.prototype,"pSourceAlgorithm",void 0);new pe({algorithm:eG,parameters:ro.serialize(new Ep)});class cd{constructor(t={}){this.hashAlgorithm=new pe(ea),this.maskGenAlgorithm=new pe({algorithm:LS,parameters:ro.serialize(ea)}),this.saltLength=20,this.trailerField=1,Object.assign(this,t)}}A([I({type:pe,context:0,defaultValue:ea})],cd.prototype,"hashAlgorithm",void 0);A([I({type:pe,context:1,defaultValue:KN})],cd.prototype,"maskGenAlgorithm",void 0);A([I({type:P.Integer,context:2,defaultValue:20})],cd.prototype,"saltLength",void 0);A([I({type:P.Integer,context:3,defaultValue:1})],cd.prototype,"trailerField",void 0);new pe({algorithm:nG,parameters:ro.serialize(new cd)});class WN{constructor(t={}){this.digestAlgorithm=new pe,this.digest=new qe,Object.assign(this,t)}}A([I({type:pe})],WN.prototype,"digestAlgorithm",void 0);A([I({type:qe})],WN.prototype,"digest",void 0);var c1;class Cp{constructor(t={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.Integer,converter:Je})],Cp.prototype,"prime",void 0);A([I({type:P.Integer,converter:Je})],Cp.prototype,"exponent",void 0);A([I({type:P.Integer,converter:Je})],Cp.prototype,"coefficient",void 0);let u1=c1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,c1.prototype)}};u1=c1=A([ie({type:ne.Sequence,itemType:Cp})],u1);class ei{constructor(t={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.Integer})],ei.prototype,"version",void 0);A([I({type:P.Integer,converter:Je})],ei.prototype,"modulus",void 0);A([I({type:P.Integer,converter:Je})],ei.prototype,"publicExponent",void 0);A([I({type:P.Integer,converter:Je})],ei.prototype,"privateExponent",void 0);A([I({type:P.Integer,converter:Je})],ei.prototype,"prime1",void 0);A([I({type:P.Integer,converter:Je})],ei.prototype,"prime2",void 0);A([I({type:P.Integer,converter:Je})],ei.prototype,"exponent1",void 0);A([I({type:P.Integer,converter:Je})],ei.prototype,"exponent2",void 0);A([I({type:P.Integer,converter:Je})],ei.prototype,"coefficient",void 0);A([I({type:u1,optional:!0})],ei.prototype,"otherPrimeInfos",void 0);class ZN{constructor(t={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.Integer,converter:Je})],ZN.prototype,"modulus",void 0);A([I({type:P.Integer,converter:Je})],ZN.prototype,"publicExponent",void 0);class bc{constructor(t={}){this.issuer=new br,this.serialNumber=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:br})],bc.prototype,"issuer",void 0);A([I({type:P.Integer,converter:Je})],bc.prototype,"serialNumber",void 0);let Fl=class{constructor(t={}){Object.assign(this,t)}};A([I({type:sd,context:0,implicit:!0})],Fl.prototype,"subjectKeyIdentifier",void 0);A([I({type:bc})],Fl.prototype,"issuerAndSerialNumber",void 0);Fl=A([ie({type:ne.Choice})],Fl);var Hi;(function(e){e[e.v0=0]="v0",e[e.v1=1]="v1",e[e.v2=2]="v2",e[e.v3=3]="v3",e[e.v4=4]="v4",e[e.v5=5]="v5"})(Hi||(Hi={}));let Gi=class extends pe{};Gi=A([ie({type:ne.Sequence})],Gi);let Kh=class extends pe{};Kh=A([ie({type:ne.Sequence})],Kh);let Wr=class extends pe{};Wr=A([ie({type:ne.Sequence})],Wr);let Yh=class extends pe{};Yh=A([ie({type:ne.Sequence})],Yh);let w2=class extends pe{};w2=A([ie({type:ne.Sequence})],w2);let d1=class extends pe{};d1=A([ie({type:ne.Sequence})],d1);class pa{constructor(t={}){this.attrType="",this.attrValues=[],Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],pa.prototype,"attrType",void 0);A([I({type:P.Any,repeated:"set"})],pa.prototype,"attrValues",void 0);var f1;class Qi{constructor(t={}){this.version=Hi.v0,this.sid=new Fl,this.digestAlgorithm=new Gi,this.signatureAlgorithm=new Kh,this.signature=new qe,Object.assign(this,t)}}A([I({type:P.Integer})],Qi.prototype,"version",void 0);A([I({type:Fl})],Qi.prototype,"sid",void 0);A([I({type:Gi})],Qi.prototype,"digestAlgorithm",void 0);A([I({type:pa,repeated:"set",context:0,implicit:!0,optional:!0})],Qi.prototype,"signedAttrs",void 0);A([I({type:Kh})],Qi.prototype,"signatureAlgorithm",void 0);A([I({type:qe})],Qi.prototype,"signature",void 0);A([I({type:pa,repeated:"set",context:1,implicit:!0,optional:!0})],Qi.prototype,"unsignedAttrs",void 0);let Wh=f1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,f1.prototype)}};Wh=f1=A([ie({type:ne.Set,itemType:Qi})],Wh);let S2=class extends Zt{};S2=A([ie({type:ne.Choice})],S2);let _2=class extends Qi{};_2=A([ie({type:ne.Sequence})],_2);class PS{constructor(t={}){this.acIssuer=new Me,this.acSerial=0,this.attrs=[],Object.assign(this,t)}}A([I({type:Me})],PS.prototype,"acIssuer",void 0);A([I({type:P.Integer})],PS.prototype,"acSerial",void 0);A([I({type:id,repeated:"sequence"})],PS.prototype,"attrs",void 0);var h1;let Zh=h1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,h1.prototype)}};Zh=h1=A([ie({type:ne.Sequence,itemType:P.ObjectIdentifier})],Zh);class Ap{constructor(t={}){this.permitUnSpecified=!0,Object.assign(this,t)}}A([I({type:P.Integer,optional:!0})],Ap.prototype,"pathLenConstraint",void 0);A([I({type:Zh,implicit:!0,context:0,optional:!0})],Ap.prototype,"permittedAttrs",void 0);A([I({type:Zh,implicit:!0,context:1,optional:!0})],Ap.prototype,"excludedAttrs",void 0);A([I({type:P.Boolean,defaultValue:!0})],Ap.prototype,"permitUnSpecified",void 0);class ga{constructor(t={}){this.issuer=new vr,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:vr})],ga.prototype,"issuer",void 0);A([I({type:P.Integer,converter:Je})],ga.prototype,"serial",void 0);A([I({type:P.BitString,optional:!0})],ga.prototype,"issuerUID",void 0);var m1;(function(e){e[e.publicKey=0]="publicKey",e[e.publicKeyCert=1]="publicKeyCert",e[e.otherObjectTypes=2]="otherObjectTypes"})(m1||(m1={}));class ya{constructor(t={}){this.digestedObjectType=m1.publicKey,this.digestAlgorithm=new pe,this.objectDigest=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.Enumerated})],ya.prototype,"digestedObjectType",void 0);A([I({type:P.ObjectIdentifier,optional:!0})],ya.prototype,"otherObjectTypeID",void 0);A([I({type:pe})],ya.prototype,"digestAlgorithm",void 0);A([I({type:P.BitString})],ya.prototype,"objectDigest",void 0);class Tp{constructor(t={}){Object.assign(this,t)}}A([I({type:vr,optional:!0})],Tp.prototype,"issuerName",void 0);A([I({type:ga,context:0,implicit:!0,optional:!0})],Tp.prototype,"baseCertificateID",void 0);A([I({type:ya,context:1,implicit:!0,optional:!0})],Tp.prototype,"objectDigestInfo",void 0);let zl=class{constructor(t={}){Object.assign(this,t)}};A([I({type:Me,repeated:"sequence"})],zl.prototype,"v1Form",void 0);A([I({type:Tp,context:0,implicit:!0})],zl.prototype,"v2Form",void 0);zl=A([ie({type:ne.Choice})],zl);class kp{constructor(t={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,t)}}A([I({type:P.GeneralizedTime})],kp.prototype,"notBeforeTime",void 0);A([I({type:P.GeneralizedTime})],kp.prototype,"notAfterTime",void 0);class ud{constructor(t={}){Object.assign(this,t)}}A([I({type:ga,implicit:!0,context:0,optional:!0})],ud.prototype,"baseCertificateID",void 0);A([I({type:vr,implicit:!0,context:1,optional:!0})],ud.prototype,"entityName",void 0);A([I({type:ya,implicit:!0,context:2,optional:!0})],ud.prototype,"objectDigestInfo",void 0);var p1;(function(e){e[e.v2=1]="v2"})(p1||(p1={}));class Er{constructor(t={}){this.version=p1.v2,this.holder=new ud,this.issuer=new zl,this.signature=new pe,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new kp,this.attributes=[],Object.assign(this,t)}}A([I({type:P.Integer})],Er.prototype,"version",void 0);A([I({type:ud})],Er.prototype,"holder",void 0);A([I({type:zl})],Er.prototype,"issuer",void 0);A([I({type:pe})],Er.prototype,"signature",void 0);A([I({type:P.Integer,converter:Je})],Er.prototype,"serialNumber",void 0);A([I({type:kp})],Er.prototype,"attrCertValidityPeriod",void 0);A([I({type:id,repeated:"sequence"})],Er.prototype,"attributes",void 0);A([I({type:P.BitString,optional:!0})],Er.prototype,"issuerUniqueID",void 0);A([I({type:Hh,optional:!0})],Er.prototype,"extensions",void 0);class Ip{constructor(t={}){this.acinfo=new Er,this.signatureAlgorithm=new pe,this.signatureValue=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:Er})],Ip.prototype,"acinfo",void 0);A([I({type:pe})],Ip.prototype,"signatureAlgorithm",void 0);A([I({type:P.BitString})],Ip.prototype,"signatureValue",void 0);var Xh;(function(e){e[e.unmarked=1]="unmarked",e[e.unclassified=2]="unclassified",e[e.restricted=4]="restricted",e[e.confidential=8]="confidential",e[e.secret=16]="secret",e[e.topSecret=32]="topSecret"})(Xh||(Xh={}));class g1 extends SS{}class FS{constructor(t={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier,implicit:!0,context:0})],FS.prototype,"type",void 0);A([I({type:P.Any,implicit:!0,context:1})],FS.prototype,"value",void 0);class zS{constructor(t={}){this.policyId="",this.classList=new g1(Xh.unclassified),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],zS.prototype,"policyId",void 0);A([I({type:g1,defaultValue:new g1(Xh.unclassified)})],zS.prototype,"classList",void 0);A([I({type:FS,repeated:"set"})],zS.prototype,"securityCategories",void 0);class Bp{constructor(t={}){Object.assign(this,t)}}A([I({type:qe})],Bp.prototype,"cotets",void 0);A([I({type:P.ObjectIdentifier})],Bp.prototype,"oid",void 0);A([I({type:P.Utf8String})],Bp.prototype,"string",void 0);class XN{constructor(t={}){this.values=[],Object.assign(this,t)}}A([I({type:vr,implicit:!0,context:0,optional:!0})],XN.prototype,"policyAuthority",void 0);A([I({type:Bp,repeated:"sequence"})],XN.prototype,"values",void 0);var y1;class Np{constructor(t={}){this.targetCertificate=new ga,Object.assign(this,t)}}A([I({type:ga})],Np.prototype,"targetCertificate",void 0);A([I({type:Me,optional:!0})],Np.prototype,"targetName",void 0);A([I({type:ya,optional:!0})],Np.prototype,"certDigestInfo",void 0);let Vl=class{constructor(t={}){Object.assign(this,t)}};A([I({type:Me,context:0,implicit:!0})],Vl.prototype,"targetName",void 0);A([I({type:Me,context:1,implicit:!0})],Vl.prototype,"targetGroup",void 0);A([I({type:Np,context:2,implicit:!0})],Vl.prototype,"targetCert",void 0);Vl=A([ie({type:ne.Choice})],Vl);let b1=y1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,y1.prototype)}};b1=y1=A([ie({type:ne.Sequence,itemType:Vl})],b1);var v1;let E2=v1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,v1.prototype)}};E2=v1=A([ie({type:ne.Sequence,itemType:b1})],E2);class JN{constructor(t={}){Object.assign(this,t)}}A([I({type:vr,implicit:!0,context:0,optional:!0})],JN.prototype,"roleAuthority",void 0);A([I({type:Me,implicit:!0,context:1})],JN.prototype,"roleName",void 0);class VS{constructor(t={}){this.service=new Me,this.ident=new Me,Object.assign(this,t)}}A([I({type:Me})],VS.prototype,"service",void 0);A([I({type:Me})],VS.prototype,"ident",void 0);A([I({type:qe,optional:!0})],VS.prototype,"authInfo",void 0);var x1;class $S{constructor(t={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],$S.prototype,"otherCertFormat",void 0);A([I({type:P.Any})],$S.prototype,"otherCert",void 0);let $l=class{constructor(t={}){Object.assign(this,t)}};A([I({type:yc})],$l.prototype,"certificate",void 0);A([I({type:Ip,context:2,implicit:!0})],$l.prototype,"v2AttrCert",void 0);A([I({type:$S,context:3,implicit:!0})],$l.prototype,"other",void 0);$l=A([ie({type:ne.Choice})],$l);let Jh=x1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,x1.prototype)}};Jh=x1=A([ie({type:ne.Set,itemType:$l})],Jh);class QN{constructor(t={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],QN.prototype,"contentType",void 0);A([I({type:P.Any,context:0})],QN.prototype,"content",void 0);let c0=class{constructor(t={}){Object.assign(this,t)}};A([I({type:qe})],c0.prototype,"single",void 0);A([I({type:P.Any})],c0.prototype,"any",void 0);c0=A([ie({type:ne.Choice})],c0);class jp{constructor(t={}){this.eContentType="",Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],jp.prototype,"eContentType",void 0);A([I({type:c0,context:0,optional:!0})],jp.prototype,"eContent",void 0);let u0=class{constructor(t={}){Object.assign(this,t)}};A([I({type:qe,context:0,implicit:!0,optional:!0})],u0.prototype,"value",void 0);A([I({type:qe,converter:U$,context:0,implicit:!0,optional:!0,repeated:"sequence"})],u0.prototype,"constructedValue",void 0);u0=A([ie({type:ne.Choice})],u0);class dd{constructor(t={}){this.contentType="",this.contentEncryptionAlgorithm=new Yh,Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],dd.prototype,"contentType",void 0);A([I({type:Yh})],dd.prototype,"contentEncryptionAlgorithm",void 0);A([I({type:u0,optional:!0})],dd.prototype,"encryptedContent",void 0);class Rp{constructor(t={}){this.keyAttrId="",Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],Rp.prototype,"keyAttrId",void 0);A([I({type:P.Any,optional:!0})],Rp.prototype,"keyAttr",void 0);var w1;class Op{constructor(t={}){this.subjectKeyIdentifier=new sd,Object.assign(this,t)}}A([I({type:sd})],Op.prototype,"subjectKeyIdentifier",void 0);A([I({type:P.GeneralizedTime,optional:!0})],Op.prototype,"date",void 0);A([I({type:Rp,optional:!0})],Op.prototype,"other",void 0);let Hl=class{constructor(t={}){Object.assign(this,t)}};A([I({type:Op,context:0,implicit:!0,optional:!0})],Hl.prototype,"rKeyId",void 0);A([I({type:bc,optional:!0})],Hl.prototype,"issuerAndSerialNumber",void 0);Hl=A([ie({type:ne.Choice})],Hl);class HS{constructor(t={}){this.rid=new Hl,this.encryptedKey=new qe,Object.assign(this,t)}}A([I({type:Hl})],HS.prototype,"rid",void 0);A([I({type:qe})],HS.prototype,"encryptedKey",void 0);let Qh=w1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,w1.prototype)}};Qh=w1=A([ie({type:ne.Sequence,itemType:HS})],Qh);class GS{constructor(t={}){this.algorithm=new pe,this.publicKey=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:pe})],GS.prototype,"algorithm",void 0);A([I({type:P.BitString})],GS.prototype,"publicKey",void 0);let ta=class{constructor(t={}){Object.assign(this,t)}};A([I({type:sd,context:0,implicit:!0,optional:!0})],ta.prototype,"subjectKeyIdentifier",void 0);A([I({type:GS,context:1,implicit:!0,optional:!0})],ta.prototype,"originatorKey",void 0);A([I({type:bc,optional:!0})],ta.prototype,"issuerAndSerialNumber",void 0);ta=A([ie({type:ne.Choice})],ta);class vc{constructor(t={}){this.version=Hi.v3,this.originator=new ta,this.keyEncryptionAlgorithm=new Wr,this.recipientEncryptedKeys=new Qh,Object.assign(this,t)}}A([I({type:P.Integer})],vc.prototype,"version",void 0);A([I({type:ta,context:0})],vc.prototype,"originator",void 0);A([I({type:qe,context:1,optional:!0})],vc.prototype,"ukm",void 0);A([I({type:Wr})],vc.prototype,"keyEncryptionAlgorithm",void 0);A([I({type:Qh})],vc.prototype,"recipientEncryptedKeys",void 0);let Gl=class{constructor(t={}){Object.assign(this,t)}};A([I({type:sd,context:0,implicit:!0})],Gl.prototype,"subjectKeyIdentifier",void 0);A([I({type:bc})],Gl.prototype,"issuerAndSerialNumber",void 0);Gl=A([ie({type:ne.Choice})],Gl);class fd{constructor(t={}){this.version=Hi.v0,this.rid=new Gl,this.keyEncryptionAlgorithm=new Wr,this.encryptedKey=new qe,Object.assign(this,t)}}A([I({type:P.Integer})],fd.prototype,"version",void 0);A([I({type:Gl})],fd.prototype,"rid",void 0);A([I({type:Wr})],fd.prototype,"keyEncryptionAlgorithm",void 0);A([I({type:qe})],fd.prototype,"encryptedKey",void 0);class hd{constructor(t={}){this.keyIdentifier=new qe,Object.assign(this,t)}}A([I({type:qe})],hd.prototype,"keyIdentifier",void 0);A([I({type:P.GeneralizedTime,optional:!0})],hd.prototype,"date",void 0);A([I({type:Rp,optional:!0})],hd.prototype,"other",void 0);class md{constructor(t={}){this.version=Hi.v4,this.kekid=new hd,this.keyEncryptionAlgorithm=new Wr,this.encryptedKey=new qe,Object.assign(this,t)}}A([I({type:P.Integer})],md.prototype,"version",void 0);A([I({type:hd})],md.prototype,"kekid",void 0);A([I({type:Wr})],md.prototype,"keyEncryptionAlgorithm",void 0);A([I({type:qe})],md.prototype,"encryptedKey",void 0);class pd{constructor(t={}){this.version=Hi.v0,this.keyEncryptionAlgorithm=new Wr,this.encryptedKey=new qe,Object.assign(this,t)}}A([I({type:P.Integer})],pd.prototype,"version",void 0);A([I({type:d1,context:0,optional:!0})],pd.prototype,"keyDerivationAlgorithm",void 0);A([I({type:Wr})],pd.prototype,"keyEncryptionAlgorithm",void 0);A([I({type:qe})],pd.prototype,"encryptedKey",void 0);class qS{constructor(t={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],qS.prototype,"oriType",void 0);A([I({type:P.Any})],qS.prototype,"oriValue",void 0);let Ks=class{constructor(t={}){Object.assign(this,t)}};A([I({type:fd,optional:!0})],Ks.prototype,"ktri",void 0);A([I({type:vc,context:1,implicit:!0,optional:!0})],Ks.prototype,"kari",void 0);A([I({type:md,context:2,implicit:!0,optional:!0})],Ks.prototype,"kekri",void 0);A([I({type:pd,context:3,implicit:!0,optional:!0})],Ks.prototype,"pwri",void 0);A([I({type:qS,context:4,implicit:!0,optional:!0})],Ks.prototype,"ori",void 0);Ks=A([ie({type:ne.Choice})],Ks);var S1;let em=S1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,S1.prototype)}};em=S1=A([ie({type:ne.Set,itemType:Ks})],em);var _1;class Dp{constructor(t={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,t)}}A([I({type:P.ObjectIdentifier})],Dp.prototype,"otherRevInfoFormat",void 0);A([I({type:P.Any})],Dp.prototype,"otherRevInfo",void 0);let tm=class{constructor(t={}){this.other=new Dp,Object.assign(this,t)}};A([I({type:Dp,context:1,implicit:!0})],tm.prototype,"other",void 0);tm=A([ie({type:ne.Choice})],tm);let nm=_1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,_1.prototype)}};nm=_1=A([ie({type:ne.Set,itemType:tm})],nm);class KS{constructor(t={}){Object.assign(this,t)}}A([I({type:Jh,context:0,implicit:!0,optional:!0})],KS.prototype,"certs",void 0);A([I({type:nm,context:1,implicit:!0,optional:!0})],KS.prototype,"crls",void 0);var E1;let C1=E1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,E1.prototype)}};C1=E1=A([ie({type:ne.Set,itemType:pa})],C1);class gd{constructor(t={}){this.version=Hi.v0,this.recipientInfos=new em,this.encryptedContentInfo=new dd,Object.assign(this,t)}}A([I({type:P.Integer})],gd.prototype,"version",void 0);A([I({type:KS,context:0,implicit:!0,optional:!0})],gd.prototype,"originatorInfo",void 0);A([I({type:em})],gd.prototype,"recipientInfos",void 0);A([I({type:dd})],gd.prototype,"encryptedContentInfo",void 0);A([I({type:C1,context:1,implicit:!0,optional:!0})],gd.prototype,"unprotectedAttrs",void 0);var A1;let rm=A1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,A1.prototype)}};rm=A1=A([ie({type:ne.Set,itemType:Gi})],rm);class xc{constructor(t={}){this.version=Hi.v0,this.digestAlgorithms=new rm,this.encapContentInfo=new jp,this.signerInfos=new Wh,Object.assign(this,t)}}A([I({type:P.Integer})],xc.prototype,"version",void 0);A([I({type:rm})],xc.prototype,"digestAlgorithms",void 0);A([I({type:jp})],xc.prototype,"encapContentInfo",void 0);A([I({type:Jh,context:0,implicit:!0,optional:!0})],xc.prototype,"certificates",void 0);A([I({type:nm,context:1,implicit:!0,optional:!0})],xc.prototype,"crls",void 0);A([I({type:Wh})],xc.prototype,"signerInfos",void 0);var T1;let C2=T1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,T1.prototype)}};C2=T1=A([ie({type:ne.Set,itemType:pa})],C2);var k1;(function(e){e[e.dataGroup1=1]="dataGroup1",e[e.dataGroup2=2]="dataGroup2",e[e.dataGroup3=3]="dataGroup3",e[e.dataGroup4=4]="dataGroup4",e[e.dataGroup5=5]="dataGroup5",e[e.dataGroup6=6]="dataGroup6",e[e.dataGroup7=7]="dataGroup7",e[e.dataGroup8=8]="dataGroup8",e[e.dataGroup9=9]="dataGroup9",e[e.dataGroup10=10]="dataGroup10",e[e.dataGroup11=11]="dataGroup11",e[e.dataGroup12=12]="dataGroup12",e[e.dataGroup13=13]="dataGroup13",e[e.dataGroup14=14]="dataGroup14",e[e.dataGroup15=15]="dataGroup15",e[e.dataGroup16=16]="dataGroup16"})(k1||(k1={}));let YS=class{constructor(t={}){re(this,"number",k1.dataGroup1);re(this,"hash",new ArrayBuffer(0));Object.assign(this,t)}};A([I({type:P.Integer})],YS.prototype,"number",void 0);A([I({type:P.OctetString})],YS.prototype,"hash",void 0);var I1;(function(e){e[e.v0=0]="v0",e[e.v1=1]="v1",e[e.v2=2]="v2"})(I1||(I1={}));let WS=class{constructor(t={}){re(this,"ldsVersion","");re(this,"unicodeVersion","");Object.assign(this,t)}};A([I({type:P.PrintableString})],WS.prototype,"ldsVersion",void 0);A([I({type:P.PrintableString})],WS.prototype,"unicodeVersion",void 0);let B1=class{constructor(t){re(this,"value","");t&&(typeof t=="string"?this.value=t:Object.assign(this,t))}};A([I({type:P.ObjectIdentifier})],B1.prototype,"value",void 0);B1=A([ie({type:ne.Choice})],B1);let Mp=class{constructor(t={}){re(this,"version",I1.v1);re(this,"hashAlgorithm",new Gi);re(this,"dataGroups",[]);re(this,"versionInfo");Object.assign(this,t)}};A([I({type:P.Integer})],Mp.prototype,"version",void 0);A([I({type:Gi})],Mp.prototype,"hashAlgorithm",void 0);A([I({type:YS,repeated:"sequence"})],Mp.prototype,"dataGroups",void 0);A([I({type:WS,optional:!0})],Mp.prototype,"versionInfo",void 0);let im=class{constructor(t={}){re(this,"version",0);re(this,"certificates",[]);Object.assign(this,t)}};A([I({type:P.Integer})],im.prototype,"version",void 0);A([I({type:yc,repeated:"set"})],im.prototype,"certificates",void 0);im=A([ie({type:ne.Sequence})],im);function Jc(e){if(!e)return 0n;const t=mc(e).slice(0,31);return wH(Array.from(t))}function of(e,t){const n=t?`${e}:chain-${t}`:e;return Jc(n)}function yG(e,t=4){const n=[];for(let r=t;r<e.length;r+=32){const i=new Uint8Array(32),s=Math.min(r+32,e.length);for(let o=0;o<s-r;o++)i[o]=e[r+o];n.push(Buffer.from(i))}return n.map(r=>r.toString("hex"))}function bG(e,t){return e.slice(0,t)}function vG(e,t){return e.slice(t)}function by(e,t,n=4){const r=yG(Buffer.from(e,"hex"),n),i=vG(r,t),s=bG(r,t);return{proof:i,publicInputs:s.map(o=>o.startsWith("0x")?o:`0x${o}`)}}function xG(e){return BigInt(e.publicInputs[0])}function wG(e){return BigInt(e.publicInputs[1])}function SG(e){const t=e.publicInputs.slice(2,10).map(r=>Number(r)-48).map(r=>r.toString());return ad(t.join(""))}function A2(e){return BigInt(e.publicInputs[10])}function T2(e){return BigInt(e.publicInputs[11])}function _G(e){return BigInt(e.publicInputs[e.publicInputs.length-1])}function EG(e){return e.publicInputs.slice(12,e.publicInputs.length-1).map(BigInt)}if(typeof window>"u")try{const e=require("crypto");crypto=e}catch{}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function e8(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function en(e,...t){if(!e8(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function sm(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function t8(e,t){en(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function CG(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function ji(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function qi(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Up(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const AG=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,TG=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",kG=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function om(e){if(en(e),TG)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=kG[e[n]];return t}function n8(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function d0(e){if(typeof e=="string")e=n8(e);else if(e8(e))e=f0(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function IG(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const BG=(e,t)=>{function n(r,...i){if(en(r),!AG)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");e.varSizeNonce?en(u):en(u,e.nonceLength)}const s=e.tagLength;s&&i[1]!==void 0&&en(i[1]);const o=t(r,...i),a=(u,d)=>{if(d!==void 0){if(u!==2)throw new Error("cipher output not supported");en(d)}};let l=!1;return{encrypt(u,d){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,en(u),a(o.encrypt.length,d),o.encrypt(u,d)},decrypt(u,d){if(en(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,d),o.decrypt(u,d)}}}return Object.assign(n,e),n};function NG(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!am(t))throw new Error("invalid output, must be aligned");return t}function N1(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=0,c=4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)}function jG(e,t,n){const r=new Uint8Array(16),i=Up(r);return N1(i,0,BigInt(t),n),N1(i,8,BigInt(e),n),r}function am(e){return e.byteOffset%4===0}function f0(e){return Uint8Array.from(e)}const RG="en",OG={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:["People's Republic of China","China"],CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:["Republic of the Congo","Congo"],CD:["Democratic Republic of the Congo","Congo"],CK:"Cook Islands",CR:"Costa Rica",CI:["Cote d'Ivoire","Cte d'Ivoire","Ivory Coast"],HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:["Czech Republic","Czechia"],DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:["Republic of The Gambia","The Gambia","Gambia"],GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:["Islamic Republic of Iran","Iran"],IQ:"Iraq",IE:"Ireland",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"North Korea",KR:["South Korea","Korea, Republic of","Republic of Korea"],KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:["Netherlands","The Netherlands","Netherlands (Kingdom of the)"],NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MK:["The Republic of North Macedonia","North Macedonia"],MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:["State of Palestine","Palestine"],PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:["Pitcairn","Pitcairn Islands"],PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:["Russian Federation","Russia"],RW:"Rwanda",SH:"Saint Helena",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Eswatini",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:["Taiwan, Province of China","Taiwan"],TJ:"Tajikistan",TZ:["United Republic of Tanzania","Tanzania"],TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:["Trkiye","Turkey"],TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:["United Arab Emirates","UAE"],GB:["United Kingdom","UK","Great Britain"],US:["United States of America","United States","USA","U.S.A.","US","U.S."],UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Vietnam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe",AX:["land Islands","Aland Islands"],BQ:"Bonaire, Sint Eustatius and Saba",CW:"Curaao",GG:"Guernsey",IM:"Isle of Man",JE:"Jersey",ME:"Montenegro",BL:"Saint Barthlemy",MF:"Saint Martin (French part)",RS:"Serbia",SX:"Sint Maarten (Dutch part)",SS:"South Sudan",XK:"Kosovo"},DG={locale:RG,countries:OG},MG=[{type:"constructor",inputs:[{name:"_rootRegistry",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"CERTIFICATE_REGISTRY_ID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"CIRCUIT_REGISTRY_ID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"addCertificateRegistryRoot",inputs:[{name:"certificateRegistryRoot",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"addVerifiers",inputs:[{name:"vkeyHashes",type:"bytes32[]",internalType:"bytes32[]"},{name:"verifiers",type:"address[]",internalType:"address[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"admin",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getAgeProofInputs",inputs:[{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"currentDate",type:"uint256",internalType:"uint256"},{name:"minAge",type:"uint8",internalType:"uint8"},{name:"maxAge",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"getBindProofInputs",inputs:[{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"data",type:"bytes",internalType:"bytes"}],stateMutability:"pure"},{type:"function",name:"getBoundData",inputs:[{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"senderAddress",type:"address",internalType:"address"},{name:"customData",type:"string",internalType:"string"}],stateMutability:"pure"},{type:"function",name:"getCountryProofInputs",inputs:[{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"},{name:"proofType",type:"uint8",internalType:"enum ProofType"}],outputs:[{name:"countryList",type:"string[]",internalType:"string[]"}],stateMutability:"pure"},{type:"function",name:"getDateProofInputs",inputs:[{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"},{name:"proofType",type:"uint8",internalType:"enum ProofType"}],outputs:[{name:"currentDate",type:"uint256",internalType:"uint256"},{name:"minDate",type:"uint256",internalType:"uint256"},{name:"maxDate",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"getDiscloseProofInputs",inputs:[{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"discloseMask",type:"bytes",internalType:"bytes"},{name:"discloseBytes",type:"bytes",internalType:"bytes"}],stateMutability:"pure"},{type:"function",name:"getDisclosedData",inputs:[{name:"discloseBytes",type:"bytes",internalType:"bytes"},{name:"isIDCard",type:"bool",internalType:"bool"}],outputs:[{name:"name",type:"string",internalType:"string"},{name:"issuingCountry",type:"string",internalType:"string"},{name:"nationality",type:"string",internalType:"string"},{name:"gender",type:"string",internalType:"string"},{name:"birthDate",type:"string",internalType:"string"},{name:"expiryDate",type:"string",internalType:"string"},{name:"documentNumber",type:"string",internalType:"string"},{name:"documentType",type:"string",internalType:"string"}],stateMutability:"pure"},{type:"function",name:"isValidCertificateRegistryRoot",inputs:[{name:"",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"removeCertificateRegistryRoot",inputs:[{name:"certificateRegistryRoot",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"removeVerifiers",inputs:[{name:"vkeyHashes",type:"bytes32[]",internalType:"bytes32[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"rootRegistry",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IRootRegistry"}],stateMutability:"view"},{type:"function",name:"setPaused",inputs:[{name:"_paused",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferAdmin",inputs:[{name:"newAdmin",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateRootRegistry",inputs:[{name:"_rootRegistry",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"verifyProof",inputs:[{name:"params",type:"tuple",internalType:"struct ProofVerificationParams",components:[{name:"vkeyHash",type:"bytes32",internalType:"bytes32"},{name:"proof",type:"bytes",internalType:"bytes"},{name:"publicInputs",type:"bytes32[]",internalType:"bytes32[]"},{name:"committedInputs",type:"bytes",internalType:"bytes"},{name:"committedInputCounts",type:"uint256[]",internalType:"uint256[]"},{name:"validityPeriodInDays",type:"uint256",internalType:"uint256"},{name:"domain",type:"string",internalType:"string"},{name:"scope",type:"string",internalType:"string"},{name:"devMode",type:"bool",internalType:"bool"}]}],outputs:[{name:"",type:"bool",internalType:"bool"},{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"verifyScopes",inputs:[{name:"publicInputs",type:"bytes32[]",internalType:"bytes32[]"},{name:"domain",type:"string",internalType:"string"},{name:"scope",type:"string",internalType:"string"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"vkeyHashToVerifier",inputs:[{name:"",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"AdminUpdated",inputs:[{name:"oldAdmin",type:"address",indexed:!0,internalType:"address"},{name:"newAdmin",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"CertificateRegistryRootAdded",inputs:[{name:"certificateRegistryRoot",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"CertificateRegistryRootRemoved",inputs:[{name:"certificateRegistryRoot",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"PausedStatusChanged",inputs:[{name:"paused",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"VerifierAdded",inputs:[{name:"vkeyHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"verifier",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"VerifierRemoved",inputs:[{name:"vkeyHash",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"ZKPassportVerifierDeployed",inputs:[{name:"admin",type:"address",indexed:!0,internalType:"address"},{name:"timestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],UG={abi:MG};class at{constructor(t){re(this,"bytes");this.bytes=at.convertToBytes(t)}static convertToBytes(t){var n,r;if(typeof t=="bigint"||typeof t=="number"){const i=t.toString(16),s=i.padStart(Math.ceil(i.length/2)*2,"0");return new Uint8Array(((n=s.match(/.{1,2}/g))==null?void 0:n.map(o=>parseInt(o,16)))||[])}if(t instanceof Uint8Array)return new Uint8Array(t);if(Buffer.isBuffer(t))return new Uint8Array(t);if(Array.isArray(t)){if(!t.every(i=>typeof i=="number"&&i>=0&&i<=255))throw new Error("Invalid byte array: values must be between 0 and 255");return new Uint8Array(t)}if(t instanceof ArrayBuffer)return new Uint8Array(t);if(typeof t=="string"){if(at.isHexString(t)){const i=t.startsWith("0x")?t.slice(2):t,s=i.padStart(Math.ceil(i.length/2)*2,"0");return new Uint8Array(((r=s.match(/.{1,2}/g))==null?void 0:r.map(o=>parseInt(o,16)))||[])}try{const i=BigInt(t);return at.convertToBytes(i)}catch{return new Uint8Array(Buffer.from(t,"ascii"))}}throw new Error("Unsupported data type")}static isHexString(t){const n=t.startsWith("0x")?t.slice(2):t;return/^[0-9a-fA-F]*$/.test(n)}static from(t){return new at(t)}static fromHex(t){if(!at.isHexString(t))throw new Error("Invalid hex string");return new at(t.startsWith("0x")?t:"0x"+t)}static fromBuffer(t){return new at(t)}static fromBase64(t){const n=atob(t);return new at(Uint8Array.from(n,r=>r.charCodeAt(0)))}static empty(){return new at(new Uint8Array(0))}static zero(t){return new at(new Uint8Array(t))}toBigInt(){return BigInt("0x"+this.toHex().slice(2))}toUInt8Array(){return new Uint8Array(this.bytes)}toNumberArray(){return Array.from(this.bytes)}toHex(){return"0x"+Array.from(this.bytes).map(t=>t.toString(16).padStart(2,"0")).join("")}toBuffer(){return Buffer.from(this.bytes)}toString(t="hex"){return t==="hex"?this.toHex().slice(2):Buffer.from(this.bytes).toString(t)}toBase64(){return btoa(String.fromCharCode(...this.bytes))}toJSON(){return this.toHex()}[Symbol.for("nodejs.util.inspect.custom")](){return`Binary(${this.toHex()})`}[Symbol.toPrimitive](t){switch(t){case"number":return Number(this.toBigInt());case"string":return`Binary(${this.toHex()})`;default:return this.toBigInt()}}valueOf(){return this.toBigInt()}get length(){return this.bytes.length}*[Symbol.iterator](){yield*this.bytes}equals(t){return this.length!==t.length?!1:this.bytes.every((n,r)=>n===t.bytes[r])}slice(t,n){return new at(this.bytes.slice(t,n))}concat(t){return new at([...this.toNumberArray(),...t.toNumberArray()])}[Symbol.for("+")](t){return this.concat(t)}compare(t){const n=Math.min(this.length,t.length);for(let r=0;r<n;r++){const i=this.bytes[r]-t.bytes[r];if(i!==0)return i}return this.length-t.length}xor(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for XOR operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]^t.bytes[r];return new at(n)}and(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for AND operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]&t.bytes[r];return new at(n)}or(t){if(this.length!==t.length)throw new Error("Binary instances must be of equal length for OR operation");const n=new Uint8Array(this.length);for(let r=0;r<this.length;r++)n[r]=this.bytes[r]|t.bytes[r];return new at(n)}not(){const t=new Uint8Array(this.length);for(let n=0;n<this.length;n++)t[n]=~this.bytes[n]&255;return new at(t)}padStart(t,n=0){if(this.length>=t)return this;const r=new Uint8Array(t);return r.fill(n,0,t-this.length),r.set(this.bytes,t-this.length),new at(r)}padEnd(t,n=0){if(this.length>=t)return this;const r=new Uint8Array(t);return r.set(this.bytes),r.fill(n,this.length),new at(r)}}function vy(e,t){if(!e)throw new Error(t)}function k2(e,t){if(e.length===0)return[];const n=Math.ceil(e.length/t),r=new Array(n),i=e.length%t||t;let s=0;for(let o=n-1;o>=0;o--){const a=o===n-1?i:t;let l=0n;for(let u=0;u<a;u++)l=l<<8n|BigInt(e[s++]);const c=l.toString(16);r[o]="0x"+(c.length%2?"0":"")+c}return r}function Ba(e,t){const n=e.bytes.slice(0,t);return e.bytes=e.bytes.slice(t),{bytes:n}}function uo(e){return"0x"+Buffer.from(e).toString("hex").padStart(64,"0")}function LG(e){const t=[],n={bytes:e},r=Ba(n,8);t.push(uo(r.bytes)),Ba(n,8);const i=Ba(n,8);t.push(uo(i.bytes));const s=Ba(n,8);t.push(uo(s.bytes));const o=n.bytes.slice(0,1);if(o[0]===0||o[0]===1){Ba(n,1),t.push(uo(o));for(let l=0;l<64;l+=4){const c=Ba(n,4);t.push(uo(c.bytes))}}else for(let l=0;l<17;l++)t.push("0x"+"0".repeat(64));const a=n.bytes;for(let l=0;l<a.length;l+=32){const c=a.slice(l,l+32);if(c.length===0)break;t.push(uo(c.slice(15,32))),t.push(uo(c.slice(0,15)))}return t}var I2;(function(e){e[e.USER_ADDRESS=1]="USER_ADDRESS",e[e.CUSTOM_DATA=2]="CUSTOM_DATA"})(I2||(I2={}));var B2;(function(e){e[e.DISCLOSE=0]="DISCLOSE",e[e.AGE=1]="AGE",e[e.BIRTHDATE=2]="BIRTHDATE",e[e.EXPIRY_DATE=3]="EXPIRY_DATE",e[e.NATIONALITY_INCLUSION=4]="NATIONALITY_INCLUSION",e[e.NATIONALITY_EXCLUSION=5]="NATIONALITY_EXCLUSION",e[e.ISSUING_COUNTRY_INCLUSION=6]="ISSUING_COUNTRY_INCLUSION",e[e.ISSUING_COUNTRY_EXCLUSION=7]="ISSUING_COUNTRY_EXCLUSION",e[e.BIND=8]="BIND"})(B2||(B2={}));var j1;let N2=j1=class extends Qe{constructor(t){super(t),Object.setPrototypeOf(this,j1.prototype)}};N2=j1=A([ie({type:ne.Set,itemType:pa})],N2);var R1;(function(e){e[e.dataGroup1=1]="dataGroup1",e[e.dataGroup2=2]="dataGroup2",e[e.dataGroup3=3]="dataGroup3",e[e.dataGroup4=4]="dataGroup4",e[e.dataGroup5=5]="dataGroup5",e[e.dataGroup6=6]="dataGroup6",e[e.dataGroup7=7]="dataGroup7",e[e.dataGroup8=8]="dataGroup8",e[e.dataGroup9=9]="dataGroup9",e[e.dataGroup10=10]="dataGroup10",e[e.dataGroup11=11]="dataGroup11",e[e.dataGroup12=12]="dataGroup12",e[e.dataGroup13=13]="dataGroup13",e[e.dataGroup14=14]="dataGroup14",e[e.dataGroup15=15]="dataGroup15",e[e.dataGroup16=16]="dataGroup16"})(R1||(R1={}));class ZS{constructor(t={}){re(this,"number",R1.dataGroup1);re(this,"hash",new ArrayBuffer(0));Object.assign(this,t)}}A([I({type:P.Integer})],ZS.prototype,"number",void 0);A([I({type:P.OctetString})],ZS.prototype,"hash",void 0);var O1;(function(e){e[e.v0=0]="v0",e[e.v1=1]="v1",e[e.v2=2]="v2"})(O1||(O1={}));class XS{constructor(t={}){re(this,"ldsVersion","");re(this,"unicodeVersion","");Object.assign(this,t)}}A([I({type:P.PrintableString})],XS.prototype,"ldsVersion",void 0);A([I({type:P.PrintableString})],XS.prototype,"unicodeVersion",void 0);let D1=class{constructor(t){re(this,"value","");t&&(typeof t=="string"?this.value=t:Object.assign(this,t))}};A([I({type:P.ObjectIdentifier})],D1.prototype,"value",void 0);D1=A([ie({type:ne.Choice})],D1);class Lp{constructor(t={}){re(this,"version",O1.v1);re(this,"hashAlgorithm",new Gi);re(this,"dataGroups",[]);re(this,"versionInfo");Object.assign(this,t)}}A([I({type:P.Integer})],Lp.prototype,"version",void 0);A([I({type:Gi})],Lp.prototype,"hashAlgorithm",void 0);A([I({type:ZS,repeated:"sequence"})],Lp.prototype,"dataGroups",void 0);A([I({type:XS,optional:!0})],Lp.prototype,"versionInfo",void 0);let lm=class{constructor(t={}){re(this,"version",0);re(this,"certificates",[]);Object.assign(this,t)}};A([I({type:P.Integer})],lm.prototype,"version",void 0);A([I({type:yc,repeated:"set"})],lm.prototype,"certificates",void 0);lm=A([ie({type:ne.Sequence})],lm);class r8{constructor(t,n=2){re(this,"nodes");re(this,"zeroes");re(this,"depth");re(this,"arity");this.depth=t,this.arity=n,this.zeroes=[],this.nodes=[]}get root(){return`0x${this.nodes[this.depth][0].toString(16).padStart(64,"0")}`}get leaves(){return this.nodes[0].slice()}async initialize(t,n=[]){if(n.length>this.arity**this.depth)throw new Error(`The tree cannot contain more than ${this.arity**this.depth} leaves`);if(new Set(n.map(i=>i.toString())).size!==n.length)throw new Error("Duplicate leaves");for(let i=0;i<this.depth;i+=1)this.zeroes.push(t),this.nodes[i]=[],t=await Vi(Array(this.arity).fill(t).map(s=>BigInt(s)));if(this.nodes[this.depth]=[],n.length>0){this.nodes[0]=n;for(let i=0;i<this.depth;i+=1)for(let s=0;s<Math.ceil(this.nodes[i].length/this.arity);s+=1){const o=s*this.arity,a=[];for(let l=0;l<this.arity;l+=1)a.push(this.nodes[i][o+l]??this.zeroes[i]);this.nodes[i+1][s]=await Vi(a.map(l=>BigInt(l)))}}else this.nodes[this.depth][0]=t}serialize(){return this.nodes.map(t=>t.map(n=>`0x${n.toString(16).padStart(64,"0")}`))}}const PG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",FG=34,j2=[18,32];function zG(e){if(!(e instanceof Uint8Array))throw new Error("Input must be a Uint8Array");if(e.length===0)return"";let t=0;for(;t<e.length&&e[t]===0;)t++;let n=BigInt(0);for(let s=t;s<e.length;s++)n=n*BigInt(256)+BigInt(e[s]);let r="";for(;n>0n;){const s=Number(n%BigInt(58));r=PG[s]+r,n=n/BigInt(58)}return"1".repeat(t)+r}function R2(e){if(!e||typeof e!="string")throw new Error("Input must be a non-empty hex string");if(!e.match(/^(0x)?[0-9a-fA-F]+$/i))throw new Error("Invalid hex string format");e=e.startsWith("0x")?e.substring(2):e,e.length>64?e=e.substring(e.length-64):e.length<64&&(e=e.padStart(64,"0"));const t=new Uint8Array(FG);t[0]=j2[0],t[1]=j2[1];for(let n=0;n<e.length;n+=2){const r=parseInt(e.substring(n,n+2),16);t[2+n/2]=r}return zG(t)}const VG=16,$G=12,HG=1,GG=2,qG=3,KG=4,YG=5,WG=1,ZG=["ICAO","DE","NL","IT","ES"],fo=1,ho=2;function XG(e){let t=0n;for(const n of e){const r=ZG.indexOf(n);if(r===-1)throw new Error(`Invalid tag: ${n}`);t|=0xffn<<BigInt(r*8)}return t}function JG(e){const t={"SHA-1":HG,"SHA-224":KG,"SHA-256":GG,"SHA-384":qG,"SHA-512":YG};if(t[e]===void 0)throw new Error(`Unsupported hash algorithm: ${e}`);return t[e]}function QG(e){if(e.type==="RSA")return at.from(e.modulus).toUInt8Array();if(e.type==="EC")return at.from(e.public_key_x).concat(at.from(e.public_key_y)).toUInt8Array();throw new Error("Unsupported signature algorithm")}async function eq(e,t){var o;const n=e!=null&&e.tags?XG(e.tags):0n,r=WG;vy(r<=255,`Certificate type must fit in a single byte: ${r}`),vy(((o=e==null?void 0:e.country)==null?void 0:o.length)===3,`Country code must be 3 characters: ${e==null?void 0:e.country}`);const i=JG(e==null?void 0:e.hash_algorithm);vy(i>=0&&i<=255,`Hash algorithm identifier must fit in a single byte: ${i}`);const s=QG(e.public_key);return Vi([n,BigInt(k2(new Uint8Array([r,e.country.charCodeAt(0),e.country.charCodeAt(1),e.country.charCodeAt(2),i]),31)[0]),...k2(s,31).map(a=>BigInt(a))])}async function tq(e){const t=await Promise.all(e.map(n=>eq(n)));return t.sort((n,r)=>n>r?1:n<r?-1:0),t}async function nq(e){const t=await tq(e),n=new r8(VG,2);return await n.initialize(0n,t),n}async function rq(e){let t;if(e.circuits!==void 0)t=e.circuits.map(r=>BigInt(r.vkey_hash));else if(e.hashes!==void 0)t=e.hashes.map(r=>BigInt(r));else throw new Error("Either circuits or hashes must be provided");t.sort((r,i)=>r>i?1:r<i?-1:0);const n=new r8($G,2);return await n.initialize(0n,t),n.root}if(typeof window>"u")try{const e=require("crypto");crypto=e}catch{}var M1={exports:{}},xy,O2;function iq(){if(O2)return xy;O2=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,s=r*365.25;xy=function(u,d){d=d||{};var h=typeof u;if(h==="string"&&u.length>0)return o(u);if(h==="number"&&isFinite(u))return d.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var h=parseFloat(d[1]),m=(d[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(u){var d=Math.abs(u);return d>=r?Math.round(u/r)+"d":d>=n?Math.round(u/n)+"h":d>=t?Math.round(u/t)+"m":d>=e?Math.round(u/e)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=r?c(u,d,r,"day"):d>=n?c(u,d,n,"hour"):d>=t?c(u,d,t,"minute"):d>=e?c(u,d,e,"second"):u+" ms"}function c(u,d,h,m){var x=d>=h*1.5;return Math.round(u/h)+" "+m+(x?"s":"")}return xy}function sq(e){n.debug=n,n.default=n,n.coerce=l,n.disable=o,n.enable=i,n.enabled=a,n.humanize=iq(),n.destroy=c,Object.keys(e).forEach(u=>{n[u]=e[u]}),n.names=[],n.skips=[],n.formatters={};function t(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){let d,h=null,m,x;function y(..._){if(!y.enabled)return;const p=y,b=Number(new Date),g=b-(d||b);p.diff=g,p.prev=d,p.curr=b,d=b,_[0]=n.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let E=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(N,k)=>{if(N==="%%")return"%";E++;const j=n.formatters[k];if(typeof j=="function"){const D=_[E];N=j.call(p,D),_.splice(E,1),E--}return N}),n.formatArgs.call(p,_),(p.log||n.log).apply(p,_)}return y.namespace=u,y.useColors=n.useColors(),y.color=n.selectColor(u),y.extend=r,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(m!==n.namespaces&&(m=n.namespaces,x=n.enabled(u)),x),set:_=>{h=_}}),typeof n.init=="function"&&n.init(y),y}function r(u,d){const h=n(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function i(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];const d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h of d)h[0]==="-"?n.skips.push(h.slice(1)):n.names.push(h)}function s(u,d){let h=0,m=0,x=-1,y=0;for(;h<u.length;)if(m<d.length&&(d[m]===u[h]||d[m]==="*"))d[m]==="*"?(x=m,y=h,m++):(h++,m++);else if(x!==-1)m=x+1,y++,h=y;else return!1;for(;m<d.length&&d[m]==="*";)m++;return m===d.length}function o(){const u=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),u}function a(u){for(const d of n.skips)if(s(u,d))return!1;for(const d of n.names)if(s(u,d))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var oq=sq;(function(e,t){var n={};t.formatArgs=i,t.save=s,t.load=o,t.useColors=r,t.storage=a(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,h=0;c[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(d++,m==="%c"&&(h=d))}),c.splice(h,0,u)}t.log=console.debug||console.log||(()=>{});function s(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function o(){let c;try{c=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function a(){try{return localStorage}catch{}}e.exports=oq(t);const{formatters:l}=e.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(M1,M1.exports);var aq=M1.exports;const h0=Sm(aq);function mi(e){return e.startsWith("0x")?e.slice(2):e}function hr(e){return typeof e=="bigint"?`0x${e.toString(16).toLowerCase().padStart(64,"0")}`:`0x${mi(e).toLowerCase().padStart(64,"0")}`}const lq="https://certificates.zkpassport.id/mainnet",cq="https://certificates.zkpassport.id/sepolia",uq="http://localhost:3000/certificates",wy=(e,t,n)=>n?`https://ipfs.infura.io/ipfs/${n}`:(t=hr(t),e===1?`${lq}/${t}.json`:e===11155111?`${cq}/${t}.json`:`${uq}/${t}.json`),U1="https://circuits2.zkpassport.id/mainnet",L1="https://circuits2.zkpassport.id/sepolia",P1="http://localhost:3000",Sy=(e,{root:t,version:n,cid:r})=>{if(t)return t=hr(t),e===1?`${U1}/by-root/${t}/manifest.json`:e===11155111?`${L1}/by-root/${t}/manifest.json`:`${P1}/by-root/${t}/manifest.json`;if(n)return e===1?`${U1}/by-version/${n}/manifest.json`:e===11155111?`${L1}/by-version/${n}/manifest.json`:`${P1}/by-version/${n}/manifest.json`;if(r)return`https://ipfs.infura.io/ipfs/${r}`;throw new Error("No root, version or cid provided")},_y=(e,t,n)=>n?`https://ipfs.infura.io/ipfs/${n}`:(t=hr(t),e===1?`${U1}/by-hash/${t}.json`:e===11155111?`${L1}/by-hash/${t}.json`:`${P1}/by-hash/${t}.json`),af=100,D2="0xc3bc16e8",M2="0x06ac4103",U2="0xcb0c82c7",L2="0x76785af8",dq="0x5d8d57a6",P2="0xbb3dd539",F2="0x83578c11",ct=h0("zkpassport:registry"),fq={1:{rpcUrl:"https://eth-mainnet.g.alchemy.com/v2/in6UjcATST36yyKuk83yb1yukKs65u8G",rootRegistry:"0x0000000000000000000000000000000000000000",registryHelper:"0x0000000000000000000000000000000000000000",packagedCertsUrlGenerator:wy,circuitManifestUrlGenerator:Sy,packagedCircuitUrlGenerator:_y},11155111:{rpcUrl:"https://eth-sepolia.g.alchemy.com/v2/in6UjcATST36yyKuk83yb1yukKs65u8G",rootRegistry:"0xB6bF4a45D5Ed1363C45BD0e4cbaDCcd48F8D3FaB",registryHelper:"0x5b3318632f71ba1017cca8f995aac33a847ef127",packagedCertsUrlGenerator:wy,circuitManifestUrlGenerator:Sy,packagedCircuitUrlGenerator:_y},31337:{rpcUrl:"http://localhost:8545",rootRegistry:"0x5FbDB2315678afecb367f032d93F642f64180aa3",registryHelper:"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",packagedCertsUrlGenerator:wy,circuitManifestUrlGenerator:Sy,packagedCircuitUrlGenerator:_y}};class Nu{constructor({rpcUrl:t,rootRegistry:n,chainId:r,registryHelper:i,packagedCertsUrlGenerator:s,circuitManifestUrlGenerator:o,packagedCircuitUrlGenerator:a}={}){re(this,"chainId");re(this,"rpcUrl");re(this,"rootRegistry");re(this,"registryHelper");re(this,"packagedCertsUrlGenerator");re(this,"circuitManifestUrlGenerator");re(this,"packagedCircuitUrlGenerator");if(r===void 0)throw new Error("chainId is required");this.chainId=r;const l=fq[r];this.rpcUrl=t||(l==null?void 0:l.rpcUrl),this.rootRegistry=n||(l==null?void 0:l.rootRegistry),this.registryHelper=i||(l==null?void 0:l.registryHelper),this.packagedCertsUrlGenerator=s||(l==null?void 0:l.packagedCertsUrlGenerator),this.circuitManifestUrlGenerator=o||(l==null?void 0:l.circuitManifestUrlGenerator),this.packagedCircuitUrlGenerator=a||(l==null?void 0:l.packagedCircuitUrlGenerator)}async getLatestCertificateRoot(){ct("Getting latest certificate root",{registry:this.rootRegistry});const t=await this.rpcRequest(this.rootRegistry,D2+fo.toString(16).padStart(64,"0"));if(!t.ok)throw new Error(`Failed to get latest certificate root: ${t.status} ${t.statusText}`);const n=await t.json();if(n.error)throw new Error(`Error from blockchain: ${n.error.message}`);return ct(`Got latest certificates root: ${n.result}`),n.result}async isCertificateRootValid(t){t=hr(t);const n=await this.rpcRequest(this.rootRegistry,F2+fo.toString(16).padStart(64,"0")+mi(t));if(!n.ok)throw new Error(`Error checking if certificate root is valid: ${n.status} ${n.statusText}`);const r=await n.json();if(r.error)throw new Error(`Error from blockchain: ${r.error.message}`);return parseInt(mi(r.result))===1}async getCertificates(t,{validate:n=!0,ipfs:r=!1}={}){var a;if(t?t=hr(t):t=await this.getLatestCertificateRoot(),r)throw new Error("IPFS flag not implemented");const i=this.packagedCertsUrlGenerator(this.chainId,t);ct("Getting certificates from:",i);const s=await fetch(i);if(!s.ok)throw new Error(`Failed to get certificates for root ${t}: ${s.status} ${s.statusText}`);const o=await s.json();if(ct(`Got ${((a=o.certificates)==null?void 0:a.length)||0} packaged certificates`),!o.certificates||!Array.isArray(o.certificates))throw new Error("Invalid certificates returned");if(!o.serialised||!Array.isArray(o.serialised))throw new Error("Invalid serialised certificates tree returned");if(n&&!await this.validateCertificates(o.certificates,t))throw new Error(`Validation failed for packaged certificates: ${t}`);return o}async validateCertificates(t,n){try{const{root:r}=await nq(t),i=n.startsWith("0x")?n:`0x${n}`,s=r.toLowerCase()===i.toLowerCase();return ct(s?`Validated packaged certificates against root ${r}`:`Error validating packaged certificates. Expected: ${i} Got: ${r}`),s}catch(r){return console.error("Error validating circuit manifest:",r),!1}}async getHistoricalCertificateRoots(t,n=af){if(!this.registryHelper)throw new Error("Historical roots helper address not configured");const r=typeof t=="string"?mi(t):t??1,i=typeof r=="number"?`${M2}${fo.toString(16).padStart(64,"0")}${r.toString(16).padStart(64,"0")}${n.toString(16).padStart(64,"0")}`:`${U2}${fo.toString(16).padStart(64,"0")}${r.padStart(64,"0")}${n.toString(16).padStart(64,"0")}`;try{const s=await this.rpcRequest(this.registryHelper,i);return this._handleHistoricalRootsResponse(s)}catch(s){throw s instanceof Error?s:new Error(String(s))}}async getAllHistoricalCertificateRoots(t=af,n){if(!this.registryHelper)throw new Error("Historical roots helper address is not configured");let r=0,i=!1,s=1;const o=[];for(;!i;){const{roots:a,isLastPage:l}=await this.getHistoricalCertificateRoots(s,t);if(o.push(...a),i=l,r++,a.length>0&&(s+=a.length),n&&n(r,a,o.length,i),a.length===0)break}return o}async getCertificateRootDetails(t){if(t){ct("Getting certificate root details");const r=await this.rpcRequest(this.registryHelper,P2+fo.toString(16).padStart(64,"0")+mi(t).padStart(64,"0"));if(!r.ok)throw new Error(`Failed to get certificate root details: ${r.status} ${r.statusText}`);return this._handleRootDetailsResponse(r)}ct("Getting latest certificate root details");const n=await this.rpcRequest(this.registryHelper,L2+fo.toString(16).padStart(64,"0"));if(!n.ok)throw new Error(`Failed to get latest certificate root details: ${n.status} ${n.statusText}`);return this._handleRootDetailsResponse(n)}async getLatestCircuitRoot(){ct("Getting latest circuit root",{registry:this.rootRegistry});const t=await this.rpcRequest(this.rootRegistry,D2+ho.toString(16).padStart(64,"0"));if(!t.ok)throw new Error(`Failed to get latest circuit root: ${t.status} ${t.statusText}`);const n=await t.json();if(n.error)throw new Error(`Error from blockchain: ${n.error.message}`);return ct(`Got latest circuit root: ${n.result}`),n.result}async isCircuitRootValid(t){t=hr(t);const n=await this.rpcRequest(this.rootRegistry,F2+ho.toString(16).padStart(64,"0")+mi(t));if(!n.ok)throw new Error(`Error checking if circuit root is valid: ${n.status} ${n.statusText}`);const r=await n.json();if(r.error)throw new Error(`Error from blockchain: ${r.error.message}`);return parseInt(mi(r.result))===1}async getCircuitManifest(t,{validate:n=!0,ipfs:r=!1,version:i=void 0}={}){if(!t&&!i?t=await this.getLatestCircuitRoot():t&&(t=hr(t)),r)throw new Error("IPFS flag not implemented");const s=this.circuitManifestUrlGenerator(this.chainId,{root:t,version:i});ct("Getting circuit manifest from:",s);const o=await fetch(s);if(!o.ok)throw new Error(`Failed to get circuit manifest for root ${t}: ${o.status} ${o.statusText}`);const a=await o.json();if(!a.version||!a.root||!a.circuits)throw new Error("Invalid circuit manifest returned");if(ct(`Got circuit manifest for root ${t}`),n&&!await this.validateCircuitManifest(a,t))throw new Error(`Validation failed for circuit manifest: ${t}`);return a}async validateCircuitManifest(t,n){try{const r=Object.values(t.circuits).map(a=>a.hash),i=hr(await rq({hashes:r})),s=hr(n||t.root),o=i.toLowerCase()===s.toLowerCase();return ct(o?`Validated circuit manifest against root ${i}`:`Error validating circuit manifest. Expected: ${s} Got: ${i}`),o}catch(r){return console.error("Error validating circuit manifest:",r),!1}}static async validatePackagedCircuit(t,n){const r=hr(n||t.vkey_hash),i=LG(at.fromBase64(t.vkey).toUInt8Array()),s=hr((await Vi(i.map(BigInt))).toString(16)),o=s===r;return ct(o?`Validated packaged circuit against hash ${r}`:`Error validating packaged circuit. Expected: ${r} Got: ${s}`),o}async getPackagedCircuit(t,n,{validate:r=!0,ipfs:i=!1}={}){var c;if(i)throw new Error("IPFS flag not implemented");const s=((c=n.circuits[t])==null?void 0:c.hash)||null;if(!s)throw new Error(`Circuit ${t} not found in manifest`);const o=this.packagedCircuitUrlGenerator(this.chainId,s);ct("Getting packaged circuit from:",o);const a=await fetch(o);if(!a.ok)throw new Error(`Failed to get packaged circuit for ${t}: ${a.status} ${a.statusText}`);const l=await a.json();if(!l.name||!l.hash||!l.noir_version||!l.bb_version)throw new Error(`Invalid packaged circuit returned for ${t}`);if(ct(`Got packaged circuit for ${t}`),r&&!await Nu.validatePackagedCircuit(l,s))throw new Error(`Validation failed for packaged circuit: ${t}`);return l}async getHistoricalCircuitRoots(t,n=af){if(!this.registryHelper)throw new Error("Historical roots helper address not configured");const r=typeof t=="string"?mi(t):t??1,i=typeof r=="number"?`${M2}${ho.toString(16).padStart(64,"0")}${r.toString(16).padStart(64,"0")}${n.toString(16).padStart(64,"0")}`:`${U2}${ho.toString(16).padStart(64,"0")}${r.padStart(64,"0")}${n.toString(16).padStart(64,"0")}`;try{const s=await this.rpcRequest(this.registryHelper,i);return this._handleHistoricalRootsResponse(s)}catch(s){throw s instanceof Error?s:new Error(String(s))}}async getAllHistoricalCircuitRoots(t=af,n){if(!this.registryHelper)throw new Error("Historical roots helper address is not configured");let r=0,i=!1,s=1;const o=[];for(;!i;){const{roots:a,isLastPage:l}=await this.getHistoricalCircuitRoots(s,t);if(o.push(...a),i=l,r++,a.length>0&&(s+=a.length),n&&n(r,a,o.length,i),a.length===0)break}return o}async getCircuitRootDetails(t){if(t){ct("Getting circuit root details");const r=await this.rpcRequest(this.registryHelper,P2+ho.toString(16).padStart(64,"0")+mi(t).padStart(64,"0"));if(!r.ok)throw new Error(`Failed to get circuit root details: ${r.status} ${r.statusText}`);return this._handleRootDetailsResponse(r)}ct("Getting latest circuit root details");const n=await this.rpcRequest(this.registryHelper,L2+ho.toString(16).padStart(64,"0"));if(!n.ok)throw new Error(`Failed to get latest circuit root details: ${n.status} ${n.statusText}`);return this._handleRootDetailsResponse(n)}async getRegistryAddress(t){ct(`Getting registry address for ID ${t} from root registry ${this.rootRegistry}`);let n;if(typeof t=="string"&&t.startsWith("0x"))n=`0x${t.substring(2).padStart(64,"0")}`;else if(typeof t=="number")n=`0x${t.toString(16).padStart(64,"0")}`;else throw new Error(`Invalid registry ID: ${t}`);try{const r=await this.rpcRequest(this.rootRegistry,`${dq}${n.slice(2)}`);if(!r.ok)throw new Error(`Error getting address for registry ID ${t}: ${r.status} ${r.statusText}`);const i=await r.json();if(i.error)throw new Error(`Error getting address for registry ID ${t}: ${i.error.message}`);if(i.result==="0x0000000000000000000000000000000000000000000000000000000000000000")throw new Error(`Registry ID ${t} doesn't exist`);const s=`0x${i.result.slice(-40)}`;return ct(`Got address for registry ID ${t}: ${s}`),s}catch(r){throw new Error(`Error getting address for registry ID ${t}: ${r}`)}}getRootRegistryAddress(){return this.rootRegistry}async getCertificateRegistryAddress(){return this.getRegistryAddress(fo)}async getCircuitRegistryAddress(){return this.getRegistryAddress(ho)}getUrlForPackagedCertificates(t,n){return this.packagedCertsUrlGenerator(this.chainId,t,n)}getUrlForCircuitManifestByRoot(t){return this.circuitManifestUrlGenerator(this.chainId,{root:t})}getUrlForCircuitManifestByVersion(t){return this.circuitManifestUrlGenerator(this.chainId,{version:t})}getUrlForCircuitManifestByCid(t){return this.circuitManifestUrlGenerator(this.chainId,{cid:t})}getUrlForPackagedCircuits(t,n){return this.packagedCircuitUrlGenerator(this.chainId,t,n)}rpcRequest(t,n){return fetch(this.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Math.floor(Math.random()*1e6),method:"eth_call",params:[{to:t,data:n},"latest"]})})}async _handleRootDetailsResponse(t){const n=await t.json();if(n.error)throw new Error(`Error from node: ${n.error.message}`);if(n.result){const r=n.result.slice(2),i=parseInt(r.slice(0,64),16),s=`0x${r.slice(64,128)}`,o=new Date(parseInt(r.slice(128,192),16)*1e3),a=parseInt(r.slice(192,256),16),l=a===0?void 0:new Date(a*1e3),c=parseInt(r.slice(256,320),16)===1,u=parseInt(r.slice(320,384),16),d=R2(`0x${r.slice(384,448)}`);return{index:i,root:s,validFrom:o,validTo:l,revoked:c,leaves:u,cid:d,isLatest:l===void 0}}else throw new Error("No result returned from node")}async _handleHistoricalRootsResponse(t){var r;const n=await t.json();if(n.error)throw new Error(((r=n==null?void 0:n.error)==null?void 0:r.message)||"Error getting roots");if(n.result){const i=n.result.slice(2),s=parseInt(i.slice(0,64),16),o=parseInt(i.slice(64,128),16)===1,a=i.slice(s*2),l=parseInt(a.slice(0,64),16),c=[];for(let u=0;u<l;u++){const d=64+u*7*64,h=parseInt(a.slice(d,d+64),16),m=`0x${a.slice(d+64,d+128)}`,x=new Date(parseInt(a.slice(d+128,d+192),16)*1e3),y=parseInt(a.slice(d+192,d+256),16),_=y===0?void 0:new Date(y*1e3),p=parseInt(a.slice(d+256,d+320),16)===1,b=parseInt(a.slice(d+320,d+384),16),g=R2(`0x${a.slice(d+384,d+448)}`);c.push({root:m,validFrom:x,validTo:_,revoked:p,cid:g,leaves:b,isLatest:u===l-1&&o,index:h})}return{roots:c,isLastPage:o}}return{roots:[],isLastPage:!0}}}const hq=typeof window<"u"?{getRandomValues:e=>window.crypto.getRandomValues(e)}:globalThis.crypto,Ey=typeof window<"u"?window.crypto:typeof globalThis<"u"&&globalThis.crypto?globalThis.crypto:hq;function JS(e){const t=new Uint8Array(e);if(Ey&&typeof Ey.getRandomValues=="function")return Ey.getRandomValues(t),t;throw new Error("No secure random number generator available in this environment. Make sure you're in a secure context that provides crypto APIs.")}const yi=16,QS=new Uint8Array(16),Dr=ji(QS),mq=225,pq=(e,t,n,r)=>{const i=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^mq<<24&-(i&1)}},zn=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function gq(e){e.reverse();const t=e[15]&1;let n=0;for(let r=0;r<e.length;r++){const i=e[r];e[r]=i>>>1|n,n=(i&1)<<7}return e[0]^=-t&225,e}const yq=e=>e>64*1024?8:e>1024?4:2;class i8{constructor(t,n){this.blockLen=yi,this.outputLen=yi,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=d0(t),en(t,16);const r=Up(t);let i=r.getUint32(0,!1),s=r.getUint32(4,!1),o=r.getUint32(8,!1),a=r.getUint32(12,!1);const l=[];for(let x=0;x<128;x++)l.push({s0:zn(i),s1:zn(s),s2:zn(o),s3:zn(a)}),{s0:i,s1:s,s2:o,s3:a}=pq(i,s,o,a);const c=yq(n||1024);if(![1,2,4,8].includes(c))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=c;const d=128/c,h=this.windowSize=2**c,m=[];for(let x=0;x<d;x++)for(let y=0;y<h;y++){let _=0,p=0,b=0,g=0;for(let E=0;E<c;E++){if(!(y>>>c-E-1&1))continue;const{s0:N,s1:k,s2:j,s3:D}=l[c*x+E];_^=N,p^=k,b^=j,g^=D}m.push({s0:_,s1:p,s2:b,s3:g})}this.t=m}_updateBlock(t,n,r,i){t^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:s,t:o,windowSize:a}=this;let l=0,c=0,u=0,d=0;const h=(1<<s)-1;let m=0;for(const x of[t,n,r,i])for(let y=0;y<4;y++){const _=x>>>8*y&255;for(let p=8/s-1;p>=0;p--){const b=_>>>s*p&h,{s0:g,s1:E,s2:C,s3:N}=o[m*a+b];l^=g,c^=E,u^=C,d^=N,m+=1}}this.s0=l,this.s1=c,this.s2=u,this.s3=d}update(t){sm(this),t=d0(t),en(t);const n=ji(t),r=Math.floor(t.length/yi),i=t.length%yi;for(let s=0;s<r;s++)this._updateBlock(n[s*4+0],n[s*4+1],n[s*4+2],n[s*4+3]);return i&&(QS.set(t.subarray(r*yi)),this._updateBlock(Dr[0],Dr[1],Dr[2],Dr[3]),qi(Dr)),this}destroy(){const{t}=this;for(const n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){sm(this),t8(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:s}=this,o=ji(t);return o[0]=n,o[1]=r,o[2]=i,o[3]=s,t}digest(){const t=new Uint8Array(yi);return this.digestInto(t),this.destroy(),t}}class bq extends i8{constructor(t,n){t=d0(t),en(t);const r=gq(f0(t));super(r,n),qi(r)}update(t){t=d0(t),sm(this);const n=ji(t),r=t.length%yi,i=Math.floor(t.length/yi);for(let s=0;s<i;s++)this._updateBlock(zn(n[s*4+3]),zn(n[s*4+2]),zn(n[s*4+1]),zn(n[s*4+0]));return r&&(QS.set(t.subarray(i*yi)),this._updateBlock(zn(Dr[3]),zn(Dr[2]),zn(Dr[1]),zn(Dr[0])),qi(Dr)),this}digestInto(t){sm(this),t8(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:s}=this,o=ji(t);return o[0]=n,o[1]=r,o[2]=i,o[3]=s,t.reverse()}}function s8(e){const t=(r,i)=>e(i,r.length).update(d0(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,i)=>e(r,i),t}const z2=s8((e,t)=>new i8(e,t));s8((e,t)=>new bq(e,t));const F1=16,vq=4,lf=new Uint8Array(F1),xq=283;function e_(e){return e<<1^xq&-(e>>7)}function V2(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=e_(e);return n}const wq=(()=>{const e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=e_(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return qi(e),t})(),Sq=e=>e<<24|e>>>8,Cy=e=>e<<8|e>>>24;function _q(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((c,u)=>t(e[u])),r=n.map(Cy),i=r.map(Cy),s=i.map(Cy),o=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let c=0;c<256;c++)for(let u=0;u<256;u++){const d=c*256+u;o[d]=n[c]^r[u],a[d]=i[c]^s[u],l[d]=e[c]<<8|e[u]}return{sbox:e,sbox2:l,T0:n,T1:r,T2:i,T3:s,T01:o,T23:a}}const o8=_q(wq,e=>V2(e,3)<<24|e<<16|e<<8|V2(e,2)),Eq=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=e_(n))e[t]=n;return e})();function Cq(e){en(e);const t=e.length;if(![16,24,32].includes(t))throw new Error("aes: invalid key size, should be 16, 24 or 32, got "+t);const{sbox2:n}=o8,r=[];am(e)||r.push(e=f0(e));const i=ji(e),s=i.length,o=l=>Qc(n,l,l,l,l),a=new Uint32Array(t+28);a.set(i);for(let l=s;l<a.length;l++){let c=a[l-1];l%s===0?c=o(Sq(c))^Eq[l/s-1]:s>6&&l%s===4&&(c=o(c)),a[l]=a[l-s]^c}return qi(...r),a}function cf(e,t,n,r,i,s){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|s>>>24&255]}function Qc(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function $2(e,t,n,r,i){const{sbox2:s,T01:o,T23:a}=o8;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const c=e.length/4-2;for(let x=0;x<c;x++){const y=e[l++]^cf(o,a,t,n,r,i),_=e[l++]^cf(o,a,n,r,i,t),p=e[l++]^cf(o,a,r,i,t,n),b=e[l++]^cf(o,a,i,t,n,r);t=y,n=_,r=p,i=b}const u=e[l++]^Qc(s,t,n,r,i),d=e[l++]^Qc(s,n,r,i,t),h=e[l++]^Qc(s,r,i,t,n),m=e[l++]^Qc(s,i,t,n,r);return{s0:u,s1:d,s2:h,s3:m}}function uf(e,t,n,r,i){en(n,F1),en(r),i=NG(r.length,i);const s=n,o=ji(s),a=Up(s),l=ji(r),c=ji(i),u=t?0:12,d=r.length;let h=a.getUint32(u,t),{s0:m,s1:x,s2:y,s3:_}=$2(e,o[0],o[1],o[2],o[3]);for(let b=0;b+4<=l.length;b+=4)c[b+0]=l[b+0]^m,c[b+1]=l[b+1]^x,c[b+2]=l[b+2]^y,c[b+3]=l[b+3]^_,h=h+1>>>0,a.setUint32(u,h,t),{s0:m,s1:x,s2:y,s3:_}=$2(e,o[0],o[1],o[2],o[3]);const p=F1*Math.floor(l.length/vq);if(p<d){const b=new Uint32Array([m,x,y,_]),g=CG(b);for(let E=p,C=0;E<d;E++,C++)i[E]=r[E]^g[C];qi(b)}return i}function Aq(e,t,n,r,i){const s=i?i.length:0,o=e.create(n,r.length+s);i&&o.update(i);const a=jG(8*r.length,8*s,t);o.update(r),o.update(a);const l=o.digest();return qi(a),l}const a8=BG({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(t,n,r){if(n.length<8)throw new Error("aes/gcm: invalid nonce length");const i=16;function s(a,l,c){const u=Aq(z2,!1,a,c,r);for(let d=0;d<l.length;d++)u[d]^=l[d];return u}function o(){const a=Cq(t),l=lf.slice(),c=lf.slice();if(uf(a,!1,c,c,l),n.length===12)c.set(n);else{const d=lf.slice(),h=Up(d);N1(h,8,BigInt(n.length*8),!1);const m=z2.create(l).update(n).update(d);m.digestInto(c),m.destroy()}const u=uf(a,!1,c,lf);return{xk:a,authKey:l,counter:c,tagMask:u}}return{encrypt(a){const{xk:l,authKey:c,counter:u,tagMask:d}=o(),h=new Uint8Array(a.length+i),m=[l,c,u,d];am(a)||m.push(a=f0(a)),uf(l,!1,u,a,h.subarray(0,a.length));const x=s(c,d,h.subarray(0,h.length-i));return m.push(x),h.set(x,a.length),qi(...m),h},decrypt(a){const{xk:l,authKey:c,counter:u,tagMask:d}=o(),h=[l,c,d,u];am(a)||h.push(a=f0(a));const m=a.subarray(0,-i),x=a.subarray(-i),y=s(c,d,m);if(h.push(y),!IG(y,x))throw new Error("aes/gcm: invalid ghash tag");const _=uf(l,!1,u,m);return qi(...h),_}}});/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Tq={p:0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,n:0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n,b:7n,Gx:0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,Gy:0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n},{p:Ho,n:t_,Gx:kq,Gy:Iq,b:l8}=Tq,Go=32,z1=64,jn=(e="")=>{throw new Error(e)},c8=e=>typeof e=="bigint",u8=e=>typeof e=="string",Bq=e=>e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array",m0=(e,t)=>!Bq(e)||typeof t=="number"&&t>0&&e.length!==t?jn("Uint8Array expected"):e,n_=e=>new Uint8Array(e),Nq=e=>Uint8Array.from(e),d8=(e,t)=>e.toString(16).padStart(t,"0"),f8=e=>Array.from(m0(e)).map(t=>d8(t,2)).join(""),ui={_0:48,_9:57,A:65,F:70,a:97,f:102},H2=e=>{if(e>=ui._0&&e<=ui._9)return e-ui._0;if(e>=ui.A&&e<=ui.F)return e-(ui.A-10);if(e>=ui.a&&e<=ui.f)return e-(ui.a-10)},h8=e=>{const t="hex invalid";if(!u8(e))return jn(t);const n=e.length,r=n/2;if(n%2)return jn(t);const i=n_(r);for(let s=0,o=0;s<r;s++,o+=2){const a=H2(e.charCodeAt(o)),l=H2(e.charCodeAt(o+1));if(a===void 0||l===void 0)return jn(t);i[s]=a*16+l}return i},Pp=(e,t)=>m0(u8(e)?h8(e):Nq(m0(e)),t),jq=()=>globalThis==null?void 0:globalThis.crypto,G2=(...e)=>{const t=n_(e.reduce((r,i)=>r+m0(i).length,0));let n=0;return e.forEach(r=>{t.set(r,n),n+=r.length}),t},Rq=(e=Go)=>jq().getRandomValues(n_(e)),cm=BigInt,yd=(e,t,n,r="bad number: out of range")=>c8(e)&&t<=e&&e<n?e:jn(r),ce=(e,t=Ho)=>{const n=e%t;return n>=0n?n:t+n},Oq=(e,t)=>{(e===0n||t<=0n)&&jn("no inverse n="+e+" mod="+t);let n=ce(e,t),r=t,i=0n,s=1n;for(;n!==0n;){const o=r/n,a=r%n,l=i-s*o;r=n,n=a,i=s,s=l}return r===1n?ce(i,t):jn("no inverse")},q2=e=>e instanceof Ys?e:jn("Point expected"),m8=e=>ce(ce(e*e)*e+l8),K2=e=>yd(e,0n,Ho),Kf=e=>yd(e,1n,Ho),Dq=e=>yd(e,1n,t_),V1=e=>(e&1n)===0n,p8=e=>Uint8Array.of(e),Mq=e=>p8(V1(e)?2:3),Uq=e=>{const t=m8(Kf(e));let n=1n;for(let r=t,i=(Ho+1n)/4n;i>0n;i>>=1n)i&1n&&(n=n*r%Ho),r=r*r%Ho;return ce(n*n)===t?n:jn("sqrt invalid")},Nr=class Nr{constructor(t,n,r){re(this,"px");re(this,"py");re(this,"pz");this.px=K2(t),this.py=Kf(n),this.pz=K2(r),Object.freeze(this)}static fromBytes(t){m0(t);let n;const r=t[0],i=t.subarray(1),s=Y2(i,0,Go),o=t.length;if(o===Go+1&&[2,3].includes(r)){let a=Uq(s);const l=V1(a);V1(cm(r))!==l&&(a=ce(-a)),n=new Nr(s,a,1n)}return o===z1+1&&r===4&&(n=new Nr(s,Y2(i,Go,z1),1n)),n?n.assertValidity():jn("bad point: not on curve")}equals(t){const{px:n,py:r,pz:i}=this,{px:s,py:o,pz:a}=q2(t),l=ce(n*a),c=ce(s*i),u=ce(r*a),d=ce(o*i);return l===c&&u===d}is0(){return this.equals(Ao)}negate(){return new Nr(this.px,ce(-this.py),this.pz)}double(){return this.add(this)}add(t){const{px:n,py:r,pz:i}=this,{px:s,py:o,pz:a}=q2(t),l=0n,c=l8;let u=0n,d=0n,h=0n;const m=ce(c*3n);let x=ce(n*s),y=ce(r*o),_=ce(i*a),p=ce(n+r),b=ce(s+o);p=ce(p*b),b=ce(x+y),p=ce(p-b),b=ce(n+i);let g=ce(s+a);return b=ce(b*g),g=ce(x+_),b=ce(b-g),g=ce(r+i),u=ce(o+a),g=ce(g*u),u=ce(y+_),g=ce(g-u),h=ce(l*b),u=ce(m*_),h=ce(u+h),u=ce(y-h),h=ce(y+h),d=ce(u*h),y=ce(x+x),y=ce(y+x),_=ce(l*_),b=ce(m*b),y=ce(y+_),_=ce(x-_),_=ce(l*_),b=ce(b+_),x=ce(y*b),d=ce(d+x),x=ce(g*b),u=ce(p*u),u=ce(u-x),x=ce(p*y),h=ce(g*h),h=ce(h+x),new Nr(u,d,h)}multiply(t,n=!0){if(!n&&t===0n)return Ao;if(Dq(t),t===1n)return this;if(this.equals(Ps))return qq(t).p;let r=Ao,i=Ps;for(let s=this;t>0n;s=s.double(),t>>=1n)t&1n?r=r.add(s):n&&(i=i.add(s));return r}toAffine(){const{px:t,py:n,pz:r}=this;if(this.equals(Ao))return{x:0n,y:0n};if(r===1n)return{x:t,y:n};const i=Oq(r,Ho);return ce(r*i)!==1n&&jn("inverse invalid"),{x:ce(t*i),y:ce(n*i)}}assertValidity(){const{x:t,y:n}=this.toAffine();return Kf(t),Kf(n),ce(n*n)===m8(t)?this:jn("bad point: not on curve")}toBytes(t=!0){const{x:n,y:r}=this.assertValidity().toAffine(),i=$1(n);return t?G2(Mq(r),i):G2(p8(4),i,$1(r))}static fromAffine(t){const{x:n,y:r}=t;return n===0n&&r===0n?Ao:new Nr(n,r,1n)}toHex(t){return f8(this.toBytes(t))}static fromPrivateKey(t){return Ps.multiply(p0(t))}static fromHex(t){return Nr.fromBytes(Pp(t))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}toRawBytes(t){return this.toBytes(t)}};re(Nr,"BASE"),re(Nr,"ZERO");let Ys=Nr;const Ps=new Ys(kq,Iq,1n),Ao=new Ys(0n,1n,0n);Ys.BASE=Ps;Ys.ZERO=Ao;const r_=e=>cm("0x"+(f8(e)||"0")),Y2=(e,t,n)=>r_(e.subarray(t,n)),Lq=2n**256n,$1=e=>h8(d8(yd(e,0n,Lq),z1)),p0=e=>{const t=c8(e)?e:r_(Pp(e,Go));return yd(t,1n,t_,"private key invalid 3")},Pq=(e,t=!0)=>Ps.multiply(p0(e)).toBytes(t),Fq=(e,t,n=!0)=>Ys.fromBytes(Pp(t)).multiply(p0(e)).toBytes(n),zq=e=>{e=Pp(e),(e.length<Go+8||e.length>1024)&&jn("expected 40-1024b");const t=ce(r_(e),t_-1n);return $1(t+1n)},Vq=()=>zq(Rq(Go+16)),$q={normPrivateKeyToScalar:p0,isValidPrivateKey:e=>{try{return!!p0(e)}catch{return!1}},randomPrivateKey:Vq,precompute:(e=8,t=Ps)=>(t.multiply(3n),t)},um=8,Hq=256,g8=Math.ceil(Hq/um)+1,H1=2**(um-1),Gq=()=>{const e=[];let t=Ps,n=t;for(let r=0;r<g8;r++){n=t,e.push(n);for(let i=1;i<H1;i++)n=n.add(t),e.push(n);t=n.double()}return e};let W2;const Z2=(e,t)=>{const n=t.negate();return e?n:t},qq=e=>{const t=W2||(W2=Gq());let n=Ao,r=Ps;const i=2**um,s=i,o=cm(i-1),a=cm(um);for(let l=0;l<g8;l++){let c=Number(e&o);e>>=a,c>H1&&(c-=s,e+=1n);const u=l*H1,d=u,h=u+Math.abs(c)-1,m=l%2!==0,x=c<0;c===0?r=r.add(Z2(m,t[d])):n=n.add(Z2(x,t[h]))}return{p:n,f:r}};async function y8(e){const n=new TextEncoder().encode(e),r=await mc(n);return new Uint8Array(r).slice(0,12)}async function Ay(){const e=$q.randomPrivateKey(),t=Pq(e);return{privateKey:e,publicKey:t}}async function X2(e,t){return Fq(e,t).slice(0,32)}async function G1(e,t,n){const r=await y8(n),i=a8(t,r),s=n8(e);return i.encrypt(s)}async function J2(e,t,n){const r=await y8(n),s=a8(t,r).decrypt(e);return new TextDecoder().decode(s)}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Kq=4,Q2=0,e6=1,Yq=2;function wc(e){let t=e.length;for(;--t>=0;)e[t]=0}const Wq=0,b8=1,Zq=2,Xq=3,Jq=258,i_=29,bd=256,g0=bd+1+i_,bl=30,s_=19,v8=2*g0+1,Bo=15,Ty=16,Qq=7,o_=256,x8=16,w8=17,S8=18,q1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Yf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),eK=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_8=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tK=512,bi=new Array((g0+2)*2);wc(bi);const ju=new Array(bl*2);wc(ju);const y0=new Array(tK);wc(y0);const b0=new Array(Jq-Xq+1);wc(b0);const a_=new Array(i_);wc(a_);const dm=new Array(bl);wc(dm);function ky(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let E8,C8,A8;function Iy(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const T8=e=>e<256?y0[e]:y0[256+(e>>>7)],v0=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},pn=(e,t,n)=>{e.bi_valid>Ty-n?(e.bi_buf|=t<<e.bi_valid&65535,v0(e,e.bi_buf),e.bi_buf=t>>Ty-e.bi_valid,e.bi_valid+=n-Ty):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Mr=(e,t,n)=>{pn(e,n[t*2],n[t*2+1])},k8=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},nK=e=>{e.bi_valid===16?(v0(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},rK=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,d,h,m,x,y=0;for(h=0;h<=Bo;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<v8;c++)u=e.heap[c],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,y++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,m=0,u>=a&&(m=o[u-a]),x=n[u*2],e.opt_len+=x*(h+m),s&&(e.static_len+=x*(i[u*2+1]+m)));if(y!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,y-=2}while(y>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==h&&(e.opt_len+=(h-n[d*2+1])*n[d*2],n[d*2+1]=h),u--)}},I8=(e,t,n)=>{const r=new Array(Bo+1);let i=0,s,o;for(s=1;s<=Bo;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=k8(r[a]++,a))}},iK=()=>{let e,t,n,r,i;const s=new Array(Bo+1);for(n=0,r=0;r<i_-1;r++)for(a_[r]=n,e=0;e<1<<q1[r];e++)b0[n++]=r;for(b0[n-1]=r,i=0,r=0;r<16;r++)for(dm[r]=i,e=0;e<1<<Yf[r];e++)y0[i++]=r;for(i>>=7;r<bl;r++)for(dm[r]=i<<7,e=0;e<1<<Yf[r]-7;e++)y0[256+i++]=r;for(t=0;t<=Bo;t++)s[t]=0;for(e=0;e<=143;)bi[e*2+1]=8,e++,s[8]++;for(;e<=255;)bi[e*2+1]=9,e++,s[9]++;for(;e<=279;)bi[e*2+1]=7,e++,s[7]++;for(;e<=287;)bi[e*2+1]=8,e++,s[8]++;for(I8(bi,g0+1,s),e=0;e<bl;e++)ju[e*2+1]=5,ju[e*2]=k8(e,5);E8=new ky(bi,q1,bd+1,g0,Bo),C8=new ky(ju,Yf,0,bl,Bo),A8=new ky(new Array(0),eK,0,s_,Qq)},B8=e=>{let t;for(t=0;t<g0;t++)e.dyn_ltree[t*2]=0;for(t=0;t<bl;t++)e.dyn_dtree[t*2]=0;for(t=0;t<s_;t++)e.bl_tree[t*2]=0;e.dyn_ltree[o_*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},N8=e=>{e.bi_valid>8?v0(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},t6=(e,t,n,r)=>{const i=t*2,s=n*2;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},By=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&t6(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!t6(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},n6=(e,t,n)=>{let r,i,s=0,o,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+s++]&255,r+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],r===0?Mr(e,i,t):(o=b0[i],Mr(e,o+bd+1,t),a=q1[o],a!==0&&(i-=a_[o],pn(e,i,a)),r--,o=T8(r),Mr(e,o,n),a=Yf[o],a!==0&&(r-=dm[o],pn(e,r,a)));while(s<e.sym_next);Mr(e,o_,t)},K1=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,a,l=-1,c;for(e.heap_len=0,e.heap_max=v8,o=0;o<s;o++)n[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)By(e,n,o);c=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],By(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,n[c*2]=n[o*2]+n[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,n[o*2+1]=n[a*2+1]=c,e.heap[1]=c++,By(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],rK(e,t),I8(n,l,e.bl_count)},r6=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=t[(r+1)*2+1],!(++a<l&&s===o)&&(a<c?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[x8*2]++):a<=10?e.bl_tree[w8*2]++:e.bl_tree[S8*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},i6=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(s=o,o=t[(r+1)*2+1],!(++a<l&&s===o)){if(a<c)do Mr(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Mr(e,s,e.bl_tree),a--),Mr(e,x8,e.bl_tree),pn(e,a-3,2)):a<=10?(Mr(e,w8,e.bl_tree),pn(e,a-3,3)):(Mr(e,S8,e.bl_tree),pn(e,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},sK=e=>{let t;for(r6(e,e.dyn_ltree,e.l_desc.max_code),r6(e,e.dyn_dtree,e.d_desc.max_code),K1(e,e.bl_desc),t=s_-1;t>=3&&e.bl_tree[_8[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},oK=(e,t,n,r)=>{let i;for(pn(e,t-257,5),pn(e,n-1,5),pn(e,r-4,4),i=0;i<r;i++)pn(e,e.bl_tree[_8[i]*2+1],3);i6(e,e.dyn_ltree,t-1),i6(e,e.dyn_dtree,n-1)},aK=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Q2;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return e6;for(n=32;n<bd;n++)if(e.dyn_ltree[n*2]!==0)return e6;return Q2};let s6=!1;const lK=e=>{s6||(iK(),s6=!0),e.l_desc=new Iy(e.dyn_ltree,E8),e.d_desc=new Iy(e.dyn_dtree,C8),e.bl_desc=new Iy(e.bl_tree,A8),e.bi_buf=0,e.bi_valid=0,B8(e)},j8=(e,t,n,r)=>{pn(e,(Wq<<1)+(r?1:0),3),N8(e),v0(e,n),v0(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},cK=e=>{pn(e,b8<<1,3),Mr(e,o_,bi),nK(e)},uK=(e,t,n,r)=>{let i,s,o=0;e.level>0?(e.strm.data_type===Yq&&(e.strm.data_type=aK(e)),K1(e,e.l_desc),K1(e,e.d_desc),o=sK(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&t!==-1?j8(e,t,n,r):e.strategy===Kq||s===i?(pn(e,(b8<<1)+(r?1:0),3),n6(e,bi,ju)):(pn(e,(Zq<<1)+(r?1:0),3),oK(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),n6(e,e.dyn_ltree,e.dyn_dtree)),B8(e),r&&N8(e)},dK=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(b0[n]+bd+1)*2]++,e.dyn_dtree[T8(t)*2]++),e.sym_next===e.sym_end);var fK=lK,hK=j8,mK=uK,pK=dK,gK=cK,yK={_tr_init:fK,_tr_stored_block:hK,_tr_flush_block:mK,_tr_tally:pK,_tr_align:gK};const bK=(e,t,n,r)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var x0=bK;const vK=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},xK=new Uint32Array(vK()),wK=(e,t,n,r)=>{const i=xK,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var jt=wK,na={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:SK,_tr_stored_block:Y1,_tr_flush_block:_K,_tr_tally:Fs,_tr_align:EK}=yK,{Z_NO_FLUSH:zs,Z_PARTIAL_FLUSH:CK,Z_FULL_FLUSH:AK,Z_FINISH:Kn,Z_BLOCK:o6,Z_OK:Lt,Z_STREAM_END:a6,Z_STREAM_ERROR:Gr,Z_DATA_ERROR:TK,Z_BUF_ERROR:Ny,Z_DEFAULT_COMPRESSION:kK,Z_FILTERED:IK,Z_HUFFMAN_ONLY:df,Z_RLE:BK,Z_FIXED:NK,Z_DEFAULT_STRATEGY:jK,Z_UNKNOWN:RK,Z_DEFLATED:Fp}=vd,OK=9,DK=15,MK=8,UK=29,LK=256,W1=LK+1+UK,PK=30,FK=19,zK=2*W1+1,VK=15,Ie=3,Ts=258,qr=Ts+Ie+1,$K=32,ql=42,l_=57,Z1=69,X1=73,J1=91,Q1=103,No=113,eu=666,sn=1,Sc=2,ra=3,_c=4,HK=3,jo=(e,t)=>(e.msg=na[t],t),l6=e=>e*2-(e>4?9:0),ws=e=>{let t=e.length;for(;--t>=0;)e[t]=0},GK=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let qK=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Vs=qK;const Sn=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Tn=(e,t)=>{_K(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Sn(e.strm)},Re=(e,t)=>{e.pending_buf[e.pending++]=t},Vc=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},ex=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=x0(e.adler,t,i,n):e.state.wrap===2&&(e.adler=jt(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},R8=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,s,o=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-qr?e.strstart-(e.w_size-qr):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+Ts;let m=c[r+o-1],x=c[r+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+o]!==x||c[i+o-1]!==m||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(s=Ts-(h-r),r=h-Ts,s>o){if(e.match_start=t,o=s,s>=a)break;m=c[r+o-1],x=c[r+o]}}while((t=d[t&u])>l&&--n!==0);return o<=e.lookahead?o:e.lookahead},Kl=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-qr)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),GK(e),r+=t),e.strm.avail_in===0)break;if(n=ex(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Ie)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Vs(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Vs(e,e.ins_h,e.window[i+Ie-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Ie)););}while(e.lookahead<qr&&e.strm.avail_in!==0)},O8=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,s,o=0,a=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&t!==Kn||t===zs||r!==i+e.strm.avail_in)))break;o=t===Kn&&r===i+e.strm.avail_in?1:0,Y1(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Sn(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(ex(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?_c:t!==zs&&t!==Kn&&e.strm.avail_in===0&&e.strstart===e.block_start?Sc:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(ex(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=n||(i||t===Kn)&&t!==zs&&e.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=t===Kn&&e.strm.avail_in===0&&r===i?1:0,Y1(e,e.block_start,r,o),e.block_start+=r,Sn(e.strm)),o?ra:sn)},jy=(e,t)=>{let n,r;for(;;){if(e.lookahead<qr){if(Kl(e),e.lookahead<qr&&t===zs)return sn;if(e.lookahead===0)break}if(n=0,e.lookahead>=Ie&&(e.ins_h=Vs(e,e.ins_h,e.window[e.strstart+Ie-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-qr&&(e.match_length=R8(e,n)),e.match_length>=Ie)if(r=Fs(e,e.strstart-e.match_start,e.match_length-Ie),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ie){e.match_length--;do e.strstart++,e.ins_h=Vs(e,e.ins_h,e.window[e.strstart+Ie-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Vs(e,e.ins_h,e.window[e.strstart+1]);else r=Fs(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Tn(e,!1),e.strm.avail_out===0))return sn}return e.insert=e.strstart<Ie-1?e.strstart:Ie-1,t===Kn?(Tn(e,!0),e.strm.avail_out===0?ra:_c):e.sym_next&&(Tn(e,!1),e.strm.avail_out===0)?sn:Sc},Na=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<qr){if(Kl(e),e.lookahead<qr&&t===zs)return sn;if(e.lookahead===0)break}if(n=0,e.lookahead>=Ie&&(e.ins_h=Vs(e,e.ins_h,e.window[e.strstart+Ie-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ie-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-qr&&(e.match_length=R8(e,n),e.match_length<=5&&(e.strategy===IK||e.match_length===Ie&&e.strstart-e.match_start>4096)&&(e.match_length=Ie-1)),e.prev_length>=Ie&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ie,r=Fs(e,e.strstart-1-e.prev_match,e.prev_length-Ie),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Vs(e,e.ins_h,e.window[e.strstart+Ie-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ie-1,e.strstart++,r&&(Tn(e,!1),e.strm.avail_out===0))return sn}else if(e.match_available){if(r=Fs(e,0,e.window[e.strstart-1]),r&&Tn(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return sn}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Fs(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ie-1?e.strstart:Ie-1,t===Kn?(Tn(e,!0),e.strm.avail_out===0?ra:_c):e.sym_next&&(Tn(e,!1),e.strm.avail_out===0)?sn:Sc},KK=(e,t)=>{let n,r,i,s;const o=e.window;for(;;){if(e.lookahead<=Ts){if(Kl(e),e.lookahead<=Ts&&t===zs)return sn;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ie&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=e.strstart+Ts;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);e.match_length=Ts-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ie?(n=Fs(e,1,e.match_length-Ie),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Fs(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Tn(e,!1),e.strm.avail_out===0))return sn}return e.insert=0,t===Kn?(Tn(e,!0),e.strm.avail_out===0?ra:_c):e.sym_next&&(Tn(e,!1),e.strm.avail_out===0)?sn:Sc},YK=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Kl(e),e.lookahead===0)){if(t===zs)return sn;break}if(e.match_length=0,n=Fs(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Tn(e,!1),e.strm.avail_out===0))return sn}return e.insert=0,t===Kn?(Tn(e,!0),e.strm.avail_out===0?ra:_c):e.sym_next&&(Tn(e,!1),e.strm.avail_out===0)?sn:Sc};function Br(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const tu=[new Br(0,0,0,0,O8),new Br(4,4,8,4,jy),new Br(4,5,16,8,jy),new Br(4,6,32,32,jy),new Br(4,4,16,16,Na),new Br(8,16,32,32,Na),new Br(8,16,128,128,Na),new Br(8,32,128,256,Na),new Br(32,128,258,1024,Na),new Br(32,258,258,4096,Na)],WK=e=>{e.window_size=2*e.w_size,ws(e.head),e.max_lazy_match=tu[e.level].max_lazy,e.good_match=tu[e.level].good_length,e.nice_match=tu[e.level].nice_length,e.max_chain_length=tu[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ie-1,e.match_available=0,e.ins_h=0};function ZK(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Fp,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(zK*2),this.dyn_dtree=new Uint16Array((2*PK+1)*2),this.bl_tree=new Uint16Array((2*FK+1)*2),ws(this.dyn_ltree),ws(this.dyn_dtree),ws(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(VK+1),this.heap=new Uint16Array(2*W1+1),ws(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*W1+1),ws(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const xd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==ql&&t.status!==l_&&t.status!==Z1&&t.status!==X1&&t.status!==J1&&t.status!==Q1&&t.status!==No&&t.status!==eu?1:0},D8=e=>{if(xd(e))return jo(e,Gr);e.total_in=e.total_out=0,e.data_type=RK;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?l_:t.wrap?ql:No,e.adler=t.wrap===2?0:1,t.last_flush=-2,SK(t),Lt},M8=e=>{const t=D8(e);return t===Lt&&WK(e.state),t},XK=(e,t)=>xd(e)||e.state.wrap!==2?Gr:(e.state.gzhead=t,Lt),U8=(e,t,n,r,i,s)=>{if(!e)return Gr;let o=1;if(t===kK&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>OK||n!==Fp||r<8||r>15||t<0||t>9||s<0||s>NK||r===8&&o!==1)return jo(e,Gr);r===8&&(r=9);const a=new ZK;return e.state=a,a.strm=e,a.status=ql,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Ie-1)/Ie),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=s,a.method=n,M8(e)},JK=(e,t)=>U8(e,t,Fp,DK,MK,jK),QK=(e,t)=>{if(xd(e)||t>o6||t<0)return e?jo(e,Gr):Gr;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===eu&&t!==Kn)return jo(e,e.avail_out===0?Ny:Gr);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Sn(e),e.avail_out===0)return n.last_flush=-1,Lt}else if(e.avail_in===0&&l6(t)<=l6(r)&&t!==Kn)return jo(e,Ny);if(n.status===eu&&e.avail_in!==0)return jo(e,Ny);if(n.status===ql&&n.wrap===0&&(n.status=No),n.status===ql){let i=Fp+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=df||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=$K),i+=31-i%31,Vc(n,i),n.strstart!==0&&(Vc(n,e.adler>>>16),Vc(n,e.adler&65535)),e.adler=1,n.status=No,Sn(e),n.pending!==0)return n.last_flush=-1,Lt}if(n.status===l_){if(e.adler=0,Re(n,31),Re(n,139),Re(n,8),n.gzhead)Re(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Re(n,n.gzhead.time&255),Re(n,n.gzhead.time>>8&255),Re(n,n.gzhead.time>>16&255),Re(n,n.gzhead.time>>24&255),Re(n,n.level===9?2:n.strategy>=df||n.level<2?4:0),Re(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Re(n,n.gzhead.extra.length&255),Re(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=jt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Z1;else if(Re(n,0),Re(n,0),Re(n,0),Re(n,0),Re(n,0),Re(n,n.level===9?2:n.strategy>=df||n.level<2?4:0),Re(n,HK),n.status=No,Sn(e),n.pending!==0)return n.last_flush=-1,Lt}if(n.status===Z1){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=jt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,Sn(e),n.pending!==0)return n.last_flush=-1,Lt;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(e.adler=jt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=X1}if(n.status===X1){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=jt(e.adler,n.pending_buf,n.pending-i,i)),Sn(e),n.pending!==0)return n.last_flush=-1,Lt;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Re(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=jt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=J1}if(n.status===J1){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=jt(e.adler,n.pending_buf,n.pending-i,i)),Sn(e),n.pending!==0)return n.last_flush=-1,Lt;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Re(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=jt(e.adler,n.pending_buf,n.pending-i,i))}n.status=Q1}if(n.status===Q1){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Sn(e),n.pending!==0))return n.last_flush=-1,Lt;Re(n,e.adler&255),Re(n,e.adler>>8&255),e.adler=0}if(n.status=No,Sn(e),n.pending!==0)return n.last_flush=-1,Lt}if(e.avail_in!==0||n.lookahead!==0||t!==zs&&n.status!==eu){let i=n.level===0?O8(n,t):n.strategy===df?YK(n,t):n.strategy===BK?KK(n,t):tu[n.level].func(n,t);if((i===ra||i===_c)&&(n.status=eu),i===sn||i===ra)return e.avail_out===0&&(n.last_flush=-1),Lt;if(i===Sc&&(t===CK?EK(n):t!==o6&&(Y1(n,0,0,!1),t===AK&&(ws(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Sn(e),e.avail_out===0))return n.last_flush=-1,Lt}return t!==Kn?Lt:n.wrap<=0?a6:(n.wrap===2?(Re(n,e.adler&255),Re(n,e.adler>>8&255),Re(n,e.adler>>16&255),Re(n,e.adler>>24&255),Re(n,e.total_in&255),Re(n,e.total_in>>8&255),Re(n,e.total_in>>16&255),Re(n,e.total_in>>24&255)):(Vc(n,e.adler>>>16),Vc(n,e.adler&65535)),Sn(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Lt:a6)},eY=e=>{if(xd(e))return Gr;const t=e.state.status;return e.state=null,t===No?jo(e,TK):Lt},tY=(e,t)=>{let n=t.length;if(xd(e))return Gr;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==ql||r.lookahead)return Gr;if(i===1&&(e.adler=x0(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(ws(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Kl(r);r.lookahead>=Ie;){let l=r.strstart,c=r.lookahead-(Ie-1);do r.ins_h=Vs(r,r.ins_h,r.window[l+Ie-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=Ie-1,Kl(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Ie-1,r.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,r.wrap=i,Lt};var nY=JK,rY=U8,iY=M8,sY=D8,oY=XK,aY=QK,lY=eY,cY=tY,uY="pako deflate (from Nodeca project)",Ru={deflateInit:nY,deflateInit2:rY,deflateReset:iY,deflateResetKeep:sY,deflateSetHeader:oY,deflate:aY,deflateEnd:lY,deflateSetDictionary:cY,deflateInfo:uY};const dY=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var fY=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)dY(n,r)&&(e[r]=n[r])}}return e},hY=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let o=e[r];n.set(o,i),i+=o.length}return n},zp={assign:fY,flattenChunks:hY};let L8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{L8=!1}const w0=new Uint8Array(256);for(let e=0;e<256;e++)w0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;w0[254]=w0[254]=1;var mY=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,o=e.length,a=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const pY=(e,t)=>{if(t<65534&&e.subarray&&L8)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var gY=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){s[i++]=o;continue}let a=w0[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|e[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return pY(s,i)},yY=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+w0[e[n]]>t?n:t},S0={string2buf:mY,buf2string:gY,utf8border:yY};function bY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var P8=bY;const F8=Object.prototype.toString,{Z_NO_FLUSH:vY,Z_SYNC_FLUSH:xY,Z_FULL_FLUSH:wY,Z_FINISH:SY,Z_OK:fm,Z_STREAM_END:_Y,Z_DEFAULT_COMPRESSION:EY,Z_DEFAULT_STRATEGY:CY,Z_DEFLATED:AY}=vd;function wd(e){this.options=zp.assign({level:EY,method:AY,chunkSize:16384,windowBits:15,memLevel:8,strategy:CY},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P8,this.strm.avail_out=0;let n=Ru.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==fm)throw new Error(na[n]);if(t.header&&Ru.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=S0.string2buf(t.dictionary):F8.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Ru.deflateSetDictionary(this.strm,r),n!==fm)throw new Error(na[n]);this._dict_set=!0}}wd.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?SY:vY,typeof e=="string"?n.input=S0.string2buf(e):F8.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===xY||s===wY)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Ru.deflate(n,s),i===_Y)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Ru.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===fm;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};wd.prototype.onData=function(e){this.chunks.push(e)};wd.prototype.onEnd=function(e){e===fm&&(this.result=zp.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function c_(e,t){const n=new wd(t);if(n.push(e,!0),n.err)throw n.msg||na[n.err];return n.result}function TY(e,t){return t=t||{},t.raw=!0,c_(e,t)}function kY(e,t){return t=t||{},t.gzip=!0,c_(e,t)}var IY=wd,BY=c_,NY=TY,jY=kY,RY={Deflate:IY,deflate:BY,deflateRaw:NY,gzip:jY};const ff=16209,OY=16191;var DY=function(t,n){let r,i,s,o,a,l,c,u,d,h,m,x,y,_,p,b,g,E,C,N,k,j,D,M;const H=t.state;r=t.next_in,D=t.input,i=r+(t.avail_in-5),s=t.next_out,M=t.output,o=s-(n-t.avail_out),a=s+(t.avail_out-257),l=H.dmax,c=H.wsize,u=H.whave,d=H.wnext,h=H.window,m=H.hold,x=H.bits,y=H.lencode,_=H.distcode,p=(1<<H.lenbits)-1,b=(1<<H.distbits)-1;e:do{x<15&&(m+=D[r++]<<x,x+=8,m+=D[r++]<<x,x+=8),g=y[m&p];t:for(;;){if(E=g>>>24,m>>>=E,x-=E,E=g>>>16&255,E===0)M[s++]=g&65535;else if(E&16){C=g&65535,E&=15,E&&(x<E&&(m+=D[r++]<<x,x+=8),C+=m&(1<<E)-1,m>>>=E,x-=E),x<15&&(m+=D[r++]<<x,x+=8,m+=D[r++]<<x,x+=8),g=_[m&b];n:for(;;){if(E=g>>>24,m>>>=E,x-=E,E=g>>>16&255,E&16){if(N=g&65535,E&=15,x<E&&(m+=D[r++]<<x,x+=8,x<E&&(m+=D[r++]<<x,x+=8)),N+=m&(1<<E)-1,N>l){t.msg="invalid distance too far back",H.mode=ff;break e}if(m>>>=E,x-=E,E=s-o,N>E){if(E=N-E,E>u&&H.sane){t.msg="invalid distance too far back",H.mode=ff;break e}if(k=0,j=h,d===0){if(k+=c-E,E<C){C-=E;do M[s++]=h[k++];while(--E);k=s-N,j=M}}else if(d<E){if(k+=c+d-E,E-=d,E<C){C-=E;do M[s++]=h[k++];while(--E);if(k=0,d<C){E=d,C-=E;do M[s++]=h[k++];while(--E);k=s-N,j=M}}}else if(k+=d-E,E<C){C-=E;do M[s++]=h[k++];while(--E);k=s-N,j=M}for(;C>2;)M[s++]=j[k++],M[s++]=j[k++],M[s++]=j[k++],C-=3;C&&(M[s++]=j[k++],C>1&&(M[s++]=j[k++]))}else{k=s-N;do M[s++]=M[k++],M[s++]=M[k++],M[s++]=M[k++],C-=3;while(C>2);C&&(M[s++]=M[k++],C>1&&(M[s++]=M[k++]))}}else if(E&64){t.msg="invalid distance code",H.mode=ff;break e}else{g=_[(g&65535)+(m&(1<<E)-1)];continue n}break}}else if(E&64)if(E&32){H.mode=OY;break e}else{t.msg="invalid literal/length code",H.mode=ff;break e}else{g=y[(g&65535)+(m&(1<<E)-1)];continue t}break}}while(r<i&&s<a);C=x>>3,r-=C,x-=C<<3,m&=(1<<x)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<a?257+(a-s):257-(s-a),H.hold=m,H.bits=x};const ja=15,c6=852,u6=592,d6=0,Ry=1,f6=2,MY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),UY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),PY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),FY=(e,t,n,r,i,s,o,a)=>{const l=a.bits;let c=0,u=0,d=0,h=0,m=0,x=0,y=0,_=0,p=0,b=0,g,E,C,N,k,j=null,D;const M=new Uint16Array(ja+1),H=new Uint16Array(ja+1);let Q=null,G,F,V;for(c=0;c<=ja;c++)M[c]=0;for(u=0;u<r;u++)M[t[n+u]]++;for(m=l,h=ja;h>=1&&M[h]===0;h--);if(m>h&&(m=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<h&&M[d]===0;d++);for(m<d&&(m=d),_=1,c=1;c<=ja;c++)if(_<<=1,_-=M[c],_<0)return-1;if(_>0&&(e===d6||h!==1))return-1;for(H[1]=0,c=1;c<ja;c++)H[c+1]=H[c]+M[c];for(u=0;u<r;u++)t[n+u]!==0&&(o[H[t[n+u]]++]=u);if(e===d6?(j=Q=o,D=20):e===Ry?(j=MY,Q=UY,D=257):(j=LY,Q=PY,D=0),b=0,u=0,c=d,k=s,x=m,y=0,C=-1,p=1<<m,N=p-1,e===Ry&&p>c6||e===f6&&p>u6)return 1;for(;;){G=c-y,o[u]+1<D?(F=0,V=o[u]):o[u]>=D?(F=Q[o[u]-D],V=j[o[u]-D]):(F=96,V=0),g=1<<c-y,E=1<<x,d=E;do E-=g,i[k+(b>>y)+E]=G<<24|F<<16|V|0;while(E!==0);for(g=1<<c-1;b&g;)g>>=1;if(g!==0?(b&=g-1,b+=g):b=0,u++,--M[c]===0){if(c===h)break;c=t[n+o[u]]}if(c>m&&(b&N)!==C){for(y===0&&(y=m),k+=d,x=c-y,_=1<<x;x+y<h&&(_-=M[x+y],!(_<=0));)x++,_<<=1;if(p+=1<<x,e===Ry&&p>c6||e===f6&&p>u6)return 1;C=b&N,i[C]=m<<24|x<<16|k-s|0}}return b!==0&&(i[k+b]=c-y<<24|64<<16|0),a.bits=m,0};var Ou=FY;const zY=0,z8=1,V8=2,{Z_FINISH:h6,Z_BLOCK:VY,Z_TREES:hf,Z_OK:ia,Z_STREAM_END:$Y,Z_NEED_DICT:HY,Z_STREAM_ERROR:er,Z_DATA_ERROR:$8,Z_MEM_ERROR:H8,Z_BUF_ERROR:GY,Z_DEFLATED:m6}=vd,Vp=16180,p6=16181,g6=16182,y6=16183,b6=16184,v6=16185,x6=16186,w6=16187,S6=16188,_6=16189,hm=16190,di=16191,Oy=16192,E6=16193,Dy=16194,C6=16195,A6=16196,T6=16197,k6=16198,mf=16199,pf=16200,I6=16201,B6=16202,N6=16203,j6=16204,R6=16205,My=16206,O6=16207,D6=16208,tt=16209,G8=16210,q8=16211,qY=852,KY=592,YY=15,WY=YY,M6=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function ZY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ba=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Vp||t.mode>q8?1:0},K8=e=>{if(ba(e))return er;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Vp,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(qY),t.distcode=t.distdyn=new Int32Array(KY),t.sane=1,t.back=-1,ia},Y8=e=>{if(ba(e))return er;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,K8(e)},W8=(e,t)=>{let n;if(ba(e))return er;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?er:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Y8(e))},Z8=(e,t)=>{if(!e)return er;const n=new ZY;e.state=n,n.strm=e,n.window=null,n.mode=Vp;const r=W8(e,t);return r!==ia&&(e.state=null),r},XY=e=>Z8(e,WY);let U6=!0,Uy,Ly;const JY=e=>{if(U6){Uy=new Int32Array(512),Ly=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ou(z8,e.lens,0,288,Uy,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ou(V8,e.lens,0,32,Ly,0,e.work,{bits:5}),U6=!1}e.lencode=Uy,e.lenbits=9,e.distcode=Ly,e.distbits=5},X8=(e,t,n,r)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},QY=(e,t)=>{let n,r,i,s,o,a,l,c,u,d,h,m,x,y,_=0,p,b,g,E,C,N,k,j;const D=new Uint8Array(4);let M,H;const Q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ba(e)||!e.output||!e.input&&e.avail_in!==0)return er;n=e.state,n.mode===di&&(n.mode=Oy),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,h=l,j=ia;e:for(;;)switch(n.mode){case Vp:if(n.wrap===0){n.mode=Oy;break}for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,D[0]=c&255,D[1]=c>>>8&255,n.check=jt(n.check,D,2,0),c=0,u=0,n.mode=p6;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=tt;break}if((c&15)!==m6){e.msg="unknown compression method",n.mode=tt;break}if(c>>>=4,u-=4,k=(c&15)+8,n.wbits===0&&(n.wbits=k),k>15||k>n.wbits){e.msg="invalid window size",n.mode=tt;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?_6:di,c=0,u=0;break;case p6:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==m6){e.msg="unknown compression method",n.mode=tt;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=tt;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=jt(n.check,D,2,0)),c=0,u=0,n.mode=g6;case g6:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,D[2]=c>>>16&255,D[3]=c>>>24&255,n.check=jt(n.check,D,4,0)),c=0,u=0,n.mode=y6;case y6:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=jt(n.check,D,2,0)),c=0,u=0,n.mode=b6;case b6:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(D[0]=c&255,D[1]=c>>>8&255,n.check=jt(n.check,D,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=v6;case v6:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+m),k)),n.flags&512&&n.wrap&4&&(n.check=jt(n.check,r,m,s)),a-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=x6;case x6:if(n.flags&2048){if(a===0)break e;m=0;do k=r[s+m++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k));while(k&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=jt(n.check,r,m,s)),a-=m,s+=m,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=w6;case w6:if(n.flags&4096){if(a===0)break e;m=0;do k=r[s+m++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k));while(k&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=jt(n.check,r,m,s)),a-=m,s+=m,k)break e}else n.head&&(n.head.comment=null);n.mode=S6;case S6:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=tt;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=di;break;case _6:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}e.adler=n.check=M6(c),c=0,u=0,n.mode=hm;case hm:if(n.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,HY;e.adler=n.check=1,n.mode=di;case di:if(t===VY||t===hf)break e;case Oy:if(n.last){c>>>=u&7,u-=u&7,n.mode=My;break}for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=E6;break;case 1:if(JY(n),n.mode=mf,t===hf){c>>>=2,u-=2;break e}break;case 2:n.mode=A6;break;case 3:e.msg="invalid block type",n.mode=tt}c>>>=2,u-=2;break;case E6:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=tt;break}if(n.length=c&65535,c=0,u=0,n.mode=Dy,t===hf)break e;case Dy:n.mode=C6;case C6:if(m=n.length,m){if(m>a&&(m=a),m>l&&(m=l),m===0)break e;i.set(r.subarray(s,s+m),o),a-=m,s+=m,l-=m,o+=m,n.length-=m;break}n.mode=di;break;case A6:for(;u<14;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=tt;break}n.have=0,n.mode=T6;case T6:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.lens[Q[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[Q[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},j=Ou(zY,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,j){e.msg="invalid code lengths set",n.mode=tt;break}n.have=0,n.mode=k6;case k6:for(;n.have<n.nlen+n.ndist;){for(;_=n.lencode[c&(1<<n.lenbits)-1],p=_>>>24,b=_>>>16&255,g=_&65535,!(p<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(g<16)c>>>=p,u-=p,n.lens[n.have++]=g;else{if(g===16){for(H=p+2;u<H;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(c>>>=p,u-=p,n.have===0){e.msg="invalid bit length repeat",n.mode=tt;break}k=n.lens[n.have-1],m=3+(c&3),c>>>=2,u-=2}else if(g===17){for(H=p+3;u<H;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=p,u-=p,k=0,m=3+(c&7),c>>>=3,u-=3}else{for(H=p+7;u<H;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=p,u-=p,k=0,m=11+(c&127),c>>>=7,u-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=tt;break}for(;m--;)n.lens[n.have++]=k}}if(n.mode===tt)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=tt;break}if(n.lenbits=9,M={bits:n.lenbits},j=Ou(z8,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,j){e.msg="invalid literal/lengths set",n.mode=tt;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},j=Ou(V8,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,j){e.msg="invalid distances set",n.mode=tt;break}if(n.mode=mf,t===hf)break e;case mf:n.mode=pf;case pf:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,DY(e,h),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===di&&(n.back=-1);break}for(n.back=0;_=n.lencode[c&(1<<n.lenbits)-1],p=_>>>24,b=_>>>16&255,g=_&65535,!(p<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(b&&!(b&240)){for(E=p,C=b,N=g;_=n.lencode[N+((c&(1<<E+C)-1)>>E)],p=_>>>24,b=_>>>16&255,g=_&65535,!(E+p<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=E,u-=E,n.back+=E}if(c>>>=p,u-=p,n.back+=p,n.length=g,b===0){n.mode=R6;break}if(b&32){n.back=-1,n.mode=di;break}if(b&64){e.msg="invalid literal/length code",n.mode=tt;break}n.extra=b&15,n.mode=I6;case I6:if(n.extra){for(H=n.extra;u<H;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=B6;case B6:for(;_=n.distcode[c&(1<<n.distbits)-1],p=_>>>24,b=_>>>16&255,g=_&65535,!(p<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(!(b&240)){for(E=p,C=b,N=g;_=n.distcode[N+((c&(1<<E+C)-1)>>E)],p=_>>>24,b=_>>>16&255,g=_&65535,!(E+p<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=E,u-=E,n.back+=E}if(c>>>=p,u-=p,n.back+=p,b&64){e.msg="invalid distance code",n.mode=tt;break}n.offset=g,n.extra=b&15,n.mode=N6;case N6:if(n.extra){for(H=n.extra;u<H;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=tt;break}n.mode=j6;case j6:if(l===0)break e;if(m=h-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=tt;break}m>n.wnext?(m-=n.wnext,x=n.wsize-m):x=n.wnext-m,m>n.length&&(m=n.length),y=n.window}else y=i,x=o-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do i[o++]=y[x++];while(--m);n.length===0&&(n.mode=pf);break;case R6:if(l===0)break e;i[o++]=n.length,l--,n.mode=pf;break;case My:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[s++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?jt(n.check,i,h,o-h):x0(n.check,i,h,o-h)),h=l,n.wrap&4&&(n.flags?c:M6(c))!==n.check){e.msg="incorrect data check",n.mode=tt;break}c=0,u=0}n.mode=O6;case O6:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=tt;break}c=0,u=0}n.mode=D6;case D6:j=$Y;break e;case tt:j=$8;break e;case G8:return H8;case q8:default:return er}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<tt&&(n.mode<My||t!==h6))&&X8(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?jt(n.check,i,h,e.next_out-h):x0(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===di?128:0)+(n.mode===mf||n.mode===Dy?256:0),(d===0&&h===0||t===h6)&&j===ia&&(j=GY),j},eW=e=>{if(ba(e))return er;let t=e.state;return t.window&&(t.window=null),e.state=null,ia},tW=(e,t)=>{if(ba(e))return er;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,ia):er},nW=(e,t)=>{const n=t.length;let r,i,s;return ba(e)||(r=e.state,r.wrap!==0&&r.mode!==hm)?er:r.mode===hm&&(i=1,i=x0(i,t,n,0),i!==r.check)?$8:(s=X8(e,t,n,n),s?(r.mode=G8,H8):(r.havedict=1,ia))};var rW=Y8,iW=W8,sW=K8,oW=XY,aW=Z8,lW=QY,cW=eW,uW=tW,dW=nW,fW="pako inflate (from Nodeca project)",vi={inflateReset:rW,inflateReset2:iW,inflateResetKeep:sW,inflateInit:oW,inflateInit2:aW,inflate:lW,inflateEnd:cW,inflateGetHeader:uW,inflateSetDictionary:dW,inflateInfo:fW};function hW(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mW=hW;const J8=Object.prototype.toString,{Z_NO_FLUSH:pW,Z_FINISH:gW,Z_OK:_0,Z_STREAM_END:Py,Z_NEED_DICT:Fy,Z_STREAM_ERROR:yW,Z_DATA_ERROR:L6,Z_MEM_ERROR:bW}=vd;function Sd(e){this.options=zp.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P8,this.strm.avail_out=0;let n=vi.inflateInit2(this.strm,t.windowBits);if(n!==_0)throw new Error(na[n]);if(this.header=new mW,vi.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=S0.string2buf(t.dictionary):J8.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=vi.inflateSetDictionary(this.strm,t.dictionary),n!==_0)))throw new Error(na[n])}Sd.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?gW:pW,J8.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=vi.inflate(n,o),s===Fy&&i&&(s=vi.inflateSetDictionary(n,i),s===_0?s=vi.inflate(n,o):s===L6&&(s=Fy));n.avail_in>0&&s===Py&&n.state.wrap>0&&e[n.next_in]!==0;)vi.inflateReset(n),s=vi.inflate(n,o);switch(s){case yW:case L6:case Fy:case bW:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===Py))if(this.options.to==="string"){let l=S0.utf8border(n.output,n.next_out),c=n.next_out-l,u=S0.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===_0&&a===0)){if(s===Py)return s=vi.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Sd.prototype.onData=function(e){this.chunks.push(e)};Sd.prototype.onEnd=function(e){e===_0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=zp.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function u_(e,t){const n=new Sd(t);if(n.push(e),n.err)throw n.msg||na[n.err];return n.result}function vW(e,t){return t=t||{},t.raw=!0,u_(e,t)}var xW=Sd,wW=u_,SW=vW,_W=u_,EW={Inflate:xW,inflate:wW,inflateRaw:SW,ungzip:_W};const{Deflate:CW,deflate:AW,deflateRaw:TW,gzip:kW}=RY,{Inflate:IW,inflate:BW,inflateRaw:NW,ungzip:jW}=EW;var RW=CW,Q8=AW,OW=TW,DW=kW,MW=IW,tx=BW,UW=NW,LW=jW,PW=vd,Dre={Deflate:RW,deflate:Q8,deflateRaw:OW,gzip:DW,Inflate:MW,inflate:tx,inflateRaw:UW,ungzip:LW,constants:PW};const FW=h0("bridge"),P6=32*1024,zy=1024*16,zW=50;function F6(e,t){const n=JS(16);return{jsonrpc:"2.0",id:Array.from(n).map(i=>i.toString(16).padStart(2,"0")).join(""),method:e,params:t}}async function VW(e,t,n,r){const i=[];if(t){const s=Buffer.from(Q8(JSON.stringify(t))).toString("base64"),o=Math.ceil(s.length/zy),a=Array.from(JS(16)).map(l=>l.toString(16).padStart(2,"0")).join("");for(let l=0;l<o;l++){const c=l*zy,u=Math.min(c+zy,s.length),d=s.slice(c,u),h=JSON.stringify({method:e,params:d,chunk:{id:a,index:l,length:o}}),m=await G1(h,n,r),x=F6("encryptedMessage",{payload:Buffer.from(m).toString("base64")});i.push(JSON.stringify(x))}}else{const s=JSON.stringify({method:e,params:t||{}}),o=await G1(s,n,r),a=F6("encryptedMessage",{payload:Buffer.from(o).toString("base64")});i.push(JSON.stringify(a))}return i}async function z6(e,t,n,r,i){try{const s=await VW(e,t,n,r);for(const o of s){if(o.length>P6)throw new Error(`Payload exceeds max size of ${P6} bytes`);i.send(o),await new Promise(a=>setTimeout(a,zW))}return!0}catch(s){return FW("Error sending encrypted message:",s),!1}}async function gf(e,t){if(typeof window<"u"&&window.WebSocket)return new WebSocket(e);try{const n=await Yt(()=>import("./browser-BBRaUI_-.js").then(i=>i.b),[]).catch(()=>{try{return{default:require("ws")}}catch{throw new Error("WebSocket implementation 'ws' not found. Please install it with: npm install ws")}}),r=n.default||n.WebSocket||n;return new r(e,{headers:{Origin:t||"nodejs"}})}catch(n){throw console.error("Failed to create WebSocket client:",n),new Error("WebSocket implementation 'ws' not found. Please install it with: npm install ws")}}const $W=10;var _e;(function(e){e.Connected="connected",e.SecureChannelEstablished="secure-channel-established",e.MessageReceived="message-received",e.ChunkRecieved="chunk-received",e.Error="error",e.Disconnected="disconnected"})(_e||(_e={}));class V6{constructor(t){re(this,"log");re(this,"role");re(this,"origin");re(this,"_bridgeOrigin");re(this,"bridgeId");re(this,"keyPair");re(this,"remotePublicKey");re(this,"sharedSecret");re(this,"websocket");re(this,"secureChannelEstablished",!1);re(this,"intentionalClose",!1);re(this,"keepalive");re(this,"reconnect");re(this,"reconnectAttempts",0);re(this,"maxReconnectAttempts");re(this,"reconnectTimer");re(this,"pingTimer");re(this,"pingInterval",3e4);re(this,"isReconnecting",!1);re(this,"isConnected",!1);re(this,"resumedSession",!1);re(this,"bridgeUrl");re(this,"eventListeners");re(this,"incompleteMessages",new Map);this.role=t.role,this.origin=t.origin,this._bridgeOrigin=t.domain,this.log=h0(`bridge:${this.role}`),this.bridgeId=t.bridgeId||Buffer.from(JS(16)).toString("hex"),this.keyPair=t.keyPair,this.reconnect=t.reconnect??!0,this.keepalive=t.keepalive??!0,this.maxReconnectAttempts=t.reconnectAttempts||$W,this.pingInterval=t.pingInterval||3e4,this.bridgeUrl=t.bridgeUrl??"wss://bridge.zkpassport.id",this.eventListeners={[_e.Connected]:[],[_e.SecureChannelEstablished]:[],[_e.MessageReceived]:[],[_e.ChunkRecieved]:[],[_e.Error]:[],[_e.Disconnected]:[]}}resume(){this.log("Resuming bridge session"),this.secureChannelEstablished=!0,this.resumedSession=!0}on(t,n){return this.eventListeners[t].push(n),()=>this.off(t,n)}off(t,n){const r=this.eventListeners[t].indexOf(n);r!==-1&&this.eventListeners[t].splice(r,1)}async emit(t,...n){await Promise.all(this.eventListeners[t].map(async r=>{try{await r(...n)}catch(i){this.log(`Error in ${t} listener:`,i)}}))}setupWebSocketHandlers(t){t.onopen=async()=>{this.isConnected=!0,this.pingTimer&&clearInterval(this.pingTimer),this.pingTimer=setInterval(()=>{this.websocket&&this.websocket.send(JSON.stringify({method:"ping",params:{}}))},this.pingInterval),this.isReconnecting?(this.log("Reconnected to bridge"),this.resetReconnection(),await this.emit(_e.Connected,!0)):(this.log("Connected to bridge"),await this.emit(_e.Connected,!1),this.resumedSession&&(this.log("Resumed session, emitting secure channel established event"),await this.emit(_e.SecureChannelEstablished)))},t.onmessage=async n=>{try{const r=JSON.parse(n.data);await this.handleWebSocketMessage(r)}catch(r){this.log("Error parsing message:",r),await this.emit(_e.Error,`Error parsing message: ${r}`)}},t.onerror=async n=>{this.log("WebSocket Error:",n),await this.emit(_e.Error,`WebSocket error: ${n}`),this.reconnect&&!this.isConnected&&await this.handleReconnect()},t.onclose=async()=>{if(this.pingTimer&&clearInterval(this.pingTimer),!!this.isConnected){if(this.isConnected=!1,this.log("WebSocket closed"),await this.emit(_e.Disconnected),this.intentionalClose){this.log("Intentional close, not attempting to reconnect");return}this.reconnect&&await this.handleReconnect()}}}async handleWebSocketMessage(t){var n;if(this.role==="creator"&&t.method==="handshake"&&(this.log("Processing handshake message"),await this.handleHandshake(t)),t.method==="ping"&&(this.log("Received ping message, responding with pong"),(n=this.websocket)==null||n.send(JSON.stringify({method:"pong",params:{}}))),t.method==="encryptedMessage"){if(this.log("Processing encrypted message"),this.role==="joiner"&&this._bridgeOrigin){const r=t.origin?HW(t.origin):void 0;if(r!==this._bridgeOrigin){this.log(`WARNING: Origin differs from origin in connection string. Expected ${this._bridgeOrigin} but got ${r}`),this.log("Ignoring received message:",t),this.emit(_e.Error,`Origin ${r} does not match expected origin ${this._bridgeOrigin}`);return}}await this.handleEncryptedMessage(t)}}async handleHandshake(t){var n;this.log("Received handshake:",t);try{const r=new Uint8Array(Buffer.from(t.params.pubkey,"hex"));if(this.secureChannelEstablished&&this.remotePublicKey!==r){this.log("Secure channel already established, ignoring handshake"),this.emit(_e.Error,"Secure channel already established, ignoring handshake"),(n=this.websocket)==null||n.send(JSON.stringify({method:"error",params:{message:"Secure channel already established, ignoring handshake"}}));return}if(this.remotePublicKey=r,this.sharedSecret=await X2(this.keyPair.privateKey,r),await J2(Buffer.from(t.params.greeting,"hex"),this.sharedSecret,this.bridgeId)!=="hello")throw new Error("Invalid greeting");this.websocket&&await z6("hello",null,this.sharedSecret,this.bridgeId,this.websocket),this.secureChannelEstablished?this.log("Secure channel already established, sending handshake message again"):(this.secureChannelEstablished=!0,await this.emit(_e.SecureChannelEstablished))}catch(r){this.log("Error handling handshake:",r),await this.emit(_e.Error,`Error handling handshake: ${r}`)}}async handleEncryptedMessage(t){try{if(!this.sharedSecret)throw new Error("Shared secret not available");const n=new Uint8Array(Buffer.from(t.params.payload,"base64")),r=await J2(n,this.sharedSecret,this.bridgeId),i=JSON.parse(r);if(!i.chunk||i.chunk.length==1)if(i.method==="hello"&&!this.secureChannelEstablished)this.log(`Verified origin: ${t.origin}`),this.secureChannelEstablished=!0,await this.emit(_e.SecureChannelEstablished);else{try{if(i.params&&i.params.length>0){this.log("Received compressed single-part message");const s=Buffer.from(i.params,"base64"),o=tx(s),a=new TextDecoder().decode(o);i.params=JSON.parse(a),delete i.chunk}}catch(s){if(s!=="incorrect header check")throw console.error("Some error happened data:",s),new Error("Failed to parse data: ");this.log("Received uncompressed single-part message");try{i.params=JSON.parse(i.params)}catch{this.log("No JSON parsing needed")}}await this.emit(_e.MessageReceived,i)}else{const{index:s,length:o,id:a}=i.chunk;this.log(`Received chunk (${s+1}/${o}) for chunk id ${a}`),this.incompleteMessages.has(a)||this.incompleteMessages.set(a,{chunks:new Array(o),expectedChunks:o,timestamp:Date.now()});const l=this.incompleteMessages.get(a);if(l.expectedChunks!==o)throw this.log(`Chunk count mismatch for id ${a}. Expected ${l.expectedChunks}, got ${o}`),new Error(`Chunk count mismatch for id ${a}. Expected ${l.expectedChunks}, got ${o}`);if(l.chunks[s]=i.params,await this.emit(_e.ChunkRecieved,i.chunk),(()=>{for(let u=0;u<l.chunks.length;u++)if(l.chunks[u]===void 0)return!1;return!0})()){const u=l.chunks.join(""),d=Buffer.from(u,"base64"),h=tx(d),m=new TextDecoder().decode(h),x=JSON.parse(m);this.log(`Received all chunks for chunk id ${a}, reconstructing message`);const y={method:i.method,params:x};this.incompleteMessages.delete(a),await this.emit(_e.MessageReceived,y)}}}catch(n){this.log("Error decrypting message:",n),await this.emit(_e.Error,`Error decrypting message: ${n}`)}}async handleReconnect(){if(this.reconnectAttempts++,this.reconnectAttempts>this.maxReconnectAttempts){this.log(`WebSocket disconnected, max reconnection attempts (${this.maxReconnectAttempts}) reached`),this.resetReconnection();return}this.isReconnecting=!0,this.log(`WebSocket disconnected, attempting reconnect ${this.reconnectAttempts}/${this.maxReconnectAttempts}`);let t=0;this.reconnectAttempts>1&&(t=1e3*Math.pow(2,this.reconnectAttempts-2),this.log(`Waiting ${t}ms before reconnecting...`)),this.reconnectTimer=setTimeout(async()=>{try{const n=await this._getWsConnectionUrl();this.websocket=await(this.origin?gf(n,this.origin):gf(n)),this.setupWebSocketHandlers(this.websocket)}catch(n){this.log("Reconnection failed:",n),await this.handleReconnect()}},t)}resetReconnection(){this.log("Resetting reconnection state"),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0),this.reconnectAttempts=0,this.isReconnecting=!1}isBridgeConnected(){return this.websocket?this.websocket.readyState===WebSocket.OPEN:!1}isSecureChannelEstablished(){return this.secureChannelEstablished}async sendSecureMessage(t,n={}){return!this.isConnected||!this.secureChannelEstablished?(await this.emit(_e.Error,"Cannot send message: Secure channel not established"),!1):z6(t,n,this.sharedSecret,this.bridgeId,this.websocket)}onConnect(t){return this.on(_e.Connected,t)}onSecureChannelEstablished(t){return this.on(_e.SecureChannelEstablished,t)}onSecureMessage(t){return this.on(_e.MessageReceived,t)}onError(t){return this.on(_e.Error,t)}onDisconnect(t){return this.on(_e.Disconnected,t)}setRemotePublicKey(t){this.remotePublicKey=t}async computeSharedSecret(){if(!this.remotePublicKey)throw new Error("Remote public key not set");this.sharedSecret=await X2(this.keyPair.privateKey,this.remotePublicKey)}async createEncryptedGreeting(){if(!this.sharedSecret)throw new Error("Shared secret not available");const t=await G1("hello",this.sharedSecret,this.bridgeId);return Buffer.from(t).toString("hex")}async _getWsConnectionUrl(){if(this.role==="creator")return`${this.bridgeUrl}?topic=${this.getBridgeId()}`;if(this.isSecureChannelEstablished())return`${this.bridgeUrl}?topic=${this.getBridgeId()}`;{const t=await this.createEncryptedGreeting();return`${this.bridgeUrl}?topic=${this.getBridgeId()}&pubkey=${this.getPublicKey()}&greeting=${t}`}}getPublicKey(){return om(this.keyPair.publicKey)}getRemotePublicKey(){if(!this.remotePublicKey)throw new Error("Remote public key not set");return om(this.remotePublicKey)}getBridgeId(){return this.bridgeId}getWebSocket(){return this.websocket}get bridgeOrigin(){return this.role==="creator"?this.origin:this._bridgeOrigin}get connectionString(){return this.role==="creator"?`obsidion:${this.getPublicKey()}?d=${this.bridgeOrigin}`:`obsidion:${this.getBridgeId()}?d=${this.bridgeOrigin}`}async connect(t){try{this.log("Connecting to bridge",t);const n=await(this.origin?gf(t,this.origin):gf(t));this.websocket=n,this.setupWebSocketHandlers(n)}catch(n){throw this.log("Error connecting to bridge:",n),await this.emit(_e.Error,`Error connecting to bridge: ${n}`),n}}close(){this.log("Closing the bridge"),this.intentionalClose=!0,this.websocket&&(this.websocket.close(1e3,"Connection closed by user"),this.websocket.onopen=null,this.websocket.onmessage=null,this.websocket.onerror=null,this.websocket.onclose=null),this.emit(_e.Disconnected),this.websocket=void 0,this.secureChannelEstablished=!1,this.sharedSecret=void 0,this.remotePublicKey=void 0,this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0,this.pingTimer&&clearInterval(this.pingTimer),this.pingTimer=void 0,this.eventListeners={[_e.Connected]:[],[_e.SecureChannelEstablished]:[],[_e.MessageReceived]:[],[_e.ChunkRecieved]:[],[_e.Error]:[],[_e.Disconnected]:[]}}}function HW(e){try{const t=new URL(e);return`${t.protocol}//${t.host.split(":")[0]}`}catch{return e}}class d_{static async create(t={}){var a,l;t.debug&&h0.enable("bridge*");const n=t.autoconnect??!0;if(t.origin&&typeof window<"u")throw new Error("Origin can't be specified when running in browser");!t.origin&&typeof window>"u"&&(t.origin="nodejs");const r=t.origin||((a=window==null?void 0:window.location)==null?void 0:a.protocol)+"//"+((l=window==null?void 0:window.location)==null?void 0:l.hostname);if(t.remotePublicKey&&!t.resume)throw new Error("Can only provide remotePublicKey when resuming a bridge session");if(t.resume&&(!t.keyPair||!t.remotePublicKey))throw new Error("Resuming a bridge session requires a keyPair and remotePublicKey");const i=t.keyPair||await Ay(),s=om(i.publicKey),o=new V6({role:"creator",origin:r,bridgeId:s,keyPair:i,reconnect:t.reconnect,keepalive:t.keepalive,pingInterval:t.pingInterval,bridgeUrl:t.bridgeUrl});return t.resume&&(o.setRemotePublicKey(t.remotePublicKey),await o.computeSharedSecret(),o.resume()),(t.resume||n)&&await o.connect(await o._getWsConnectionUrl()),{websocket:o.getWebSocket(),connection:o,onConnect:c=>o.onConnect(c),onSecureChannelEstablished:c=>o.onSecureChannelEstablished(c),onSecureMessage:c=>o.onSecureMessage(c),onError:c=>o.onError(c),onDisconnect:c=>o.onDisconnect(c),isBridgeConnected:()=>o.isBridgeConnected(),isSecureChannelEstablished:()=>o.isSecureChannelEstablished(),sendMessage:(c,u)=>o.sendSecureMessage(c,u||{}),connectionString:o.connectionString,origin:o.bridgeOrigin,getKeyPair:()=>o.keyPair,getPublicKey:()=>o.getPublicKey(),getRemotePublicKey:()=>o.getRemotePublicKey(),close:()=>o.close()}}static async join(t,n={}){if(n.debug&&h0.enable("bridge*"),n.resume&&!n.keyPair)throw new Error("Resuming a bridge session requires a keyPair");const r=n.keyPair||await Ay(),{domain:i,pubkey:s}=d_.parseConnectionString(t),o=new V6({role:"joiner",domain:i,bridgeId:s,keyPair:r,reconnect:n.reconnect,keepalive:n.keepalive,pingInterval:n.pingInterval,bridgeUrl:n.bridgeUrl});return o.setRemotePublicKey(new Uint8Array(Buffer.from(s,"hex"))),await o.computeSharedSecret(),n.resume&&o.resume(),await o.connect(await o._getWsConnectionUrl()),{websocket:o.getWebSocket(),connection:o,onConnect:a=>o.onConnect(a),onSecureChannelEstablished:a=>o.onSecureChannelEstablished(a),onSecureMessage:a=>o.onSecureMessage(a),onError:a=>o.onError(a),onDisconnect:a=>o.onDisconnect(a),isBridgeConnected:()=>o.isBridgeConnected(),isSecureChannelEstablished:()=>o.isSecureChannelEstablished(),sendMessage:(a,l)=>o.sendSecureMessage(a,l||{}),connectionString:o.connectionString,origin:o.bridgeOrigin,getKeyPair:()=>o.keyPair,getPublicKey:()=>o.getPublicKey(),getRemotePublicKey:()=>o.getRemotePublicKey(),close:()=>o.close()}}static parseConnectionString(t){const n=new URL(t),r=n.pathname;let i=n.searchParams.get("d");if(!i||!r)throw new Error("Invalid connection string: missing required parameters");return i!=="nodejs"&&!i.startsWith("http")&&(i="https://"+i),{domain:i,pubkey:r}}static async generateKeyPair(){return Ay()}}const GW="0.5.5",as=new Date(1111,10,11);typeof globalThis.Buffer>"u"&&(globalThis.Buffer=Ti.Buffer,typeof window<"u"&&(window.Buffer=Ti.Buffer));function $6(e){if(e==="ethereum_sepolia")return 11155111;if(e==="local_anvil")return 31337;throw new Error(`Unsupported chain: ${e}`)}function qW(e){if(e===11155111)return"ethereum_sepolia";if(e===31337)return"local_anvil";throw new Error(`Unsupported chain ID: ${e}`)}lS.registerLocale(DG);function KW(e,t){const n=e[t];if(!(n!=null))return!1;for(const i in n)if(n[i]!==void 0&&n[i]!==null)return!0;return!1}function Vy(e){if(e==="Zero Knowledge Republic")return"ZKR";let t;return t=lS.getAlpha3Code(e,"en")||e||"ZKR",t}function $y(e,t,n,r,i){i[r][t]={...i[r][t],[e]:n}}function YW(e,t,n,r){r[n][e]={...r[n][e],range:t}}function Hy(e,t,n,r,i){i[r][t]={...i[r][t],[e]:n}}class WW{constructor(t){if(this.topicToConfig={},this.topicToLocalConfig={},this.topicToPublicKey={},this.topicToBridge={},this.topicToRequestReceived={},this.topicToService={},this.topicToProofs={},this.topicToExpectedProofCount={},this.topicToFailedProofCount={},this.topicToResults={},this.onRequestReceivedCallbacks={},this.onGeneratingProofCallbacks={},this.onBridgeConnectCallbacks={},this.onProofGeneratedCallbacks={},this.onResultCallbacks={},this.onRejectCallbacks={},this.onErrorCallbacks={},!t&&typeof window>"u")throw new Error("Domain argument is required in Node.js environment");this.domain=t||window.location.hostname}async handleResult(t){var a,l,c,u,d;const n=this.topicToResults[t];delete this.topicToResults[t];const{uniqueIdentifier:r,verified:i,queryResultErrors:s}=await this.verify({proofs:this.topicToProofs[t],queryResult:n,validity:(a=this.topicToLocalConfig[t])==null?void 0:a.validity,scope:(l=this.topicToService[t])==null?void 0:l.scope,evmChain:(c=this.topicToService[t])!=null&&c.chainId?qW((u=this.topicToService[t])==null?void 0:u.chainId):void 0,devMode:(d=this.topicToLocalConfig[t])==null?void 0:d.devMode});delete this.topicToProofs[t];const o=this.topicToFailedProofCount[t]>0;await Promise.all(this.onResultCallbacks[t].map(h=>h({uniqueIdentifier:o?void 0:r,verified:o?!1:i,result:n,queryResultErrors:s}))),delete this.topicToExpectedProofCount[t],delete this.topicToFailedProofCount[t]}setExpectedProofCount(t){if(this.topicToLocalConfig[t].mode!=="fast"){this.topicToExpectedProofCount[t]=1;return}const n=Object.keys(this.topicToConfig[t]).filter(i=>KW(this.topicToConfig[t],i)),r=[];for(const i of n)for(const s in this.topicToConfig[t][i])switch(s){case"eq":case"disclose":i!=="age"&&!r.includes("disclose_bytes")?r.push("disclose_bytes"):i==="age"&&!r.includes("compare_age")&&r.push("compare_age");break;case"gte":case"gt":case"lte":case"lt":case"range":i==="age"&&!r.includes("compare_age")?r.push("compare_age"):i==="expiry_date"&&!r.includes("compare_expiry")?r.push("compare_expiry"):i==="birthdate"&&!r.includes("compare_birthdate")&&r.push("compare_birthdate");break;case"in":i==="nationality"&&!r.includes("inclusion_check_nationality")?r.push("inclusion_check_nationality"):i==="issuing_country"&&!r.includes("inclusion_check_issuing_country")&&r.push("inclusion_check_issuing_country");break;case"out":i==="nationality"&&!r.includes("exclusion_check_nationality")?r.push("exclusion_check_nationality"):i==="issuing_country"&&!r.includes("exclusion_check_issuing_country")&&r.push("exclusion_check_issuing_country");break}this.topicToConfig[t].bind&&r.push("bind"),this.topicToExpectedProofCount[t]=r.length===0?4:3+r.length,this.topicToFailedProofCount[t]=0}async handleEncryptedMessage(t,n){if(n.method==="accept")await Promise.all(this.onGeneratingProofCallbacks[t].map(r=>r(t)));else if(n.method==="reject")await Promise.all(this.onRejectCallbacks[t].map(r=>r()));else if(n.method==="proof")this.topicToProofs[t].push(n.params),await Promise.all(this.onProofGeneratedCallbacks[t].map(r=>r(n.params))),this.topicToResults[t]&&this.topicToExpectedProofCount[t]===this.topicToProofs[t].length&&await this.handleResult(t);else if(n.method==="done"){const r=n.params;r.birthdate&&r.birthdate.disclose&&(r.birthdate.disclose.result=new Date(r.birthdate.disclose.result)),r.expiry_date&&r.expiry_date.disclose&&(r.expiry_date.disclose.result=new Date(r.expiry_date.disclose.result)),this.topicToResults[t]=r,this.topicToExpectedProofCount[t]===this.topicToProofs[t].length&&await this.handleResult(t)}else if(n.method==="error"){const r=n.params.error;r&&r==="This ID is not supported yet"?(this.topicToExpectedProofCount[t]=0,this.topicToFailedProofCount[t]+=this.topicToExpectedProofCount[t],this.topicToResults[t]&&await this.handleResult(t)):r&&r.startsWith("Cannot generate proof")&&(this.topicToExpectedProofCount[t]-=1,this.topicToFailedProofCount[t]+=1,this.topicToResults[t]&&this.topicToExpectedProofCount[t]===this.topicToProofs[t].length&&await this.handleResult(t)),await Promise.all(this.onErrorCallbacks[t].map(i=>i(r)))}}getZkPassportRequest(t){return{eq:(n,r)=>((n==="issuing_country"||n==="nationality")&&(r=Vy(r)),Hy("eq",n,r,t,this.topicToConfig),this.getZkPassportRequest(t)),gte:(n,r)=>{if($y("gte",n,r,t,this.topicToConfig),n==="age"&&(r<1||r>=100))throw new Error("Age must be between 1 and 99 (inclusive)");return this.getZkPassportRequest(t)},lte:(n,r)=>($y("lte",n,r,t,this.topicToConfig),this.getZkPassportRequest(t)),lt:(n,r)=>($y("lt",n,r,t,this.topicToConfig),this.getZkPassportRequest(t)),range:(n,r,i)=>(YW(n,[r,i],t,this.topicToConfig),this.getZkPassportRequest(t)),in:(n,r)=>(r=r.map(i=>Vy(i)),Hy("in",n,r,t,this.topicToConfig),this.getZkPassportRequest(t)),out:(n,r)=>(r=r.map(i=>Vy(i)),Hy("out",n,r,t,this.topicToConfig),this.getZkPassportRequest(t)),disclose:n=>(this.topicToConfig[t][n]={...this.topicToConfig[t][n],disclose:!0},this.getZkPassportRequest(t)),bind:(n,r)=>(this.topicToConfig[t].bind={...this.topicToConfig[t].bind,[n]:r},this.getZkPassportRequest(t)),done:()=>(this.setExpectedProofCount(t),{url:this._getUrl(t),requestId:t,onRequestReceived:n=>this.onRequestReceivedCallbacks[t].push(n),onGeneratingProof:n=>this.onGeneratingProofCallbacks[t].push(n),onBridgeConnect:n=>this.onBridgeConnectCallbacks[t].push(n),onProofGenerated:n=>this.onProofGeneratedCallbacks[t].push(n),onResult:n=>this.onResultCallbacks[t].push(n),onReject:n=>this.onRejectCallbacks[t].push(n),onError:n=>this.onErrorCallbacks[t].push(n),isBridgeConnected:()=>this.topicToBridge[t].isBridgeConnected(),requestReceived:()=>this.topicToRequestReceived[t]===!0})}}async request({name:t,logo:n,purpose:r,scope:i,mode:s,evmChain:o,validity:a,devMode:l,topicOverride:c,keyPairOverride:u,cloudProverUrl:d,bridgeUrl:h}){const m=await d_.create({keyPair:u,bridgeId:c,bridgeUrl:h}),x=m.connection.getBridgeId();return this.topicToConfig[x]={},this.topicToService[x]={name:t,logo:n,purpose:r,scope:i,chainId:o?$6(o):void 0,cloudProverUrl:d,bridgeUrl:h},this.topicToProofs[x]=[],this.topicToExpectedProofCount[x]=0,this.topicToLocalConfig[x]={validity:a||6*30,mode:s||"fast",devMode:l||!1},this.onRequestReceivedCallbacks[x]=[],this.onGeneratingProofCallbacks[x]=[],this.onBridgeConnectCallbacks[x]=[],this.onProofGeneratedCallbacks[x]=[],this.onResultCallbacks[x]=[],this.onRejectCallbacks[x]=[],this.onErrorCallbacks[x]=[],this.topicToPublicKey[x]=m.getPublicKey(),this.topicToBridge[x]=m,m.onConnect(async y=>{await Promise.all(this.onBridgeConnectCallbacks[x].map(_=>_()))}),m.onSecureChannelEstablished(async()=>{await Promise.all(this.onRequestReceivedCallbacks[x].map(y=>y()))}),m.onSecureMessage(async y=>{this.handleEncryptedMessage(x,y)}),this.getZkPassportRequest(x)}checkDiscloseBytesPublicInputs(t,n){var a,l,c,u;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;const s=yl.fromDisclosedBytes(((a=t.committedInputs)==null?void 0:a.disclose_bytes).disclosedBytes,"passport"),o=yl.fromDisclosedBytes(((l=t.committedInputs)==null?void 0:l.disclose_bytes).disclosedBytes,"id_card");if(n.document_type&&(n.document_type.eq&&n.document_type.eq.result&&n.document_type.eq.expected!==s.documentType&&(console.warn("Document type does not match the expected document type"),i=!1,r.document_type.eq={expected:`${n.document_type.eq.expected}`,received:`${s.documentType??o.documentType}`,message:"Document type does not match the expected document type"}),((c=n.document_type.disclose)==null?void 0:c.result)!==o.documentType&&(console.warn("Document type does not match the disclosed document type in query result"),i=!1,r.document_type.disclose={expected:`${(u=n.document_type.disclose)==null?void 0:u.result}`,received:`${o.documentType??s.documentType}`,message:"Document type does not match the disclosed document type in query result"})),n.birthdate){const d=s.dateOfBirth,h=o.dateOfBirth;n.birthdate.eq&&n.birthdate.eq.result&&n.birthdate.eq.expected.getTime()!==d.getTime()&&n.birthdate.eq.expected.getTime()!==h.getTime()&&(console.warn("Birthdate does not match the expected birthdate"),i=!1,r.birthdate.eq={expected:`${n.birthdate.eq.expected.toISOString()}`,received:`${(d==null?void 0:d.toISOString())??(h==null?void 0:h.toISOString())}`,message:"Birthdate does not match the expected birthdate"}),n.birthdate.disclose&&n.birthdate.disclose.result.getTime()!==d.getTime()&&n.birthdate.disclose.result.getTime()!==h.getTime()&&(console.warn("Birthdate does not match the disclosed birthdate in query result"),i=!1,r.birthdate.disclose={expected:`${n.birthdate.disclose.result.toISOString()}`,received:`${(d==null?void 0:d.toISOString())??(h==null?void 0:h.toISOString())}`,message:"Birthdate does not match the disclosed birthdate in query result"})}if(n.expiry_date){const d=s.dateOfExpiry,h=o.dateOfExpiry;n.expiry_date.eq&&n.expiry_date.eq.result&&n.expiry_date.eq.expected.getTime()!==d.getTime()&&n.expiry_date.eq.expected.getTime()!==h.getTime()&&(console.warn("Expiry date does not match the expected expiry date"),i=!1,r.expiry_date.eq={expected:`${n.expiry_date.eq.expected.toISOString()}`,received:`${(d==null?void 0:d.toISOString())??(h==null?void 0:h.toISOString())}`,message:"Expiry date does not match the expected expiry date"}),n.expiry_date.disclose&&n.expiry_date.disclose.result.getTime()!==d.getTime()&&n.expiry_date.disclose.result.getTime()!==h.getTime()&&(console.warn("Expiry date does not match the disclosed expiry date in query result"),i=!1,r.expiry_date.disclose={expected:`${n.expiry_date.disclose.result.toISOString()}`,received:`${(d==null?void 0:d.toISOString())??(h==null?void 0:h.toISOString())}`,message:"Expiry date does not match the disclosed expiry date in query result"})}if(n.nationality){const d=s.nationality,h=o.nationality;n.nationality.eq&&n.nationality.eq.result&&n.nationality.eq.expected!==d&&n.nationality.eq.expected!==h&&(console.warn("Nationality does not match the expected nationality"),i=!1,r.nationality.eq={expected:`${n.nationality.eq.expected}`,received:`${d??h}`,message:"Nationality does not match the expected nationality"}),n.nationality.disclose&&n.nationality.disclose.result!==d&&n.nationality.disclose.result!==h&&(console.warn("Nationality does not match the disclosed nationality in query result"),i=!1,r.nationality.disclose={expected:`${n.nationality.disclose.result}`,received:`${d??h}`,message:"Nationality does not match the disclosed nationality in query result"})}if(n.document_number){const d=s.documentNumber,h=o.documentNumber;n.document_number.eq&&n.document_number.eq.result&&n.document_number.eq.expected!==d&&n.document_number.eq.expected!==h&&(console.warn("Document number does not match the expected document number"),i=!1,r.document_number.eq={expected:`${n.document_number.eq.expected}`,received:`${d??h}`,message:"Document number does not match the expected document number"}),n.document_number.disclose&&n.document_number.disclose.result!==d&&n.document_number.disclose.result!==h&&(console.warn("Document number does not match the disclosed document number in query result"),i=!1,r.document_number.disclose={expected:`${n.document_number.disclose.result}`,received:`${d??h}`,message:"Document number does not match the disclosed document number in query result"})}if(n.gender){const d=s.gender,h=o.gender;n.gender.eq&&n.gender.eq.result&&n.gender.eq.expected!==d&&n.gender.eq.expected!==h&&(console.warn("Gender does not match the expected gender"),i=!1,r.gender.eq={expected:`${n.gender.eq.expected}`,received:`${d??h}`,message:"Gender does not match the expected gender"}),n.gender.disclose&&n.gender.disclose.result!==d&&n.gender.disclose.result!==h&&(console.warn("Gender does not match the disclosed gender in query result"),i=!1,r.gender.disclose={expected:`${n.gender.disclose.result}`,received:`${d??h}`,message:"Gender does not match the disclosed gender in query result"})}if(n.issuing_country){const d=s.issuingCountry,h=o.issuingCountry;n.issuing_country.eq&&n.issuing_country.eq.result&&n.issuing_country.eq.expected!==d&&n.issuing_country.eq.expected!==h&&(console.warn("Issuing country does not match the expected issuing country"),i=!1,r.issuing_country.eq={expected:`${n.issuing_country.eq.expected}`,received:`${d??h}`,message:"Issuing country does not match the expected issuing country"}),n.issuing_country.disclose&&n.issuing_country.disclose.result!==d&&n.issuing_country.disclose.result!==h&&(console.warn("Issuing country does not match the disclosed issuing country in query result"),i=!1,r.issuing_country.disclose={expected:`${n.issuing_country.disclose.result}`,received:`${d??h}`,message:"Issuing country does not match the disclosed issuing country in query result"})}if(n.fullname){const d=s.name,h=o.name;n.fullname.eq&&n.fullname.eq.result&&pt(n.fullname.eq.expected).toLowerCase()!==d.toLowerCase()&&pt(n.fullname.eq.expected).toLowerCase()!==h.toLowerCase()&&(console.warn("Fullname does not match the expected fullname"),i=!1,r.fullname.eq={expected:`${n.fullname.eq.expected}`,received:`${d??h}`,message:"Fullname does not match the expected fullname"}),n.fullname.disclose&&pt(n.fullname.disclose.result).toLowerCase()!==d.toLowerCase()&&pt(n.fullname.disclose.result).toLowerCase()!==h.toLowerCase()&&(console.warn("Fullname does not match the disclosed fullname in query result"),i=!1,r.fullname.disclose={expected:`${n.fullname.disclose.result}`,received:`${d??h}`,message:"Fullname does not match the disclosed fullname in query result"})}if(n.firstname){const d=s.firstName&&s.firstName.length>0?s.firstName:s.name,h=o.firstName&&o.firstName.length>0?o.firstName:o.name;n.firstname.eq&&n.firstname.eq.result&&pt(n.firstname.eq.expected).toLowerCase()!==d.toLowerCase()&&pt(n.firstname.eq.expected).toLowerCase()!==h.toLowerCase()&&(console.warn("Firstname does not match the expected firstname"),i=!1,r.firstname.eq={expected:`${n.firstname.eq.expected}`,received:`${d??h}`,message:"Firstname does not match the expected firstname"}),n.firstname.disclose&&pt(n.firstname.disclose.result).toLowerCase()!==d.toLowerCase()&&pt(n.firstname.disclose.result).toLowerCase()!==h.toLowerCase()&&(console.warn("Firstname does not match the disclosed firstname in query result"),i=!1,r.firstname.disclose={expected:`${n.firstname.disclose.result}`,received:`${d??h}`,message:"Firstname does not match the disclosed firstname in query result"})}if(n.lastname){const d=s.lastName&&s.lastName.length>0?s.lastName:s.name,h=o.lastName&&o.lastName.length>0?o.lastName:o.name;n.lastname.eq&&n.lastname.eq.result&&pt(n.lastname.eq.expected).toLowerCase()!==d.toLowerCase()&&pt(n.lastname.eq.expected).toLowerCase()!==h.toLowerCase()&&(console.warn("Lastname does not match the expected lastname"),i=!1,r.lastname.eq={expected:`${n.lastname.eq.expected}`,received:`${d??h}`,message:"Lastname does not match the expected lastname"}),n.lastname.disclose&&pt(n.lastname.disclose.result).toLowerCase()!==d.toLowerCase()&&pt(n.lastname.disclose.result).toLowerCase()!==h.toLowerCase()&&(console.warn("Lastname does not match the disclosed lastname in query result"),i=!1,r.lastname.disclose={expected:`${n.lastname.disclose.result}`,received:`${d??h}`,message:"Lastname does not match the disclosed lastname in query result"})}return{isCorrect:i,queryResultErrors:r}}checkAgePublicInputs(t,n){var u,d,h;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;const s=new Date,o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0),a=_H((u=t.committedInputs)==null?void 0:u.compare_age),l=EH((d=t.committedInputs)==null?void 0:d.compare_age);n.age?(n.age.gte&&n.age.gte.result&&a!==n.age.gte.expected&&(console.warn("Age is not greater than or equal to the expected age"),i=!1,r.age.gte={expected:n.age.gte.expected,received:a,message:"Age is not greater than or equal to the expected age"}),n.age.lt&&n.age.lt.result&&l!==n.age.lt.expected&&(console.warn("Age is not less than the expected age"),i=!1,r.age.lt={expected:n.age.lt.expected,received:l,message:"Age is not less than the expected age"}),n.age.range&&n.age.range.result&&(a!==n.age.range.expected[0]||l!==n.age.range.expected[1])&&(console.warn("Age is not in the expected range"),i=!1,r.age.range={expected:n.age.range.expected,received:[a,l],message:"Age is not in the expected range"}),!n.age.lt&&!n.age.range&&l!=0&&(console.warn("Maximum age should be equal to 0"),i=!1,r.age.disclose={expected:0,received:l,message:"Maximum age should be equal to 0"}),!n.age.gte&&!n.age.range&&a!=0&&(console.warn("Minimum age should be equal to 0"),i=!1,r.age.disclose={expected:0,received:a,message:"Minimum age should be equal to 0"}),n.age.disclose&&(n.age.disclose.result!==a||n.age.disclose.result!==l)&&(console.warn("Age does not match the disclosed age in query result"),i=!1,r.age.disclose={expected:`${a}`,received:`${n.age.disclose.result}`,message:"Age does not match the disclosed age in query result"})):(console.warn("Age is not set in the query result"),i=!1,r.age.disclose={message:"Age is not set in the query result"});const c=yy((h=t.committedInputs)==null?void 0:h.compare_age);return c.getTime()!==o.getTime()&&c.getTime()!==o.getTime()-864e5&&(console.warn("Current date in the proof is too old"),i=!1,r.age.disclose={expected:`${o.toISOString()}`,received:`${c.toISOString()}`,message:"Current date in the proof is too old"}),{isCorrect:i,queryResultErrors:r}}checkBirthdatePublicInputs(t,n){var u,d,h;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;const s=new Date,o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),a=g2((u=t.committedInputs)==null?void 0:u.compare_birthdate),l=y2((d=t.committedInputs)==null?void 0:d.compare_birthdate),c=yy((h=t.committedInputs)==null?void 0:h.compare_birthdate);return n.birthdate?(n.birthdate.gte&&n.birthdate.gte.result&&a!==n.birthdate.gte.expected&&(console.warn("Birthdate is not greater than or equal to the expected birthdate"),i=!1,r.birthdate.gte={expected:n.birthdate.gte.expected,received:a,message:"Birthdate is not greater than or equal to the expected birthdate"}),n.birthdate.lte&&n.birthdate.lte.result&&l!==n.birthdate.lte.expected&&(console.warn("Birthdate is not less than the expected birthdate"),i=!1,r.birthdate.lte={expected:n.birthdate.lte.expected,received:l,message:"Birthdate is not less than the expected birthdate"}),n.birthdate.range&&n.birthdate.range.result&&(a!==n.birthdate.range.expected[0]||l!==n.birthdate.range.expected[1])&&(console.warn("Birthdate is not in the expected range"),i=!1,r.birthdate.range={expected:n.birthdate.range.expected,received:[a,l],message:"Birthdate is not in the expected range"}),!n.birthdate.lte&&!n.birthdate.range&&l.getTime()!=as.getTime()&&(console.warn("Maximum birthdate should be equal to default date value"),i=!1,r.birthdate.disclose={expected:`${as.toISOString()}`,received:`${l.toISOString()}`,message:"Maximum birthdate should be equal to default date value"}),!n.birthdate.gte&&!n.birthdate.range&&a.getTime()!=as.getTime()&&(console.warn("Minimum birthdate should be equal to default date value"),i=!1,r.birthdate.disclose={expected:`${as.toISOString()}`,received:`${a.toISOString()}`,message:"Minimum birthdate should be equal to default date value"})):(console.warn("Birthdate is not set in the query result"),i=!1,r.birthdate.disclose={message:"Birthdate is not set in the query result"}),c.getTime()!==o.getTime()&&c.getTime()!==o.getTime()-864e5&&(console.warn("Current date in the proof is too old"),i=!1,r.age.disclose={expected:`${o.toISOString()}`,received:`${c.toISOString()}`,message:"Current date in the proof is too old"}),{isCorrect:i,queryResultErrors:r}}checkExpiryDatePublicInputs(t,n){var u,d,h;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;const s=new Date,o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),a=g2((u=t.committedInputs)==null?void 0:u.compare_expiry),l=y2((d=t.committedInputs)==null?void 0:d.compare_expiry),c=yy((h=t.committedInputs)==null?void 0:h.compare_expiry);return n.expiry_date?(n.expiry_date.gte&&n.expiry_date.gte.result&&a!==n.expiry_date.gte.expected&&(console.warn("Expiry date is not greater than or equal to the expected expiry date"),i=!1,r.expiry_date.gte={expected:n.expiry_date.gte.expected,received:a,message:"Expiry date is not greater than or equal to the expected expiry date"}),n.expiry_date.lte&&n.expiry_date.lte.result&&l!==n.expiry_date.lte.expected&&(console.warn("Expiry date is not less than the expected expiry date"),i=!1,r.expiry_date.lte={expected:n.expiry_date.lte.expected,received:l,message:"Expiry date is not less than the expected expiry date"}),n.expiry_date.range&&n.expiry_date.range.result&&(a!==n.expiry_date.range.expected[0]||l!==n.expiry_date.range.expected[1])&&(console.warn("Expiry date is not in the expected range"),i=!1,r.expiry_date.range={expected:n.expiry_date.range.expected,received:[a,l],message:"Expiry date is not in the expected range"}),!n.expiry_date.lte&&!n.expiry_date.range&&l.getTime()!=as.getTime()&&(console.warn("Maximum expiry date should be equal to default date value"),i=!1,r.expiry_date.disclose={expected:`${as.toISOString()}`,received:`${l.toISOString()}`,message:"Maximum expiry date should be equal to default date value"}),!n.expiry_date.gte&&!n.expiry_date.range&&a.getTime()!=as.getTime()&&(console.warn("Minimum expiry date should be equal to default date value"),i=!1,r.expiry_date.disclose={expected:`${as.toISOString()}`,received:`${a.toISOString()}`,message:"Minimum expiry date should be equal to default date value"})):(console.warn("Expiry date is not set in the query result"),i=!1,r.expiry_date.disclose={message:"Expiry date is not set in the query result"}),c.getTime()!==o.getTime()&&c.getTime()!==o.getTime()-864e5&&(console.warn("Current date in the proof is too old"),i=!1,r.age.disclose={expected:`${o.toISOString()}`,received:`${c.toISOString()}`,message:"Current date in the proof is too old"}),{isCorrect:i,queryResultErrors:r}}checkNationalityExclusionPublicInputs(t,n){var s;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;t.nationality&&t.nationality.out&&t.nationality.out.result?(s=t.nationality.out.expected)!=null&&s.every(o=>n.includes(o))||(console.warn("Nationality exclusion list does not match the one from the query results"),i=!1,r.nationality.out={expected:t.nationality.out.expected,received:n,message:"Nationality exclusion list does not match the one from the query results"}):(!t.nationality||!t.nationality.out)&&(console.warn("Nationality exclusion is not set in the query result"),i=!1,r.nationality.out={message:"Nationality exclusion is not set in the query result"});for(let o=1;o<n.length;o++)n[o]<n[o-1]&&(console.warn("The nationality exclusion list has not been sorted, and thus the proof cannot be trusted"),i=!1,r.nationality.out={message:"The nationality exclusion list has not been sorted, and thus the proof cannot be trusted"});return{isCorrect:i,queryResultErrors:r}}checkIssuingCountryExclusionPublicInputs(t,n){var s;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;t.issuing_country&&t.issuing_country.out&&t.issuing_country.out.result?(s=t.issuing_country.out.expected)!=null&&s.every(o=>n.includes(o))||(console.warn("Issuing country exclusion list does not match the one from the query results"),i=!1,r.issuing_country.out={expected:t.issuing_country.out.expected,received:n,message:"Issuing country exclusion list does not match the one from the query results"}):(!t.issuing_country||!t.issuing_country.out)&&(console.warn("Issuing country exclusion is not set in the query result"),i=!1,r.issuing_country.out={message:"Issuing country exclusion is not set in the query result"});for(let o=1;o<n.length;o++)n[o]<n[o-1]&&(console.warn("The issuing country exclusion list has not been sorted, and thus the proof cannot be trusted"),i=!1,r.issuing_country.out={message:"The issuing country exclusion list has not been sorted, and thus the proof cannot be trusted"});return{isCorrect:i,queryResultErrors:r}}checkNationalityInclusionPublicInputs(t,n){var s;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;return t.nationality&&t.nationality.in&&t.nationality.in.result?(s=t.nationality.in.expected)!=null&&s.every(o=>n.includes(o))||(console.warn("Nationality inclusion list does not match the one from the query results"),i=!1,r.nationality.in={expected:t.nationality.in.expected,received:n,message:"Nationality inclusion list does not match the one from the query results"}):(!t.nationality||!t.nationality.in)&&(console.warn("Nationality inclusion is not set in the query result"),i=!1,r.nationality.in={message:"Nationality inclusion is not set in the query result"}),{isCorrect:i,queryResultErrors:r}}checkIssuingCountryInclusionPublicInputs(t,n){var s;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;return t.issuing_country&&t.issuing_country.in&&t.issuing_country.in.result?(s=t.issuing_country.in.expected)!=null&&s.every(o=>n.includes(o))||(console.warn("Issuing country inclusion list does not match the one from the query results"),i=!1,r.issuing_country.in={expected:t.issuing_country.in.expected,received:n,message:"Issuing country inclusion list does not match the one from the query results"}):(!t.issuing_country||!t.issuing_country.in)&&(console.warn("Issuing country inclusion is not set in the query result"),i=!1,r.issuing_country.in={message:"Issuing country inclusion is not set in the query result"}),{isCorrect:i,queryResultErrors:r}}checkScopeFromDisclosureProof(t,n,r,i,s){let o=!0;return this.domain&&of(this.domain,s)!==BigInt(t.publicInputs[1])&&(console.warn("The proof comes from a different domain than the one expected"),o=!1,n[r].scope={expected:`Scope: ${of(this.domain,s).toString()}`,received:`Scope: ${BigInt(t.publicInputs[1]).toString()}`,message:"The proof comes from a different domain than the one expected"}),i&&Jc(i)!==BigInt(t.publicInputs[2])&&(console.warn("The proof uses a different scope than the one expected"),o=!1,n[r].scope={expected:`Scope: ${Jc(i).toString()}`,received:`Scope: ${BigInt(t.publicInputs[2]).toString()}`,message:"The proof uses a different scope than the one expected"}),{isCorrect:o,queryResultErrors:n}}async checkCertificateRegistryRoot(t,n,r){let i=!0;try{await new Nu({chainId:11155111}).isCertificateRootValid(t)||(console.warn("The ID was signed by an unrecognized root certificate"),i=!1,n[r?"outer":"sig_check_dsc"].certificate={expected:"A valid root from ZKPassport Registry",received:`Got invalid certificate registry root: ${t}`,message:"The ID was signed by an unrecognized root certificate"})}catch(s){console.warn(s),console.warn("The ID was signed by an unrecognized root certificate"),i=!1,n[r?"outer":"sig_check_dsc"].certificate={expected:"A valid root from ZKPassport Registry",received:`Got invalid certificate registry root: ${t}`,message:"The ID was signed by an unrecognized root certificate"}}return{isCorrect:i,queryResultErrors:n}}async checkCircuitRegistryRoot(t,n){let r=!0;try{await new Nu({chainId:11155111}).isCircuitRootValid(t)||(console.warn("The proof uses unrecognized circuits"),r=!1,n.outer.circuit={expected:"A valid circuit from ZKPassport Registry",received:`Got invalid circuit registry root: ${t}`,message:"The proof uses an unrecognized circuit"})}catch(i){console.warn(i),console.warn("The proof uses unrecognized circuits"),r=!1,n.outer.circuit={expected:"A valid circuit from ZKPassport Registry",received:`Got invalid circuit registry root: ${t}`,message:"The proof uses an unrecognized circuit"}}return{isCorrect:r,queryResultErrors:n}}checkBindPublicInputs(t,n){var s,o,a,l;const r={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};let i=!0;return t.bind&&(((s=t.bind.user_address)==null?void 0:s.toLowerCase().replace("0x",""))!==((o=n.user_address)==null?void 0:o.toLowerCase().replace("0x",""))&&(console.warn("Bound user address does not match the one from the query results"),i=!1,r.bind.eq={expected:t.bind.user_address,received:n.user_address,message:"Bound user address does not match the one from the query results"}),((a=t.bind.custom_data)==null?void 0:a.trim().toLowerCase())!==((l=n.custom_data)==null?void 0:l.trim().toLowerCase())&&(console.warn("Bound custom data does not match the one from the query results"),i=!1,r.bind.eq={expected:t.bind.custom_data,received:n.custom_data,message:"Bound custom data does not match the one from the query results"})),{isCorrect:i,queryResultErrors:r}}async checkPublicInputs(t,n,r,i,s){var x,y,_,p,b,g,E,C,N,k,j,D,M,H,Q;let o,a,l=!0,c;const u=new Date,d=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0);let h={sig_check_dsc:{},sig_check_id_data:{},data_check_integrity:{},disclose:{},age:{},birthdate:{},expiry_date:{},document_type:{},issuing_country:{},gender:{},nationality:{},firstname:{},lastname:{},fullname:{},document_number:{},outer:{},bind:{}};const m=t.sort((G,F)=>{const V=["sig_check_dsc","sig_check_id_data","data_check_integrity","disclose_bytes","compare_age","compare_birthdate","compare_expiry","exclusion_check_nationality","inclusion_check_nationality","exclusion_check_issuing_country","inclusion_check_issuing_country","bind"],B=U=>{const O=U.name||"";return V.findIndex(z=>O.startsWith(z))};return B(G)-B(F)});for(const G of m){const F=by(G.proof,gy(G.name));if((x=G.name)!=null&&x.startsWith("outer")){const V=(y=G.name)==null?void 0:y.startsWith("outer_evm"),B=xG(F),{isCorrect:U,queryResultErrors:O}=await this.checkCertificateRegistryRoot(B.toString(16),h,!0);l=l&&U,h={...h,...O};const z=wG(F),{isCorrect:Z,queryResultErrors:ee}=await this.checkCircuitRegistryRoot(z.toString(16),h);l=l&&Z,h={...h,...ee};const ue=SG(F),de=d.getTime()-ue.getTime(),fe=r??180,Fe=fe*864e5,Ke=d.getTime()-(d.getTime()-Fe);de>=Ke&&(console.warn(`The date used to check the validity of the ID is older than ${fe} days. You can ask the user to rescan their ID or ask them to disclose their expiry date`),l=!1,h.outer.date={expected:`Difference: ${fe} days`,received:`Difference: ${Math.round(de/864e5)} days`,message:"The date used to check the validity of the ID is older than the validity period"});const J=EG(F),X=G.committedInputs,Ne=Object.keys(X||{});if(Ne.length!==J.length&&(console.warn("The proof does not verify all the requested conditions and information"),l=!1,h.outer.commitment={expected:`Number of parameter commitments: ${J.length}`,received:`Number of disclosure proofs provided: ${Ne.length}`,message:"The proof does not verify all the requested conditions and information"}),this.domain&&of(this.domain,s)!==A2(F)&&(console.warn("The proof comes from a different domain than the one expected"),l=!1,h.outer.scope={expected:`Scope: ${of(this.domain,s).toString()}`,received:`Scope: ${A2(F).toString()}`,message:"The proof comes from a different domain than the one expected"}),i&&Jc(i)!==T2(F)&&(console.warn("The proof uses a different scope than the one expected"),l=!1,h.outer.scope={expected:`Scope: ${Jc(i).toString()}`,received:`Scope: ${T2(F).toString()}`,message:"The proof uses a different scope than the one expected"}),X!=null&&X.compare_age){const Y=X==null?void 0:X.compare_age,te=V?await AH(Y.currentDate,Y.minAge,Y.maxAge):await p2(Y.currentDate,Y.minAge,Y.maxAge);J.includes(te)||(console.warn("This proof does not verify the age"),l=!1,h.age.commitment={expected:`Age parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the age"});const{isCorrect:oe,queryResultErrors:be}=this.checkAgePublicInputs(G,n);l=l&&oe,h={...h,...be}}else if(X!=null&&X.compare_birthdate){const Y=X==null?void 0:X.compare_birthdate,te=V?await b2(ke.BIRTHDATE,Y.currentDate,Y.minDate,Y.maxDate):await nf(ke.BIRTHDATE,Y.currentDate,Y.minDate,Y.maxDate);J.includes(te)||(console.warn("This proof does not verify the birthdate"),l=!1,h.birthdate.commitment={expected:`Birthdate parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the birthdate"});const{isCorrect:oe,queryResultErrors:be}=this.checkBirthdatePublicInputs(G,n);l=l&&oe,h={...h,...be}}else if(X!=null&&X.compare_expiry){const Y=X==null?void 0:X.compare_expiry,te=V?await b2(ke.EXPIRY_DATE,Y.currentDate,Y.minDate,Y.maxDate):await nf(ke.EXPIRY_DATE,Y.currentDate,Y.minDate,Y.maxDate);J.includes(te)||(console.warn("This proof does not verify the expiry date"),l=!1,h.expiry_date.commitment={expected:`Expiry date parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the expiry date"});const{isCorrect:oe,queryResultErrors:be}=this.checkExpiryDatePublicInputs(G,n);l=l&&oe,h={...h,...be}}else if(X!=null&&X.disclose_bytes){const Y=X==null?void 0:X.disclose_bytes,te=V?await BH(Y.discloseMask,Y.disclosedBytes):await v2(Y.discloseMask,Y.disclosedBytes);J.includes(te)||(console.warn("This proof does not verify any of the data disclosed"),l=!1,h.disclose.commitment={expected:`Disclosure parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify any of the data disclosed"});const{isCorrect:oe,queryResultErrors:be}=this.checkDiscloseBytesPublicInputs(G,n);l=l&&oe,h={...h,...be}}else if(X!=null&&X.inclusion_check_nationality){const Y=X==null?void 0:X.inclusion_check_nationality,te=V?await rf(ke.NATIONALITY_INCLUSION,Y.countries):await ss(ke.NATIONALITY_INCLUSION,Y.countries);J.includes(te)||(console.warn("This proof does not verify the inclusion of the nationality"),l=!1,h.nationality.commitment={expected:`Nationality parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the inclusion of the nationality"});const oe=Y.countries,{isCorrect:be,queryResultErrors:ze}=this.checkNationalityInclusionPublicInputs(n,oe);l=l&&be,h={...h,...ze}}else if(X!=null&&X.inclusion_check_issuing_country){const Y=X==null?void 0:X.inclusion_check_issuing_country,te=V?await rf(ke.ISSUING_COUNTRY_INCLUSION,Y.countries):await ss(ke.ISSUING_COUNTRY_INCLUSION,Y.countries);J.includes(te)||(console.warn("This proof does not verify the inclusion of the issuing country"),l=!1,h.issuing_country.commitment={expected:`Issuing country parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the inclusion of the issuing country"});const oe=Y.countries,{isCorrect:be,queryResultErrors:ze}=this.checkIssuingCountryInclusionPublicInputs(n,oe);l=l&&be,h={...h,...ze}}else if(X!=null&&X.exclusion_check_nationality){const Y=X==null?void 0:X.exclusion_check_nationality,te=V?await rf(ke.NATIONALITY_EXCLUSION,Y.countries):await ss(ke.NATIONALITY_EXCLUSION,Y.countries);J.includes(te)||(console.warn("This proof does not verify the exclusion of the nationality"),l=!1,h.nationality.commitment={expected:`Nationality parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the exclusion of the nationality"});const oe=Y.countries,{isCorrect:be,queryResultErrors:ze}=this.checkNationalityExclusionPublicInputs(n,oe);l=l&&be,h={...h,...ze}}else if(X!=null&&X.exclusion_check_issuing_country){const Y=X==null?void 0:X.exclusion_check_issuing_country,te=V?await rf(ke.ISSUING_COUNTRY_EXCLUSION,Y.countries):await ss(ke.ISSUING_COUNTRY_EXCLUSION,Y.countries);J.includes(te)||(console.warn("This proof does not verify the exclusion of the issuing country"),l=!1,h.issuing_country.commitment={expected:`Issuing country parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the exclusion of the issuing country"});const oe=Y.countries,{isCorrect:be,queryResultErrors:ze}=this.checkIssuingCountryExclusionPublicInputs(n,oe);l=l&&be,h={...h,...ze}}else if(X!=null&&X.bind){const Y=X==null?void 0:X.bind,te=V?await GH(sf(Y.data)):await x2(sf(Y.data));J.includes(te)||(console.warn("This proof does not verify the bound data"),l=!1,h.bind.commitment={expected:`Bind parameter commitment: ${te.toString()}`,received:`Parameter commitments included: ${J.join(", ")}`,message:"This proof does not verify the bound data"});const{isCorrect:oe,queryResultErrors:be}=this.checkBindPublicInputs(n,Y.data);l=l&&oe,h={...h,...be}}c=_G(F).toString(10)}else if((_=G.name)!=null&&_.startsWith("sig_check_dsc")){a=jH(F);const V=NH(F),{isCorrect:B,queryResultErrors:U}=await this.checkCertificateRegistryRoot(V.toString(16),h,!1);l=l&&B,h={...h,...U}}else if((p=G.name)!=null&&p.startsWith("sig_check_id_data"))o=zH(F),o!==a&&(console.warn("Failed to check the link between the certificate signature and ID signature"),l=!1,h.sig_check_id_data.commitment={expected:`Commitment: ${(a==null?void 0:a.toString())||"undefined"}`,received:`Commitment: ${(o==null?void 0:o.toString())||"undefined"}`,message:"Failed to check the link between the certificate signature and ID signature"}),a=VH(F);else if((b=G.name)!=null&&b.startsWith("data_check_integrity")){o=OH(F),o!==a&&(console.warn("Failed to check the link between the ID signature and the data signed"),l=!1,h.data_check_integrity.commitment={expected:`Commitment: ${(a==null?void 0:a.toString())||"undefined"}`,received:`Commitment: ${(o==null?void 0:o.toString())||"undefined"}`,message:"Failed to check the link between the ID signature and the data signed"}),a=DH(F);const V=MH(F),B=d.getTime()-V.getTime(),U=r??180,O=U*864e5,z=d.getTime()-(d.getTime()-O);B>=z&&(console.warn(`The date used to check the validity of the ID is older than ${U} days. You can ask the user to rescan their ID or ask them to disclose their expiry date`),l=!1,h.data_check_integrity.date={expected:`Difference: ${U} days`,received:`Difference: ${Math.round(B/864e5)} days`,message:"The date used to check the validity of the ID is older than the validity period"})}else if(G.name==="disclose_bytes"){o=os(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the data to disclose"),l=!1,h.disclose.commitment={expected:`Commitment: ${(a==null?void 0:a.toString())||"undefined"}`,received:`Commitment: ${(o==null?void 0:o.toString())||"undefined"}`,message:"Failed to check the link between the validity of the ID and the data to disclose"});const V=ci(F),B=await v2(((g=G.committedInputs)==null?void 0:g.disclose_bytes).discloseMask,((E=G.committedInputs)==null?void 0:E.disclose_bytes).disclosedBytes);V!==B&&(console.warn("The disclosed data does not match the data committed by the proof"),l=!1,h.disclose.commitment={expected:`Commitment: ${B}`,received:`Commitment: ${V}`,message:"The disclosed data does not match the data committed by the proof"});const{isCorrect:U,queryResultErrors:O}=this.checkScopeFromDisclosureProof(F,h,"disclose",i);l=l&&U,h={...h,...O};const{isCorrect:z,queryResultErrors:Z}=this.checkDiscloseBytesPublicInputs(G,n);l=l&&z&&U,h={...h,...Z,...O},c=li(F).toString(10)}else if(G.name==="compare_age"){o=os(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the age derived from it"),l=!1,h.age.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the age derived from it"});const V=ci(F),B=(C=G.committedInputs)==null?void 0:C.compare_age,U=await p2(B.currentDate,B.minAge,B.maxAge);V!==U&&(console.warn("The conditions for the age check do not match the conditions checked by the proof"),l=!1,h.age.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${V}`,message:"The conditions for the age check do not match the conditions checked by the proof"});const{isCorrect:O,queryResultErrors:z}=this.checkScopeFromDisclosureProof(F,h,"age",i),{isCorrect:Z,queryResultErrors:ee}=this.checkAgePublicInputs(G,n);l=l&&Z&&O,h={...h,...ee,...z},c=li(F).toString(10)}else if(G.name==="compare_birthdate"){o=os(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the birthdate derived from it"),l=!1,h.birthdate.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the birthdate derived from it"});const V=ci(F),B=(N=G.committedInputs)==null?void 0:N.compare_birthdate,U=await nf(ke.BIRTHDATE,B.currentDate,B.minDate,B.maxDate);V!==U&&(console.warn("The conditions for the birthdate check do not match the conditions checked by the proof"),l=!1,h.birthdate.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${V}`,message:"The conditions for the birthdate check do not match the conditions checked by the proof"});const{isCorrect:O,queryResultErrors:z}=this.checkScopeFromDisclosureProof(F,h,"birthdate",i),{isCorrect:Z,queryResultErrors:ee}=this.checkBirthdatePublicInputs(G,n);l=l&&Z&&O,h={...h,...ee,...z},c=li(F).toString(10)}else if(G.name==="compare_expiry"){o=os(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and its expiry date"),l=!1,h.expiry_date.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and its expiry date"});const V=ci(F),B=(k=G.committedInputs)==null?void 0:k.compare_expiry,U=await nf(ke.EXPIRY_DATE,B.currentDate,B.minDate,B.maxDate);V!==U&&(console.warn("The conditions for the expiry date check do not match the conditions checked by the proof"),l=!1,h.expiry_date.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${V}`,message:"The conditions for the expiry date check do not match the conditions checked by the proof"});const{isCorrect:O,queryResultErrors:z}=this.checkScopeFromDisclosureProof(F,h,"expiry_date",i),{isCorrect:Z,queryResultErrors:ee}=this.checkExpiryDatePublicInputs(G,n);l=l&&Z&&O,h={...h,...ee,...z},c=li(F).toString(10)}else if(G.name==="exclusion_check_nationality"){o=os(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the nationality exclusion check"),l=!1,h.nationality.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the nationality exclusion check"});const V=((j=G.committedInputs)==null?void 0:j.exclusion_check_nationality).countries,B=ci(F),U=await ss(ke.NATIONALITY_EXCLUSION,V,!0);B!==U&&(console.warn("The committed country list for the exclusion check does not match the one from the proof"),l=!1,h.nationality.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${B}`,message:"The committed country list for the exclusion check does not match the one from the proof"});const{isCorrect:O,queryResultErrors:z}=this.checkScopeFromDisclosureProof(F,h,"nationality",i),{isCorrect:Z,queryResultErrors:ee}=this.checkNationalityExclusionPublicInputs(n,V);l=l&&Z&&O,h={...h,...ee,...z},c=li(F).toString(10)}else if(G.name==="exclusion_check_issuing_country"){o=os(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the issuing country exclusion check"),l=!1,h.nationality.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the issuing country exclusion check"});const V=((D=G.committedInputs)==null?void 0:D.exclusion_check_issuing_country).countries,B=ci(F),U=await ss(ke.ISSUING_COUNTRY_EXCLUSION,V,!0);B!==U&&(console.warn("The committed country list for the issuing country exclusion check does not match the one from the proof"),l=!1,h.issuing_country.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${B}`,message:"The committed country list for the issuing country exclusion check does not match the one from the proof"});const{isCorrect:O,queryResultErrors:z}=this.checkScopeFromDisclosureProof(F,h,"nationality",i),{isCorrect:Z,queryResultErrors:ee}=this.checkIssuingCountryExclusionPublicInputs(n,V);l=l&&Z&&O,h={...h,...ee,...z},c=li(F).toString(10)}else if(G.name==="inclusion_check_nationality"){o=os(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the nationality inclusion check"),l=!1,h.nationality.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the nationality inclusion check"});const V=((M=G.committedInputs)==null?void 0:M.inclusion_check_nationality).countries,B=ci(F),U=await ss(ke.NATIONALITY_INCLUSION,V,!1);B!==U&&(console.warn("The committed country list for the nationality inclusion check does not match the one from the proof"),l=!1,h.nationality.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${B}`,message:"The committed country list for the nationality inclusion check does not match the one from the proof"});const{isCorrect:O,queryResultErrors:z}=this.checkScopeFromDisclosureProof(F,h,"nationality",i),{isCorrect:Z,queryResultErrors:ee}=this.checkNationalityInclusionPublicInputs(n,V);l=l&&Z&&O,h={...h,...ee,...z},c=li(F).toString(10)}else if(G.name==="inclusion_check_issuing_country"){o=os(F),o!==a&&(console.warn("Failed to check the link between the validity of the ID and the issuing country inclusion check"),l=!1,h.nationality.commitment={expected:`Commitment: ${a}`,received:`Commitment: ${o}`,message:"Failed to check the link between the validity of the ID and the issuing country inclusion check"});const V=((H=G.committedInputs)==null?void 0:H.inclusion_check_issuing_country).countries,B=ci(F),U=await ss(ke.ISSUING_COUNTRY_INCLUSION,V,!1);B!==U&&(console.warn("The committed country list for the issuing country inclusion check does not match the one from the proof"),l=!1,h.issuing_country.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${B}`,message:"The committed country list for the issuing country inclusion check does not match the one from the proof"});const{isCorrect:O,queryResultErrors:z}=this.checkScopeFromDisclosureProof(F,h,"nationality",i),{isCorrect:Z,queryResultErrors:ee}=this.checkIssuingCountryInclusionPublicInputs(n,V);l=l&&Z&&O,h={...h,...ee,...z},c=li(F).toString(10)}else if(G.name==="bind"){const V=(Q=G.committedInputs)==null?void 0:Q.bind,B=ci(F),U=await x2(sf(V.data));B!==U&&(console.warn("The bound data does not match the one from the proof"),l=!1,h.bind.commitment={expected:`Commitment: ${U}`,received:`Commitment: ${B}`,message:"The bound data does not match the one from the proof"});const{isCorrect:O,queryResultErrors:z}=this.checkBindPublicInputs(n,V.data);l=l&&O,h={...h,...z},c=li(F).toString(10)}}return{isCorrect:l,uniqueIdentifier:c,queryResultErrors:h}}async verify({proofs:t,queryResult:n,validity:r,scope:i,evmChain:s,devMode:o=!1,writingDirectory:a}){var b;if(!t||t.length===0)return{uniqueIdentifier:void 0,verified:!1};const l=n;l.birthdate&&l.birthdate.disclose&&(l.birthdate.disclose.result=new Date(l.birthdate.disclose.result)),l.expiry_date&&l.expiry_date.disclose&&(l.expiry_date.disclose.result=new Date(l.expiry_date.disclose.result));const{BarretenbergVerifier:c}=await Yt(async()=>{const{BarretenbergVerifier:g}=await import("./index-ymfv98zM.js");return{BarretenbergVerifier:g}},[]);typeof window>"u"&&!a&&(a="/tmp");const u=new c({crsPath:a?a+"/.bb-crs":void 0});let d=!0,h,m;const x=s?$6(s):void 0,{isCorrect:y,uniqueIdentifier:_,queryResultErrors:p}=await this.checkPublicInputs(t,l,r,i,x);if(h=_,d=y,m=y?void 0:p,h&&(BigInt(h)===BigInt(1)||BigInt(h)===BigInt(0))&&!o&&(d=!1,console.warn("You are trying to verify a mock proof. This is only allowed in dev mode. To enable dev mode, set the `devMode` parameter to `true` in the request function parameters.")),d){const g=new Nu({chainId:11155111}),E=await g.getCircuitManifest(void 0,{version:t[0].version});for(const C of t){const N=by(C.proof,gy(C.name)),k=await g.getPackagedCircuit(C.name,E);if((b=C.name)!=null&&b.startsWith("outer_evm"))try{const{createPublicClient:j,http:D}=await Yt(async()=>{const{createPublicClient:O,http:z}=await import("./index-COnth77O.js");return{createPublicClient:O,http:z}},__vite__mapDeps([3,4,5])),{sepolia:M}=await Yt(async()=>{const{sepolia:O}=await import("./index-BXoX4cjz.js");return{sepolia:O}},__vite__mapDeps([6,5])),{address:H,abi:Q,functionName:G}=this.getSolidityVerifierDetails("ethereum_sepolia"),F=j({chain:M,transport:D("https://ethereum-sepolia-rpc.publicnode.com")}),V=this.getSolidityVerifierParameters({proof:C,validityPeriodInDays:r,domain:this.domain,scope:i,devMode:o}),B=await F.readContract({address:H,abi:Q,functionName:G,args:[V]});d=Array.isArray(B)?!!B[0]:!1}catch(j){console.warn("Error verifying proof",j),d=!1}else{const j=Ti.Buffer.from(k.vkey,"base64");try{d=await u.verifyUltraHonkProof({proof:Ti.Buffer.from(N.proof.join(""),"hex"),publicInputs:N.publicInputs},new Uint8Array(j))}catch(D){console.warn("Error verifying proof",D),d=!1}}if(!d)break}}return h=d?h:void 0,{uniqueIdentifier:h,verified:d,queryResultErrors:m}}getSolidityVerifierDetails(t){const n={functionName:"verifyProof",abi:UG.abi};if(t==="ethereum_sepolia")return{...n,address:"0xDDeFf76024052D26B78A7Fac66FFbd6fbc5bd9Ad"};if(t==="local_anvil")return{...n,address:"0x0"};throw new Error(`Unsupported network: ${t}`)}getSolidityVerifierParameters({proof:t,validityPeriodInDays:n=7,domain:r,scope:i,devMode:s=!1}){var y,_;if(!((y=t.name)!=null&&y.startsWith("outer_evm")))throw new Error("This proof cannot be verified on an EVM chain. Please make sure to use the `compressed-evm` mode.");const o=by(t.proof,gy(t.name)),a=o.proof.slice(16),l=o.publicInputs.concat(o.proof.slice(0,16).map(p=>`0x${p}`));let c=[],u=[];for(const p in t.committedInputs){const b=qH(p),g=p;c.push({circuitName:g,count:b});let E="";if(g==="inclusion_check_issuing_country_evm"||g==="inclusion_check_nationality_evm"||g==="exclusion_check_issuing_country_evm"||g==="exclusion_check_nationality_evm"){const N=t.committedInputs[g].countries;(g==="exclusion_check_issuing_country_evm"||g==="exclusion_check_nationality_evm")&&N.sort((j,D)=>j.localeCompare(D)),E=(()=>{switch(g){case"exclusion_check_issuing_country_evm":return ke.ISSUING_COUNTRY_EXCLUSION;case"exclusion_check_nationality_evm":return ke.NATIONALITY_EXCLUSION;case"inclusion_check_issuing_country_evm":return ke.ISSUING_COUNTRY_INCLUSION;case"inclusion_check_nationality_evm":return ke.NATIONALITY_INCLUSION}})().toString(16).padStart(2,"0")+Ul(N.map(j=>Array.from(new TextEncoder().encode(j))).flat(),600).map(j=>j.toString(16).padStart(2,"0")).join("")}else if(g==="compare_age_evm"){const C=t.committedInputs[g],N=Array.from(new TextEncoder().encode(C.currentDate));E=ke.AGE.toString(16).padStart(2,"0")+N.map(k=>k.toString(16).padStart(2,"0")).join("")+C.minAge.toString(16).padStart(2,"0")+C.maxAge.toString(16).padStart(2,"0")}else if(g==="compare_birthdate_evm"){const C=t.committedInputs[g],N=Array.from(new TextEncoder().encode(C.currentDate)),k=Array.from(new TextEncoder().encode(C.minDate)),j=Array.from(new TextEncoder().encode(C.maxDate));E=ke.BIRTHDATE.toString(16).padStart(2,"0")+N.map(D=>D.toString(16).padStart(2,"0")).join("")+k.map(D=>D.toString(16).padStart(2,"0")).join("")+j.map(D=>D.toString(16).padStart(2,"0")).join("")}else if(g==="compare_expiry_evm"){const C=t.committedInputs[g],N=Array.from(new TextEncoder().encode(C.currentDate)),k=Array.from(new TextEncoder().encode(C.minDate)),j=Array.from(new TextEncoder().encode(C.maxDate));E=ke.EXPIRY_DATE.toString(16).padStart(2,"0")+N.map(D=>D.toString(16).padStart(2,"0")).join("")+k.map(D=>D.toString(16).padStart(2,"0")).join("")+j.map(D=>D.toString(16).padStart(2,"0")).join("")}else if(g==="disclose_bytes_evm"){const C=t.committedInputs[g];E=ke.DISCLOSE.toString(16).padStart(2,"0")+C.discloseMask.map(N=>N.toString(16).padStart(2,"0")).join("")+C.disclosedBytes.map(N=>N.toString(16).padStart(2,"0")).join("")}else if(g==="bind_evm"){const C=t.committedInputs[g];E=ke.BIND.toString(16).padStart(2,"0")+Ul(sf(C.data),500).map(N=>N.toString(16).padStart(2,"0")).join("")}else throw new Error(`Unsupported circuit for EVM verification: ${g}`);u.push({circuitName:g,inputs:E})}const d=o.publicInputs.slice(12,o.publicInputs.length-1);let h="",m=[];for(const p of d){const b=u.find(g=>{const E=mc(e$(g.inputs)),C=new Uint8Array(E.length);for(let N=0;N<E.length-1;N++)C[N+1]=E[N];return C[0]=0,om(C)===p.replace("0x","")});if(b){const g=(_=c.find(E=>E.circuitName===b.circuitName))==null?void 0:_.count;if(g)m.push(g),h+=b.inputs;else throw new Error(`Unknown circuit name: ${b.circuitName}`)}else throw new Error(`Invalid commitment: ${p}`)}return{vkeyHash:`0x${t.vkeyHash.replace("0x","").padStart(64,"0")}`,proof:`0x${a.join("")}`,publicInputs:l,committedInputs:`0x${h}`,committedInputCounts:m,validityPeriodInDays:n,domain:r??this.domain,scope:i??"",devMode:s}}_getUrl(t){const n=Ti.Buffer.from(JSON.stringify(this.topicToConfig[t])).toString("base64"),r=Ti.Buffer.from(JSON.stringify(this.topicToService[t])).toString("base64"),i=this.topicToPublicKey[t];return`https://zkpassport.id/r?d=${this.domain}&t=${t}&c=${n}&s=${r}&p=${i}&m=${this.topicToLocalConfig[t].mode}&v=${GW}`}getUrl(t){return this._getUrl(t)}cancelRequest(t){this.topicToBridge[t]&&(this.topicToBridge[t].close(),delete this.topicToBridge[t]),delete this.topicToPublicKey[t],delete this.topicToConfig[t],delete this.topicToLocalConfig[t],delete this.topicToProofs[t],delete this.topicToExpectedProofCount[t],delete this.topicToFailedProofCount[t],delete this.topicToResults[t],this.onRequestReceivedCallbacks[t]=[],this.onGeneratingProofCallbacks[t]=[],this.onBridgeConnectCallbacks[t]=[],this.onProofGeneratedCallbacks[t]=[],this.onRejectCallbacks[t]=[],this.onErrorCallbacks[t]=[]}clearAllRequests(){for(const t in this.topicToBridge)this.cancelRequest(t)}}var ZW={};class XW{constructor(){this.zkPassport=new WW(ZW.NEXT_PUBLIC_DOMAIN||"http://localhost:3000")}async verifyAge(t=18){try{const n=await this.zkPassport.request({name:"ZKPassport",logo:"https://gods-hand.vercel.app/assets/hand.png",purpose:`Prove you are ${t}+ years old`,scope:"adult",devMode:!0}),{url:r,onResult:i}=n.gte("age",t).done();return{url:r,onResult:i}}catch(n){throw console.error("ZKPassport verification error:",n),n}}async verifyAgeForVoting(){return this.verifyAge(18)}}const JW=new XW;var _d={},QW=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},e5={},Mn={};let f_;const eZ=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Mn.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Mn.getSymbolTotalCodewords=function(t){return eZ[t]};Mn.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Mn.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');f_=t};Mn.isKanjiModeEnabled=function(){return typeof f_<"u"};Mn.toSJIS=function(t){return f_(t)};var $p={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})($p);function t5(){this.buffer=[],this.length=0}t5.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var tZ=t5;function Ed(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Ed.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Ed.prototype.get=function(e,t){return this.data[e*this.size+t]};Ed.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Ed.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var nZ=Ed,n5={};(function(e){const t=Mn.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(n5);var r5={};const rZ=Mn.getSymbolSize,H6=7;r5.getPositions=function(t){const n=rZ(t);return[[0,0],[n-H6,0],[0,n-H6]]};var i5={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let d=0;d<s;d++){a=l=0,c=u=null;for(let h=0;h<s;h++){let m=i.get(d,h);m===c?a++:(a>=5&&(o+=t.N1+(a-5)),c=m,a=1),m=i.get(h,d),m===u?l++:(l>=5&&(o+=t.N1+(l-5)),u=m,l=1)}a>=5&&(o+=t.N1+(a-5)),l>=5&&(o+=t.N1+(l-5))}return o},e.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},e.getBestMask=function(i,s){const o=Object.keys(e.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),e.applyMask(c,i);const u=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(i5);var Hp={};const ks=$p,yf=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],bf=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Hp.getBlocksCount=function(t,n){switch(n){case ks.L:return yf[(t-1)*4+0];case ks.M:return yf[(t-1)*4+1];case ks.Q:return yf[(t-1)*4+2];case ks.H:return yf[(t-1)*4+3];default:return}};Hp.getTotalCodewordsCount=function(t,n){switch(n){case ks.L:return bf[(t-1)*4+0];case ks.M:return bf[(t-1)*4+1];case ks.Q:return bf[(t-1)*4+2];case ks.H:return bf[(t-1)*4+3];default:return}};var s5={},Gp={};const Du=new Uint8Array(512),mm=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Du[n]=t,mm[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Du[n]=Du[n-255]})();Gp.log=function(t){if(t<1)throw new Error("log("+t+")");return mm[t]};Gp.exp=function(t){return Du[t]};Gp.mul=function(t,n){return t===0||n===0?0:Du[mm[t]+mm[n]]};(function(e){const t=Gp;e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=t.mul(r[o],i[a]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=t.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}})(s5);const o5=s5;function h_(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}h_.prototype.initialize=function(t){this.degree=t,this.genPoly=o5.generateECPolynomial(this.degree)};h_.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=o5.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var iZ=h_,a5={},io={},m_={};m_.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var ti={};const l5="[0-9]+",sZ="[A-Z $%*+\\-./:]+";let E0="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";E0=E0.replace(/u/g,"\\u");const oZ="(?:(?![A-Z0-9 $%*+\\-./:]|"+E0+`)(?:.|[\r
]))+`;ti.KANJI=new RegExp(E0,"g");ti.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ti.BYTE=new RegExp(oZ,"g");ti.NUMERIC=new RegExp(l5,"g");ti.ALPHANUMERIC=new RegExp(sZ,"g");const aZ=new RegExp("^"+E0+"$"),lZ=new RegExp("^"+l5+"$"),cZ=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ti.testKanji=function(t){return aZ.test(t)};ti.testNumeric=function(t){return lZ.test(t)};ti.testAlphanumeric=function(t){return cZ.test(t)};(function(e){const t=m_,n=ti;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,o){if(e.isValid(s))return s;try{return r(s)}catch{return o}}})(io);(function(e){const t=Mn,n=Hp,r=$p,i=io,s=m_,o=7973,a=t.getBCHDigit(o);function l(h,m,x){for(let y=1;y<=40;y++)if(m<=e.getCapacity(y,x,h))return y}function c(h,m){return i.getCharCountIndicator(h,m)+4}function u(h,m){let x=0;return h.forEach(function(y){const _=c(y.mode,m);x+=_+y.getBitsLength()}),x}function d(h,m){for(let x=1;x<=40;x++)if(u(h,x)<=e.getCapacity(x,m,i.MIXED))return x}e.from=function(m,x){return s.isValid(m)?parseInt(m,10):x},e.getCapacity=function(m,x,y){if(!s.isValid(m))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const _=t.getSymbolTotalCodewords(m),p=n.getTotalCodewordsCount(m,x),b=(_-p)*8;if(y===i.MIXED)return b;const g=b-c(y,m);switch(y){case i.NUMERIC:return Math.floor(g/10*3);case i.ALPHANUMERIC:return Math.floor(g/11*2);case i.KANJI:return Math.floor(g/13);case i.BYTE:default:return Math.floor(g/8)}},e.getBestVersionForData=function(m,x){let y;const _=r.from(x,r.M);if(Array.isArray(m)){if(m.length>1)return d(m,_);if(m.length===0)return 1;y=m[0]}else y=m;return l(y.mode,y.getLength(),_)},e.getEncodedBits=function(m){if(!s.isValid(m)||m<7)throw new Error("Invalid QR Code version");let x=m<<12;for(;t.getBCHDigit(x)-a>=0;)x^=o<<t.getBCHDigit(x)-a;return m<<12|x}})(a5);var c5={};const nx=Mn,u5=1335,uZ=21522,G6=nx.getBCHDigit(u5);c5.getEncodedBits=function(t,n){const r=t.bit<<3|n;let i=r<<10;for(;nx.getBCHDigit(i)-G6>=0;)i^=u5<<nx.getBCHDigit(i)-G6;return(r<<10|i)^uZ};var d5={};const dZ=io;function Yl(e){this.mode=dZ.NUMERIC,this.data=e.toString()}Yl.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Yl.prototype.getLength=function(){return this.data.length};Yl.prototype.getBitsLength=function(){return Yl.getBitsLength(this.data.length)};Yl.prototype.write=function(t){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),t.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),t.put(i,s*3+1))};var fZ=Yl;const hZ=io,Gy=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Wl(e){this.mode=hZ.ALPHANUMERIC,this.data=e}Wl.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Wl.prototype.getLength=function(){return this.data.length};Wl.prototype.getBitsLength=function(){return Wl.getBitsLength(this.data.length)};Wl.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Gy.indexOf(this.data[n])*45;r+=Gy.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(Gy.indexOf(this.data[n]),6)};var mZ=Wl;const pZ=io;function Zl(e){this.mode=pZ.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Zl.getBitsLength=function(t){return t*8};Zl.prototype.getLength=function(){return this.data.length};Zl.prototype.getBitsLength=function(){return Zl.getBitsLength(this.data.length)};Zl.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var gZ=Zl;const yZ=io,bZ=Mn;function Xl(e){this.mode=yZ.KANJI,this.data=e}Xl.getBitsLength=function(t){return t*13};Xl.prototype.getLength=function(){return this.data.length};Xl.prototype.getBitsLength=function(){return Xl.getBitsLength(this.data.length)};Xl.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=bZ.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var vZ=Xl,f5={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var l,c,u,d,h,m,x,y,_;!a.empty();){l=a.pop(),c=l.value,d=l.cost,h=n[c]||{};for(u in h)h.hasOwnProperty(u)&&(m=h[u],x=d+m,y=o[u],_=typeof o[u]>"u",(_||y>x)&&(o[u]=x,a.push(u,x),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var p=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(p)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(f5);var xZ=f5.exports;(function(e){const t=io,n=fZ,r=mZ,i=gZ,s=vZ,o=ti,a=Mn,l=xZ;function c(p){return unescape(encodeURIComponent(p)).length}function u(p,b,g){const E=[];let C;for(;(C=p.exec(g))!==null;)E.push({data:C[0],index:C.index,mode:b,length:C[0].length});return E}function d(p){const b=u(o.NUMERIC,t.NUMERIC,p),g=u(o.ALPHANUMERIC,t.ALPHANUMERIC,p);let E,C;return a.isKanjiModeEnabled()?(E=u(o.BYTE,t.BYTE,p),C=u(o.KANJI,t.KANJI,p)):(E=u(o.BYTE_KANJI,t.BYTE,p),C=[]),b.concat(g,E,C).sort(function(k,j){return k.index-j.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function h(p,b){switch(b){case t.NUMERIC:return n.getBitsLength(p);case t.ALPHANUMERIC:return r.getBitsLength(p);case t.KANJI:return s.getBitsLength(p);case t.BYTE:return i.getBitsLength(p)}}function m(p){return p.reduce(function(b,g){const E=b.length-1>=0?b[b.length-1]:null;return E&&E.mode===g.mode?(b[b.length-1].data+=g.data,b):(b.push(g),b)},[])}function x(p){const b=[];for(let g=0;g<p.length;g++){const E=p[g];switch(E.mode){case t.NUMERIC:b.push([E,{data:E.data,mode:t.ALPHANUMERIC,length:E.length},{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.ALPHANUMERIC:b.push([E,{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.KANJI:b.push([E,{data:E.data,mode:t.BYTE,length:c(E.data)}]);break;case t.BYTE:b.push([{data:E.data,mode:t.BYTE,length:c(E.data)}])}}return b}function y(p,b){const g={},E={start:{}};let C=["start"];for(let N=0;N<p.length;N++){const k=p[N],j=[];for(let D=0;D<k.length;D++){const M=k[D],H=""+N+D;j.push(H),g[H]={node:M,lastCount:0},E[H]={};for(let Q=0;Q<C.length;Q++){const G=C[Q];g[G]&&g[G].node.mode===M.mode?(E[G][H]=h(g[G].lastCount+M.length,M.mode)-h(g[G].lastCount,M.mode),g[G].lastCount+=M.length):(g[G]&&(g[G].lastCount=M.length),E[G][H]=h(M.length,M.mode)+4+t.getCharCountIndicator(M.mode,b))}}C=j}for(let N=0;N<C.length;N++)E[C[N]].end=0;return{map:E,table:g}}function _(p,b){let g;const E=t.getBestModeForData(p);if(g=t.from(b,E),g!==t.BYTE&&g.bit<E.bit)throw new Error('"'+p+'" cannot be encoded with mode '+t.toString(g)+`.
 Suggested mode is: `+t.toString(E));switch(g===t.KANJI&&!a.isKanjiModeEnabled()&&(g=t.BYTE),g){case t.NUMERIC:return new n(p);case t.ALPHANUMERIC:return new r(p);case t.KANJI:return new s(p);case t.BYTE:return new i(p)}}e.fromArray=function(b){return b.reduce(function(g,E){return typeof E=="string"?g.push(_(E,null)):E.data&&g.push(_(E.data,E.mode)),g},[])},e.fromString=function(b,g){const E=d(b,a.isKanjiModeEnabled()),C=x(E),N=y(C,g),k=l.find_path(N.map,"start","end"),j=[];for(let D=1;D<k.length-1;D++)j.push(N.table[k[D]].node);return e.fromArray(m(j))},e.rawSplit=function(b){return e.fromArray(d(b,a.isKanjiModeEnabled()))}})(d5);const qp=Mn,qy=$p,wZ=tZ,SZ=nZ,_Z=n5,EZ=r5,rx=i5,ix=Hp,CZ=iZ,pm=a5,AZ=c5,TZ=io,Ky=d5;function kZ(e,t){const n=e.size,r=EZ.getPositions(t);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?e.set(s+a,o+l,!0,!0):e.set(s+a,o+l,!1,!0))}}function IZ(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function BZ(e,t){const n=_Z.getPositions(t);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?e.set(i+o,s+a,!0,!0):e.set(i+o,s+a,!1,!0)}}function NZ(e,t){const n=e.size,r=pm.getEncodedBits(t);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,e.set(i,s,o,!0),e.set(s,i,o,!0)}function Yy(e,t,n){const r=e.size,i=AZ.getEncodedBits(t,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(r-15+s,8,o,!0),s<8?e.set(8,r-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(r-8,8,1,!0)}function jZ(e,t){const n=e.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!e.isReserved(i,a-l)){let c=!1;o<t.length&&(c=(t[o]>>>s&1)===1),e.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function RZ(e,t,n){const r=new wZ;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),TZ.getCharCountIndicator(l.mode,e)),l.write(r)});const i=qp.getSymbolTotalCodewords(e),s=ix.getTotalCodewordsCount(e,t),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return OZ(r,e,t)}function OZ(e,t,n){const r=qp.getSymbolTotalCodewords(t),i=ix.getTotalCodewordsCount(t,n),s=r-i,o=ix.getBlocksCount(t,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),d=u+1,h=c-u,m=new CZ(h);let x=0;const y=new Array(o),_=new Array(o);let p=0;const b=new Uint8Array(e.buffer);for(let k=0;k<o;k++){const j=k<l?u:d;y[k]=b.slice(x,x+j),_[k]=m.encode(y[k]),x+=j,p=Math.max(p,j)}const g=new Uint8Array(r);let E=0,C,N;for(C=0;C<p;C++)for(N=0;N<o;N++)C<y[N].length&&(g[E++]=y[N][C]);for(C=0;C<h;C++)for(N=0;N<o;N++)g[E++]=_[N][C];return g}function DZ(e,t,n,r){let i;if(Array.isArray(e))i=Ky.fromArray(e);else if(typeof e=="string"){let c=t;if(!c){const u=Ky.rawSplit(e);c=pm.getBestVersionForData(u,n)}i=Ky.fromString(e,c||40)}else throw new Error("Invalid data");const s=pm.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=RZ(t,n,i),a=qp.getSymbolSize(t),l=new SZ(a);return kZ(l,t),IZ(l),BZ(l,t),Yy(l,n,0),t>=7&&NZ(l,t),jZ(l,o),isNaN(r)&&(r=rx.getBestMask(l,Yy.bind(null,l,n))),rx.applyMask(r,l),Yy(l,n,r),{modules:l,version:t,errorCorrectionLevel:n,maskPattern:r,segments:i}}e5.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=qy.M,i,s;return typeof n<"u"&&(r=qy.from(n.errorCorrectionLevel,qy.M),i=pm.from(n.version),s=rx.from(n.maskPattern),n.toSJISFunc&&qp.setToSJISFunction(n.toSJISFunc)),DZ(t,i,r,s)};var h5={},p_={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=e.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,d=[s.color.light,s.color.dark];for(let h=0;h<c;h++)for(let m=0;m<c;m++){let x=(h*c+m)*4,y=s.color.light;if(h>=u&&m>=u&&h<c-u&&m<c-u){const _=Math.floor((h-u)/l),p=Math.floor((m-u)/l);y=d[a[_*o+p]?1:0]}r[x++]=y.r,r[x++]=y.g,r[x++]=y.b,r[x]=y.a}}})(p_);(function(e){const t=p_;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=t.getOptions(l);const u=t.getImageWidth(s.modules.size,l),d=c.getContext("2d"),h=d.createImageData(u,u);return t.qrToImageData(h.data,s,l),n(d,c,u),d.putImageData(h,0,0),c},e.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=e.render(s,o,l),u=l.type||"image/png",d=l.rendererOpts||{};return c.toDataURL(u,d.quality)}})(h5);var m5={};const MZ=p_;function q6(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Wy(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function UZ(e,t,n){let r="",i=0,s=!1,o=0;for(let a=0;a<e.length;a++){const l=Math.floor(a%t),c=Math.floor(a/t);!l&&!s&&(s=!0),e[a]?(o++,a>0&&l>0&&e[a-1]||(r+=s?Wy("M",l+n,.5+c+n):Wy("m",i,0),i=0,s=!1),l+1<t&&e[a+1]||(r+=Wy("h",o),o=0)):i++}return r}m5.render=function(t,n,r){const i=MZ.getOptions(n),s=t.modules.size,o=t.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+q6(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+q6(i.color.dark,"stroke")+' d="'+UZ(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,h),h};const LZ=QW,sx=e5,p5=h5,PZ=m5;function g_(e,t,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!LZ())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(l,c){try{const u=sx.create(n,r);l(e(u,t,r))}catch(u){c(u)}})}try{const l=sx.create(n,r);i(null,e(l,t,r))}catch(l){i(l)}}_d.create=sx.create;_d.toCanvas=g_.bind(null,p5.render);_d.toDataURL=g_.bind(null,p5.renderToDataURL);_d.toString=g_.bind(null,function(e,t,n){return PZ.render(e,n)});function FZ({isOpen:e,onClose:t,claimId:n,organizationName:r,claimedAmount:i,reason:s,onVoteComplete:o}){const[a,l]=S.useState("verification"),[c,u]=S.useState(!1),[d,h]=S.useState(""),[m,x]=S.useState(null),[y,_]=S.useState(!1),[p,b]=S.useState(""),g=tr(),E=async()=>{u(!0),h("Generating QR code...");try{const{url:D,onResult:M}=await JW.verifyAgeForVoting(),H=document.getElementById("qr-canvas");H&&(await _d.toCanvas(H,D),h("Scan the QR code with your phone to verify your age")),M(({verified:Q,result:G})=>{var F,V;Q?((V=(F=G.age)==null?void 0:F.gte)==null?void 0:V.result)?(h(" Age verification successful! You can now vote."),setTimeout(()=>{l("voting"),u(!1),h("")},2e3)):(h(" You must be 18+ years old to vote on funding claims."),u(!1)):(h(" Verification failed. Please try again."),u(!1))})}catch(D){console.error("Verification error:",D),h(` Error: ${D instanceof Error?D.message:"Verification failed"}`),u(!1)}},C=async()=>{if(m){_(!0),b("Submitting your vote...");try{const{error:D}=await g.from("votes").insert({claim_id:n,vote_type:m,voter_ip:null});if(D)throw D;b(" Vote submitted successfully!"),l("success"),o(m),setTimeout(()=>{t(),N()},2e3)}catch(D){console.error("Vote submission error:",D),b(` Error: ${D instanceof Error?D.message:"Failed to submit vote"}`),_(!1)}}},N=()=>{l("verification"),u(!1),h(""),x(null),_(!1),b("")};S.useEffect(()=>{e||N()},[e]);const k=D=>{switch(D){case"accept":return" Accept Request";case"reject":return" Reject Request";case"raise_amount":return" Raise Amount";case"lower_amount":return" Lower Amount";default:return D}},j=D=>{switch(D){case"accept":return"Approve the funding request as submitted";case"reject":return"Reject the funding request entirely";case"raise_amount":return"Approve but suggest a higher amount";case"lower_amount":return"Approve but suggest a lower amount";default:return""}};return f.jsx(n0,{children:e&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{paddingTop:"120px"},children:[f.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),f.jsx(Gt.div,{initial:{opacity:0,scale:.8,rotateX:-15},animate:{opacity:1,scale:1,rotateX:0},exit:{opacity:0,scale:.8,rotateX:15},transition:{type:"spring",damping:20,stiffness:300},className:"relative max-w-3xl w-full h-fit",style:{maxHeight:"calc(100vh - 160px)"},children:f.jsxs("div",{className:"relative rounded-2xl border-4 border-amber-800 shadow-2xl",style:{backgroundColor:"#cbb287"},children:[f.jsx("div",{className:"absolute -top-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -bottom-2 left-4 right-4 h-4 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-full"}),f.jsx("div",{className:"absolute -left-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsx("div",{className:"absolute -right-3 top-2 bottom-2 w-6 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full shadow-lg"}),f.jsxs("div",{className:"p-6",children:[f.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-amber-900 hover:text-black transition-colors z-10",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-['Cinzel'] mb-2 drop-shadow-sm",children:"Cast Your Vote"}),f.jsxs("div",{className:"text-gray-800 font-['Cinzel'] text-sm",children:[f.jsx("div",{className:"font-bold",children:r}),f.jsxs("div",{className:"text-xl font-black text-amber-800 mt-1",children:["$",i.toLocaleString()]})]})]}),f.jsxs(n0,{mode:"wait",children:[a==="verification"&&f.jsxs(Gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] mb-2",children:"Age Verification Required"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] mb-4 leading-relaxed",children:"Scan the QR code with your phone to verify you are 18+ using ZKPassport."})]}),c&&f.jsx("div",{className:"mb-4 text-center",children:f.jsx("canvas",{id:"qr-canvas",className:"mx-auto border-2 border-amber-600 rounded-lg bg-white p-4"})}),d&&f.jsx("div",{className:"mb-4 p-3 bg-amber-200/70 border border-amber-600/50 rounded-lg",children:f.jsx("p",{className:"text-gray-900 font-['Cinzel'] text-sm text-center font-medium",children:d})}),f.jsx("button",{onClick:E,disabled:c,className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 disabled:text-gray-500 text-gray-900 font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel']",children:c?"Waiting for verification...":"Generate QR Code"})]},"verification"),a==="voting"&&f.jsxs(Gt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 font-['Cinzel'] mb-3 text-center",children:"Select Your Vote"}),f.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 mb-4",children:f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-sm leading-relaxed",children:s})})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:["accept","reject","raise_amount","lower_amount"].map(D=>f.jsxs("button",{onClick:()=>x(D),className:`p-4 rounded-lg border-2 transition-all duration-300 font-['Cinzel'] text-left ${m===D?"border-amber-600 bg-amber-100/50 shadow-lg":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:[f.jsx("div",{className:"font-bold text-gray-900 mb-1",children:k(D)}),f.jsx("div",{className:"text-gray-700 text-xs",children:j(D)})]},D))}),p&&f.jsx("div",{className:"mb-4 p-3 bg-amber-200/70 border border-amber-600/50 rounded-lg",children:f.jsx("p",{className:"text-gray-900 font-['Cinzel'] text-sm text-center font-medium",children:p})}),f.jsx("button",{onClick:C,disabled:!m||y,className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 hover:bg-white/20 disabled:bg-gray-400/20 disabled:border-gray-400/30 disabled:text-gray-500 text-gray-900 font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none font-['Cinzel']",children:y?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-900",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Vote..."]}):`Submit Vote: ${m?k(m):"Select an option"}`})]},"voting"),a==="success"&&f.jsx(Gt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100/60 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] mb-2",children:"Vote Submitted Successfully!"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] leading-relaxed",children:"Thank you for participating in the democratic funding process. Your vote has been recorded."})]})},"success")]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-xs italic",children:" Your voice matters in disaster relief decisions "})})]})]})})]})})}function zZ({user:e,organization:t,eventId:n}){const r=vn(),i=tr(),[s,o]=S.useState(null),[a,l]=S.useState([]),[c,u]=S.useState(!0),[d,h]=S.useState({}),[m,x]=S.useState({}),[y,_]=S.useState("donations"),[p,b]=S.useState(!1),[g,E]=S.useState(!1),[C,N]=S.useState({isOpen:!1,claimId:"",organizationName:"",claimedAmount:0,reason:""}),k=e&&t?a.find(F=>F.org_id===t.id):null,j=F=>{const V=new Date(F),B=V.getFullYear(),U=String(V.getMonth()+1).padStart(2,"0");return`${String(V.getDate()).padStart(2,"0")}/${U}/${B}`},D=F=>{const V=new Date(F),B=V.getFullYear(),U=String(V.getMonth()+1).padStart(2,"0"),O=String(V.getDate()).padStart(2,"0"),z=String(V.getHours()).padStart(2,"0"),Z=String(V.getMinutes()).padStart(2,"0");return`${O}/${U}/${B} ${z}:${Z}`};S.useEffect(()=>{async function F(){try{u(!0);const{data:V,error:B}=await i.from("events").select("*").eq("id",n).single();if(B){console.error("Error fetching event:",B);return}o(V);const{data:U,error:O}=await i.from("claims").select(`
            *,
            organizations!claims_org_id_fkey (
              organization_name
            )
          `).eq("event_id",n).order("created_at",{ascending:!1});O?console.error("Error fetching claims:",O):l(U||[])}catch(V){console.error("Error fetching data:",V)}finally{u(!1)}}F()},[n,i]);const M=async(F,V)=>{h(B=>({...B,[F]:V})),x(B=>({...B,[F]:!0})),console.log(`Voted ${V} for claim ${F}`)},H=F=>{var V;N({isOpen:!0,claimId:F.id,organizationName:((V=F.organizations)==null?void 0:V.organization_name)||"Unknown Organization",claimedAmount:F.claimed_amount,reason:F.reason})},Q=F=>{switch(F){case"voting":return"bg-blue-100 text-blue-800 border-blue-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"waiting_for_ai":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"claimed":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},G=F=>{switch(F){case"voting":return"Open for Voting";case"approved":return"Approved";case"rejected":return"Rejected";case"waiting_for_ai":return"Under Review";case"claimed":return"Funds Claimed";default:return F}};return f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"}),f.jsx("div",{className:"absolute inset-0 opacity-60",children:f.jsx("img",{src:"/assets/clouds.PNG",alt:"Divine Clouds",className:"w-full h-full object-cover"})})]}),f.jsx(kw,{}),f.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-6 py-8",style:{paddingTop:"100px"},children:[f.jsx("div",{className:"mb-6",children:f.jsxs("button",{onClick:()=>r(-1),className:"inline-flex items-center text-gray-700 hover:text-gray-900 font-['Cinzel'] transition-colors",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Events"]})}),c&&f.jsx(zV,{message:"Loading Sacred Event Details...",size:"large"}),!c&&!s&&f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-6",children:f.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] text-lg",children:"Event not found."})]}),!c&&s&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl mb-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4 font-['Cinzel']",children:s.title}),f.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center text-gray-700 font-['Cinzel']",children:[f.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.disaster_location]}),f.jsxs("div",{className:"flex items-center text-gray-700 font-['Cinzel']",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),j(s.created_at)]})]}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] leading-relaxed mb-6",children:s.description}),f.jsxs("a",{href:s.source,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-white/20 hover:bg-white/30 text-gray-800 font-medium py-2 px-3 rounded-lg transition-colors font-['Cinzel'] text-sm backdrop-blur-sm border border-white/30",children:[f.jsx("svg",{className:"w-3 h-3 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Source"]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"text-center p-4 bg-amber-100/20 rounded-xl border border-amber-200/30 backdrop-blur-sm",children:[f.jsx("p",{className:"text-sm text-gray-700 font-['Cinzel'] mb-1",children:"Total Needed"}),f.jsxs("p",{className:"text-3xl font-bold text-gray-900 font-['Cinzel'] drop-shadow-sm",children:["$",s.estimated_amount_required.toLocaleString()]})]}),f.jsx("button",{onClick:()=>b(!0),className:"w-full bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] font-['Cinzel']",children:"Donate Now"})]})]})}),k&&f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl mb-8",children:[f.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 font-['Cinzel'] flex items-center drop-shadow-sm",children:[f.jsx("svg",{className:"w-8 h-8 mr-4 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"My Claim Status"]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] drop-shadow-sm",children:"Your Funding Request"}),f.jsxs("p",{className:"text-base text-gray-700 font-['Cinzel'] font-medium mt-1",children:["Requested: $",k.claimed_amount.toLocaleString()]})]}),f.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold border ${Q(k.claim_state)} font-['Cinzel'] drop-shadow-sm`,children:G(k.claim_state)})]}),f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-base mb-4 leading-relaxed font-medium",children:k.reason}),f.jsxs("div",{className:"text-sm text-gray-600 font-['Cinzel'] font-medium",children:["Submitted: ",D(k.created_at)]}),k.claim_state==="voting"&&f.jsx("div",{className:"mt-4 p-4 bg-blue-50/50 rounded-lg border border-blue-200/50",children:f.jsx("p",{className:"text-blue-800 font-['Cinzel'] font-medium text-center",children:" Your claim is currently being reviewed by the community. Check the Fund Claims tab to see voting progress."})}),k.claim_state==="approved"&&f.jsx("div",{className:"mt-4 p-4 bg-green-50/50 rounded-lg border border-green-200/50",children:f.jsx("p",{className:"text-green-800 font-['Cinzel'] font-medium text-center",children:" Congratulations! Your claim has been approved. Funds will be distributed shortly."})}),k.claim_state==="rejected"&&f.jsx("div",{className:"mt-4 p-4 bg-red-50/50 rounded-lg border border-red-200/50",children:f.jsx("p",{className:"text-red-800 font-['Cinzel'] font-medium text-center",children:" Your claim was not approved by the community. You may submit a new request with additional justification."})})]})]}),f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"flex mb-6 bg-white/10 backdrop-blur-xl rounded-2xl p-2 border border-white/20 shadow-lg",children:[f.jsxs("button",{onClick:()=>_("donations"),className:`flex-1 flex items-center justify-center py-3 px-6 rounded-xl font-['Cinzel'] font-semibold transition-all duration-300 ${y==="donations"?"bg-amber-700 text-white shadow-lg":"text-gray-700 hover:bg-white/20"}`,children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Recent Donations"]}),f.jsxs("button",{onClick:()=>_("claims"),className:`flex-1 flex items-center justify-center py-3 px-6 rounded-xl font-['Cinzel'] font-semibold transition-all duration-300 ${y==="claims"?"bg-amber-700 text-white shadow-lg":"text-gray-700 hover:bg-white/20"}`,children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Fund Claims (",a.length,")"]})]}),f.jsx("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl overflow-hidden",children:f.jsx(n0,{mode:"wait",children:y==="donations"?f.jsxs(Gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:"easeInOut"},children:[f.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 font-['Cinzel'] flex items-center drop-shadow-sm",children:[f.jsx("svg",{className:"w-8 h-8 mr-4 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Recent Donations"]}),f.jsxs("div",{className:"bg-transparent rounded-lg p-4 border border-gray-300/50",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center py-2 border-b border-gray-300/30 mb-3",children:[f.jsx("div",{className:"font-mono text-black text-sm font-bold",children:"DONOR_ID"}),f.jsx("div",{className:"font-mono text-black text-sm font-bold",children:"AMOUNT_USD"}),f.jsx("div",{className:"font-mono text-black text-sm font-bold",children:"TIMESTAMP"})]}),f.jsx("div",{className:"space-y-2",children:[{donor:"X7K9#M2@P5L",amount:"$#@!%*&",time:"2024:##:##"},{donor:"Q3R8@N4$W7",amount:"*&%#$@!",time:"2024:##:##"},{donor:"Z9F2#K5@M8L",amount:"#$%&*@",time:"2024:##:##"},{donor:"B6H3@R7$Q2",amount:"@!#%*&",time:"2024:##:##"},{donor:"V4N8#L1@K9",amount:"*&#@%$",time:"2024:##:##"},{donor:"T2M7@F5#P8",amount:"%$#@!*",time:"2024:##:##"},{donor:"D1Q6#R3@N4",amount:"&*%#@$",time:"2024:##:##"},{donor:"S8L5@K2#M7",amount:"#@!%*&",time:"2024:##:##"}].map((F,V)=>f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center py-1 hover:bg-gray-100/20 transition-colors rounded",children:[f.jsx("div",{className:"font-mono text-black text-sm",children:f.jsx(ay,{text:F.donor,animateOn:"view",speed:60,maxIterations:12,characters:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%&*!?",className:"font-mono text-black",encryptedClassName:"text-black"})}),f.jsx("div",{className:"font-mono text-black text-sm",children:f.jsx(ay,{text:F.amount,animateOn:"view",speed:80,maxIterations:15,characters:"$@#%&*!?0123456789ABCDEF",className:"font-mono text-black",encryptedClassName:"text-black"})}),f.jsx("div",{className:"font-mono text-black text-sm",children:f.jsx(ay,{text:F.time,animateOn:"view",speed:70,maxIterations:10,characters:"0123456789:#-ABCDEF",className:"font-mono text-black",encryptedClassName:"text-black"})})]},V))})]})]},"donations"):f.jsxs(Gt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeInOut"},children:[f.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 font-['Cinzel'] flex items-center drop-shadow-sm",children:[f.jsx("svg",{className:"w-8 h-8 mr-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Fund Claims (",a.length,")"]}),f.jsx("div",{className:"space-y-6 max-h-96 overflow-y-auto",children:a.map(F=>{var V;return f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 border border-white/30 hover:bg-white/25 transition-colors",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] drop-shadow-sm",children:((V=F.organizations)==null?void 0:V.organization_name)||"Unknown Organization"}),f.jsxs("div",{className:"text-2xl font-black text-amber-800 font-['Cinzel'] font-bold mt-2 drop-shadow-lg",children:["$",F.claimed_amount.toLocaleString()]})]}),f.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold border ${Q(F.claim_state)} font-['Cinzel'] drop-shadow-sm`,children:G(F.claim_state)})]}),f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-base mb-4 leading-relaxed font-medium",children:F.reason}),F.claim_state==="voting"&&f.jsxs("div",{className:"mt-4 p-4 bg-blue-50/50 rounded-lg border border-blue-200/50",children:[f.jsx("h4",{className:"font-bold text-gray-900 mb-3 font-['Cinzel'] text-lg",children:"Community Voting:"}),m[F.id]?f.jsx("div",{className:"text-center py-4",children:f.jsxs("div",{className:"inline-flex items-center text-green-700 font-['Cinzel'] font-bold text-lg",children:[f.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Vote submitted: ",d[F.id]]})}):f.jsxs("div",{className:"text-center",children:[f.jsx("button",{onClick:()=>H(F),className:"bg-amber-700 hover:bg-amber-800 text-white font-bold py-3 px-8 rounded-lg transition-colors font-['Cinzel'] shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Cast Your Vote"}),f.jsx("p",{className:"text-blue-700 font-['Cinzel'] text-xs mt-2 italic",children:"Age verification required via ZKPassport"})]})]}),f.jsxs("div",{className:"mt-4 text-sm text-gray-600 font-['Cinzel'] font-medium",children:["Submitted: ",D(F.created_at)]})]},F.id)})})]},"claims")})})]}),f.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 font-['Cinzel'] drop-shadow-lg bg-gradient-to-b from-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Request Relief Funds"}),f.jsx("p",{className:"text-gray-800 font-['Cinzel'] text-lg max-w-3xl mx-auto leading-relaxed font-medium",children:"Organizations can submit funding requests for relief efforts. All requests go through a transparent community voting process to ensure funds reach legitimate causes."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-100/60 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:f.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] mb-3 drop-shadow-sm",children:"1. Submit Request"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] font-medium",children:"Submit your funding request with detailed justification and required amount"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-amber-100/60 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:f.jsx("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] mb-3 drop-shadow-sm",children:"2. Community Review"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] font-medium",children:"The community votes to accept, reject, or adjust your funding request"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100/60 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:f.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 font-['Cinzel'] mb-3 drop-shadow-sm",children:"3. Receive Funds"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] font-medium",children:"Approved requests receive funds directly for disaster relief operations"})]})]}),e&&t?f.jsxs("div",{className:"text-center",children:[f.jsx("button",{onClick:()=>E(!0),disabled:!!k,className:`font-bold py-6 px-12 rounded-2xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] text-xl ${k?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white"}`,children:k?"Request Already Submitted":"Request Funds"}),f.jsx("p",{className:"text-gray-600 font-['Cinzel'] text-sm mt-4 italic",children:k?" You have already submitted a funding request for this event":" Anonymous voting ensures fair and transparent fund distribution"})]}):e&&!t?f.jsxs("div",{className:"text-center",children:[f.jsx(Eo,{to:"/kyb",className:"inline-block bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 text-white font-bold py-6 px-12 rounded-2xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] text-xl",children:"Complete KYB Verification"}),f.jsx("p",{className:"text-gray-600 font-['Cinzel'] text-sm mt-4 italic",children:" Complete organization verification to submit funding requests"})]}):f.jsxs("div",{className:"text-center",children:[f.jsx(Eo,{to:"/login",className:"inline-block bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 text-white font-bold py-6 px-12 rounded-2xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-[1.02] font-['Cinzel'] text-xl",children:"Sign In to Request Funds"}),f.jsx("p",{className:"text-gray-600 font-['Cinzel'] text-sm mt-4 italic",children:" Register your organization to submit funding requests"})]})]})]})]}),f.jsx(VV,{isOpen:p,onClose:()=>b(!1),eventTitle:(s==null?void 0:s.title)||"Disaster Relief Event"}),e&&t&&f.jsx($V,{isOpen:g,onClose:()=>E(!1),eventTitle:(s==null?void 0:s.title)||"Disaster Relief Event",eventId:(s==null?void 0:s.id)||"",user:e,organization:t}),C.isOpen&&f.jsx(FZ,{isOpen:C.isOpen,onClose:()=>N({isOpen:!1,claimId:"",organizationName:"",claimedAmount:0,reason:""}),claimId:C.claimId,organizationName:C.organizationName,claimedAmount:C.claimedAmount,reason:C.reason,onVoteComplete:F=>M(C.claimId,F)})]})}function VZ(){const{id:e}=k4(),[t,n]=S.useState(null),[r,i]=S.useState(null),[s,o]=S.useState(!0),a=tr();return S.useEffect(()=>{async function l(){try{const{data:{user:c}}=await a.auth.getUser();if(n(c),c){const{data:u}=await a.from("organizations").select("*").eq("user_id",c.id).single();i(u)}}catch(c){console.error("Error loading data:",c)}finally{o(!1)}}l()},[a]),s?f.jsx("div",{children:"Loading..."}):e?f.jsx(zZ,{user:t,organization:r,eventId:e}):f.jsx("div",{children:"Event not found"})}function $Z({organization:e,petitions:t}){const n=vn(),r=i=>{switch(i){case"approved":return"bg-green-500/20 text-green-800 border border-green-500/30";case"funded":return"bg-blue-500/20 text-blue-800 border border-blue-500/30";case"rejected":return"bg-red-500/20 text-red-800 border border-red-500/30";case"under_review":return"bg-yellow-500/20 text-yellow-800 border border-yellow-500/30";default:return"bg-gray-500/20 text-gray-800 border border-gray-500/30"}};return f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"}),f.jsx("div",{className:"absolute inset-0 opacity-60",children:f.jsx("img",{src:"/assets/clouds.PNG",alt:"Divine Clouds",className:"w-full h-full object-cover"})})]}),f.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-6 py-8",children:[f.jsxs("div",{className:"mb-12",children:[f.jsxs("button",{onClick:()=>n("/events"),className:"text-gray-800 hover:text-gray-900 mb-6 flex items-center bg-white/20 backdrop-blur-md rounded-full px-4 py-2 transition-all duration-300 font-['Cinzel']",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Events"]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4 font-['Cinzel'] tracking-wide",children:"My Petitions"}),f.jsxs("p",{className:"text-gray-700 text-lg font-['Cinzel']",children:["Track the status of your fund requests for"," ",e.organization_name]})]})]}),t.length===0?f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-12 shadow-2xl text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx("svg",{className:"w-10 h-10 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4 font-['Cinzel']",children:"No Petitions Yet"}),f.jsx("p",{className:"text-gray-700 mb-8 text-lg font-['Cinzel']",children:"You haven't submitted any fund petitions yet. Visit the events page to browse available relief missions."}),f.jsx("button",{onClick:()=>n("/events"),className:"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] hover:from-[#ffed4e] hover:to-[#ffd700] text-gray-900 px-8 py-4 rounded-xl font-semibold font-['Cinzel'] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Browse Relief Missions"})]}):f.jsx("div",{className:"space-y-8",children:t.map(i=>{var s;return f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl hover:shadow-3xl transition-all duration-300",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-3 font-['Cinzel']",children:i.petition_title}),f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-700",children:[f.jsxs("span",{className:"font-['Cinzel']",children:["Fund: ",i.fund_vaults.vault_name]}),f.jsx("span",{children:""}),f.jsxs("span",{className:"font-['Cinzel']",children:["Submitted:"," ",new Date(i.created_at).toLocaleDateString()]})]})]}),f.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full font-['Cinzel'] ${r(i.status)}`,children:(s=i.status)==null?void 0:s.replace("_"," ").toUpperCase()})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 font-['Cinzel']",children:"Requested Amount"}),f.jsxs("p",{className:"text-xl font-bold text-gray-900 font-['Cinzel']",children:["$",i.requested_amount.toLocaleString()]})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 font-['Cinzel']",children:"Project Location"}),f.jsx("p",{className:"text-xl font-bold text-gray-900 font-['Cinzel']",children:i.project_location})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 font-['Cinzel']",children:"Beneficiaries"}),f.jsx("p",{className:"text-xl font-bold text-gray-900 font-['Cinzel']",children:i.beneficiaries_count.toLocaleString()})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 font-['Cinzel']",children:"Timeline"}),f.jsx("p",{className:"text-xl font-bold text-gray-900 font-['Cinzel']",children:i.project_timeline})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3 font-['Cinzel']",children:"Project Description"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] leading-relaxed",children:i.petition_description})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3 font-['Cinzel']",children:"Expected Impact"}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] leading-relaxed",children:i.expected_impact})]}),i.approved_amount&&f.jsxs("div",{className:"bg-green-500/10 backdrop-blur-sm border border-green-500/20 rounded-2xl p-4 mb-6",children:[f.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2 font-['Cinzel']",children:"Approved Amount"}),f.jsxs("p",{className:"text-2xl font-bold text-green-900 font-['Cinzel']",children:["$",i.approved_amount.toLocaleString()]})]}),i.funded_amount&&f.jsxs("div",{className:"bg-blue-500/10 backdrop-blur-sm border border-blue-500/20 rounded-2xl p-4 mb-6",children:[f.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2 font-['Cinzel']",children:"Funded Amount"}),f.jsxs("p",{className:"text-2xl font-bold text-blue-900 font-['Cinzel']",children:["$",i.funded_amount.toLocaleString()]})]}),i.review_notes&&f.jsxs("div",{className:"bg-yellow-500/10 backdrop-blur-sm border border-yellow-500/20 rounded-2xl p-4",children:[f.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-2 font-['Cinzel']",children:"Review Notes"}),f.jsx("p",{className:"text-yellow-700 font-['Cinzel'] leading-relaxed",children:i.review_notes})]})]},i.id)})})]})]})}function HZ(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,s]=S.useState([]),[o,a]=S.useState(!0),l=vn(),c=tr();return S.useEffect(()=>{async function u(){try{const{data:{user:d}}=await c.auth.getUser();if(!d){l("/login");return}t(d);const{data:h}=await c.from("organizations").select("*").eq("user_id",d.id).single();if(!h){l("/kyb");return}r(h);const{data:m}=await c.from("fund_petitions").select(`
            *,
            fund_vaults (
              vault_name,
              disaster_type,
              location
            )
          `).eq("organization_id",h.id).order("created_at",{ascending:!1});s(m||[])}catch(d){console.error("Error loading data:",d)}finally{a(!1)}}u()},[l,c]),o?f.jsx("div",{children:"Loading..."}):f.jsx($Z,{user:e,organization:n,petitions:i})}function GZ(){const{id:e}=k4();return f.jsxs("div",{children:[f.jsx("h1",{children:"Petition Details"}),f.jsxs("p",{children:["Petition ID: ",e]})]})}function qZ(){const[e,t]=S.useState(""),[n,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState(!1),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[h,m]=S.useState(!1),[x,y]=S.useState(""),[_,p]=S.useState(""),[b,g]=S.useState(!1),[E,C]=S.useState(!1),[N,k]=S.useState(0),[j,D]=S.useState(!1),[M,H]=S.useState(""),[Q,G]=S.useState(!1),F=vn(),[V]=cU(),B=tr(),U=()=>{const Y=V.get("redirect");return Y?decodeURIComponent(Y):"/events"};S.useEffect(()=>{const Y=V.get("error"),te=V.get("message");Y&&p(decodeURIComponent(Y)),te&&y(decodeURIComponent(te))},[V]),S.useEffect(()=>{let Y;return N>0&&(Y=setInterval(()=>{k(te=>te<=1?(C(!0),0):te-1)},1e3)),()=>clearInterval(Y)},[N]);const O=n.length>=8,z=/[A-Z]/.test(n),Z=/[a-z]/.test(n),ee=/\d/.test(n),ue=O&&z&&Z&&ee,de=n===i,fe=async Y=>{if(Y.preventDefault(),d(!0),p(""),y(""),h){if(!O){p("Password must be at least 8 characters long"),d(!1);return}if(!ue){p("Password must contain uppercase, lowercase, and numbers"),d(!1);return}if(!de){p("Passwords do not match"),d(!1);return}}try{if(h){const{data:te,error:oe}=await B.auth.signUp({email:e,password:n,options:{emailRedirectTo:`${window.location.origin}/auth/confirm`}});oe?oe.message.includes("already registered")?(p("An account with this email already exists. Please sign in instead."),m(!1)):p(oe.message):te.user&&!te.user.email_confirmed_at?(g(!0),y(`We've sent a verification email to ${e}. Please check your inbox and click the verification link to complete your registration.`),k(60),C(!1)):te.user&&te.user.email_confirmed_at&&F(U())}else{const{data:te,error:oe}=await B.auth.signInWithPassword({email:e,password:n});oe?oe.message.includes("Invalid login credentials")?p("Invalid email or password. Please check your credentials and try again."):oe.message.includes("Email not confirmed")?(p("Please verify your email address before signing in. Check your inbox for the verification link."),g(!0),C(!0)):p(oe.message):te.user&&F(U())}}catch(te){console.log("err",te),p("An unexpected error occurred. Please try again.")}finally{d(!1)}},Fe=async()=>{if(!(!E||!e)){d(!0),p(""),y("");try{const{error:Y}=await B.auth.resend({type:"signup",email:e,options:{emailRedirectTo:`${window.location.origin}/auth/confirm`}});Y?p(Y.message):(y(`Verification email resent to ${e}. Please check your inbox.`),k(60),C(!1))}catch(Y){console.log("err",Y),p("Failed to resend verification email. Please try again.")}finally{d(!1)}}},Ke=async Y=>{if(Y.preventDefault(),!!M){G(!0),p(""),y("");try{const{error:te}=await B.auth.resetPasswordForEmail(M,{redirectTo:`${window.location.origin}/auth/reset-password`});te?p(te.message):(y(`Password reset email sent to ${M}. Please check your inbox.`),D(!1),H(""))}catch(te){console.log("err",te),p("Failed to send reset email. Please try again.")}finally{G(!1)}}},J=()=>{m(!h),p(""),y(""),r(""),s(""),g(!1),C(!1),k(0),D(!1)},X=()=>n?ue?"bg-green-500":O?"bg-yellow-500":"bg-red-500":"bg-gray-300",Ne=()=>n?ue?"100%":O?"66%":"33%":"0%";return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 w-full max-w-md shadow-2xl border border-white/20",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:h?"Create Account":"Welcome Back"}),f.jsx("p",{className:"text-white/70",children:h?"Join the divine mission of global aid":"Continue your journey of giving"})]}),(_||x)&&f.jsx("div",{className:`mb-6 p-4 rounded-lg ${_?"bg-red-500/20 border border-red-500/30 text-red-200":"bg-green-500/20 border border-green-500/30 text-green-200"}`,children:_||x}),j?f.jsxs("form",{onSubmit:Ke,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"reset-email",className:"block text-white/80 mb-2",children:"Email Address"}),f.jsx("input",{id:"reset-email",type:"email",value:M,onChange:Y=>H(Y.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"button",onClick:()=>D(!1),className:"flex-1 py-3 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",children:"Back"}),f.jsx("button",{type:"submit",disabled:Q||!M,className:"flex-1 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 transition-all",children:Q?"Sending...":"Send Reset Email"})]})]}):f.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-white/80 mb-2",children:"Email Address"}),f.jsx("input",{id:"email",type:"email",value:e,onChange:Y=>t(Y.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-white/80 mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",type:o?"text":"password",value:n,onChange:Y=>r(Y.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-12",placeholder:"Enter your password"}),f.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white",children:o?"":""})]}),h&&n&&f.jsxs("div",{className:"mt-2",children:[f.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2 mb-2",children:f.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${X()}`,style:{width:Ne()}})}),f.jsxs("div",{className:"text-xs text-white/70 space-y-1",children:[f.jsx("div",{className:O?"text-green-400":"text-red-400",children:" At least 8 characters"}),f.jsx("div",{className:z?"text-green-400":"text-red-400",children:" Uppercase letter"}),f.jsx("div",{className:Z?"text-green-400":"text-red-400",children:" Lowercase letter"}),f.jsx("div",{className:ee?"text-green-400":"text-red-400",children:" Number"})]})]})]}),h&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirm-password",className:"block text-white/80 mb-2",children:"Confirm Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"confirm-password",type:l?"text":"password",value:i,onChange:Y=>s(Y.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-12",placeholder:"Confirm your password"}),f.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white",children:l?"":""})]}),i&&f.jsx("div",{className:"mt-2",children:f.jsx("div",{className:`text-xs ${de?"text-green-400":"text-red-400"}`,children:de?" Passwords match":" Passwords don't match"})})]}),!h&&f.jsx("div",{className:"text-right",children:f.jsx("button",{type:"button",onClick:()=>D(!0),className:"text-blue-300 hover:text-blue-200 text-sm",children:"Forgot password?"})}),f.jsx("button",{type:"submit",disabled:u||!e||!n||h&&(!i||!de),className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 transition-all transform hover:scale-105",children:u?"Loading...":h?"Create Account":"Sign In"}),b&&f.jsx("div",{className:"text-center",children:f.jsx("button",{type:"button",onClick:Fe,disabled:!E||u,className:"text-blue-300 hover:text-blue-200 disabled:text-white/50 text-sm",children:E?"Resend verification email":`Resend in ${N}s`})}),f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-white/70",children:h?"Already have an account?":"Don't have an account?"}),f.jsx("button",{type:"button",onClick:J,className:"ml-2 text-blue-300 hover:text-blue-200 font-medium",children:h?"Sign In":"Sign Up"})]})]})]})})}function KZ(){return f.jsx(S.Suspense,{fallback:f.jsx("div",{children:"Loading..."}),children:f.jsx(qZ,{})})}function YZ({organization:e,documents:t}){const n=vn(),r=o=>{switch(o){case"verified":return"bg-green-500/20 text-green-800 border border-green-500/30";case"rejected":return"bg-red-500/20 text-red-800 border border-red-500/30";default:return"bg-yellow-500/20 text-yellow-800 border border-yellow-500/30"}},i=o=>o.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase()),s=o=>{if(o===0)return"0 Bytes";const a=1024,l=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(o)/Math.log(a));return parseFloat((o/Math.pow(a,c)).toFixed(2))+" "+l[c]};return f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"}),f.jsx("div",{className:"absolute inset-0 opacity-60",children:f.jsx("img",{src:"/assets/clouds.PNG",alt:"Divine Clouds",className:"w-full h-full object-cover"})})]}),f.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-6 py-8",children:[f.jsxs("div",{className:"mb-12",children:[f.jsxs("button",{onClick:()=>n("/events"),className:"text-gray-800 hover:text-gray-900 mb-6 flex items-center bg-white/20 backdrop-blur-md rounded-full px-4 py-2 transition-all duration-300 font-['Cinzel']",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Events"]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4 font-['Cinzel'] tracking-wide",children:"Document Management"}),f.jsxs("p",{className:"text-gray-700 text-lg font-['Cinzel']",children:["Manage KYB verification documents for"," ",e.organization_name]})]})]}),t.length===0?f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-12 shadow-2xl text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx("svg",{className:"w-10 h-10 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4 font-['Cinzel']",children:"No Documents Uploaded"}),f.jsx("p",{className:"text-gray-700 mb-8 text-lg font-['Cinzel']",children:"You haven't uploaded any KYB documents yet. Complete your KYB form to upload required documents."}),f.jsx("button",{onClick:()=>n("/kyb"),className:"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] hover:from-[#ffed4e] hover:to-[#ffd700] text-gray-900 px-8 py-4 rounded-xl font-semibold font-['Cinzel'] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Complete KYB Form"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(o=>f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-6 shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-[1.02]",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 font-['Cinzel']",children:i(o.document_type)}),f.jsx("p",{className:"text-sm text-gray-700 truncate font-['Cinzel']",children:o.document_name})]}),f.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full font-['Cinzel'] ${r(o.verification_status||"pending")}`,children:(o.verification_status||"pending").toUpperCase()})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600 font-['Cinzel']",children:"File Size:"}),f.jsx("span",{className:"text-gray-900 font-semibold font-['Cinzel']",children:o.file_size?s(o.file_size):"Unknown"})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600 font-['Cinzel']",children:"Uploaded:"}),f.jsx("span",{className:"text-gray-900 font-semibold font-['Cinzel']",children:new Date(o.uploaded_at).toLocaleDateString()})]}),o.verified_at&&f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600 font-['Cinzel']",children:"Verified:"}),f.jsx("span",{className:"text-gray-900 font-semibold font-['Cinzel']",children:new Date(o.verified_at).toLocaleDateString()})]}),o.verification_notes&&f.jsxs("div",{className:"mt-4 p-4 bg-yellow-500/10 backdrop-blur-sm border border-yellow-500/20 rounded-2xl",children:[f.jsx("h4",{className:"text-xs font-semibold text-yellow-800 mb-2 font-['Cinzel']",children:"Verification Notes"}),f.jsx("p",{className:"text-yellow-700 text-xs font-['Cinzel']",children:o.verification_notes})]})]}),f.jsx("div",{className:"mt-6 pt-4 border-t border-white/30",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsx("span",{className:"font-['Cinzel']",children:o.mime_type||"Unknown type"})]}),o.verification_status==="verified"&&f.jsxs("div",{className:"flex items-center text-green-600",children:[f.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),f.jsx("span",{className:"text-xs font-semibold font-['Cinzel']",children:"Verified"})]})]})})]},o.id))}),t.length>0&&f.jsxs("div",{className:"mt-12 bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl text-center",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4 font-['Cinzel']",children:"Need to Upload More Documents?"}),f.jsx("p",{className:"text-gray-700 mb-6 text-lg font-['Cinzel']",children:"You can update your organization information and upload additional documents through the KYB form."}),f.jsx("button",{onClick:()=>n("/kyb"),className:"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] hover:from-[#ffed4e] hover:to-[#ffd700] text-gray-900 px-8 py-4 rounded-xl font-semibold font-['Cinzel'] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Update KYB Information"})]})]})]})}function WZ(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,s]=S.useState([]),[o,a]=S.useState(!0),l=vn(),c=tr();return S.useEffect(()=>{async function u(){try{const{data:{user:d}}=await c.auth.getUser();if(!d){l("/login");return}t(d);const{data:h}=await c.from("organizations").select("*").eq("user_id",d.id).single();if(!h){l("/kyb");return}r(h);const{data:m}=await c.from("kyb_documents").select("*").eq("organization_id",h.id).order("uploaded_at",{ascending:!1});s(m||[])}catch(d){console.error("Error loading data:",d)}finally{a(!1)}}u()},[l,c]),o?f.jsx("div",{children:"Loading..."}):f.jsx(YZ,{user:e,organization:n,documents:i})}const ZZ={CERTIFICATE_OF_INCORPORATION:"certificate_of_incorporation",ARTICLES_OF_ASSOCIATION:"articles_of_association",MEMORANDUM_OF_ASSOCIATION:"memorandum_of_association",BUSINESS_LICENSE:"business_license",TAX_CERTIFICATE:"tax_certificate",BANK_STATEMENT:"bank_statement",PROOF_OF_ADDRESS:"proof_of_address",AUDITED_FINANCIAL_STATEMENTS:"audited_financial_statements",BOARD_RESOLUTION:"board_resolution",SHAREHOLDER_REGISTER:"shareholder_register",GOOD_STANDING_CERTIFICATE:"good_standing_certificate",REGULATORY_LICENSE:"regulatory_license",UBO_DECLARATION:"ubo_declaration",DIRECTOR_IDENTIFICATION:"director_identification",POWER_OF_ATTORNEY:"power_of_attorney"},XZ={LLC:"Limited Liability Company (LLC)",CORPORATION:"Corporation",PARTNERSHIP:"Partnership",SOLE_PROPRIETORSHIP:"Sole Proprietorship",NON_PROFIT:"Non-Profit Organization",COOPERATIVE:"Cooperative",TRUST:"Trust",FOUNDATION:"Foundation",OTHER:"Other"},JZ={AGRICULTURE:"Agriculture, Forestry, Fishing and Hunting",MINING:"Mining, Quarrying, and Oil and Gas Extraction",UTILITIES:"Utilities",CONSTRUCTION:"Construction",MANUFACTURING:"Manufacturing",WHOLESALE_TRADE:"Wholesale Trade",RETAIL_TRADE:"Retail Trade",TRANSPORTATION:"Transportation and Warehousing",INFORMATION:"Information",FINANCE:"Finance and Insurance",REAL_ESTATE:"Real Estate and Rental and Leasing",PROFESSIONAL:"Professional, Scientific, and Technical Services",MANAGEMENT:"Management of Companies and Enterprises",ADMINISTRATIVE:"Administrative and Support and Waste Management Services",EDUCATIONAL:"Educational Services",HEALTHCARE:"Health Care and Social Assistance",ARTS:"Arts, Entertainment, and Recreation",ACCOMMODATION:"Accommodation and Food Services",OTHER_SERVICES:"Other Services",PUBLIC_ADMINISTRATION:"Public Administration",HUMANITARIAN:"Humanitarian and Relief Services"},Ra=[{id:1,title:"Basic Information",description:"Organization details and structure"},{id:2,title:"Contact & Address",description:"Registered and operating addresses"},{id:3,title:"Business Details",description:"Industry, revenue, and operations"},{id:4,title:"Banking Information",description:"Financial account details"},{id:5,title:"Ultimate Beneficial Owners",description:"UBO information and ownership"},{id:6,title:"Documents Upload",description:"Required verification documents"},{id:7,title:"Review & Submit",description:"Final review and submission"}];function QZ({user:e,existingOrganization:t}){const[n,r]=S.useState(1),[i,s]=S.useState(!1),[o,a]=S.useState(""),[l,c]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState({}),[x,y]=S.useState([{first_name:"John",last_name:"Smith",ownership_percentage:60,position_title:"Executive Director"},{first_name:"Sarah",last_name:"Johnson",ownership_percentage:40,position_title:"Board Chairman"}]),_=vn(),p=tr(),b=S.useRef(null),[g,E]=S.useState({organization_name:(t==null?void 0:t.organization_name)||"Global Relief Foundation",legal_name:(t==null?void 0:t.legal_name)||"Global Relief Foundation Inc.",trading_name:(t==null?void 0:t.trading_name)||"GRF",registration_number:(t==null?void 0:t.registration_number)||"REG-2024-001234",tax_identification_number:(t==null?void 0:t.tax_identification_number)||"12-3456789",vat_number:(t==null?void 0:t.vat_number)||"VAT123456789",legal_structure:(t==null?void 0:t.legal_structure)||"non_profit",incorporation_date:(t==null?void 0:t.incorporation_date)||"2020-01-15",incorporation_country:(t==null?void 0:t.incorporation_country)||"US",incorporation_state:(t==null?void 0:t.incorporation_state)||"California",registered_address_line1:(t==null?void 0:t.registered_address_line1)||"123 Charity Lane",registered_address_line2:(t==null?void 0:t.registered_address_line2)||"Suite 100",registered_city:(t==null?void 0:t.registered_city)||"San Francisco",registered_state:(t==null?void 0:t.registered_state)||"CA",registered_postal_code:(t==null?void 0:t.registered_postal_code)||"94102",registered_country:(t==null?void 0:t.registered_country)||"US",operating_address_line1:(t==null?void 0:t.operating_address_line1)||"456 Relief Street",operating_address_line2:(t==null?void 0:t.operating_address_line2)||"Floor 2",operating_city:(t==null?void 0:t.operating_city)||"Los Angeles",operating_state:(t==null?void 0:t.operating_state)||"CA",operating_postal_code:(t==null?void 0:t.operating_postal_code)||"90210",operating_country:(t==null?void 0:t.operating_country)||"US",phone_number:(t==null?void 0:t.phone_number)||"+1-555-123-4567",email:(t==null?void 0:t.email)||"info@globalrelief.org",website:(t==null?void 0:t.website)||"https://www.globalrelief.org",industry_sector:(t==null?void 0:t.industry_sector)||"humanitarian_aid",business_description:(t==null?void 0:t.business_description)||"A non-profit organization dedicated to providing disaster relief and humanitarian aid to communities in need around the world.",naics_code:(t==null?void 0:t.naics_code)||"813212",sic_code:(t==null?void 0:t.sic_code)||"8399",annual_revenue:(t==null?void 0:t.annual_revenue)||25e5,number_of_employees:(t==null?void 0:t.number_of_employees)||25,bank_name:(t==null?void 0:t.bank_name)||"Bank of America",bank_account_number:(t==null?void 0:t.bank_account_number)||"****1234",bank_routing_number:(t==null?void 0:t.bank_routing_number)||"021000322",iban:(t==null?void 0:t.iban)||"US12BOFA21000012345678",swift_code:(t==null?void 0:t.swift_code)||"BOFAUS3N",politically_exposed:(t==null?void 0:t.politically_exposed)||!1,high_risk_jurisdiction:(t==null?void 0:t.high_risk_jurisdiction)||!1}),C=(B,U)=>{E(O=>({...O,[B]:U}))},N=B=>{var O;const U=(O=B.target.files)==null?void 0:O[0];if(U){c(U);const z=new FileReader;z.onload=Z=>{var ee;d((ee=Z.target)==null?void 0:ee.result)},z.readAsDataURL(U)}},k=(B,U)=>{m(O=>({...O,[B]:U}))},j=()=>{y(B=>[...B,{first_name:"",last_name:"",ownership_percentage:0,position_title:""}])},D=(B,U,O)=>{y(z=>z.map((Z,ee)=>ee===B?{...Z,[U]:O}:Z))},M=B=>{y(U=>U.filter((O,z)=>z!==B))},H=async(B,U,O)=>{const{data:z,error:Z}=await p.storage.from(U).upload(O,B,{cacheControl:"3600",upsert:!1});if(Z)throw Z;return z},Q=async()=>{s(!0),a("");try{let B=t==null?void 0:t.logo_url;if(l){const z=`${e.id}/logo-${Date.now()}.${l.name.split(".").pop()}`;await H(l,"organization-logos",z);const{data:{publicUrl:Z}}=p.storage.from("organization-logos").getPublicUrl(z);B=Z}const U={...g,user_id:e.id,logo_url:B,kyb_status:"approved"};let O;if(t){const{error:z}=await p.from("organizations").update(U).eq("id",t.id);if(z)throw z;O=t.id}else{const{data:z,error:Z}=await p.from("organizations").insert(U).select().single();if(Z)throw Z;O=z.id}if(x.length>0){const z=x.map(ee=>({...ee,organization_id:O})),{error:Z}=await p.from("ultimate_beneficial_owners").upsert(z);if(Z)throw Z}for(const[z,Z]of Object.entries(h)){const ee=`${e.id}/documents/${z}-${Date.now()}.${Z.name.split(".").pop()}`;await H(Z,"kyb-documents",ee);const{error:ue}=await p.from("kyb_documents").insert({organization_id:O,document_type:z,document_name:Z.name,file_path:ee,file_size:Z.size,mime_type:Z.type});if(ue)throw ue}_("/events")}catch(B){const U=B instanceof Error?B.message:"An error occurred during submission";a(U)}finally{s(!1)}},G=()=>{n<Ra.length&&r(n+1)},F=()=>{n>1&&r(n-1)},V=()=>{switch(n){case 1:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Basic Organization Information"}),f.jsxs("div",{className:"text-center",children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-4 font-['Cinzel']",children:"Organization Logo"}),f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[u&&f.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden shadow-lg border-2 border-white/30",children:f.jsx("img",{src:u,alt:"Logo preview",className:"w-full h-full object-cover"})}),f.jsx("button",{type:"button",onClick:()=>{var B;return(B=b.current)==null?void 0:B.click()},className:"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] hover:from-[#ffed4e] hover:to-[#ffd700] text-gray-900 px-6 py-3 rounded-xl text-sm font-semibold font-['Cinzel'] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Upload Logo"}),f.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:N,className:"hidden"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Organization Name *"}),f.jsx("input",{type:"text",required:!0,value:g.organization_name,onChange:B=>C("organization_name",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter organization name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Legal Name"}),f.jsx("input",{type:"text",value:g.legal_name,onChange:B=>C("legal_name",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter legal name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Trading Name"}),f.jsx("input",{type:"text",value:g.trading_name,onChange:B=>C("trading_name",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter trading name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Legal Structure"}),f.jsxs("select",{value:g.legal_structure,onChange:B=>C("legal_structure",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",children:[f.jsx("option",{value:"",children:"Select Legal Structure"}),Object.entries(XZ).map(([B,U])=>f.jsx("option",{value:B,children:U},B))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Registration Number"}),f.jsx("input",{type:"text",value:g.registration_number,onChange:B=>C("registration_number",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter registration number"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Tax Identification Number"}),f.jsx("input",{type:"text",value:g.tax_identification_number,onChange:B=>C("tax_identification_number",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter tax ID number"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Incorporation Date"}),f.jsx("input",{type:"date",value:g.incorporation_date,onChange:B=>C("incorporation_date",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Incorporation Country"}),f.jsx("input",{type:"text",value:g.incorporation_country,onChange:B=>C("incorporation_country",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"US, UK, CA, etc."})]})]})]});case 2:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Contact & Address Information"}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 font-['Cinzel'] text-center",children:"Registered Address"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{type:"text",placeholder:"Address Line 1",value:g.registered_address_line1,onChange:B=>C("registered_address_line1",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"Address Line 2",value:g.registered_address_line2,onChange:B=>C("registered_address_line2",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"City",value:g.registered_city,onChange:B=>C("registered_city",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"State/Province",value:g.registered_state,onChange:B=>C("registered_state",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"Postal Code",value:g.registered_postal_code,onChange:B=>C("registered_postal_code",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"Country (US, CA, UK, etc.)",value:g.registered_country,onChange:B=>C("registered_country",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]})]})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 font-['Cinzel'] text-center",children:"Operating Address"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{type:"text",placeholder:"Address Line 1",value:g.operating_address_line1,onChange:B=>C("operating_address_line1",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"Address Line 2",value:g.operating_address_line2,onChange:B=>C("operating_address_line2",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"City",value:g.operating_city,onChange:B=>C("operating_city",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"State/Province",value:g.operating_state,onChange:B=>C("operating_state",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"Postal Code",value:g.operating_postal_code,onChange:B=>C("operating_postal_code",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"}),f.jsx("input",{type:"text",placeholder:"Country (US, CA, UK, etc.)",value:g.operating_country,onChange:B=>C("operating_country",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]})]})]})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 font-['Cinzel'] text-center",children:"Contact Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Phone Number"}),f.jsx("input",{type:"tel",value:g.phone_number,onChange:B=>C("phone_number",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"+1 (555) 123-4567"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Email Address"}),f.jsx("input",{type:"email",value:g.email,onChange:B=>C("email",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"contact@organization.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Website"}),f.jsx("input",{type:"url",value:g.website,onChange:B=>C("website",B.target.value),className:"w-full px-4 py-3 bg-white/30 backdrop-blur-sm border border-white/40 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"https://www.organization.com"})]})]})]})]});case 3:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Business Details"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Industry Sector"}),f.jsxs("select",{value:g.industry_sector,onChange:B=>C("industry_sector",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",children:[f.jsx("option",{value:"",children:"Select Industry"}),Object.entries(JZ).map(([B,U])=>f.jsx("option",{value:B,children:U},B))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"NAICS Code"}),f.jsx("input",{type:"text",value:g.naics_code,onChange:B=>C("naics_code",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"6-digit NAICS code"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Annual Revenue (USD)"}),f.jsx("input",{type:"number",value:g.annual_revenue||"",onChange:B=>C("annual_revenue",parseFloat(B.target.value)||0),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter annual revenue"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Number of Employees"}),f.jsx("input",{type:"number",value:g.number_of_employees||"",onChange:B=>C("number_of_employees",parseInt(B.target.value)||0),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter number of employees"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"SIC Code"}),f.jsx("input",{type:"text",value:g.sic_code,onChange:B=>C("sic_code",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"4-digit SIC code"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"VAT Number"}),f.jsx("input",{type:"text",value:g.vat_number,onChange:B=>C("vat_number",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter VAT number"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Business Description"}),f.jsx("textarea",{rows:4,value:g.business_description,onChange:B=>C("business_description",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel'] resize-none",placeholder:"Describe your organization's activities and mission..."})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/30",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 font-['Cinzel'] text-center",children:"Risk Assessment"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:g.politically_exposed,onChange:B=>C("politically_exposed",B.target.checked),className:"mr-3 w-4 h-4 text-gray-900 bg-white/30 border-white/40 rounded focus:ring-white/50 focus:ring-2"}),f.jsx("span",{className:"text-gray-700 font-['Cinzel']",children:"Organization has politically exposed persons"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:g.high_risk_jurisdiction,onChange:B=>C("high_risk_jurisdiction",B.target.checked),className:"mr-3 w-4 h-4 text-gray-900 bg-white/30 border-white/40 rounded focus:ring-white/50 focus:ring-2"}),f.jsx("span",{className:"text-gray-700 font-['Cinzel']",children:"Organization operates in high-risk jurisdictions"})]})]})]})]});case 4:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Banking Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Bank Name"}),f.jsx("input",{type:"text",value:g.bank_name,onChange:B=>C("bank_name",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter bank name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Account Number"}),f.jsx("input",{type:"text",value:g.bank_account_number,onChange:B=>C("bank_account_number",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter account number"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Routing Number"}),f.jsx("input",{type:"text",value:g.bank_routing_number,onChange:B=>C("bank_routing_number",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter routing number"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"SWIFT Code"}),f.jsx("input",{type:"text",value:g.swift_code,onChange:B=>C("swift_code",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter SWIFT code"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"IBAN"}),f.jsx("input",{type:"text",value:g.iban,onChange:B=>C("iban",B.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']",placeholder:"Enter IBAN"})]})]})]});case 5:return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel']",children:"Ultimate Beneficial Owners"}),f.jsx("button",{type:"button",onClick:j,className:"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] hover:from-[#ffed4e] hover:to-[#ffd700] text-gray-900 px-6 py-3 rounded-xl text-sm font-semibold font-['Cinzel'] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Add UBO"})]}),x.length===0?f.jsxs("div",{className:"text-center py-12 bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-500/20 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{className:"w-8 h-8 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),f.jsx("p",{className:"text-gray-700 font-['Cinzel'] text-lg",children:'No UBOs added yet. Click "Add UBO" to get started.'})]}):f.jsx("div",{className:"space-y-6",children:x.map((B,U)=>f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("h4",{className:"text-lg font-semibold text-gray-800 font-['Cinzel']",children:["UBO #",U+1]}),f.jsx("button",{type:"button",onClick:()=>M(U),className:"text-red-600 hover:text-red-800 font-semibold font-['Cinzel'] transition-colors duration-300",children:"Remove"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"First Name"}),f.jsx("input",{type:"text",placeholder:"First Name",value:B.first_name,onChange:O=>D(U,"first_name",O.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Last Name"}),f.jsx("input",{type:"text",placeholder:"Last Name",value:B.last_name,onChange:O=>D(U,"last_name",O.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Position Title"}),f.jsx("input",{type:"text",placeholder:"Position Title",value:B.position_title,onChange:O=>D(U,"position_title",O.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 font-['Cinzel']",children:"Ownership Percentage"}),f.jsx("input",{type:"number",placeholder:"Ownership %",value:B.ownership_percentage,onChange:O=>D(U,"ownership_percentage",parseFloat(O.target.value)),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all duration-300 font-['Cinzel']"})]})]})]},U))})]});case 6:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Required Documents"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(ZZ).map(([B,U])=>f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-6 shadow-2xl",children:[f.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-4 font-['Cinzel']",children:U.replace(/_/g," ").replace(/\b\w/g,O=>O.toUpperCase())}),f.jsx("input",{type:"file",onChange:O=>{var Z;const z=(Z=O.target.files)==null?void 0:Z[0];z&&k(U,z)},className:"w-full text-sm text-gray-700 font-['Cinzel'] file:mr-4 file:py-3 file:px-6 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-gradient-to-r file:from-[#ffd700] file:to-[#ffed4e] file:text-gray-900 hover:file:from-[#ffed4e] hover:file:to-[#ffd700] file:transition-all file:duration-300 file:shadow-lg hover:file:shadow-xl file:transform hover:file:scale-[1.02] file:font-['Cinzel']"}),h[U]&&f.jsx("div",{className:"mt-4 p-3 bg-green-500/10 backdrop-blur-sm border border-green-500/20 rounded-2xl",children:f.jsxs("p",{className:"text-sm text-green-800 font-semibold font-['Cinzel'] flex items-center",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),h[U].name]})})]},B))})]});case 7:return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel'] text-center",children:"Review & Submit"}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 font-['Cinzel'] text-center",children:"Organization Summary"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-base",children:[f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"Organization Name:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:g.organization_name})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"Legal Structure:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:g.legal_structure})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"Industry:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:g.industry_sector})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"UBOs:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:x.length})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"Documents:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:Object.keys(h).length})]}),f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30",children:[f.jsx("span",{className:"text-gray-600 font-semibold font-['Cinzel']",children:"Annual Revenue:"}),f.jsx("span",{className:"text-gray-900 ml-2 font-bold font-['Cinzel']",children:g.annual_revenue?`$${g.annual_revenue.toLocaleString()}`:"Not specified"})]})]})]}),f.jsx("div",{className:"bg-yellow-500/10 backdrop-blur-sm border border-yellow-500/20 rounded-3xl p-6 shadow-lg",children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsxs("div",{children:[f.jsx("h5",{className:"text-lg font-semibold text-yellow-800 mb-2 font-['Cinzel']",children:"Important Notice"}),f.jsx("p",{className:"text-yellow-700 font-['Cinzel'] leading-relaxed",children:"By submitting this form, you confirm that all information provided is accurate and complete. Your organization will undergo KYB verification which may take 3-5 business days. You will be notified via email once the review is complete."})]})]})})]});default:return null}};return f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#d4af8c] via-[#c9a876] to-[#b8956a]"}),f.jsx("div",{className:"absolute inset-0 opacity-60",children:f.jsx("img",{src:"/assets/clouds.PNG",alt:"Divine Clouds",className:"w-full h-full object-cover"})})]}),f.jsx("div",{className:"absolute top-6 left-6 z-20",children:f.jsxs("button",{onClick:()=>_("/events"),className:"inline-flex items-center px-4 py-2 bg-white/20 backdrop-blur-md rounded-full text-gray-800 hover:bg-white/30 transition-all duration-300 text-sm font-medium font-['Cinzel']",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Events"]})}),f.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-6 py-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4 font-['Cinzel'] tracking-wide",children:"Organization Verification"}),f.jsx("p",{className:"text-gray-700 text-lg font-['Cinzel']",children:"Complete your KYB (Know Your Business) verification to access fund vaults"})]}),f.jsxs("div",{className:"mb-12",children:[f.jsx("div",{className:"flex items-center justify-between",children:Ra.map((B,U)=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full text-sm font-semibold font-['Cinzel'] ${n>=B.id?"bg-gradient-to-r from-[#ffd700] to-[#ffed4e] text-gray-900 shadow-lg":"bg-white/20 text-gray-600 backdrop-blur-sm border border-white/30"}`,children:B.id}),U<Ra.length-1&&f.jsx("div",{className:`w-12 h-1 mx-2 rounded-full ${n>B.id?"bg-gradient-to-r from-[#ffd700] to-[#ffed4e]":"bg-white/30"}`})]},B.id))}),f.jsxs("div",{className:"mt-6 text-center",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-900 font-['Cinzel']",children:Ra[n-1].title}),f.jsx("p",{className:"text-gray-700 text-base font-['Cinzel'] mt-2",children:Ra[n-1].description})]})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl",children:[V(),o&&f.jsx("div",{className:"mt-8 bg-red-500/10 backdrop-blur-sm border border-red-500/20 text-red-800 px-6 py-4 rounded-2xl font-['Cinzel']",children:o}),f.jsxs("div",{className:"flex justify-between mt-10",children:[f.jsx("button",{type:"button",onClick:F,disabled:n===1,className:"px-8 py-3 bg-gray-600 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700 transition-all duration-300 font-semibold font-['Cinzel'] shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Previous"}),n<Ra.length?f.jsx("button",{type:"button",onClick:G,className:"px-8 py-3 bg-gradient-to-r from-[#ffd700] to-[#ffed4e] text-gray-900 rounded-xl hover:from-[#ffed4e] hover:to-[#ffd700] transition-all duration-300 font-semibold font-['Cinzel'] shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"Next"}):f.jsx("button",{type:"button",onClick:Q,disabled:i,className:"px-8 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 font-semibold font-['Cinzel'] shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:i?"Submitting...":"Submit KYB Application"})]})]})]})]})}function eX(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,s]=S.useState(!0),o=vn(),a=tr();return S.useEffect(()=>{async function l(){try{const{data:{user:c}}=await a.auth.getUser();if(!c){o("/login");return}t(c);const{data:u}=await a.from("organizations").select("*").eq("user_id",c.id).single();r(u)}catch(c){console.error("Error loading data:",c)}finally{s(!1)}}l()},[o,a]),i?f.jsx("div",{children:"Loading..."}):f.jsx(QZ,{user:e,existingOrganization:n})}typeof globalThis>"u"&&(globalThis.global=globalThis);const yt=Ti.Buffer;yt.prototype.writeBigUInt64BE||(yt.prototype.writeBigUInt64BE=function(e,t=0){const n=this,r=Number(e>>32n),i=Number(e&0xffffffffn);return n.writeUInt32BE(r,t),n.writeUInt32BE(i,t+4),t+8});yt.prototype.readBigUInt64BE||(yt.prototype.readBigUInt64BE=function(e=0){const t=this,n=t.readUInt32BE(e),r=t.readUInt32BE(e+4);return BigInt(n)<<32n|BigInt(r)});yt.prototype.writeBigUInt64LE||(yt.prototype.writeBigUInt64LE=function(e,t=0){const n=this,r=Number(e&0xffffffffn),i=Number(e>>32n);return n.writeUInt32LE(r,t),n.writeUInt32LE(i,t+4),t+8});yt.prototype.readBigUInt64LE||(yt.prototype.readBigUInt64LE=function(e=0){const t=this,n=t.readUInt32LE(e),r=t.readUInt32LE(e+4);return BigInt(n)|BigInt(r)<<32n});yt.prototype.writeBigInt64BE||(yt.prototype.writeBigInt64BE=function(e,t=0){const n=this,r=Number(e>>32n),i=Number(e&0xffffffffn);return n.writeInt32BE(r,t),n.writeUInt32BE(i,t+4),t+8});yt.prototype.readBigInt64BE||(yt.prototype.readBigInt64BE=function(e=0){const t=this,n=t.readInt32BE(e),r=t.readUInt32BE(e+4);return BigInt(n)<<32n|BigInt(r)});yt.prototype.writeBigInt64LE||(yt.prototype.writeBigInt64LE=function(e,t=0){const n=this,r=Number(e&0xffffffffn),i=Number(e>>32n);return n.writeUInt32LE(r,t),n.writeInt32LE(i,t+4),t+8});yt.prototype.readBigInt64LE||(yt.prototype.readBigInt64LE=function(e=0){const t=this,n=t.readUInt32LE(e),r=t.readInt32LE(e+4);return BigInt(n)|BigInt(r)<<32n});typeof window<"u"&&(window.Buffer=yt,window.global=window);typeof globalThis<"u"&&(globalThis.Buffer=yt);globalThis.Buffer=yt;Object.setPrototypeOf(Buffer.prototype,yt.prototype);const tX=Object.freeze(Object.defineProperty({__proto__:null,Buffer:yt},Symbol.toStringTag,{value:"Module"}));function g5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=g5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function y5(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=g5(e))&&(r&&(r+=" "),r+=t);return r}const y_="-",nX=e=>{const t=iX(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(y_);return a[0]===""&&a.length!==1&&a.shift(),b5(a,t)||rX(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},b5=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?b5(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(y_);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},K6=/^\[(.+)\]$/,rX=e=>{if(K6.test(e)){const t=K6.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},iX=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)ox(n[i],r,i,t);return r},ox=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Y6(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(sX(i)){ox(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{ox(o,Y6(t,s),n,r)})})},Y6=(e,t)=>{let n=e;return t.split(y_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sX=e=>e.isThemeGetter,oX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},ax="!",lx=":",aX=lx.length,lX=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let o=0,a=0,l=0,c;for(let x=0;x<i.length;x++){let y=i[x];if(o===0&&a===0){if(y===lx){s.push(i.slice(l,x)),l=x+aX;continue}if(y==="/"){c=x;continue}}y==="["?o++:y==="]"?o--:y==="("?a++:y===")"&&a--}const u=s.length===0?i:i.substring(l),d=cX(u),h=d!==u,m=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:m}};if(t){const i=t+lx,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},cX=e=>e.endsWith(ax)?e.substring(0,e.length-1):e.startsWith(ax)?e.substring(1):e,uX=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||t[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},dX=e=>({cache:oX(e.cacheSize),parseClassName:lX(e),sortModifiers:uX(e),...nX(e)}),fX=/\s+/,hX=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],a=e.trim().split(fX);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:h,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:y}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let _=!!y,p=r(_?x.substring(0,y):x);if(!p){if(!_){l=u+(l.length>0?" "+l:l);continue}if(p=r(x),!p){l=u+(l.length>0?" "+l:l);continue}_=!1}const b=s(h).join(":"),g=m?b+ax:b,E=g+p;if(o.includes(E))continue;o.push(E);const C=i(p,_);for(let N=0;N<C.length;++N){const k=C[N];o.push(g+k)}l=u+(l.length>0?" "+l:l)}return l};function mX(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=v5(t))&&(r&&(r+=" "),r+=n);return r}const v5=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=v5(e[r]))&&(n&&(n+=" "),n+=t);return n};function pX(e,...t){let n,r,i,s=o;function o(l){const c=t.reduce((u,d)=>d(u),e());return n=dX(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=hX(l,n);return i(l,u),u}return function(){return s(mX.apply(null,arguments))}}const Et=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},x5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,w5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gX=/^\d+\/\d+$/,yX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oa=e=>gX.test(e),we=e=>!!e&&!Number.isNaN(Number(e)),ls=e=>!!e&&Number.isInteger(Number(e)),Zy=e=>e.endsWith("%")&&we(e.slice(0,-1)),fi=e=>yX.test(e),SX=()=>!0,_X=e=>bX.test(e)&&!vX.test(e),S5=()=>!1,EX=e=>xX.test(e),CX=e=>wX.test(e),AX=e=>!ae(e)&&!le(e),TX=e=>Ec(e,C5,S5),ae=e=>x5.test(e),mo=e=>Ec(e,A5,_X),Xy=e=>Ec(e,jX,we),W6=e=>Ec(e,_5,S5),kX=e=>Ec(e,E5,CX),vf=e=>Ec(e,T5,EX),le=e=>w5.test(e),$c=e=>Cc(e,A5),IX=e=>Cc(e,RX),Z6=e=>Cc(e,_5),BX=e=>Cc(e,C5),NX=e=>Cc(e,E5),xf=e=>Cc(e,T5,!0),Ec=(e,t,n)=>{const r=x5.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Cc=(e,t,n=!1)=>{const r=w5.exec(e);return r?r[1]?t(r[1]):n:!1},_5=e=>e==="position"||e==="percentage",E5=e=>e==="image"||e==="url",C5=e=>e==="length"||e==="size"||e==="bg-size",A5=e=>e==="length",jX=e=>e==="number",RX=e=>e==="family-name",T5=e=>e==="shadow",OX=()=>{const e=Et("color"),t=Et("font"),n=Et("text"),r=Et("font-weight"),i=Et("tracking"),s=Et("leading"),o=Et("breakpoint"),a=Et("container"),l=Et("spacing"),c=Et("radius"),u=Et("shadow"),d=Et("inset-shadow"),h=Et("text-shadow"),m=Et("drop-shadow"),x=Et("blur"),y=Et("perspective"),_=Et("aspect"),p=Et("ease"),b=Et("animate"),g=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...E(),le,ae],N=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],j=()=>[le,ae,l],D=()=>[Oa,"full","auto",...j()],M=()=>[ls,"none","subgrid",le,ae],H=()=>["auto",{span:["full",ls,le,ae]},ls,le,ae],Q=()=>[ls,"auto",le,ae],G=()=>["auto","min","max","fr",le,ae],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...j()],U=()=>[Oa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],O=()=>[e,le,ae],z=()=>[...E(),Z6,W6,{position:[le,ae]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ee=()=>["auto","cover","contain",BX,TX,{size:[le,ae]}],ue=()=>[Zy,$c,mo],de=()=>["","none","full",c,le,ae],fe=()=>["",we,$c,mo],Fe=()=>["solid","dashed","dotted","double"],Ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[we,Zy,Z6,W6],X=()=>["","none",x,le,ae],Ne=()=>["none",we,le,ae],Y=()=>["none",we,le,ae],te=()=>[we,le,ae],oe=()=>[Oa,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fi],breakpoint:[fi],color:[SX],container:[fi],"drop-shadow":[fi],ease:["in","out","in-out"],font:[AX],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fi],shadow:[fi],spacing:["px",we],text:[fi],"text-shadow":[fi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Oa,ae,le,_]}],container:["container"],columns:[{columns:[we,ae,le,a]}],"break-after":[{"break-after":g()}],"break-before":[{"break-before":g()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[ls,"auto",le,ae]}],basis:[{basis:[Oa,"full","auto",a,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[we,Oa,"auto","initial","none",ae]}],grow:[{grow:["",we,le,ae]}],shrink:[{shrink:["",we,le,ae]}],order:[{order:[ls,"first","last","none",le,ae]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[a,"screen",...U()]}],"min-w":[{"min-w":[a,"screen","none",...U()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",n,$c,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,le,Xy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zy,ae]}],"font-family":[{font:[IX,ae,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,le,ae]}],"line-clamp":[{"line-clamp":[we,"none",le,Xy]}],leading:[{leading:[s,...j()]}],"list-image":[{"list-image":["none",le,ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",le,ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[we,"from-font","auto",le,mo]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[we,"auto",le,ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le,ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le,ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ls,le,ae],radial:["",le,ae],conic:[ls,le,ae]},NX,kX]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:de()}],"rounded-s":[{"rounded-s":de()}],"rounded-e":[{"rounded-e":de()}],"rounded-t":[{"rounded-t":de()}],"rounded-r":[{"rounded-r":de()}],"rounded-b":[{"rounded-b":de()}],"rounded-l":[{"rounded-l":de()}],"rounded-ss":[{"rounded-ss":de()}],"rounded-se":[{"rounded-se":de()}],"rounded-ee":[{"rounded-ee":de()}],"rounded-es":[{"rounded-es":de()}],"rounded-tl":[{"rounded-tl":de()}],"rounded-tr":[{"rounded-tr":de()}],"rounded-br":[{"rounded-br":de()}],"rounded-bl":[{"rounded-bl":de()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Fe(),"hidden","none"]}],"divide-style":[{divide:[...Fe(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...Fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[we,le,ae]}],"outline-w":[{outline:["",we,$c,mo]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",u,xf,vf]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",d,xf,vf]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[we,mo]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",h,xf,vf]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[we,le,ae]}],"mix-blend":[{"mix-blend":[...Ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[we]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[le,ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[we]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",le,ae]}],filter:[{filter:["","none",le,ae]}],blur:[{blur:X()}],brightness:[{brightness:[we,le,ae]}],contrast:[{contrast:[we,le,ae]}],"drop-shadow":[{"drop-shadow":["","none",m,xf,vf]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",we,le,ae]}],"hue-rotate":[{"hue-rotate":[we,le,ae]}],invert:[{invert:["",we,le,ae]}],saturate:[{saturate:[we,le,ae]}],sepia:[{sepia:["",we,le,ae]}],"backdrop-filter":[{"backdrop-filter":["","none",le,ae]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[we,le,ae]}],"backdrop-contrast":[{"backdrop-contrast":[we,le,ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",we,le,ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[we,le,ae]}],"backdrop-invert":[{"backdrop-invert":["",we,le,ae]}],"backdrop-opacity":[{"backdrop-opacity":[we,le,ae]}],"backdrop-saturate":[{"backdrop-saturate":[we,le,ae]}],"backdrop-sepia":[{"backdrop-sepia":["",we,le,ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",le,ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[we,"initial",le,ae]}],ease:[{ease:["linear","initial",p,le,ae]}],delay:[{delay:[we,le,ae]}],animate:[{animate:["none",b,le,ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,le,ae]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:Y()}],"scale-x":[{"scale-x":Y()}],"scale-y":[{"scale-y":Y()}],"scale-z":[{"scale-z":Y()}],"scale-3d":["scale-3d"],skew:[{skew:te()}],"skew-x":[{"skew-x":te()}],"skew-y":[{"skew-y":te()}],transform:[{transform:[le,ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le,ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le,ae]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[we,$c,mo,Xy]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},DX=pX(OX);function bt(...e){return DX(y5(e))}function po({className:e,...t}){return f.jsx("div",{"data-slot":"card",className:bt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function go({className:e,...t}){return f.jsx("div",{"data-slot":"card-header",className:bt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function yo({className:e,...t}){return f.jsx("div",{"data-slot":"card-title",className:bt("leading-none font-semibold",e),...t})}function bo({className:e,...t}){return f.jsx("div",{"data-slot":"card-content",className:bt("px-6",e),...t})}function X6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function k5(...e){return t=>{let n=!1;const r=e.map(i=>{const s=X6(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():X6(e[i],null)}}}}function It(...e){return S.useCallback(k5(...e),e)}function C0(e){const t=MX(e),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,a=S.Children.toArray(s),l=a.find(LX);if(l){const c=l.props.children,u=a.map(d=>d===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:d);return f.jsx(t,{...o,ref:i,children:S.isValidElement(c)?S.cloneElement(c,void 0,u):null})}return f.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var I5=C0("Slot");function MX(e){const t=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=FX(i),a=PX(s,i.props);return i.type!==S.Fragment&&(a.ref=r?k5(r,o):o),S.cloneElement(i,a)}return S.Children.count(i)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UX=Symbol("radix.slottable");function LX(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UX}function PX(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function FX(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const J6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Q6=y5,b_=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Q6(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=J6(u)||J6(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...m}=u;return Object.entries(m).every(x=>{let[y,_]=x;return Array.isArray(_)?_.includes({...s,...a}[y]):{...s,...a}[y]===_})?[...c,d,h]:c},[]);return Q6(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},zX=b_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Jt({className:e,variant:t,size:n,asChild:r=!1,...i}){const s=r?I5:"button";return f.jsx(s,{"data-slot":"button",className:bt(zX({variant:t,size:n,className:e})),...i})}function Ht({className:e,type:t,...n}){return f.jsx("input",{type:t,"data-slot":"input",className:bt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var VX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=VX.reduce((e,t)=>{const n=C0(`Primitive.${t}`),r=S.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function $X(e,t){e&&ec.flushSync(()=>e.dispatchEvent(t))}var HX="Label",B5=S.forwardRef((e,t)=>f.jsx(He.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));B5.displayName=HX;var GX=B5;function wf({className:e,...t}){return f.jsx(GX,{"data-slot":"label",className:bt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function qX({className:e,...t}){return f.jsx("textarea",{"data-slot":"textarea",className:bt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function e3(e,[t,n]){return Math.min(n,Math.max(t,e))}function Le(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Cd(e,t=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];const c=d=>{var p;const{scope:h,children:m,...x}=d,y=((p=h==null?void 0:h[e])==null?void 0:p[l])||a,_=S.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:_,children:m})};c.displayName=s+"Provider";function u(d,h){var y;const m=((y=h==null?void 0:h[e])==null?void 0:y[l])||a,x=S.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[e])||s;return S.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,KX(i,...t)]}function KX(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function N5(e){const t=e+"CollectionProvider",[n,r]=Cd(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:p}=y,b=pi.useRef(null),g=pi.useRef(new Map).current;return f.jsx(i,{scope:_,itemMap:g,collectionRef:b,children:p})};o.displayName=t;const a=e+"CollectionSlot",l=C0(a),c=pi.forwardRef((y,_)=>{const{scope:p,children:b}=y,g=s(a,p),E=It(_,g.collectionRef);return f.jsx(l,{ref:E,children:b})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=C0(u),m=pi.forwardRef((y,_)=>{const{scope:p,children:b,...g}=y,E=pi.useRef(null),C=It(_,E),N=s(u,p);return pi.useEffect(()=>(N.itemMap.set(E,{ref:E,...g}),()=>void N.itemMap.delete(E))),f.jsx(h,{[d]:"",ref:C,children:b})});m.displayName=u;function x(y){const _=s(e+"CollectionConsumer",y);return pi.useCallback(()=>{const b=_.collectionRef.current;if(!b)return[];const g=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((N,k)=>g.indexOf(N.ref.current)-g.indexOf(k.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},x,r]}var YX=S.createContext(void 0);function v_(e){const t=S.useContext(YX);return e||t||"ltr"}function Ws(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function WX(e,t=globalThis==null?void 0:globalThis.document){const n=Ws(e);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var ZX="DismissableLayer",cx="dismissableLayer.update",XX="dismissableLayer.pointerDownOutside",JX="dismissableLayer.focusOutside",t3,j5=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),R5=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,c=S.useContext(j5),[u,d]=S.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),x=It(t,k=>d(k)),y=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(_),b=u?y.indexOf(u):-1,g=c.layersWithOutsidePointerEventsDisabled.size>0,E=b>=p,C=tJ(k=>{const j=k.target,D=[...c.branches].some(M=>M.contains(j));!E||D||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),N=nJ(k=>{const j=k.target;[...c.branches].some(M=>M.contains(j))||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return WX(k=>{b===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),S.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(t3=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),n3(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=t3)}},[u,h,n,c]),S.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),n3())},[u,c]),S.useEffect(()=>{const k=()=>m({});return document.addEventListener(cx,k),()=>document.removeEventListener(cx,k)},[]),f.jsx(He.div,{...l,ref:x,style:{pointerEvents:g?E?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,C.onPointerDownCapture)})});R5.displayName=ZX;var QX="DismissableLayerBranch",eJ=S.forwardRef((e,t)=>{const n=S.useContext(j5),r=S.useRef(null),i=It(t,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.jsx(He.div,{...e,ref:i})});eJ.displayName=QX;function tJ(e,t=globalThis==null?void 0:globalThis.document){const n=Ws(e),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){O5(XX,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function nJ(e,t=globalThis==null?void 0:globalThis.document){const n=Ws(e),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&O5(JX,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function n3(){const e=new CustomEvent(cx);document.dispatchEvent(e)}function O5(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?$X(i,s):i.dispatchEvent(s)}var Jy=0;function rJ(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??r3()),document.body.insertAdjacentElement("beforeend",e[1]??r3()),Jy++,()=>{Jy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jy--}},[])}function r3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qy="focusScope.autoFocusOnMount",eb="focusScope.autoFocusOnUnmount",i3={bubbles:!1,cancelable:!0},iJ="FocusScope",D5=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[a,l]=S.useState(null),c=Ws(i),u=Ws(s),d=S.useRef(null),h=It(t,y=>l(y)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let y=function(g){if(m.paused||!a)return;const E=g.target;a.contains(E)?d.current=E:fs(d.current,{select:!0})},_=function(g){if(m.paused||!a)return;const E=g.relatedTarget;E!==null&&(a.contains(E)||fs(d.current,{select:!0}))},p=function(g){if(document.activeElement===document.body)for(const C of g)C.removedNodes.length>0&&fs(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const b=new MutationObserver(p);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),b.disconnect()}}},[r,a,m.paused]),S.useEffect(()=>{if(a){o3.add(m);const y=document.activeElement;if(!a.contains(y)){const p=new CustomEvent(Qy,i3);a.addEventListener(Qy,c),a.dispatchEvent(p),p.defaultPrevented||(sJ(uJ(M5(a)),{select:!0}),document.activeElement===y&&fs(a))}return()=>{a.removeEventListener(Qy,c),setTimeout(()=>{const p=new CustomEvent(eb,i3);a.addEventListener(eb,u),a.dispatchEvent(p),p.defaultPrevented||fs(y??document.body,{select:!0}),a.removeEventListener(eb,u),o3.remove(m)},0)}}},[a,c,u,m]);const x=S.useCallback(y=>{if(!n&&!r||m.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,p=document.activeElement;if(_&&p){const b=y.currentTarget,[g,E]=oJ(b);g&&E?!y.shiftKey&&p===E?(y.preventDefault(),n&&fs(g,{select:!0})):y.shiftKey&&p===g&&(y.preventDefault(),n&&fs(E,{select:!0})):p===b&&y.preventDefault()}},[n,r,m.paused]);return f.jsx(He.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});D5.displayName=iJ;function sJ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fs(r,{select:t}),document.activeElement!==n)return}function oJ(e){const t=M5(e),n=s3(t,e),r=s3(t.reverse(),e);return[n,r]}function M5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function s3(e,t){for(const n of e)if(!aJ(n,{upTo:t}))return n}function aJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lJ(e){return e instanceof HTMLInputElement&&"select"in e}function fs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&lJ(e)&&t&&e.select()}}var o3=cJ();function cJ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=a3(e,t),e.unshift(t)},remove(t){var n;e=a3(e,t),(n=e[0])==null||n.resume()}}}function a3(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function uJ(e){return e.filter(t=>t.tagName!=="A")}var Xt=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},dJ=Cx[" useId ".trim().toString()]||(()=>{}),fJ=0;function Ad(e){const[t,n]=S.useState(dJ());return Xt(()=>{n(r=>r??String(fJ++))},[e]),e||(t?`radix-${t}`:"")}const hJ=["top","right","bottom","left"],Zs=Math.min,Cn=Math.max,gm=Math.round,Sf=Math.floor,Kr=e=>({x:e,y:e}),mJ={left:"right",right:"left",bottom:"top",top:"bottom"},pJ={start:"end",end:"start"};function ux(e,t,n){return Cn(e,Zs(t,n))}function Ki(e,t){return typeof e=="function"?e(t):e}function Yi(e){return e.split("-")[0]}function Ac(e){return e.split("-")[1]}function x_(e){return e==="x"?"y":"x"}function w_(e){return e==="y"?"height":"width"}function Lr(e){return["top","bottom"].includes(Yi(e))?"y":"x"}function S_(e){return x_(Lr(e))}function gJ(e,t,n){n===void 0&&(n=!1);const r=Ac(e),i=S_(e),s=w_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=ym(o)),[o,ym(o)]}function yJ(e){const t=ym(e);return[dx(e),t,dx(t)]}function dx(e){return e.replace(/start|end/g,t=>pJ[t])}function bJ(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function vJ(e,t,n,r){const i=Ac(e);let s=bJ(Yi(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(dx)))),s}function ym(e){return e.replace(/left|right|bottom|top/g,t=>mJ[t])}function xJ(e){return{top:0,right:0,bottom:0,left:0,...e}}function U5(e){return typeof e!="number"?xJ(e):{top:e,right:e,bottom:e,left:e}}function bm(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function l3(e,t,n){let{reference:r,floating:i}=e;const s=Lr(t),o=S_(t),a=w_(o),l=Yi(t),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Ac(t)){case"start":m[o]-=h*(n&&c?-1:1);break;case"end":m[o]+=h*(n&&c?-1:1);break}return m}const wJ=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=l3(c,r,l),h=r,m={},x=0;for(let y=0;y<a.length;y++){const{name:_,fn:p}=a[y],{x:b,y:g,data:E,reset:C}=await p({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});u=b??u,d=g??d,m={...m,[_]:{...m[_],...E}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:u,y:d}=l3(c,h,l)),y=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:m}};async function A0(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=Ki(t,e),x=U5(m),_=a[h?d==="floating"?"reference":"floating":d],p=bm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,g=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(g))?await(s.getScale==null?void 0:s.getScale(g))||{x:1,y:1}:{x:1,y:1},C=bm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:g,strategy:l}):b);return{top:(p.top-C.top+x.top)/E.y,bottom:(C.bottom-p.bottom+x.bottom)/E.y,left:(p.left-C.left+x.left)/E.x,right:(C.right-p.right+x.right)/E.x}}const SJ=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Ki(e,t)||{};if(c==null)return{};const d=U5(u),h={x:n,y:r},m=S_(i),x=w_(m),y=await o.getDimensions(c),_=m==="y",p=_?"top":"left",b=_?"bottom":"right",g=_?"clientHeight":"clientWidth",E=s.reference[x]+s.reference[m]-h[m]-s.floating[x],C=h[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=N?N[g]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=a.floating[g]||s.floating[x]);const j=E/2-C/2,D=k/2-y[x]/2-1,M=Zs(d[p],D),H=Zs(d[b],D),Q=M,G=k-y[x]-H,F=k/2-y[x]/2+j,V=ux(Q,F,G),B=!l.arrow&&Ac(i)!=null&&F!==V&&s.reference[x]/2-(F<Q?M:H)-y[x]/2<0,U=B?F<Q?F-Q:F-G:0;return{[m]:h[m]+U,data:{[m]:V,centerOffset:F-V-U,...B&&{alignmentOffset:U}},reset:B}}}),_J=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,..._}=Ki(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=Yi(i),b=Lr(a),g=Yi(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(g||!y?[ym(a)]:yJ(a)),N=x!=="none";!h&&N&&C.push(...vJ(a,y,x,E));const k=[a,...C],j=await A0(t,_),D=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&D.push(j[p]),d){const F=gJ(i,o,E);D.push(j[F[0]],j[F[1]])}if(M=[...M,{placement:i,overflows:D}],!D.every(F=>F<=0)){var H,Q;const F=(((H=s.flip)==null?void 0:H.index)||0)+1,V=k[F];if(V&&(!(d==="alignment"?b!==Lr(V):!1)||M.every(O=>O.overflows[0]>0&&Lr(O.placement)===b)))return{data:{index:F,overflows:M},reset:{placement:V}};let B=(Q=M.filter(U=>U.overflows[0]<=0).sort((U,O)=>U.overflows[1]-O.overflows[1])[0])==null?void 0:Q.placement;if(!B)switch(m){case"bestFit":{var G;const U=(G=M.filter(O=>{if(N){const z=Lr(O.placement);return z===b||z==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(z=>z>0).reduce((z,Z)=>z+Z,0)]).sort((O,z)=>O[1]-z[1])[0])==null?void 0:G[0];U&&(B=U);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function c3(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function u3(e){return hJ.some(t=>e[t]>=0)}const EJ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ki(e,t);switch(r){case"referenceHidden":{const s=await A0(t,{...i,elementContext:"reference"}),o=c3(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:u3(o)}}}case"escaped":{const s=await A0(t,{...i,altBoundary:!0}),o=c3(s,n.floating);return{data:{escapedOffsets:o,escaped:u3(o)}}}default:return{}}}}};async function CJ(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Yi(n),a=Ac(n),l=Lr(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Ki(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}const AJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await CJ(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},TJ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:p,y:b}=_;return{x:p,y:b}}},...l}=Ki(e,t),c={x:n,y:r},u=await A0(t,l),d=Lr(Yi(i)),h=x_(d);let m=c[h],x=c[d];if(s){const _=h==="y"?"top":"left",p=h==="y"?"bottom":"right",b=m+u[_],g=m-u[p];m=ux(b,m,g)}if(o){const _=d==="y"?"top":"left",p=d==="y"?"bottom":"right",b=x+u[_],g=x-u[p];x=ux(b,x,g)}const y=a.fn({...t,[h]:m,[d]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:s,[d]:o}}}}}},kJ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ki(e,t),u={x:n,y:r},d=Lr(i),h=x_(d);let m=u[h],x=u[d];const y=Ki(a,t),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const g=h==="y"?"height":"width",E=s.reference[h]-s.floating[g]+_.mainAxis,C=s.reference[h]+s.reference[g]-_.mainAxis;m<E?m=E:m>C&&(m=C)}if(c){var p,b;const g=h==="y"?"width":"height",E=["top","left"].includes(Yi(i)),C=s.reference[d]-s.floating[g]+(E&&((p=o.offset)==null?void 0:p[d])||0)+(E?0:_.crossAxis),N=s.reference[d]+s.reference[g]+(E?0:((b=o.offset)==null?void 0:b[d])||0)-(E?_.crossAxis:0);x<C?x=C:x>N&&(x=N)}return{[h]:m,[d]:x}}}},IJ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...c}=Ki(e,t),u=await A0(t,c),d=Yi(i),h=Ac(i),m=Lr(i)==="y",{width:x,height:y}=s.floating;let _,p;d==="top"||d==="bottom"?(_=d,p=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(p=d,_=h==="end"?"top":"bottom");const b=y-u.top-u.bottom,g=x-u.left-u.right,E=Zs(y-u[_],b),C=Zs(x-u[p],g),N=!t.middlewareData.shift;let k=E,j=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=b),N&&!h){const M=Cn(u.left,0),H=Cn(u.right,0),Q=Cn(u.top,0),G=Cn(u.bottom,0);m?j=x-2*(M!==0||H!==0?M+H:Cn(u.left,u.right)):k=y-2*(Q!==0||G!==0?Q+G:Cn(u.top,u.bottom))}await l({...t,availableWidth:j,availableHeight:k});const D=await o.getDimensions(a.floating);return x!==D.width||y!==D.height?{reset:{rects:!0}}:{}}}};function Kp(){return typeof window<"u"}function Tc(e){return L5(e)?(e.nodeName||"").toLowerCase():"#document"}function Rn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ni(e){var t;return(t=(L5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function L5(e){return Kp()?e instanceof Node||e instanceof Rn(e).Node:!1}function xr(e){return Kp()?e instanceof Element||e instanceof Rn(e).Element:!1}function Zr(e){return Kp()?e instanceof HTMLElement||e instanceof Rn(e).HTMLElement:!1}function d3(e){return!Kp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rn(e).ShadowRoot}function Td(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=wr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function BJ(e){return["table","td","th"].includes(Tc(e))}function Yp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function __(e){const t=E_(),n=xr(e)?wr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function NJ(e){let t=Xs(e);for(;Zr(t)&&!Jl(t);){if(__(t))return t;if(Yp(t))return null;t=Xs(t)}return null}function E_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jl(e){return["html","body","#document"].includes(Tc(e))}function wr(e){return Rn(e).getComputedStyle(e)}function Wp(e){return xr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xs(e){if(Tc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||d3(e)&&e.host||ni(e);return d3(t)?t.host:t}function P5(e){const t=Xs(e);return Jl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zr(t)&&Td(t)?t:P5(t)}function T0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=P5(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Rn(i);if(s){const a=fx(o);return t.concat(o,o.visualViewport||[],Td(i)?i:[],a&&n?T0(a):[])}return t.concat(i,T0(i,[],n))}function fx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function F5(e){const t=wr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Zr(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=gm(n)!==s||gm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function C_(e){return xr(e)?e:e.contextElement}function vl(e){const t=C_(e);if(!Zr(t))return Kr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=F5(t);let o=(s?gm(n.width):n.width)/r,a=(s?gm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const jJ=Kr(0);function z5(e){const t=Rn(e);return!E_()||!t.visualViewport?jJ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function RJ(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Rn(e)?!1:t}function sa(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=C_(e);let o=Kr(1);t&&(r?xr(r)&&(o=vl(r)):o=vl(e));const a=RJ(s,n,r)?z5(s):Kr(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Rn(s),m=r&&xr(r)?Rn(r):r;let x=h,y=fx(x);for(;y&&r&&m!==x;){const _=vl(y),p=y.getBoundingClientRect(),b=wr(y),g=p.left+(y.clientLeft+parseFloat(b.paddingLeft))*_.x,E=p.top+(y.clientTop+parseFloat(b.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=g,c+=E,x=Rn(y),y=fx(x)}}return bm({width:u,height:d,x:l,y:c})}function A_(e,t){const n=Wp(e).scrollLeft;return t?t.left+n:sa(ni(e)).left+n}function V5(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:A_(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function OJ(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=ni(r),a=t?Yp(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Kr(1);const u=Kr(0),d=Zr(r);if((d||!d&&!s)&&((Tc(r)!=="body"||Td(o))&&(l=Wp(r)),Zr(r))){const m=sa(r);c=vl(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const h=o&&!d&&!s?V5(o,l,!0):Kr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function DJ(e){return Array.from(e.getClientRects())}function MJ(e){const t=ni(e),n=Wp(e),r=e.ownerDocument.body,i=Cn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Cn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+A_(e);const a=-n.scrollTop;return wr(r).direction==="rtl"&&(o+=Cn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function UJ(e,t){const n=Rn(e),r=ni(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=E_();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function LJ(e,t){const n=sa(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Zr(e)?vl(e):Kr(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function f3(e,t,n){let r;if(t==="viewport")r=UJ(e,n);else if(t==="document")r=MJ(ni(e));else if(xr(t))r=LJ(t,n);else{const i=z5(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return bm(r)}function $5(e,t){const n=Xs(e);return n===t||!xr(n)||Jl(n)?!1:wr(n).position==="fixed"||$5(n,t)}function PJ(e,t){const n=t.get(e);if(n)return n;let r=T0(e,[],!1).filter(a=>xr(a)&&Tc(a)!=="body"),i=null;const s=wr(e).position==="fixed";let o=s?Xs(e):e;for(;xr(o)&&!Jl(o);){const a=wr(o),l=__(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Td(o)&&!l&&$5(e,o))?r=r.filter(u=>u!==o):i=a,o=Xs(o)}return t.set(e,r),r}function FJ(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Yp(t)?[]:PJ(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=f3(t,u,i);return c.top=Cn(d.top,c.top),c.right=Zs(d.right,c.right),c.bottom=Zs(d.bottom,c.bottom),c.left=Cn(d.left,c.left),c},f3(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zJ(e){const{width:t,height:n}=F5(e);return{width:t,height:n}}function VJ(e,t,n){const r=Zr(t),i=ni(t),s=n==="fixed",o=sa(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Kr(0);function c(){l.x=A_(i)}if(r||!r&&!s)if((Tc(t)!=="body"||Td(i))&&(a=Wp(t)),r){const m=sa(t,!0,s,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?V5(i,a):Kr(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function tb(e){return wr(e).position==="static"}function h3(e,t){if(!Zr(e)||wr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ni(e)===n&&(n=n.ownerDocument.body),n}function H5(e,t){const n=Rn(e);if(Yp(e))return n;if(!Zr(e)){let i=Xs(e);for(;i&&!Jl(i);){if(xr(i)&&!tb(i))return i;i=Xs(i)}return n}let r=h3(e,t);for(;r&&BJ(r)&&tb(r);)r=h3(r,t);return r&&Jl(r)&&tb(r)&&!__(r)?n:r||NJ(e)||n}const $J=async function(e){const t=this.getOffsetParent||H5,n=this.getDimensions,r=await n(e.floating);return{reference:VJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function HJ(e){return wr(e).direction==="rtl"}const GJ={convertOffsetParentRelativeRectToViewportRelativeRect:OJ,getDocumentElement:ni,getClippingRect:FJ,getOffsetParent:H5,getElementRects:$J,getClientRects:DJ,getDimensions:zJ,getScale:vl,isElement:xr,isRTL:HJ};function G5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qJ(e,t){let n=null,r;const i=ni(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:m}=c;if(a||t(),!h||!m)return;const x=Sf(d),y=Sf(i.clientWidth-(u+h)),_=Sf(i.clientHeight-(d+m)),p=Sf(u),g={rootMargin:-x+"px "+-y+"px "+-_+"px "+-p+"px",threshold:Cn(0,Zs(1,l))||1};let E=!0;function C(N){const k=N[0].intersectionRatio;if(k!==l){if(!E)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!G5(c,e.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(C,{...g,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,g)}n.observe(e)}return o(!0),s}function KJ(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=C_(e),u=i||s?[...c?T0(c):[],...T0(t)]:[];u.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const d=c&&a?qJ(c,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(p=>{let[b]=p;b&&b.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=m)==null||g.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let x,y=l?sa(e):null;l&&_();function _(){const p=sa(e);y&&!G5(y,p)&&n(),y=p,x=requestAnimationFrame(_)}return n(),()=>{var p;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(p=m)==null||p.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const YJ=AJ,WJ=TJ,ZJ=_J,XJ=IJ,JJ=EJ,m3=SJ,QJ=kJ,eQ=(e,t,n)=>{const r=new Map,i={platform:GJ,...n},s={...i.platform,_c:r};return wJ(e,t,{...i,platform:s})};var tQ=typeof document<"u",nQ=function(){},Wf=tQ?S.useLayoutEffect:nQ;function vm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!vm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!vm(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function q5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function p3(e,t){const n=q5(e);return Math.round(t*n)/n}function nb(e){const t=S.useRef(e);return Wf(()=>{t.current=e}),t}function rQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=S.useState(r);vm(h,r)||m(r);const[x,y]=S.useState(null),[_,p]=S.useState(null),b=S.useCallback(O=>{O!==N.current&&(N.current=O,y(O))},[]),g=S.useCallback(O=>{O!==k.current&&(k.current=O,p(O))},[]),E=s||x,C=o||_,N=S.useRef(null),k=S.useRef(null),j=S.useRef(u),D=l!=null,M=nb(l),H=nb(i),Q=nb(c),G=S.useCallback(()=>{if(!N.current||!k.current)return;const O={placement:t,strategy:n,middleware:h};H.current&&(O.platform=H.current),eQ(N.current,k.current,O).then(z=>{const Z={...z,isPositioned:Q.current!==!1};F.current&&!vm(j.current,Z)&&(j.current=Z,ec.flushSync(()=>{d(Z)}))})},[h,t,n,H,Q]);Wf(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,d(O=>({...O,isPositioned:!1})))},[c]);const F=S.useRef(!1);Wf(()=>(F.current=!0,()=>{F.current=!1}),[]),Wf(()=>{if(E&&(N.current=E),C&&(k.current=C),E&&C){if(M.current)return M.current(E,C,G);G()}},[E,C,G,M,D]);const V=S.useMemo(()=>({reference:N,floating:k,setReference:b,setFloating:g}),[b,g]),B=S.useMemo(()=>({reference:E,floating:C}),[E,C]),U=S.useMemo(()=>{const O={position:n,left:0,top:0};if(!B.floating)return O;const z=p3(B.floating,u.x),Z=p3(B.floating,u.y);return a?{...O,transform:"translate("+z+"px, "+Z+"px)",...q5(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Z}},[n,a,B.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:G,refs:V,elements:B,floatingStyles:U}),[u,G,V,B,U])}const iQ=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?m3({element:r.current,padding:i}).fn(n):{}:r?m3({element:r,padding:i}).fn(n):{}}}},sQ=(e,t)=>({...YJ(e),options:[e,t]}),oQ=(e,t)=>({...WJ(e),options:[e,t]}),aQ=(e,t)=>({...QJ(e),options:[e,t]}),lQ=(e,t)=>({...ZJ(e),options:[e,t]}),cQ=(e,t)=>({...XJ(e),options:[e,t]}),uQ=(e,t)=>({...JJ(e),options:[e,t]}),dQ=(e,t)=>({...iQ(e),options:[e,t]});var fQ="Arrow",K5=S.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return f.jsx(He.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});K5.displayName=fQ;var hQ=K5;function mQ(e){const[t,n]=S.useState(void 0);return Xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var T_="Popper",[Y5,W5]=Cd(T_),[pQ,Z5]=Y5(T_),X5=e=>{const{__scopePopper:t,children:n}=e,[r,i]=S.useState(null);return f.jsx(pQ,{scope:t,anchor:r,onAnchorChange:i,children:n})};X5.displayName=T_;var J5="PopperAnchor",Q5=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=Z5(J5,n),o=S.useRef(null),a=It(t,o);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(He.div,{...i,ref:a})});Q5.displayName=J5;var k_="PopperContent",[gQ,yQ]=Y5(k_),ej=S.forwardRef((e,t)=>{var J,X,Ne,Y,te,oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...y}=e,_=Z5(k_,n),[p,b]=S.useState(null),g=It(t,be=>b(be)),[E,C]=S.useState(null),N=mQ(E),k=(N==null?void 0:N.width)??0,j=(N==null?void 0:N.height)??0,D=r+(s!=="center"?"-"+s:""),M=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},H=Array.isArray(c)?c:[c],Q=H.length>0,G={padding:M,boundary:H.filter(vQ),altBoundary:Q},{refs:F,floatingStyles:V,placement:B,isPositioned:U,middlewareData:O}=rQ({strategy:"fixed",placement:D,whileElementsMounted:(...be)=>KJ(...be,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[sQ({mainAxis:i+j,alignmentAxis:o}),l&&oQ({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?aQ():void 0,...G}),l&&lQ({...G}),cQ({...G,apply:({elements:be,rects:ze,availableWidth:Cr,availableHeight:_t})=>{const{width:sr,height:ri}=ze.reference,es=be.floating.style;es.setProperty("--radix-popper-available-width",`${Cr}px`),es.setProperty("--radix-popper-available-height",`${_t}px`),es.setProperty("--radix-popper-anchor-width",`${sr}px`),es.setProperty("--radix-popper-anchor-height",`${ri}px`)}}),E&&dQ({element:E,padding:a}),xQ({arrowWidth:k,arrowHeight:j}),h&&uQ({strategy:"referenceHidden",...G})]}),[z,Z]=rj(B),ee=Ws(x);Xt(()=>{U&&(ee==null||ee())},[U,ee]);const ue=(J=O.arrow)==null?void 0:J.x,de=(X=O.arrow)==null?void 0:X.y,fe=((Ne=O.arrow)==null?void 0:Ne.centerOffset)!==0,[Fe,Ke]=S.useState();return Xt(()=>{p&&Ke(window.getComputedStyle(p).zIndex)},[p]),f.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:U?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(Y=O.transformOrigin)==null?void 0:Y.x,(te=O.transformOrigin)==null?void 0:te.y].join(" "),...((oe=O.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(gQ,{scope:n,placedSide:z,onArrowChange:C,arrowX:ue,arrowY:de,shouldHideArrow:fe,children:f.jsx(He.div,{"data-side":z,"data-align":Z,...y,ref:g,style:{...y.style,animation:U?void 0:"none"}})})})});ej.displayName=k_;var tj="PopperArrow",bQ={top:"bottom",right:"left",bottom:"top",left:"right"},nj=S.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=yQ(tj,r),o=bQ[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(hQ,{...i,ref:n,style:{...i.style,display:"block"}})})});nj.displayName=tj;function vQ(e){return e!==null}var xQ=e=>({name:"transformOrigin",options:e,fn(t){var _,p,b;const{placement:n,rects:r,middlewareData:i}=t,o=((_=i.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=rj(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((p=i.arrow)==null?void 0:p.x)??0)+a/2,m=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let x="",y="";return c==="bottom"?(x=o?d:`${h}px`,y=`${-l}px`):c==="top"?(x=o?d:`${h}px`,y=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,y=o?d:`${m}px`):c==="left"&&(x=`${r.floating.width+l}px`,y=o?d:`${m}px`),{data:{x,y}}}});function rj(e){const[t,n="center"]=e.split("-");return[t,n]}var wQ=X5,SQ=Q5,_Q=ej,EQ=nj,CQ="Portal",ij=S.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[i,s]=S.useState(!1);Xt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?NR.createPortal(f.jsx(He.div,{...r,ref:t}),o):null});ij.displayName=CQ;var AQ=Cx[" useInsertionEffect ".trim().toString()]||Xt;function xm({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,o]=TQ({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:i;{const u=S.useRef(e!==void 0);S.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=S.useCallback(u=>{var d;if(a){const h=kQ(u)?u(e):u;h!==e&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,e,s,o]);return[l,c]}function TQ({defaultProp:e,onChange:t}){const[n,r]=S.useState(e),i=S.useRef(n),s=S.useRef(t);return AQ(()=>{s.current=t},[t]),S.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function kQ(e){return typeof e=="function"}function IQ(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var sj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BQ="VisuallyHidden",NQ=S.forwardRef((e,t)=>f.jsx(He.span,{...e,ref:t,style:{...sj,...e.style}}));NQ.displayName=BQ;var jQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Da=new WeakMap,_f=new WeakMap,Ef={},rb=0,oj=function(e){return e&&(e.host||oj(e.parentNode))},RQ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=oj(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},OQ=function(e,t,n,r){var i=RQ(t,Array.isArray(e)?e:[e]);Ef[n]||(Ef[n]=new WeakMap);var s=Ef[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",y=(Da.get(h)||0)+1,_=(s.get(h)||0)+1;Da.set(h,y),s.set(h,_),o.push(h),y===1&&x&&_f.set(h,!0),_===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",h,p)}})};return u(t),a.clear(),rb++,function(){o.forEach(function(d){var h=Da.get(d)-1,m=s.get(d)-1;Da.set(d,h),s.set(d,m),h||(_f.has(d)||d.removeAttribute(r),_f.delete(d)),m||d.removeAttribute(n)}),rb--,rb||(Da=new WeakMap,Da=new WeakMap,_f=new WeakMap,Ef={})}},DQ=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=jQ(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),OQ(r,i,n,"aria-hidden")):function(){return null}},Zf="right-scroll-bar-position",Xf="width-before-scroll-bar",MQ="with-scroll-bars-hidden",UQ="--removed-body-scroll-bar-size";function ib(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function LQ(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var PQ=typeof window<"u"?S.useLayoutEffect:S.useEffect,g3=new WeakMap;function FQ(e,t){var n=LQ(null,function(r){return e.forEach(function(i){return ib(i,r)})});return PQ(function(){var r=g3.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||ib(a,null)}),s.forEach(function(a){i.has(a)||ib(a,o)})}g3.set(n,e)},[e]),n}function zQ(e){return e}function VQ(e,t){t===void 0&&(t=zQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function $Q(e){e===void 0&&(e={});var t=VQ(null);return t.options=Rr({async:!0,ssr:!1},e),t}var aj=function(e){var t=e.sideCar,n=ON(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Rr({},n))};aj.isSideCarExport=!0;function HQ(e,t){return e.useMedium(t),aj}var lj=$Q(),sb=function(){},Zp=S.forwardRef(function(e,t){var n=S.useRef(null),r=S.useState({onScrollCapture:sb,onWheelCapture:sb,onTouchMoveCapture:sb}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,m=e.noRelative,x=e.noIsolation,y=e.inert,_=e.allowPinchZoom,p=e.as,b=p===void 0?"div":p,g=e.gapMode,E=ON(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,N=FQ([n,t]),k=Rr(Rr({},E),i);return S.createElement(S.Fragment,null,u&&S.createElement(C,{sideCar:lj,removeScrollBar:c,shards:d,noRelative:m,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!_,lockRef:n,gapMode:g}),o?S.cloneElement(S.Children.only(a),Rr(Rr({},k),{ref:N})):S.createElement(b,Rr({},k,{className:l,ref:N}),a))});Zp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zp.classNames={fullWidth:Xf,zeroRight:Zf};var GQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=GQ();return t&&e.setAttribute("nonce",t),e}function KQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function YQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WQ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=qQ())&&(KQ(t,n),YQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZQ=function(){var e=WQ();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},cj=function(){var e=ZQ(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},XQ={left:0,top:0,right:0,gap:0},ob=function(e){return parseInt(e||"",10)||0},JQ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ob(n),ob(r),ob(i)]},QQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XQ;var t=JQ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},eee=cj(),xl="data-scroll-locked",tee=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(MQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zf," .").concat(Zf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xf," .").concat(Xf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xl,`] {
    `).concat(UQ,": ").concat(a,`px;
  }
`)},y3=function(){var e=parseInt(document.body.getAttribute(xl)||"0",10);return isFinite(e)?e:0},nee=function(){S.useEffect(function(){return document.body.setAttribute(xl,(y3()+1).toString()),function(){var e=y3()-1;e<=0?document.body.removeAttribute(xl):document.body.setAttribute(xl,e.toString())}},[])},ree=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;nee();var s=S.useMemo(function(){return QQ(i)},[i]);return S.createElement(eee,{styles:tee(s,!t,i,n?"":"!important")})},hx=!1;if(typeof window<"u")try{var Cf=Object.defineProperty({},"passive",{get:function(){return hx=!0,!0}});window.addEventListener("test",Cf,Cf),window.removeEventListener("test",Cf,Cf)}catch{hx=!1}var Ma=hx?{passive:!1}:!1,iee=function(e){return e.tagName==="TEXTAREA"},uj=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!iee(e)&&n[t]==="visible")},see=function(e){return uj(e,"overflowY")},oee=function(e){return uj(e,"overflowX")},b3=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=dj(e,r);if(i){var s=fj(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},aee=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},lee=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},dj=function(e,t){return e==="v"?see(t):oee(t)},fj=function(e,t){return e==="v"?aee(t):lee(t)},cee=function(e,t){return e==="h"&&t==="rtl"?-1:1},uee=function(e,t,n,r,i){var s=cee(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,l=t.contains(a),c=!1,u=o>0,d=0,h=0;do{if(!a)break;var m=fj(e,a),x=m[0],y=m[1],_=m[2],p=y-_-s*x;(x||p)&&dj(e,a)&&(d+=p,h+=x);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(c=!0),c},Af=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},v3=function(e){return[e.deltaX,e.deltaY]},x3=function(e){return e&&"current"in e?e.current:e},dee=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fee=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hee=0,Ua=[];function mee(e){var t=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(hee++)[0],s=S.useState(cj)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=nH([e.lockRef.current],(e.shards||[]).map(x3),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=S.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var p=Af(y),b=n.current,g="deltaX"in y?y.deltaX:b[0]-p[0],E="deltaY"in y?y.deltaY:b[1]-p[1],C,N=y.target,k=Math.abs(g)>Math.abs(E)?"h":"v";if("touches"in y&&k==="h"&&N.type==="range")return!1;var j=b3(k,N);if(!j)return!0;if(j?C=k:(C=k==="v"?"h":"v",j=b3(k,N)),!j)return!1;if(!r.current&&"changedTouches"in y&&(g||E)&&(r.current=C),!C)return!0;var D=r.current||C;return uee(D,_,y,D==="h"?g:E)},[]),l=S.useCallback(function(y){var _=y;if(!(!Ua.length||Ua[Ua.length-1]!==s)){var p="deltaY"in _?v3(_):Af(_),b=t.current.filter(function(C){return C.name===_.type&&(C.target===_.target||_.target===C.shadowParent)&&dee(C.delta,p)})[0];if(b&&b.should){_.cancelable&&_.preventDefault();return}if(!b){var g=(o.current.shards||[]).map(x3).filter(Boolean).filter(function(C){return C.contains(_.target)}),E=g.length>0?a(_,g[0]):!o.current.noIsolation;E&&_.cancelable&&_.preventDefault()}}},[]),c=S.useCallback(function(y,_,p,b){var g={name:y,delta:_,target:p,should:b,shadowParent:pee(p)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(E){return E!==g})},1)},[]),u=S.useCallback(function(y){n.current=Af(y),r.current=void 0},[]),d=S.useCallback(function(y){c(y.type,v3(y),y.target,a(y,e.lockRef.current))},[]),h=S.useCallback(function(y){c(y.type,Af(y),y.target,a(y,e.lockRef.current))},[]);S.useEffect(function(){return Ua.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ma),document.addEventListener("touchmove",l,Ma),document.addEventListener("touchstart",u,Ma),function(){Ua=Ua.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Ma),document.removeEventListener("touchmove",l,Ma),document.removeEventListener("touchstart",u,Ma)}},[]);var m=e.removeScrollBar,x=e.inert;return S.createElement(S.Fragment,null,x?S.createElement(s,{styles:fee(i)}):null,m?S.createElement(ree,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function pee(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gee=HQ(lj,mee);var hj=S.forwardRef(function(e,t){return S.createElement(Zp,Rr({},e,{ref:t,sideCar:gee}))});hj.classNames=Zp.classNames;var yee=[" ","Enter","ArrowUp","ArrowDown"],bee=[" ","Enter"],oa="Select",[Xp,Jp,vee]=N5(oa),[kc,Mre]=Cd(oa,[vee,W5]),Qp=W5(),[xee,so]=kc(oa),[wee,See]=kc(oa),mj=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:m,form:x}=e,y=Qp(t),[_,p]=S.useState(null),[b,g]=S.useState(null),[E,C]=S.useState(!1),N=v_(c),[k,j]=xm({prop:r,defaultProp:i??!1,onChange:s,caller:oa}),[D,M]=xm({prop:o,defaultProp:a,onChange:l,caller:oa}),H=S.useRef(null),Q=_?x||!!_.closest("form"):!0,[G,F]=S.useState(new Set),V=Array.from(G).map(B=>B.props.value).join(";");return f.jsx(wQ,{...y,children:f.jsxs(xee,{required:m,scope:t,trigger:_,onTriggerChange:p,valueNode:b,onValueNodeChange:g,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:Ad(),value:D,onValueChange:M,open:k,onOpenChange:j,dir:N,triggerPointerDownPosRef:H,disabled:h,children:[f.jsx(Xp.Provider,{scope:t,children:f.jsx(wee,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(B=>{F(U=>new Set(U).add(B))},[]),onNativeOptionRemove:S.useCallback(B=>{F(U=>{const O=new Set(U);return O.delete(B),O})},[]),children:n})}),Q?f.jsxs(Mj,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:D,onChange:B=>M(B.target.value),disabled:h,form:x,children:[D===void 0?f.jsx("option",{value:""}):null,Array.from(G)]},V):null]})})};mj.displayName=oa;var pj="SelectTrigger",gj=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=Qp(n),o=so(pj,n),a=o.disabled||r,l=It(t,o.onTriggerChange),c=Jp(n),u=S.useRef("touch"),[d,h,m]=Lj(y=>{const _=c().filter(g=>!g.disabled),p=_.find(g=>g.value===o.value),b=Pj(_,y,p);b!==void 0&&o.onValueChange(b.value)}),x=y=>{a||(o.onOpenChange(!0),m()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(SQ,{asChild:!0,...s,children:f.jsx(He.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Uj(o.value)?"":void 0,...i,ref:l,onClick:Le(i.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&x(y)}),onPointerDown:Le(i.onPointerDown,y=>{u.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:Le(i.onKeyDown,y=>{const _=d.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(_&&y.key===" ")&&yee.includes(y.key)&&(x(),y.preventDefault())})})})});gj.displayName=pj;var yj="SelectValue",bj=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=e,l=so(yj,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=It(t,l.onValueNodeChange);return Xt(()=>{c(u)},[c,u]),f.jsx(He.span,{...a,ref:d,style:{pointerEvents:"none"},children:Uj(l.value)?f.jsx(f.Fragment,{children:o}):s})});bj.displayName=yj;var _ee="SelectIcon",vj=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return f.jsx(He.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});vj.displayName=_ee;var Eee="SelectPortal",xj=e=>f.jsx(ij,{asChild:!0,...e});xj.displayName=Eee;var aa="SelectContent",wj=S.forwardRef((e,t)=>{const n=so(aa,e.__scopeSelect),[r,i]=S.useState();if(Xt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ec.createPortal(f.jsx(Sj,{scope:e.__scopeSelect,children:f.jsx(Xp.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),s):null}return f.jsx(_j,{...e,ref:t})});wj.displayName=aa;var fr=10,[Sj,oo]=kc(aa),Cee="SelectContentImpl",Aee=C0("SelectContent.RemoveScroll"),_j=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:y,avoidCollisions:_,...p}=e,b=so(aa,n),[g,E]=S.useState(null),[C,N]=S.useState(null),k=It(t,J=>E(J)),[j,D]=S.useState(null),[M,H]=S.useState(null),Q=Jp(n),[G,F]=S.useState(!1),V=S.useRef(!1);S.useEffect(()=>{if(g)return DQ(g)},[g]),rJ();const B=S.useCallback(J=>{const[X,...Ne]=Q().map(oe=>oe.ref.current),[Y]=Ne.slice(-1),te=document.activeElement;for(const oe of J)if(oe===te||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===X&&C&&(C.scrollTop=0),oe===Y&&C&&(C.scrollTop=C.scrollHeight),oe==null||oe.focus(),document.activeElement!==te))return},[Q,C]),U=S.useCallback(()=>B([j,g]),[B,j,g]);S.useEffect(()=>{G&&U()},[G,U]);const{onOpenChange:O,triggerPointerDownPosRef:z}=b;S.useEffect(()=>{if(g){let J={x:0,y:0};const X=Y=>{var te,oe;J={x:Math.abs(Math.round(Y.pageX)-(((te=z.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(Y.pageY)-(((oe=z.current)==null?void 0:oe.y)??0))}},Ne=Y=>{J.x<=10&&J.y<=10?Y.preventDefault():g.contains(Y.target)||O(!1),document.removeEventListener("pointermove",X),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[g,O,z]),S.useEffect(()=>{const J=()=>O(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[O]);const[Z,ee]=Lj(J=>{const X=Q().filter(te=>!te.disabled),Ne=X.find(te=>te.ref.current===document.activeElement),Y=Pj(X,J,Ne);Y&&setTimeout(()=>Y.ref.current.focus())}),ue=S.useCallback((J,X,Ne)=>{const Y=!V.current&&!Ne;(b.value!==void 0&&b.value===X||Y)&&(D(J),Y&&(V.current=!0))},[b.value]),de=S.useCallback(()=>g==null?void 0:g.focus(),[g]),fe=S.useCallback((J,X,Ne)=>{const Y=!V.current&&!Ne;(b.value!==void 0&&b.value===X||Y)&&H(J)},[b.value]),Fe=r==="popper"?mx:Ej,Ke=Fe===mx?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:y,avoidCollisions:_}:{};return f.jsx(Sj,{scope:n,content:g,viewport:C,onViewportChange:N,itemRefCallback:ue,selectedItem:j,onItemLeave:de,itemTextRefCallback:fe,focusSelectedItem:U,selectedItemText:M,position:r,isPositioned:G,searchRef:Z,children:f.jsx(hj,{as:Aee,allowPinchZoom:!0,children:f.jsx(D5,{asChild:!0,trapped:b.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Le(i,J=>{var X;(X=b.trigger)==null||X.focus({preventScroll:!0}),J.preventDefault()}),children:f.jsx(R5,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:f.jsx(Fe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:J=>J.preventDefault(),...p,...Ke,onPlaced:()=>F(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Le(p.onKeyDown,J=>{const X=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!X&&J.key.length===1&&ee(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Y=Q().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Y=Y.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const te=J.target,oe=Y.indexOf(te);Y=Y.slice(oe+1)}setTimeout(()=>B(Y)),J.preventDefault()}})})})})})})});_j.displayName=Cee;var Tee="SelectItemAlignedPosition",Ej=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=so(aa,n),o=oo(aa,n),[a,l]=S.useState(null),[c,u]=S.useState(null),d=It(t,k=>u(k)),h=Jp(n),m=S.useRef(!1),x=S.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:p,focusSelectedItem:b}=o,g=S.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&_&&p){const k=s.trigger.getBoundingClientRect(),j=c.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),M=p.getBoundingClientRect();if(s.dir!=="rtl"){const te=M.left-j.left,oe=D.left-te,be=k.left-oe,ze=k.width+be,Cr=Math.max(ze,j.width),_t=window.innerWidth-fr,sr=e3(oe,[fr,Math.max(fr,_t-Cr)]);a.style.minWidth=ze+"px",a.style.left=sr+"px"}else{const te=j.right-M.right,oe=window.innerWidth-D.right-te,be=window.innerWidth-k.right-oe,ze=k.width+be,Cr=Math.max(ze,j.width),_t=window.innerWidth-fr,sr=e3(oe,[fr,Math.max(fr,_t-Cr)]);a.style.minWidth=ze+"px",a.style.right=sr+"px"}const H=h(),Q=window.innerHeight-fr*2,G=y.scrollHeight,F=window.getComputedStyle(c),V=parseInt(F.borderTopWidth,10),B=parseInt(F.paddingTop,10),U=parseInt(F.borderBottomWidth,10),O=parseInt(F.paddingBottom,10),z=V+B+G+O+U,Z=Math.min(_.offsetHeight*5,z),ee=window.getComputedStyle(y),ue=parseInt(ee.paddingTop,10),de=parseInt(ee.paddingBottom,10),fe=k.top+k.height/2-fr,Fe=Q-fe,Ke=_.offsetHeight/2,J=_.offsetTop+Ke,X=V+B+J,Ne=z-X;if(X<=fe){const te=H.length>0&&_===H[H.length-1].ref.current;a.style.bottom="0px";const oe=c.clientHeight-y.offsetTop-y.offsetHeight,be=Math.max(Fe,Ke+(te?de:0)+oe+U),ze=X+be;a.style.height=ze+"px"}else{const te=H.length>0&&_===H[0].ref.current;a.style.top="0px";const be=Math.max(fe,V+y.offsetTop+(te?ue:0)+Ke)+Ne;a.style.height=be+"px",y.scrollTop=X-fe+y.offsetTop}a.style.margin=`${fr}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=Q+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,a,c,y,_,p,s.dir,r]);Xt(()=>g(),[g]);const[E,C]=S.useState();Xt(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const N=S.useCallback(k=>{k&&x.current===!0&&(g(),b==null||b(),x.current=!1)},[g,b]);return f.jsx(Iee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:f.jsx(He.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Ej.displayName=Tee;var kee="SelectPopperPosition",mx=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=fr,...s}=e,o=Qp(n);return f.jsx(_Q,{...o,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mx.displayName=kee;var[Iee,I_]=kc(aa,{}),px="SelectViewport",Cj=S.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=oo(px,n),o=I_(px,n),a=It(t,s.onViewportChange),l=S.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Xp.Slot,{scope:n,children:f.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const m=Math.abs(l.current-u.scrollTop);if(m>0){const x=window.innerHeight-fr*2,y=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),p=Math.max(y,_);if(p<x){const b=p+m,g=Math.min(x,b),E=b-g;d.style.height=g+"px",d.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Cj.displayName=px;var Aj="SelectGroup",[Bee,Nee]=kc(Aj),jee=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ad();return f.jsx(Bee,{scope:n,id:i,children:f.jsx(He.div,{role:"group","aria-labelledby":i,...r,ref:t})})});jee.displayName=Aj;var Tj="SelectLabel",Ree=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Nee(Tj,n);return f.jsx(He.div,{id:i.id,...r,ref:t})});Ree.displayName=Tj;var wm="SelectItem",[Oee,kj]=kc(wm),Ij=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=e,a=so(wm,n),l=oo(wm,n),c=a.value===r,[u,d]=S.useState(s??""),[h,m]=S.useState(!1),x=It(t,b=>{var g;return(g=l.itemRefCallback)==null?void 0:g.call(l,b,r,i)}),y=Ad(),_=S.useRef("touch"),p=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Oee,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:S.useCallback(b=>{d(g=>g||((b==null?void 0:b.textContent)??"").trim())},[]),children:f.jsx(Xp.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:f.jsx(He.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:Le(o.onFocus,()=>m(!0)),onBlur:Le(o.onBlur,()=>m(!1)),onClick:Le(o.onClick,()=>{_.current!=="mouse"&&p()}),onPointerUp:Le(o.onPointerUp,()=>{_.current==="mouse"&&p()}),onPointerDown:Le(o.onPointerDown,b=>{_.current=b.pointerType}),onPointerMove:Le(o.onPointerMove,b=>{var g;_.current=b.pointerType,i?(g=l.onItemLeave)==null||g.call(l):_.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(o.onPointerLeave,b=>{var g;b.currentTarget===document.activeElement&&((g=l.onItemLeave)==null||g.call(l))}),onKeyDown:Le(o.onKeyDown,b=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&b.key===" "||(bee.includes(b.key)&&p(),b.key===" "&&b.preventDefault())})})})})});Ij.displayName=wm;var nu="SelectItemText",Bj=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,o=so(nu,n),a=oo(nu,n),l=kj(nu,n),c=See(nu,n),[u,d]=S.useState(null),h=It(t,p=>d(p),l.onItemTextChange,p=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,p,l.value,l.disabled)}),m=u==null?void 0:u.textContent,x=S.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=c;return Xt(()=>(y(x),()=>_(x)),[y,_,x]),f.jsxs(f.Fragment,{children:[f.jsx(He.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ec.createPortal(s.children,o.valueNode):null]})});Bj.displayName=nu;var Nj="SelectItemIndicator",jj=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return kj(Nj,n).isSelected?f.jsx(He.span,{"aria-hidden":!0,...r,ref:t}):null});jj.displayName=Nj;var gx="SelectScrollUpButton",Rj=S.forwardRef((e,t)=>{const n=oo(gx,e.__scopeSelect),r=I_(gx,e.__scopeSelect),[i,s]=S.useState(!1),o=It(t,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(Dj,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Rj.displayName=gx;var yx="SelectScrollDownButton",Oj=S.forwardRef((e,t)=>{const n=oo(yx,e.__scopeSelect),r=I_(yx,e.__scopeSelect),[i,s]=S.useState(!1),o=It(t,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(Dj,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Oj.displayName=yx;var Dj=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=oo("SelectScrollButton",n),o=S.useRef(null),a=Jp(n),l=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),Xt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),f.jsx(He.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Le(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{l()})})}),Dee="SelectSeparator",Mee=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return f.jsx(He.div,{"aria-hidden":!0,...r,ref:t})});Mee.displayName=Dee;var bx="SelectArrow",Uee=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Qp(n),s=so(bx,n),o=oo(bx,n);return s.open&&o.position==="popper"?f.jsx(EQ,{...i,...r,ref:t}):null});Uee.displayName=bx;var Lee="SelectBubbleInput",Mj=S.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=S.useRef(null),s=It(r,i),o=IQ(t);return S.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(d)}},[o,t]),f.jsx(He.select,{...n,style:{...sj,...n.style},ref:s,defaultValue:t})});Mj.displayName=Lee;function Uj(e){return e===""||e===void 0}function Lj(e){const t=Ws(e),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(o=>{const a=n.current+o;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),s=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function Pj(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=Pee(e,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Pee(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Fee=mj,zee=gj,Vee=bj,$ee=vj,Hee=xj,Gee=wj,qee=Cj,Kee=Ij,Yee=Bj,Wee=jj,Zee=Rj,Xee=Oj;/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qee=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),w3=e=>{const t=Qee(e);return t.charAt(0).toUpperCase()+t.slice(1)},Fj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),ete=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...tte,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Fj("lucide",i),...!s&&!ete(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>S.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=(e,t)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(nte,{ref:s,iconNode:t,className:Fj(`lucide-${Jee(w3(e))}`,`lucide-${e}`,r),...i}));return n.displayName=w3(e),n};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ite=B_("check",rte);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zj=B_("chevron-down",ste);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ate=B_("chevron-up",ote);function lte({...e}){return f.jsx(Fee,{"data-slot":"select",...e})}function cte({...e}){return f.jsx(Vee,{"data-slot":"select-value",...e})}function ute({className:e,size:t="default",children:n,...r}){return f.jsxs(zee,{"data-slot":"select-trigger","data-size":t,className:bt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,f.jsx($ee,{asChild:!0,children:f.jsx(zj,{className:"size-4 opacity-50"})})]})}function dte({className:e,children:t,position:n="popper",...r}){return f.jsx(Hee,{children:f.jsxs(Gee,{"data-slot":"select-content",className:bt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[f.jsx(fte,{}),f.jsx(qee,{className:bt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),f.jsx(hte,{})]})})}function Tf({className:e,children:t,...n}){return f.jsxs(Kee,{"data-slot":"select-item",className:bt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[f.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:f.jsx(Wee,{children:f.jsx(ite,{className:"size-4"})})}),f.jsx(Yee,{children:t})]})}function fte({className:e,...t}){return f.jsx(Zee,{"data-slot":"select-scroll-up-button",className:bt("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(ate,{className:"size-4"})})}function hte({className:e,...t}){return f.jsx(Xee,{"data-slot":"select-scroll-down-button",className:bt("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(zj,{className:"size-4"})})}const mte=b_("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function pte({className:e,variant:t,asChild:n=!1,...r}){const i=n?I5:"span";return f.jsx(i,{"data-slot":"badge",className:bt(mte({variant:t}),e),...r})}const gte=b_("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function S3({className:e,variant:t,...n}){return f.jsx("div",{"data-slot":"alert",role:"alert",className:bt(gte({variant:t}),e),...n})}function _3({className:e,...t}){return f.jsx("div",{"data-slot":"alert-description",className:bt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}var ab="rovingFocusGroup.onEntryFocus",yte={bubbles:!1,cancelable:!0},kd="RovingFocusGroup",[vx,Vj,bte]=N5(kd),[vte,$j]=Cd(kd,[bte]),[xte,wte]=vte(kd),Hj=S.forwardRef((e,t)=>f.jsx(vx.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(vx.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(Ste,{...e,ref:t})})}));Hj.displayName=kd;var Ste=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,h=S.useRef(null),m=It(t,h),x=v_(s),[y,_]=xm({prop:o,defaultProp:a??null,onChange:l,caller:kd}),[p,b]=S.useState(!1),g=Ws(c),E=Vj(n),C=S.useRef(!1),[N,k]=S.useState(0);return S.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(ab,g),()=>j.removeEventListener(ab,g)},[g]),f.jsx(xte,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:y,onItemFocus:S.useCallback(j=>_(j),[_]),onItemShiftTab:S.useCallback(()=>b(!0),[]),onFocusableItemAdd:S.useCallback(()=>k(j=>j+1),[]),onFocusableItemRemove:S.useCallback(()=>k(j=>j-1),[]),children:f.jsx(He.div,{tabIndex:p||N===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{C.current=!0}),onFocus:Le(e.onFocus,j=>{const D=!C.current;if(j.target===j.currentTarget&&D&&!p){const M=new CustomEvent(ab,yte);if(j.currentTarget.dispatchEvent(M),!M.defaultPrevented){const H=E().filter(B=>B.focusable),Q=H.find(B=>B.active),G=H.find(B=>B.id===y),V=[Q,G,...H].filter(Boolean).map(B=>B.ref.current);Kj(V,u)}}C.current=!1}),onBlur:Le(e.onBlur,()=>b(!1))})})}),Gj="RovingFocusGroupItem",qj=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=e,l=Ad(),c=s||l,u=wte(Gj,n),d=u.currentTabStopId===c,h=Vj(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:y}=u;return S.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),f.jsx(vx.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:f.jsx(He.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:Le(e.onMouseDown,_=>{r?u.onItemFocus(c):_.preventDefault()}),onFocus:Le(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Le(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const p=Cte(_,u.orientation,u.dir);if(p!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let g=h().filter(E=>E.focusable).map(E=>E.ref.current);if(p==="last")g.reverse();else if(p==="prev"||p==="next"){p==="prev"&&g.reverse();const E=g.indexOf(_.currentTarget);g=u.loop?Ate(g,E+1):g.slice(E+1)}setTimeout(()=>Kj(g))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:y!=null}):o})})});qj.displayName=Gj;var _te={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ete(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Cte(e,t,n){const r=Ete(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _te[r]}function Kj(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ate(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Tte=Hj,kte=qj;function Ite(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var Yj=e=>{const{present:t,children:n}=e,r=Bte(t),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=It(r.ref,Nte(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};Yj.displayName="Presence";function Bte(e){const[t,n]=S.useState(),r=S.useRef(null),i=S.useRef(e),s=S.useRef("none"),o=e?"mounted":"unmounted",[a,l]=Ite(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=kf(r.current);s.current=a==="mounted"?c:"none"},[a]),Xt(()=>{const c=r.current,u=i.current;if(u!==e){const h=s.current,m=kf(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Xt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=m=>{const y=kf(r.current).includes(m.animationName);if(m.target===t&&y&&(l("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},h=m=>{m.target===t&&(s.current=kf(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function kf(e){return(e==null?void 0:e.animationName)||"none"}function Nte(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eg="Tabs",[jte,Ure]=Cd(eg,[$j]),Wj=$j(),[Rte,N_]=jte(eg),Zj=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=v_(a),[d,h]=xm({prop:r,onChange:i,defaultProp:s??"",caller:eg});return f.jsx(Rte,{scope:n,baseId:Ad(),value:d,onValueChange:h,orientation:o,dir:u,activationMode:l,children:f.jsx(He.div,{dir:u,"data-orientation":o,...c,ref:t})})});Zj.displayName=eg;var Xj="TabsList",Jj=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=N_(Xj,n),o=Wj(n);return f.jsx(Tte,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:f.jsx(He.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});Jj.displayName=Xj;var Qj="TabsTrigger",eR=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,o=N_(Qj,n),a=Wj(n),l=rR(o.baseId,r),c=iR(o.baseId,r),u=r===o.value;return f.jsx(kte,{asChild:!0,...a,focusable:!i,active:u,children:f.jsx(He.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:t,onMouseDown:Le(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:Le(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:Le(e.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})})});eR.displayName=Qj;var tR="TabsContent",nR=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=e,a=N_(tR,n),l=rR(a.baseId,r),c=iR(a.baseId,r),u=r===a.value,d=S.useRef(u);return S.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),f.jsx(Yj,{present:i||u,children:({present:h})=>f.jsx(He.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});nR.displayName=tR;function rR(e,t){return`${e}-trigger-${t}`}function iR(e,t){return`${e}-content-${t}`}var Ote=Zj,Dte=Jj,Mte=eR,Ute=nR;function Lte({className:e,...t}){return f.jsx(Ote,{"data-slot":"tabs",className:bt("flex flex-col gap-2",e),...t})}function Pte({className:e,...t}){return f.jsx(Dte,{"data-slot":"tabs-list",className:bt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Hc({className:e,...t}){return f.jsx(Mte,{"data-slot":"tabs-trigger",className:bt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Gc({className:e,...t}){return f.jsx(Ute,{"data-slot":"tabs-content",className:bt("flex-1 outline-none",e),...t})}function Fte(){const[e,t]=S.useState(null),[n,r]=S.useState(!0),[i,s]=S.useState(null),[o,a]=S.useState(null),[l,c]=S.useState(null),[u,d]=S.useState(null),[h,m]=S.useState(!1),[x,y]=S.useState(""),[_,p]=S.useState(""),[b,g]=S.useState(""),[E,C]=S.useState(null),[N,k]=S.useState(""),[j,D]=S.useState(""),[M,H]=S.useState(""),[Q,G]=S.useState(""),[F,V]=S.useState(""),[B,U]=S.useState(""),[O,z]=S.useState(""),[Z,ee]=S.useState(""),[ue,de]=S.useState(""),[fe,Fe]=S.useState(""),[Ke,J]=S.useState(""),[X,Ne]=S.useState(""),[Y,te]=S.useState(""),[oe,be]=S.useState(""),[ze,Cr]=S.useState(""),[_t,sr]=S.useState(""),[ri,es]=S.useState(""),[Ic,va]=S.useState({}),[or,Id]=S.useState([]);S.useEffect(()=>{tg()},[]);const tg=async()=>{try{y("Loading Aztec modules..."),await Yt(()=>Promise.resolve().then(()=>tX),void 0),await new Promise(xa=>setTimeout(xa,100));const[q,xe,je]=await Promise.all([Yt(()=>import("./index-Bt0QVvHh.js").then(xa=>xa.n),__vite__mapDeps([7,8,9,4])),Yt(()=>import("./embedded-wallet-fK0alYiZ.js"),__vite__mapDeps([10,8,9])),Yt(()=>import("./GodsHand-DxAYnNZc.js"),__vite__mapDeps([11,8]))]);t({AztecAddress:q.AztecAddress,Fr:q.Fr,AccountWallet:q.AccountWallet}),s(xe.EmbeddedWallet),a(je.GodsHandContract),r(!1),y("Aztec modules loaded successfully"),await Ar()}catch(q){p(`Failed to load Aztec modules: ${q instanceof Error?q.message:"Unknown error"}`),r(!1)}},Ar=async()=>{if(i)try{y("Initializing wallet...");const q=new i("");await q.initialize(),c(q);const xe=await q.connectExistingAccount();d(xe),y("Wallet initialized")}catch(q){p(`Failed to initialize wallet: ${q instanceof Error?q.message:"Unknown error"}`)}},ng=async()=>{if(l){m(!0);try{y("Creating account...");const q=await l.createAccountAndConnect();d(q),y("Account created successfully")}catch(q){p(`Failed to create account: ${q instanceof Error?q.message:"Unknown error"}`)}finally{m(!1)}}},T=async()=>{if(!(!u||!b||!e||!o))try{y("Connecting to contract...");const q=await o.at(e.AztecAddress.fromString(b),u);C(q),y("Contract connected successfully")}catch(q){p(`Failed to connect to contract: ${q instanceof Error?q.message:"Unknown error"}`)}},v=async()=>{if(!(!E||!N||!e)){m(!0);try{y("Adding agent...");const q=E.methods.add_agent(e.AztecAddress.fromString(N));await(l==null?void 0:l.sendTransaction(q)),y("Agent added successfully"),k("")}catch(q){p(`Failed to add agent: ${q instanceof Error?q.message:"Unknown error"}`)}finally{m(!1)}}},w=async()=>{if(!(!E||!j||!M||!Q||!e)){m(!0);try{y("Creating disaster...");const q=e.Fr.fromString(j),xe=e.Fr.fromString(M),je=BigInt(Q),xa=E.methods.create_disaster(q,xe,je),sR=await(l==null?void 0:l.simulateTransaction(xa));await(l==null?void 0:l.sendTransaction(xa)),y(`Disaster created with hash: ${sR}`),D(""),H(""),G("")}catch(q){p(`Failed to create disaster: ${q instanceof Error?q.message:"Unknown error"}`)}finally{m(!1)}}},R=async()=>{if(!(!E||!F||!B||!e)){m(!0);try{y("Processing donation...");const q=E.methods.donate(e.Fr.fromString(F),BigInt(B),e.Fr.fromString(O||"0"),e.Fr.fromString(Z||"0"));await(l==null?void 0:l.sendTransaction(q)),y("Donation successful"),V(""),U(""),z(""),ee("")}catch(q){p(`Failed to donate: ${q instanceof Error?q.message:"Unknown error"}`)}finally{m(!1)}}},L=async()=>{if(!(!E||!ue||!fe||!Ke||!e)){m(!0);try{y("Casting vote...");const q=E.methods.vote(e.Fr.fromString(ue),e.AztecAddress.fromString(fe),parseInt(Ke));await(l==null?void 0:l.sendTransaction(q)),y("Vote cast successfully"),de(""),Fe(""),J("")}catch(q){p(`Failed to vote: ${q instanceof Error?q.message:"Unknown error"}`)}finally{m(!1)}}},$=async()=>{if(!(!E||!X||!Y||!oe||!e)){m(!0);try{y("Unlocking funds...");const q=E.methods.unlock_funds(e.Fr.fromString(X),e.AztecAddress.fromString(Y),BigInt(oe));await(l==null?void 0:l.sendTransaction(q)),y("Funds unlocked successfully"),Ne(""),te(""),be("")}catch(q){p(`Failed to unlock funds: ${q instanceof Error?q.message:"Unknown error"}`)}finally{m(!1)}}},K=async()=>{if(!(!E||!ze||!e)){m(!0);try{y("Processing claim...");const q=E.methods.claim(e.Fr.fromString(ze));await(l==null?void 0:l.sendTransaction(q)),y("Claim processed successfully"),Cr("")}catch(q){p(`Failed to claim: ${q instanceof Error?q.message:"Unknown error"}`)}finally{m(!1)}}},ge=async q=>{if(!(!E||!e))try{y(`Querying ${q}...`);let xe;switch(q){case"get_disaster_info":if(!_t)return;xe=await(l==null?void 0:l.simulateTransaction(E.methods.get_disaster_info(e.Fr.fromString(_t))));break;case"get_admin":xe=await(l==null?void 0:l.simulateTransaction(E.methods.get_admin()));break;case"is_agent":if(!ri)return;xe=await(l==null?void 0:l.simulateTransaction(E.methods.is_agent(e.AztecAddress.fromString(ri))));break;case"get_unlocked_funds":if(!_t||!ri)return;xe=await(l==null?void 0:l.simulateTransaction(E.methods.get_unlocked_funds(e.Fr.fromString(_t),e.AztecAddress.fromString(ri))));break;case"get_donation_count":if(!_t)return;xe=await(l==null?void 0:l.simulateTransaction(E.methods.get_donation_count(e.Fr.fromString(_t))));break;case"get_vote_count":if(!_t)return;xe=await(l==null?void 0:l.simulateTransaction(E.methods.get_vote_count(e.Fr.fromString(_t))));break;default:return}va(je=>({...je,[q]:xe})),y(`Query completed: ${q}`)}catch(xe){p(`Failed to query ${q}: ${xe instanceof Error?xe.message:"Unknown error"}`)}},et=async()=>{if(!(!E||!_t||!e)){m(!0);try{y("Deactivating disaster...");const q=E.methods.deactivate_disaster(e.Fr.fromString(_t));await(l==null?void 0:l.sendTransaction(q)),y("Disaster deactivated successfully")}catch(q){p(`Failed to deactivate disaster: ${q instanceof Error?q.message:"Unknown error"}`)}finally{m(!1)}}};return n?f.jsx("div",{className:"container mx-auto p-6",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Loading Aztec..."}),f.jsx("p",{className:"text-muted-foreground",children:"Please wait while we load the Aztec modules"})]})}):f.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2",children:"GodsHand Contract Testing"}),f.jsx("p",{className:"text-muted-foreground",children:"Test all functions of the GodsHand disaster relief contract"})]}),x&&f.jsx(S3,{children:f.jsx(_3,{children:x})}),_&&f.jsx(S3,{variant:"destructive",children:f.jsx(_3,{children:_})}),f.jsxs(po,{children:[f.jsx(go,{children:f.jsx(yo,{children:"Wallet Connection"})}),f.jsx(bo,{className:"space-y-4",children:u?f.jsxs("div",{className:"space-y-2",children:[f.jsxs(pte,{variant:"outline",children:["Connected: ",u.getAddress().toString().slice(0,8),"..."]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ht,{placeholder:"Contract Address",value:b,onChange:q=>g(q.target.value)}),f.jsx(Jt,{onClick:T,disabled:!b,children:"Connect Contract"})]})]}):f.jsx(Jt,{onClick:ng,disabled:h||!l,children:h?"Creating...":"Create Account"})})]}),E&&f.jsxs(Lte,{defaultValue:"admin",className:"w-full",children:[f.jsxs(Pte,{className:"grid w-full grid-cols-5",children:[f.jsx(Hc,{value:"admin",children:"Admin"}),f.jsx(Hc,{value:"disasters",children:"Disasters"}),f.jsx(Hc,{value:"donations",children:"Donations"}),f.jsx(Hc,{value:"voting",children:"Voting"}),f.jsx(Hc,{value:"queries",children:"Queries"})]}),f.jsx(Gc,{value:"admin",className:"space-y-4",children:f.jsxs(po,{children:[f.jsx(go,{children:f.jsx(yo,{children:"Admin Functions"})}),f.jsx(bo,{className:"space-y-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(wf,{children:"Add Agent"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ht,{placeholder:"Agent Address",value:N,onChange:q=>k(q.target.value)}),f.jsx(Jt,{onClick:v,disabled:h,children:"Add Agent"})]})]})})]})}),f.jsxs(Gc,{value:"disasters",className:"space-y-4",children:[f.jsxs(po,{children:[f.jsx(go,{children:f.jsx(yo,{children:"Disaster Management"})}),f.jsxs(bo,{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(wf,{children:"Title"}),f.jsx(Ht,{value:j,onChange:q=>D(q.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(wf,{children:"Estimated Amount Required"}),f.jsx(Ht,{type:"number",value:Q,onChange:q=>G(q.target.value)})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(wf,{children:"Metadata"}),f.jsx(qX,{value:M,onChange:q=>H(q.target.value)})]}),f.jsx(Jt,{onClick:w,disabled:h,children:"Create Disaster"})]})]}),f.jsxs(po,{children:[f.jsx(go,{children:f.jsx(yo,{children:"Unlock Funds"})}),f.jsxs(bo,{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(Ht,{placeholder:"Disaster Hash",value:X,onChange:q=>Ne(q.target.value)}),f.jsx(Ht,{placeholder:"Organization Address",value:Y,onChange:q=>te(q.target.value)}),f.jsx(Ht,{placeholder:"Amount",type:"number",value:oe,onChange:q=>be(q.target.value)})]}),f.jsx(Jt,{onClick:$,disabled:h,children:"Unlock Funds"})]})]})]}),f.jsx(Gc,{value:"donations",className:"space-y-4",children:f.jsxs(po,{children:[f.jsx(go,{children:f.jsx(yo,{children:"Donate & Claim"})}),f.jsxs(bo,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Donate"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ht,{placeholder:"Disaster Hash",value:F,onChange:q=>V(q.target.value)}),f.jsx(Ht,{placeholder:"Amount",type:"number",value:B,onChange:q=>U(q.target.value)}),f.jsx(Ht,{placeholder:"Chain (optional)",value:O,onChange:q=>z(q.target.value)}),f.jsx(Ht,{placeholder:"Token Address (optional)",value:Z,onChange:q=>ee(q.target.value)})]}),f.jsx(Jt,{onClick:R,disabled:h,children:"Donate"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Claim"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ht,{placeholder:"Disaster Hash",value:ze,onChange:q=>Cr(q.target.value)}),f.jsx(Jt,{onClick:K,disabled:h,children:"Claim"})]})]})]})]})}),f.jsx(Gc,{value:"voting",className:"space-y-4",children:f.jsxs(po,{children:[f.jsx(go,{children:f.jsx(yo,{children:"Voting"})}),f.jsxs(bo,{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(Ht,{placeholder:"Disaster Hash",value:ue,onChange:q=>de(q.target.value)}),f.jsx(Ht,{placeholder:"Organization Address",value:fe,onChange:q=>Fe(q.target.value)}),f.jsxs(lte,{value:Ke,onValueChange:J,children:[f.jsx(ute,{children:f.jsx(cte,{placeholder:"Vote Type"})}),f.jsxs(dte,{children:[f.jsx(Tf,{value:"0",children:"Type 0"}),f.jsx(Tf,{value:"1",children:"Type 1"}),f.jsx(Tf,{value:"2",children:"Type 2"}),f.jsx(Tf,{value:"3",children:"Type 3"})]})]})]}),f.jsx(Jt,{onClick:L,disabled:h,children:"Cast Vote"})]})]})}),f.jsx(Gc,{value:"queries",className:"space-y-4",children:f.jsxs(po,{children:[f.jsx(go,{children:f.jsx(yo,{children:"Query Functions"})}),f.jsxs(bo,{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ht,{placeholder:"Query Hash (for disaster functions)",value:_t,onChange:q=>sr(q.target.value)}),f.jsx(Ht,{placeholder:"Query Address (for address functions)",value:ri,onChange:q=>es(q.target.value)})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[f.jsx(Jt,{variant:"outline",onClick:()=>ge("get_admin"),children:"Get Admin"}),f.jsx(Jt,{variant:"outline",onClick:()=>ge("is_agent"),children:"Is Agent"}),f.jsx(Jt,{variant:"outline",onClick:()=>ge("get_disaster_info"),children:"Get Disaster Info"}),f.jsx(Jt,{variant:"outline",onClick:()=>ge("get_unlocked_funds"),children:"Get Unlocked Funds"}),f.jsx(Jt,{variant:"outline",onClick:()=>ge("get_donation_count"),children:"Get Donation Count"}),f.jsx(Jt,{variant:"outline",onClick:()=>ge("get_vote_count"),children:"Get Vote Count"})]}),f.jsx(Jt,{onClick:et,disabled:h,variant:"destructive",children:"Deactivate Disaster"}),Object.keys(Ic).length>0&&f.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[f.jsx("h4",{className:"font-semibold mb-2",children:"Query Results:"}),f.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(Ic,null,2)})]})]})]})})]})]})}function zte(){return f.jsx(Fte,{})}function Vte(){const e=vn(),t=lc();return S.useEffect(()=>{const n=t.pathname;n.includes("/confirm")?e("/events"):(n.includes("/reset-password"),e("/login"))},[t.pathname,e]),f.jsx("div",{children:"Processing authentication..."})}function $te(){return f.jsxs(XM,{children:[f.jsx(ar,{path:"/",element:f.jsx(X7,{})}),f.jsx(ar,{path:"/events",element:f.jsx(FV,{})}),f.jsx(ar,{path:"/event/:id",element:f.jsx(VZ,{})}),f.jsx(ar,{path:"/petitions",element:f.jsx(HZ,{})}),f.jsx(ar,{path:"/petition/:id",element:f.jsx(GZ,{})}),f.jsx(ar,{path:"/login",element:f.jsx(KZ,{})}),f.jsx(ar,{path:"/documents",element:f.jsx(WZ,{})}),f.jsx(ar,{path:"/kyb",element:f.jsx(eX,{})}),f.jsx(ar,{path:"/testing",element:f.jsx(zte,{})}),f.jsx(ar,{path:"/auth/*",element:f.jsx(Vte,{})})]})}globalThis.Buffer=Ti.Buffer;oM.createRoot(document.getElementById("root")).render(f.jsx(pi.StrictMode,{children:f.jsx(sU,{children:f.jsx($te,{})})}));export{n$ as H,Yt as _,YV as a,Ti as b,Xn as c,Q0 as d,sne as e,one as f,Sm as g,e$ as h,tx as i,KA as j,nne as k,Mv as l,YA as m,r$ as n,rne as o,Dre as p,WV as q,ane as r,ine as s,MB as t,LW as u,US as v,mc as w};
